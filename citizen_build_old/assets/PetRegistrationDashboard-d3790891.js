import{j as e}from"./mui-105b4636.js";import{r as t,a as S,u as N,f as A}from"./router-894402c5.js";import{C as Y}from"./index.esm-49cbbe76.js";import{C as k}from"./CustomErrorBoundary-586d6225.js";import{k as M,A as w}from"./index-2fc866b5.js";import{M as P,a as R}from"./index.esm-3a2d9baa.js";import{h as y}from"./moment-4682f801.js";import{N as _}from"./NoDataFoundStyle1-08c23f2e.js";import{P as v}from"./PetRegAPIList-4f2d2d38.js";import{M as E}from"./index-82be3ecd.js";import{G as L}from"./index.esm-9bec7f4a.js";import"./react-40db4358.js";import"./reactIcons-58c2a0d8.js";import"./axios-67d8a945.js";import"./redux-b8f144fa.js";import"./i18next-e2c66b9b.js";const T={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function C(o){const{notify:n}=t.useContext(M),[i,c]=t.useState(!1),[h,m]=S.useState(!1),{api_PetRegDeleteApplication:d,header1:r}=v(),x=o.dataTobeDeleted;t.useEffect(()=>{m(!0)},[]);function l(){}function p(){m(!1),o.reFetch(),o.setOpenDeleteModal(!1)}function b(){m(!1),o.setOpenDeleteModal(null)}const g=()=>{c(!0),w.post(d,{applicationId:x.id},r).then(u=>{c(!1),u.data.status?(n("Application Deleted","success"),p()):(n("Application Not Deleted","error"),p())}).catch(u=>{c(!1),p(),n("Error While deleting application","error")})};return e.jsx("div",{className:"",children:e.jsx(E,{isOpen:h,onAfterOpen:l,onRequestClose:p,style:T,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-200 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"flow-root",children:[e.jsx("p",{className:"float-left text-center text-xl font-semibold mx-5 text-gray-700",children:"Do you want to Delete Application ?"}),e.jsxs("p",{onClick:p,className:"absolute right-9 top-12 cursor-pointer rounded-full bg-sky-200 hover:bg-gray-200 mx-3",children:[e.jsx(L,{size:25})," "]})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{className:"text-sm my-2",children:e.jsxs("p",{children:["Your Application No : ",e.jsx("span",{className:"font-semibold",children:x==null?void 0:x.application_no})," will be deleted permanently. ",e.jsx("br",{})]})}),i?e.jsx("p",{className:"text-center",children:"Please Wait Deleting..."}):e.jsxs("div",{className:"flex justify-center",children:[e.jsx("button",{onClick:g,type:"button",className:"border border-red-400 bg-red-600 hover:bg-red-500 text-white shadow-lg rounded-sm py-1 text-sm font-semibold px-3 m-3",children:"Yes! Delete"}),e.jsx("button",{onClick:b,type:"button",className:"border border-sky-400 bg-sky-600 hover:bg-sky-500 text-white shadow-lg rounded-sm py-1 text-sm font-semibold px-3 m-3",children:"Cancel"})]})]})})})}const $=()=>{const[o,n]=t.useState(null),[i,c]=t.useState(!1),[h,m]=t.useState();t.useState(!1),t.useState(),t.useState(!1),t.useState();const[d,r]=t.useState(!1),[x,l]=t.useState(!1),{api_PetRegistrationList:p,header:b}=v(),g=N(),u=s=>{n(o===s?null:s)},j=s=>{m(s),c(!0)},f=()=>{l(!0),w.post(p,{},b).then(s=>{l(!1),s.data.status&&r(s.data.data)}).catch(s=>{l(!1)})};return t.useEffect(()=>{f()},[]),x?"Loading..":d?e.jsxs(e.Fragment,{children:[i&&e.jsx(C,{setOpenDeleteModal:c,dataTobeDeleted:h,reFetch:f}),e.jsxs("div",{className:"w-full ml-2 md:ml-0 mb-10",children:[e.jsxs("p",{className:"font-manrope md:my-4 ",children:["Total Applications ",e.jsx("span",{className:"font-semibold",children:d==null?void 0:d.length})]}),e.jsx("div",{className:"hidden md:block bg-gray-200 text-gray-700 py-3 font-semibold rounded-md",children:e.jsxs("div",{className:"grid grid-cols-12 items-center",children:[e.jsx("p",{className:"px-2 col-span-3 whitespace-nowrap",children:"Registration No"}),e.jsx("p",{className:"px-2 col-span-2",children:"Applicant Name"}),e.jsx("p",{className:"px-1 col-span-2",children:"Type"}),e.jsx("p",{className:"px-2 col-span-1",children:"Payment"}),e.jsx("p",{className:"px-2 col-span-1",children:"Document"}),e.jsx("p",{className:"px-2 col-span-2 whitespace-nowrap",children:"Apply Date"}),e.jsx("p",{className:"px-2 col-span-1"})]})}),e.jsx("div",{className:"overflow-y-auto h-screen mb-40 md:mr-0 mr-5 ",children:d&&(d==null?void 0:d.map((s,a)=>e.jsxs("div",{className:"w-full border border-gray-300 rounded-md my-2 bg-white cursor-pointer",onClick:()=>u(a),children:[e.jsxs("div",{className:" flex md:grid grid-cols-12 items-center justify-between border-b border-gray-100",children:[e.jsx("p",{className:"px-4 py-2 break-all font-manrope font-semibold col-span-3 text-xs md:text-base",children:s==null?void 0:s.application_no}),e.jsx("p",{className:"hidden md:block px-4 py-2 break-all col-span-2",children:s==null?void 0:s.applicant_name}),e.jsx("p",{className:"px-4 py-1 break-words flex col-span-2 text-xs md:text-base",children:s==null?void 0:s.ref_application_type}),e.jsxs("p",{className:"hidden md:block px-4 py-2 whitespace-nowrap col-span-1",children:[(s==null?void 0:s.payment_status)==0&&e.jsx("p",{className:"text-red-500 font-normal text-sm px-2 rounded-xl",children:"UnPaid"}),(s==null?void 0:s.payment_status)==1&&e.jsx("p",{className:"text-green-600 font-normal text-sm px-2 rounded-xl",children:"Paid"}),(s==null?void 0:s.payment_status)==2&&e.jsx("p",{className:"text-yellow-600 font-normal text-sm px-2 rounded-xl",children:"Processing"})]}),e.jsxs("p",{className:"hidden md:block px-4 py-2 break-normal col-span-1",children:[(s==null?void 0:s.doc_upload_status)==!0&&e.jsx("p",{className:"text-green-600 font-normal text-sm px-2 rounded-xl",children:"Uploaded"}),(s==null?void 0:s.doc_upload_status)==!1&&e.jsx("p",{className:"text-red-600 font-normal text-sm  px-2 rounded-xl",children:"Not Upload"})]}),e.jsx("p",{className:"hidden md:block px-4 py-2 col-span-2",children:y(s==null?void 0:s.application_apply_date,"YYYY-MM-DD").format("DD-MMM-yy")}),e.jsx("p",{className:"px-4 py-2 whitespace-nowrap text-right text-sm font-medium col-span-1",children:o===a?e.jsx(P,{size:24}):e.jsx(R,{size:24})})]}),e.jsx("div",{className:"flex-none bg-gray-100",children:o===a&&e.jsxs("div",{className:"p-2 md:p-5 ease-in duration-300 bg-indigo-100",children:[e.jsx("div",{className:"text-center md:text-left mb-2 md:mb-0",children:e.jsxs("p",{className:" text-gray-900",children:[(s==null?void 0:s.payment_status)==0&&"Your Application is unpaid.",(s==null?void 0:s.role_name)&&e.jsxs("span",{children:["Your Application is at ",e.jsx("span",{className:"font-semibold",children:s.role_name})]})]})}),e.jsxs("div",{className:"md:hidden grid grid-cols-12 text-sm border-b-2 pb-2 mb-2 border-gray-100",children:[e.jsxs("div",{className:"col-span-6 mr-1",children:[e.jsxs("p",{className:"flex justify-between",children:["Payment :",e.jsxs("span",{className:"font-semibold",children:[(s==null?void 0:s.payment_status)==0&&"UnPaid",(s==null?void 0:s.payment_status)==1&&"Paid",(s==null?void 0:s.payment_status)==2&&"Processing"]})]}),e.jsxs("p",{className:"flex justify-between",children:["Document :",e.jsx("span",{className:"font-semibold",children:(s==null?void 0:s.doc_upload_status)==!0?"Uploaded":"NotUpload"})]})]}),e.jsxs("div",{className:"col-span-6 ml-4",children:[e.jsxs("p",{className:"flex justify-between",children:["Type :",e.jsxs("span",{className:"font-semibold",children:[" ",s==null?void 0:s.application_type]})]}),e.jsxs("p",{className:"flex justify-between",children:["Apply on :",e.jsx("span",{className:"font-semibold text-xs",children:y(s==null?void 0:s.application_apply_date,"YYYY-MM-DD").format("DD-MMM-yy")})]})]})]}),e.jsxs("div",{className:"flex justify-center md:justify-end flex-wrap gap-1 md:gap-3",children:[(s==null?void 0:s.payment_status)==0&&(s==null?void 0:s.doc_upload_status)==!0?e.jsx("button",{onClick:()=>g(`/petPayment/${s==null?void 0:s.id}`),className:"px-2 md:px-3 py-1 rounded text-xs md:text-sm text-white bg-indigo-500 hover:bg-indigo-600",children:"Pay Now"}):"",(s==null?void 0:s.payment_status)==1&&e.jsx("button",{onClick:()=>g(`/pet-payment-receipt/${s==null?void 0:s.transactionNo}`),className:"px-2 md:px-3 py-1 rounded text-xs md:text-sm text-white bg-indigo-500 hover:bg-indigo-600",children:"Print Receipt"}),e.jsx("button",{onClick:()=>g(`/apply-pet-registration/document-upload/${s==null?void 0:s.id}`),className:"px-2 md:px-3 py-1 rounded text-xs md:text-sm text-white bg-indigo-500 hover:bg-indigo-600",children:"Upload Document"}),e.jsx("button",{onClick:()=>g(`/viewPetApplication/${s==null?void 0:s.id}`),className:"px-2 md:px-3 py-1 rounded text-xs md:text-sm text-white bg-indigo-500 hover:bg-indigo-600",children:"View Application"}),(s==null?void 0:s.payment_status)==0&&e.jsx("button",{onClick:()=>j({application_no:s==null?void 0:s.application_no,id:s==null?void 0:s.id}),className:"px-2 md:px-3 py-1 rounded text-xs md:text-sm text-white bg-red-500 hover:bg-red-600",children:"Delete"})]})]},s.name)})]},s.index)))})]})]}):e.jsx(_,{message:"No Previous Pet Registration Found."})},F=o=>{const[n,i]=t.useState(null),[c,h]=t.useState(!1),[m,d]=t.useState();t.useState(!1),t.useState(),t.useState(!1),t.useState();const[r,x]=t.useState(!1),[l,p]=t.useState(!1),{api_PetRegistrationList:b,api_petApprovedRegistrations:g,header:u}=v(),j=N();A();const f=a=>{i(n===a?null:a)},s=()=>{p(!0),w.post(g,{},u).then(a=>{p(!1),a.data.status&&x(a.data.data)}).catch(a=>{p(!1)})};return t.useEffect(()=>{s()},[]),l?"Loading..":r!=null&&r.length?e.jsxs(e.Fragment,{children:[c&&e.jsx(C,{setOpenDeleteModal:h,dataTobeDeleted:m,reFetch:s}),e.jsxs("div",{className:"w-full ml-2 md:ml-0 mb-10",children:[e.jsxs("p",{className:"font-manrope md:my-4 ",children:["Total Applications ",e.jsx("span",{className:"font-semibold",children:r==null?void 0:r.length})]}),e.jsx("div",{className:"hidden md:block bg-gray-200 text-gray-700 py-3 font-semibold rounded-md",children:e.jsxs("div",{className:"grid grid-cols-12 items-center",children:[e.jsx("p",{className:"px-2 col-span-3 whitespace-nowrap",children:"Registration No"}),e.jsx("p",{className:"px-2 col-span-2",children:"Applicant Name"}),e.jsx("p",{className:"px-1 col-span-2",children:"Type"}),e.jsx("p",{className:"px-2 col-span-2 whitespace-nowrap",children:"Date"}),e.jsx("p",{className:"px-2 col-span-1",children:"Action"})]})}),e.jsx("div",{className:"overflow-y-auto h-screen mb-40 md:mr-0 mr-5 ",children:r&&(r==null?void 0:r.map((a,D)=>e.jsxs("div",{className:"w-full border border-gray-300 rounded-md my-2 bg-white cursor-pointer",onClick:()=>f(D),children:[e.jsxs("div",{className:" flex md:grid grid-cols-12 items-center justify-between border-b border-gray-100",children:[e.jsx("p",{className:"px-4 py-2 break-all font-manrope font-semibold col-span-3 text-xs md:text-base",children:a==null?void 0:a.application_no}),e.jsx("p",{className:"hidden md:block px-4 py-2 break-all col-span-2",children:a==null?void 0:a.applicant_name}),e.jsx("p",{className:"px-4 py-1 break-words flex col-span-2 text-xs md:text-base",children:(a==null?void 0:a.current_status)=="Approved"?e.jsx("p",{className:"text-green-600 font-normal text-sm px-2 rounded-xl",children:"Approved"}):e.jsx("p",{className:"text-red-500 font-normal text-sm px-2 rounded-xl",children:"Under Renewal Process"})}),e.jsx("p",{className:"hidden md:block px-4 py-2 col-span-2",children:y(a==null?void 0:a.application_apply_date,"YYYY-MM-DD").format("DD-MMM-yy")}),e.jsx("p",{className:"px-2 md:px-3 py-1 rounded text-xs md:text-sm text-white bg-indigo-500 hover:bg-indigo-600 text-center",onClick:()=>j(`/viewApprovedApplication/${a==null?void 0:a.id}`),children:"View"}),e.jsx("p",{className:"px-4 py-2 whitespace-nowrap text-right text-sm font-medium col-span-1",children:n===D?e.jsx(P,{size:24}):e.jsx(R,{size:24})})]}),e.jsx("div",{className:"flex-none bg-gray-100",children:n===D&&e.jsx("div",{className:"p-2 md:p-5 ease-in duration-300 bg-indigo-100",children:e.jsx("div",{className:"text-center md:text-left mb-2 md:mb-0",children:e.jsx("button",{onClick:()=>j(`/PetRegistrationPreviewList/${a==null?void 0:a.registration_id}`),className:"px-2 md:px-3 py-1 rounded text-xs md:text-sm text-white bg-indigo-500 hover:bg-indigo-600",children:"Preview"})})},a.name)})]},a.index)))})]})]}):e.jsx(_,{message:"No Data Found."})},O=o=>{const[n,i]=t.useState(!1),[c,h]=t.useState(!1),{api_petRejectedRegistrations:m,header:d}=v(),r=N();A();const x=()=>{h(!0),w.post(m,{},d).then(l=>{h(!1),l.data.status&&i(l.data.data)}).catch(l=>{h(!1)})};return t.useEffect(()=>{x()},[]),c?"Loading..":n!=null&&n.length?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full ml-2 md:ml-0 mb-10",children:[e.jsxs("p",{className:"font-manrope md:my-4 ",children:["Total Applications ",e.jsx("span",{className:"font-semibold",children:n==null?void 0:n.length})]}),e.jsx("div",{className:"hidden md:block bg-gray-200 text-gray-700 py-3 font-semibold rounded-md",children:e.jsxs("div",{className:"grid grid-cols-12 items-center",children:[e.jsx("p",{className:"px-2 col-span-3 whitespace-nowrap",children:"Registration No"}),e.jsx("p",{className:"px-2 col-span-2",children:"Applicant Name"}),e.jsx("p",{className:"px-1 col-span-2",children:"Type"}),e.jsx("p",{className:"px-2 col-span-2 whitespace-nowrap",children:"Date"}),e.jsx("p",{className:"px-2 col-span-1",children:"Action"})]})}),e.jsx("div",{className:"overflow-y-auto h-screen mb-40 md:mr-0 mr-5 ",children:n&&(n==null?void 0:n.map((l,p)=>e.jsx("div",{className:"w-full border border-gray-300 rounded-md my-2 bg-white cursor-pointer",children:e.jsxs("div",{className:" flex md:grid grid-cols-12 items-center justify-between border-b border-gray-100",children:[e.jsx("p",{className:"px-4 py-2 break-all font-manrope font-semibold col-span-3 text-xs md:text-base",children:l==null?void 0:l.application_no}),e.jsx("p",{className:"hidden md:block px-4 py-2 break-all col-span-2",children:l==null?void 0:l.applicant_name}),e.jsx("p",{className:"px-4 py-1 break-words flex col-span-2 text-xs md:text-base",children:e.jsx("p",{className:"text-red-600 font-normal text-sm px-2 rounded-xl",children:"Rejected"})}),e.jsx("p",{className:"hidden md:block px-4 py-2 col-span-2",children:y(l==null?void 0:l.application_apply_date,"YYYY-MM-DD").format("DD-MMM-yy")}),e.jsx("p",{className:"px-2 md:px-3 py-1 rounded text-xs md:text-sm text-white bg-indigo-500 hover:bg-indigo-600 text-center",onClick:()=>r(`/viewRejectedApplication/${l==null?void 0:l.id}`),children:"View"})]})})))})]})}):e.jsx(_,{message:"No Data Found."})},ae=()=>{const[o,n]=t.useState(1),i=N(),{setBreadCrumbData:c}=t.useContext(M);return t.useEffect(()=>{c(["Pet Registration Dashboard"])},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex-1 md:flex items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"md:text-3xl text-2xl text-gray-800 font-semibold ",children:" Pet Registration Dashboard"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 ",children:"Here is list of all pet Registration applications."})]}),e.jsx("div",{className:"space-x-1 ",children:e.jsx("button",{onClick:()=>i("/apply-pet-registration"),className:"rounded md:rounded-md bg-colorBase px-1 md:px-3.5 py-1.5 text-sm font-semibold leading-7 text-white hover:bg-colorBaseLight ",children:e.jsxs("span",{className:"flex text-sm md:text-base",children:[e.jsx("span",{className:"md:mt-1 mr-1",children:e.jsx(Y,{size:17})}),"New Registration"]})})})]}),e.jsx("div",{className:"",children:e.jsxs("ul",{className:"max-w-screen-xl border-b  flex items-center gap-1 md:gap-x-6 text-xs md:text-sm",children:[e.jsx("li",{className:`whitespace-nowrap py-2 border-b-2 ${o==1?"text-indigo-500 border-indigo-500":"border-white text-gray-500"}  `,children:e.jsx("button",{onClick:()=>n(1),role:"tab",className:`flex  ${o==1?"":"bg-indigo-400 text-white"} items-center gap-x-2 py-2 px-2 rounded duration-150 hover:text-indigo-500 hover:bg-gray-50 active:bg-gray-100 font-medium`,children:"Pending Applications"})}),e.jsx("li",{className:`whitespace-nowrap py-2 border-b-2 ${o==2?"text-indigo-500 border-indigo-500":"border-white text-gray-500"}  `,children:e.jsx("button",{onClick:()=>n(2),role:"tab",className:`flex  ${o==2?"":"bg-indigo-400 text-white"} items-center gap-x-2 py-2 px-2 rounded duration-150 hover:text-indigo-500 hover:bg-gray-50 active:bg-gray-100 font-medium`,children:"Approved List"})}),e.jsx("li",{className:`whitespace-nowrap py-2 border-b-2 ${o==3?"text-indigo-500 border-indigo-500":"border-white text-gray-500"}  `,children:e.jsx("button",{onClick:()=>n(3),role:"tab",className:`flex  ${o==3?"":"bg-indigo-400 text-white"} items-center gap-x-2 py-2 px-2 rounded duration-150 hover:text-indigo-500 hover:bg-gray-50 active:bg-gray-100 font-medium`,children:"Rejected List"})})]})}),e.jsx("div",{children:e.jsx("section",{className:"container mx-auto py-4",children:e.jsxs("div",{children:[o==1&&e.jsx(k,{errorMsg:"Error Data Loading..",children:e.jsx($,{})}),o==2&&e.jsx(k,{errorMsg:"Error Data Loading..",children:e.jsx(F,{})}),o==3&&e.jsx(k,{errorMsg:"Error Data Loading..",children:e.jsx(O,{})})]})})})]})})};export{ae as default};
