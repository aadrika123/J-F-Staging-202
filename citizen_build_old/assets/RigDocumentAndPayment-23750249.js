import{j as s}from"./mui-8e804a04.js";import{r as a,f as P,u as k}from"./router-87042356.js";import{m as x,A}from"./index-05e96c05.js";import"./index-4e794517.js";import"./RazorpayPaymentScreen-81a72a11.js";import{F as V}from"./index.esm-f717eb21.js";import{P as C}from"./PetRegAPIList-8d0d4399.js";import{P as M}from"./PetRegDocUploadModal-a7dc6713.js";import{R as E}from"./RigRegTopButtons-cf76a577.js";import{S as F}from"./ShimmerEffectInline-66ba2926.js";import{V as I}from"./ViewUploadedDoc-21e1bf00.js";import"./react-09dd1212.js";import"./axios-97164839.js";import"./reactIcons-6a3b6da1.js";import"./redux-4db06ad6.js";import"./i18next-e99b4042.js";import"./CitizenApplyApiList-a42ddf5f.js";import"./WaterApiList-efefbcaa.js";import"./index.esm-2e3a7c1f.js";const le=W=>{a.useState(0);const[h,n]=a.useState(!1),[t,m]=a.useState(),[u,f]=a.useState(),[g,l]=a.useState(!0),[j,B]=a.useState(0),[N,c]=a.useState(!1),[b,y]=a.useState(0),[v,w]=a.useState();a.useContext(x);const{id:r}=P(),{api_RigRegistrationDocUploadList:D,header1:S}=C(),{setBreadCrumbData:R}=a.useContext(x);a.useEffect(()=>{R(["Vehicle Registration","Upload Document"])},[]);const d=k(),U=e=>{e&&(w(e),y(o=>o+1))},p=()=>{l(!0),A.post(D,{applicationId:r},S).then(e=>{var o,i;l(!1),(o=e==null?void 0:e.data)!=null&&o.status?(m((i=e==null?void 0:e.data)==null?void 0:i.data),console.log(e,"response from doc vehicle")):c(!0)}).catch(e=>{console.log("Error while getting pet doc list",e),l(!1),c(!0)})};a.useEffect(()=>{p()},[j]);const _=e=>{n(!0),f(e),console.log("Document Upload click..",e)};return s.jsxs("div",{className:"mt-3",children:[s.jsx(E,{active:"document",consumerNo:t==null?void 0:t.ApplicationNo}),s.jsx(I,{openDocviewModal:b,documentUrl:v}),h&&s.jsx(M,{payloadData:u,refetch:p,applicationId:r,close:n}),s.jsxs("div",{className:"bg-white rounded-md shadow-sm py-2",children:[s.jsx("div",{className:"my-3",children:s.jsx("p",{className:"text-center text-2xl font-medium text-gray-800",children:"Vehicle Registration Document Upload"})}),g?s.jsxs("p",{className:"w-full",children:[" ",s.jsx(F,{})," "]}):s.jsxs("div",{className:"overflow-auto",children:[N==!0?s.jsx("p",{className:"m-auto font-semibold border border-gray-300 text-red-700 bg-red-100 px-5 py-2 rounded shadow w-fit",children:"Failed to Get Data"}):s.jsxs("table",{className:"w-full text-left text-gray-600",children:[s.jsx("thead",{className:"text-lg bg-gray-300 border-b-2",children:s.jsxs("tr",{className:"",children:[s.jsx("th",{className:"px-3 py-2",children:"Sl."}),s.jsx("th",{className:"px-3 py-2",children:"Document Name"}),s.jsx("th",{className:"px-3 py-2",children:"View "}),s.jsx("th",{className:"px-3 py-2",children:"Status"}),s.jsx("th",{className:"px-3 py-2",children:"Action"})]})}),s.jsx("tbody",{className:"",children:t&&(t==null?void 0:t.map((e,o)=>s.jsxs("tr",{className:"hover:bg-sky-100 border-b",children:[s.jsx("td",{className:"px-3 py-2",children:o+1}),s.jsxs("td",{className:"px-3 py-2",children:[e.doc_code," "]}),s.jsxs("td",{className:"px-3 py-2",children:[(e==null?void 0:e.doc_path)&&s.jsx("img",{className:"h-8 cursor-pointer",onClick:()=>U(e==null?void 0:e.doc_path),src:e==null?void 0:e.doc_path,alt:"images"}),!(e!=null&&e.doc_path)&&"N/A"]}),s.jsxs("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:[(e==null?void 0:e.verify_status)==0&&s.jsx("p",{className:"text-orange-400 font-semibold",children:"Pending"}),(e==null?void 0:e.verify_status)==1&&s.jsx("p",{className:"text-green-400 font-semibold",children:"Verified"}),(e==null?void 0:e.verify_status)==2&&s.jsx("p",{className:"text-red-400 font-semibold",children:"Rejected"})]}),s.jsx("td",{className:"py-2 border-b border-gray-200 text-sm",children:(e==null?void 0:e.verify_status)==1?s.jsx("p",{className:"text-base",children:"Submitted"}):s.jsxs("span",{className:"relative inline-block ",children:[s.jsx("span",{"aria-hidden":"true",className:"absolute inset-0 "}),s.jsx("span",{className:"relative ",onClick:()=>_(e),children:s.jsxs("label",{className:"cursor-pointer rounded-sm hover:rounded-sm hover:shadow-2xl hover:bg-blue-600 hover:ring-1 hover:ring-blue-800 bg-blue-500  shadow-lg flex pl-4 pr-5 py-2  text-white font-medium",htmlFor:"contained-button-file",children:[s.jsx(V,{size:16,className:"mt-0 ml-0 mr-2 font-medium"}),e.doc_path?"Re-Upload":"Upload"]})})]})})]})))})]}),(t==null?void 0:t.docUploadStatus)&&s.jsx("p",{className:"text-center mt-5 text-green-600 font-semibold",children:"All Documents are uploaded."})]}),s.jsxs("div",{className:"flex justify-center my-6 space-x-5",children:[s.jsx("button",{type:"button",onClick:()=>d("/vehicle-registration-dashboard"),className:"bg-indigo-500 px-5 py-1 text-white rounded shadow",children:"Back"}),(t==null?void 0:t.docUploadStatus)&&(t==null?void 0:t.paymentStatus)==0&&s.jsx("button",{onClick:()=>d(`/petPayment/${r}`),type:"submit",className:"bg-indigo-700 px-8 py-2 text-white rounded font-sans font-semibold shadow",children:"Pay Now"})]})]})]})};export{le as default};
