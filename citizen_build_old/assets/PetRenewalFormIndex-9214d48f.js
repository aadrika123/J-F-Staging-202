import{j as r}from"./mui-105b4636.js";import{f as I,r as c,u as k}from"./router-894402c5.js";import{c as q,d,u as B,A as f}from"./index-0ba2dd6b.js";import{h as M}from"./moment-4682f801.js";import{P as G}from"./PetRegAPIList-8474b1a7.js";import{c as E}from"./Context-b7dd22eb.js";import"./react-40db4358.js";import"./axios-67d8a945.js";import"./reactIcons-58c2a0d8.js";import"./redux-b8f144fa.js";import"./i18next-e2c66b9b.js";const e={required:"text-red-700 font-semibold",label:"text-sm",textFiled:"block w-full h-9 border px-2 border-gray-300 rounded shadow text-gray-700",textArea:"block w-full border px-2 border-gray-300 rounded shadow"},ee=K=>{const{id:u}=I(),[o,v]=c.useState(),{notify:a}=c.useContext(E),[m,N]=c.useState(!1),[F,x]=c.useState(!1),[w,p]=c.useState(!1),[h,R]=c.useState(),b=c.useRef(),A=k(),{header:O,api_PetApproveViewApplication:S,api_PetApplyRenewalForm:V,header1:_}=G(),P=q({doctorName:d().matches(/^[a-zA-Z0-9\s,.:-]+$/,"Special characters are not allowed").required("Kindly enter a value."),doctorRegNo:d().matches(/^[a-zA-Z0-9\s,.:-]+$/,"Special characters are not allowed").required("Kindly enter a value."),dateOfRabies:d().required("Kindly enter a value."),dateOfLepVaccine:d().required("Kindly enter a value.")}),l=B({initialValues:{doctorName:"",doctorRegNo:"",dateOfRabies:"",dateOfLepVaccine:""},enableReinitialize:!0,onSubmit:(s,j)=>{L(s)},validationSchema:P}),T=s=>{s.target.name,s.target.value,p(!1)},L=s=>{x(!0);const j={address:s==null?void 0:s.address,applyThrough:s==null?void 0:s.applyThrough,propertyNo:s==null?void 0:s.holdingNo,breed:s==null?void 0:s.breed,ownerCategory:s==null?void 0:s.categoryApplication,color:s==null?void 0:s.color,dateOfLepVaccine:s==null?void 0:s.dateOfLepVaccine,dateOfRabiesVac:s==null?void 0:s.dateOfRabies,doctorName:s==null?void 0:s.doctorName,doctorRegNo:s==null?void 0:s.doctorRegNo,mobileNo:s==null?void 0:s.mobileNo,panNo:s==null?void 0:s.panNo,petBirthDate:s==null?void 0:s.petBirthDate,petFrom:s==null?void 0:s.petFrom,petGender:s==null?void 0:s.petGender,petIdentity:s==null?void 0:s.petIdentity,petName:s==null?void 0:s.petName,petType:s==null?void 0:s.petType,ulbId:s==null?void 0:s.ulb,ward:s==null?void 0:s.ward,registrationId:u,applicantName:s==null?void 0:s.applicantName,mobileNo:s==null?void 0:s.mobileNo,email:s==null?void 0:s.email,panNo:s==null?void 0:s.panNo};f.post(V,j,O).then(i=>{var n,t,g;x(!1),i.data.status?(R(i.data.data),C(),a((n=i==null?void 0:i.data)==null?void 0:n.message,"success")):(a((t=i==null?void 0:i.data)==null?void 0:t.message,"error"),p((g=i==null?void 0:i.data)==null?void 0:g.message))}).catch(i=>{var n,t;p((t=(n=i==null?void 0:i.response)==null?void 0:n.data)==null?void 0:t.error),a("Something Went wrong","error"),x(!1)})},C=()=>{b.current.showModal()};return c.useEffect(()=>{f.post(S,{registrationId:u},_).then(s=>{s.data.status&&v(s.data.data)}).catch(s=>{})},[]),r.jsxs(r.Fragment,{children:[r.jsxs("form",{onSubmit:l.handleSubmit,onChange:T,children:[r.jsxs("div",{className:"overflow-y-auto mt-5",children:[r.jsx("div",{className:"col-span-12 ml-2 my-2",children:r.jsx("div",{className:"text-lg text-left text-gray-600 font-semibold",children:"# Property Details "})}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 xl:grid-cols-5  bg-white shadow-md rounded-md py-2",children:[r.jsxs("div",{className:"m-3",children:[r.jsx("label",{className:e==null?void 0:e.label,htmlFor:"ulb",children:"ULB "}),r.jsx("input",{value:o==null?void 0:o.ulb_name,disabled:!0,type:"text",name:"ulb",className:e==null?void 0:e.textFiled}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.ulb&&l.errors.ulb?l.errors.ulb:null})]}),r.jsxs("div",{className:"m-3",children:[r.jsx("label",{className:e==null?void 0:e.label,htmlFor:"applyThrough",children:"Apply Through "}),r.jsx("input",{disabled:!0,value:o==null?void 0:o.apply_through_name,type:"text",className:e==null?void 0:e.textFiled}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.applyThrough&&l.errors.applyThrough?l.errors.applyThrough:null})]}),r.jsxs("div",{className:"m-3",children:[r.jsx("label",{className:e==null?void 0:e.label,htmlFor:"holdingNo",children:"Holding / SAF No."}),r.jsx("input",{disabled:!0,value:(o==null?void 0:o.holding_no)==""?o==null?void 0:o.saf_no:o==null?void 0:o.holding_no,type:"text",name:"holdingNo",className:e==null?void 0:e.textFiled}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.holdingNo&&l.errors.holdingNo?l.errors.holdingNo:null})]}),r.jsxs("div",{className:"m-3",children:[r.jsx("label",{className:e==null?void 0:e.label,htmlFor:"categoryApplication",children:"Category of Application"}),r.jsx("input",{disabled:!0,value:o==null?void 0:o.application_type,type:"text",name:"holdingNo",className:e==null?void 0:e.textFiled}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.categoryApplication&&l.errors.categoryApplication?l.errors.categoryApplication:null})]}),r.jsxs("div",{className:"m-3",children:[r.jsx("label",{className:e==null?void 0:e.label,htmlFor:"ward",children:"Ward Number"}),r.jsx("input",{type:"text",disabled:!0,value:o==null?void 0:o.ward_name,name:"ward",className:e==null?void 0:e.textFiled}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.ward&&l.errors.ward?l.errors.ward:null})]})]}),r.jsx("div",{className:"col-span-12 ml-2 my-2",children:r.jsx("div",{className:"text-lg text-left text-gray-600 font-semibold",children:"# Applicant Details"})}),r.jsxs("div",{className:"bg-white shadow-md rounded-md py-2",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 ",children:[r.jsxs("div",{className:"m-3",children:[r.jsx("label",{className:e==null?void 0:e.label,htmlFor:"applicantName",children:"Name of Applicant"}),r.jsx("input",{disabled:!0,value:o==null?void 0:o.applicant_name,className:e==null?void 0:e.textFiled}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.applicantName&&l.errors.applicantName?l.errors.applicantName:null})]}),r.jsxs("div",{className:"m-3",children:[r.jsx("label",{className:e==null?void 0:e.label,htmlFor:"mobileNo",children:"Mobile No"}),r.jsx("input",{disabled:!0,value:o==null?void 0:o.mobile_no,type:"number",name:"mobileNo",className:e==null?void 0:e.textFiled}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.mobileNo&&l.errors.mobileNo?l.errors.mobileNo:null})]}),r.jsxs("div",{className:"m-3",children:[r.jsx("label",{className:e==null?void 0:e.label,htmlFor:"email",children:"Email"}),r.jsx("input",{disabled:!0,value:o==null?void 0:o.email,type:"email",name:"email",className:e==null?void 0:e.textFiled}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.email&&l.errors.email?l.errors.email:null})]}),r.jsxs("div",{className:"m-3",children:[r.jsx("label",{className:e==null?void 0:e.label,htmlFor:"panNo",children:"PAN No."}),r.jsx("input",{disabled:!0,value:o==null?void 0:o.pan_no,type:"text",name:"panNo",className:e==null?void 0:e.textFiled}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.panNo&&l.errors.panNo?l.errors.panNo:null})]})]}),r.jsxs("div",{className:"m-3",children:[r.jsx("label",{className:e==null?void 0:e.label,htmlFor:"address",children:"Address"}),r.jsx("textarea",{disabled:!0,value:o==null?void 0:o.address,name:"address",maxLength:"500",rows:"3",className:e==null?void 0:e.textArea}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.address&&l.errors.address?l.errors.address:null})]})]}),r.jsx("div",{className:"col-span-12 ml-2 my-2",children:r.jsx("div",{className:"text-lg text-left text-gray-600 font-semibold",children:"# Pet Details"})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 bg-white shadow-md rounded-md py-2",children:[r.jsxs("div",{className:"m-3",children:[r.jsx("label",{className:e==null?void 0:e.label,htmlFor:"petType",children:"Pet Type"}),r.jsx("input",{disabled:!0,value:o==null?void 0:o.ref_pet_type,className:e==null?void 0:e.textFiled}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.petType&&l.errors.petType?l.errors.petType:null})]}),r.jsxs("div",{className:"m-3",children:[r.jsx("label",{className:e==null?void 0:e.label,htmlFor:"pet_name",children:"Name of Pet"}),r.jsx("input",{disabled:!0,value:o==null?void 0:o.pet_name,className:e==null?void 0:e.textFiled}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.petName&&l.errors.petName?l.errors.petName:null})]}),r.jsxs("div",{className:"m-3",children:[r.jsx("label",{className:e==null?void 0:e.label,htmlFor:"petGender",children:"Gender"}),r.jsx("input",{disabled:!0,value:o==null?void 0:o.ref_gender,className:e==null?void 0:e.textFiled}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.petGender&&l.errors.petGender?l.errors.petGender:null})]}),r.jsxs("div",{className:"m-3",children:[r.jsx("label",{className:e==null?void 0:e.label,htmlFor:"petBirthDate",children:"Date of Birth"}),r.jsx("input",{disabled:!0,value:M(o==null?void 0:o.dob).format("DD-MM-Y"),className:e==null?void 0:e.textFiled}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.petBirthDate&&l.errors.petBirthDate?l.errors.petBirthDate:null})]}),r.jsxs("div",{className:"m-3",children:[r.jsx("label",{className:e==null?void 0:e.label,htmlFor:"breed",children:"Breed"}),r.jsx("input",{disabled:!0,value:o==null?void 0:o.breed,type:"text",name:"color",className:e==null?void 0:e.textFiled}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.breed&&l.errors.breed?l.errors.breed:null})]}),r.jsxs("div",{className:"m-3",children:[r.jsx("label",{className:e==null?void 0:e.label,htmlFor:"color",children:"Color"}),r.jsx("input",{disabled:!0,value:o==null?void 0:o.color,type:"text",name:"color",className:e==null?void 0:e.textFiled}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.color&&l.errors.color?l.errors.color:null})]}),r.jsxs("div",{className:"m-3",children:[r.jsxs("label",{className:e==null?void 0:e.label,htmlFor:"doctorName",children:["Veterinary Doctor Name",r.jsx("span",{className:e==null?void 0:e.required,children:"*"})]}),r.jsx("input",{...l.getFieldProps("doctorName"),type:"text",maxLength:"70",name:"doctorName",className:e==null?void 0:e.textFiled}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.doctorName&&l.errors.doctorName?l.errors.doctorName:null})]}),r.jsxs("div",{className:"m-3",children:[r.jsxs("label",{className:e==null?void 0:e.label,htmlFor:"doctorRegNo",children:["Doctorâ€™s MSVC/VCI number ",r.jsx("span",{className:e==null?void 0:e.required,children:"*"})]}),r.jsx("input",{...l.getFieldProps("doctorRegNo"),type:"text",maxLength:"70",name:"doctorRegNo",className:e==null?void 0:e.textFiled}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.doctorRegNo&&l.errors.doctorRegNo?l.errors.doctorRegNo:null})]}),r.jsxs("div",{className:"m-3",children:[r.jsxs("label",{className:e==null?void 0:e.label,htmlFor:"dateOfRabies",children:["Date of Rabies",r.jsx("span",{className:e==null?void 0:e.required,children:"*"})]}),r.jsx("input",{...l.getFieldProps("dateOfRabies"),type:"date",name:"dateOfRabies",className:e==null?void 0:e.textFiled,max:new Date().toISOString().split("T")[0]}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.dateOfRabies&&l.errors.dateOfRabies?l.errors.dateOfRabies:null})]}),r.jsxs("div",{className:"m-3",children:[r.jsxs("label",{className:e==null?void 0:e.label,htmlFor:"dateOfLepVaccine",children:["Leptospirosis Vaccination Date",r.jsx("span",{className:e==null?void 0:e.required,children:"*"})]}),r.jsx("input",{...l.getFieldProps("dateOfLepVaccine"),type:"date",name:"dateOfLepVaccine",className:e==null?void 0:e.textFiled,max:new Date().toISOString().split("T")[0]}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.dateOfLepVaccine&&l.errors.dateOfLepVaccine?l.errors.dateOfLepVaccine:null})]}),r.jsxs("div",{className:"m-3",children:[r.jsx("label",{className:e==null?void 0:e.label,htmlFor:"petFrom",children:"Pet From"}),r.jsx("input",{disabled:!0,value:o==null?void 0:o.occurrence_types,name:"PetFrom",className:e==null?void 0:e.textFiled}),r.jsx("p",{className:"text-red-500 text-xs",children:l.touched.petFrom&&l.errors.petFrom?l.errors.petFrom:null})]})]})]}),r.jsxs("p",{className:"flex mt-3 gap-x-3",children:[r.jsx("input",{type:"checkbox",checked:m,name:"",id:"",onChange:s=>N(s.target.checked)}),r.jsx("p",{className:"cursor-pointer select-none",onClick:()=>N(!m),children:"I have entered the correct information and agree to the terms and conditions."})]}),r.jsx("p",{className:"text-red-500 font-semibold text-center mt-3",children:w}),r.jsx("div",{className:"flex justify-center my-5",children:F?r.jsx("p",{children:"Form Submitting.."}):r.jsx("button",{type:"submit",disabled:!m,className:"disabled:opacity-40 bg-indigo-600 hover:bg-indigo-700 px-8 py-2 text-white rounded shadow mb-10",children:"Submit Application"})})]}),r.jsx("dialog",{ref:b,className:"",children:r.jsxs("div",{className:"space-y-2 mb-5",children:[r.jsx("p",{className:"text-center bg-yellow-300 p-2 font-semibold ",children:" Your Application has submitted successfully"}),r.jsxs("p",{className:"text-center",children:["Application No.  ",r.jsx("span",{className:"font-semibold text-lg",children:(h==null?void 0:h.applicationNo)||"N/A"})]}),r.jsx("div",{className:"flex justify-center gap-x-5",children:r.jsx("button",{onClick:()=>A("/pet-registration-dashboard"),className:"border border-indigo-600 px-2 py-1 rounded shadow hover:bg-indigo-500 hover:text-white",children:"Dashboard"})})]})})]})};export{ee as default};
