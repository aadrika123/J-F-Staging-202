import{j as a}from"./mui-105b4636.js";import{r}from"./router-894402c5.js";import{L as C}from"./ListTable-6181ead0.js";import{c as L,d as I,u as E,A as _,b as f,ai as A,P as H,n as l}from"./index-743a2ec8.js";import{a as k}from"./axios-67d8a945.js";import{B}from"./BarLoader-26c92bfd.js";import"./react-40db4358.js";import"./reactIcons-58c2a0d8.js";import"./redux-b8f144fa.js";import"./i18next-e2c66b9b.js";const V=()=>{const[i,n]=r.useState([]),[d,x]=r.useState([]),[F,p]=r.useState(0),[c,h]=r.useState(null),{api_enf_officer:b,api_ulbList:g}=H(),j="form-control block w-full px-2 py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md",[w,u]=r.useState(!1),[N,m]=r.useState(!1),v=L({ulbId:I().required("Select Your Ulb")}),o=E({initialValues:{ulbId:""},onSubmit:e=>{h({ulbId:e.ulbId}),p(t=>t+1)},validationSchema:v}),S=()=>{m(!0),k.get(g,{},f()).then(e=>{var t,s;m(!1),((t=e==null?void 0:e.data)==null?void 0:t.status)==!0&&x((s=e==null?void 0:e.data)==null?void 0:s.data)}).catch(e=>{m(!1)})};r.useEffect(()=>{S()},[]),r.useEffect(()=>{c&&(u(!0),_.post(b,{userType:"EO",...c},f()).then(e=>{var t,s;(t=e==null?void 0:e.data)!=null&&t.status?(n((s=e==null?void 0:e.data)==null?void 0:s.data),u(!1)):n([])}).catch(e=>{n([]),u(!1)}))},[c]);const y=[{Header:"#",Cell:({row:e})=>a.jsx("div",{className:"pr-2",children:(e==null?void 0:e.index)+1})},{Header:"Profile",accessor:"profile",Cell:({cell:e})=>{var t,s;return a.jsx(a.Fragment,{children:(t=e.row.original)!=null&&t.profile_image?a.jsx("img",{className:"border drop-shadow-lg h-8 rounded-sm",src:(s=e.row.original)==null?void 0:s.profile_image,alt:"profile",srcset:""}):"N/A"})}},{Header:"Name",accessor:"user_name",Cell:({cell:e})=>{var t;return l((t=e.row.original)==null?void 0:t.user_name)}},{Header:"Mobile No.",accessor:"mobile",Cell:({cell:e})=>{var t;return l((t=e.row.original)==null?void 0:t.mobile)}},{Header:"E-mail",accessor:"email",Cell:({cell:e})=>{var t;return l((t=e.row.original)==null?void 0:t.email)}},{Header:"Address",accessor:"address",Cell:({cell:e})=>{var t;return l((t=e.row.original)==null?void 0:t.address)}}];return a.jsxs(a.Fragment,{children:[w&&a.jsx(B,{}),a.jsxs("div",{className:"w-full  md:pt-10 bg-white shadow-lg  rounded-md ",children:[a.jsx("form",{onChange:o.handleChange,onSubmit:o.handleSubmit,className:"mb-4  ml-[30%] ",children:a.jsxs("div",{className:"flex flex-wrap flex-row justify-start w-full gap-x-6 gap-y-2 text-sm 3xl:text-base p-4 px-8",children:[a.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[a.jsx("div",{className:"col-span-6 font-semibold",children:"Select Ulb"}),a.jsx("div",{className:"col-span-6",children:a.jsxs("select",{name:"ulbId",id:"ulbId",className:j,value:o.values.ulbId,onChange:o.handleChange,children:[a.jsx("option",{value:"",children:"Select Your ULB"}),N?a.jsx("option",{value:"",disabled:!0,children:"Loading..."}):d==null?void 0:d.map(e=>a.jsx("option",{value:e==null?void 0:e.id,children:e==null?void 0:e.ulb_name},e==null?void 0:e.id))]})}),a.jsx("div",{className:"col-span-12 text-center",children:o.touched.ulbId&&o.errors.ulbId&&a.jsx(a.Fragment,{children:a.jsx("span",{className:"text-red-600 text-xs",children:o.errors.ulbId})})})]}),a.jsx("div",{className:"w-full md:w-[20%] flex justify-start items-center mt-4",children:a.jsxs("button",{type:"submit",className:"flex flex-row items-center border border-green-600 bg-green-600 hover:bg-green-400 text-white hover:text-black shadow-lg rounded-sm text-sm font-semibold px-5 py-1 w-max",children:[" ",a.jsx("span",{className:"mr-2",children:a.jsx(A,{})}),"Search "]})})]})}),i.length>0&&a.jsx("div",{className:"uppercase font-semibold text-gray-700 text-2xl py-2 text-center tracking-[0.5rem]",children:"Know Your Enforcement Officer"}),i.length>0&&a.jsx(C,{columns:y,dataList:i,exportStatus:!1})]})]})};export{V as default};
