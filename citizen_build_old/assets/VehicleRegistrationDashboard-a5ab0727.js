import{j as e}from"./mui-8e804a04.js";import{r as l,u as N,f as A}from"./router-87042356.js";import{C as P}from"./index.esm-61f3eeba.js";import{C as w}from"./CustomErrorBoundary-a255d819.js";import{A as v,Q as h,m as S}from"./index-19682a6e.js";import{M as C,a as E}from"./index.esm-df462c79.js";import{h as f}from"./moment-fbc5633a.js";import{N as _}from"./NoDataFoundStyle1-7c7ae943.js";import{P as D}from"./PetRegAPIList-bb1063ad.js";import{P as R}from"./PetRegDeleteModal-6b254083.js";import"./react-09dd1212.js";import"./reactIcons-6a3b6da1.js";import"./axios-97164839.js";import"./redux-4db06ad6.js";import"./i18next-e99b4042.js";import"./index-4e794517.js";import"./index.esm-2e3a7c1f.js";const F=()=>{const[o,t]=l.useState(null),[c,p]=l.useState(!1),[i,g]=l.useState();l.useState(!1),l.useState(),l.useState(!1),l.useState();const[d,r]=l.useState(!1),[u,n]=l.useState(!1),{api_RigPendingRegistrations:x,header:k}=D(),b=N(),y=s=>{t(o===s?null:s)},j=s=>{g(s),p(!0)},m=()=>{n(!0),v.post(x,{},k).then(s=>{n(!1),s.data.status?(r(s.data.data),console.log("list of applied list",s.data.data)):(h.error("Failed to get application list"),console.log("Failed to get application list",s.data.data))}).catch(s=>{h.error("Error while getting applied list"),console.log("Error while getting applied list",s),n(!1)})};return l.useEffect(()=>{m()},[]),u?"Loading..":d?e.jsxs(e.Fragment,{children:[c&&e.jsx(R,{setOpenDeleteModal:p,dataTobeDeleted:i,reFetch:m}),e.jsxs("div",{className:"w-full ml-2 md:ml-0 mb-10",children:[e.jsxs("p",{className:"font-manrope md:my-4 ",children:["Total Applications"," ",e.jsx("span",{className:"font-semibold",children:d==null?void 0:d.length})]}),e.jsx("div",{className:"hidden md:block bg-gray-200 text-gray-700 py-3 font-semibold rounded-md",children:e.jsxs("div",{className:"grid grid-cols-12 items-center",children:[e.jsx("p",{className:"px-2 col-span-3 whitespace-nowrap",children:"Registration No"}),e.jsx("p",{className:"px-2 col-span-2",children:"Applicant Name"}),e.jsx("p",{className:"px-1 col-span-2",children:"Type"}),e.jsx("p",{className:"px-2 col-span-1",children:"Payment"}),e.jsx("p",{className:"px-2 col-span-1",children:"Document"}),e.jsx("p",{className:"px-2 col-span-2 whitespace-nowrap",children:"Apply Date"}),e.jsx("p",{className:"px-2 col-span-1"})]})}),e.jsx("div",{className:"overflow-y-auto h-screen mb-40 md:mr-0 mr-5 ",children:d&&(d==null?void 0:d.map((s,a)=>e.jsxs("div",{className:"w-full border border-gray-300 rounded-md my-2 bg-white cursor-pointer",onClick:()=>y(a),children:[e.jsxs("div",{className:" flex md:grid grid-cols-12 items-center justify-between border-b border-gray-100",children:[e.jsx("p",{className:"px-4 py-2 break-all font-manrope font-semibold col-span-3 text-xs md:text-base",children:s==null?void 0:s.application_no}),e.jsx("p",{className:"hidden md:block px-4 py-2 break-all col-span-2",children:s==null?void 0:s.applicant_name}),e.jsx("p",{className:"px-4 py-1 break-words flex col-span-2 text-xs md:text-base",children:s==null?void 0:s.ref_application_type}),e.jsxs("p",{className:"hidden md:block px-4 py-2 whitespace-nowrap col-span-1",children:[(s==null?void 0:s.payment_status)==0&&e.jsx("p",{className:"text-red-500 font-normal text-sm px-2 rounded-xl",children:"UnPaid"}),(s==null?void 0:s.payment_status)==1&&e.jsx("p",{className:"text-green-600 font-normal text-sm px-2 rounded-xl",children:"Paid"}),(s==null?void 0:s.payment_status)==2&&e.jsx("p",{className:"text-yellow-600 font-normal text-sm px-2 rounded-xl",children:"Processing"})]}),e.jsxs("p",{className:"hidden md:block px-4 py-2 break-normal col-span-1",children:[(s==null?void 0:s.doc_upload_status)==!0&&e.jsx("p",{className:"text-green-600 font-normal text-sm px-2 rounded-xl",children:"Uploaded"}),(s==null?void 0:s.doc_upload_status)==!1&&e.jsx("p",{className:"text-red-600 font-normal text-sm  px-2 rounded-xl",children:"Not Upload"})]}),e.jsx("p",{className:"hidden md:block px-4 py-2 col-span-2",children:f(s==null?void 0:s.application_apply_date,"YYYY-MM-DD").format("DD-MMM-yy")}),e.jsx("p",{className:"px-4 py-2 whitespace-nowrap text-right text-sm font-medium col-span-1",children:o===a?e.jsx(C,{size:24}):e.jsx(E,{size:24})})]}),e.jsx("div",{className:"flex-none bg-gray-100",children:o===a&&e.jsxs("div",{className:"p-2 md:p-5 ease-in duration-300 bg-indigo-100",children:[e.jsx("div",{className:"text-center md:text-left mb-2 md:mb-0",children:e.jsxs("p",{className:" text-gray-900",children:[(s==null?void 0:s.payment_status)==0&&"Your Application is unpaid.",(s==null?void 0:s.role_name)&&e.jsxs("span",{children:["Your Application is at"," ",e.jsx("span",{className:"font-semibold",children:s.role_name})]})]})}),e.jsxs("div",{className:"md:hidden grid grid-cols-12 text-sm border-b-2 pb-2 mb-2 border-gray-100",children:[e.jsxs("div",{className:"col-span-6 mr-1",children:[e.jsxs("p",{className:"flex justify-between",children:["Payment :",e.jsxs("span",{className:"font-semibold",children:[(s==null?void 0:s.payment_status)==0&&"UnPaid",(s==null?void 0:s.payment_status)==1&&"Paid",(s==null?void 0:s.payment_status)==2&&"Processing"]})]}),e.jsxs("p",{className:"flex justify-between",children:["Document :",e.jsx("span",{className:"font-semibold",children:(s==null?void 0:s.doc_upload_status)==!0?"Uploaded":"NotUpload"})]})]}),e.jsxs("div",{className:"col-span-6 ml-4",children:[e.jsxs("p",{className:"flex justify-between",children:["Type :",e.jsxs("span",{className:"font-semibold",children:[" ",s==null?void 0:s.application_type]})]}),e.jsxs("p",{className:"flex justify-between",children:["Apply on :",e.jsx("span",{className:"font-semibold text-xs",children:f(s==null?void 0:s.application_apply_date,"YYYY-MM-DD").format("DD-MMM-yy")})]})]})]}),e.jsxs("div",{className:"flex justify-center md:justify-end flex-wrap gap-1 md:gap-3",children:[(s==null?void 0:s.payment_status)==0&&(s==null?void 0:s.doc_upload_status)==!0?e.jsx("button",{onClick:()=>b(`/rigPayment/${s==null?void 0:s.id}`),className:"px-2 md:px-3 py-1 rounded text-xs md:text-sm text-white bg-indigo-500 hover:bg-indigo-600",children:"Pay Now"}):"",(s==null?void 0:s.payment_status)==1&&e.jsx("button",{onClick:()=>b(`/vehicle-payment-receipt/${s==null?void 0:s.transactionNo}`),className:"px-2 md:px-3 py-1 rounded text-xs md:text-sm text-white bg-indigo-500 hover:bg-indigo-600",children:"Print Receipt"}),e.jsx("button",{onClick:()=>b(`/viewRigApplication/${s==null?void 0:s.id}`),className:"px-2 md:px-3 py-1 rounded text-xs md:text-sm text-white bg-indigo-500 hover:bg-indigo-600",children:"View Application"}),(s==null?void 0:s.payment_status)==0&&e.jsx("button",{onClick:()=>j({application_no:s==null?void 0:s.application_no,id:s==null?void 0:s.id}),className:"px-2 md:px-3 py-1 rounded text-xs md:text-sm text-white bg-red-500 hover:bg-red-600",children:"Delete"})]})]},s.name)})]},s.index)))})]})]}):e.jsx(_,{message:"No Previous Pet Registration Found."})},Y=o=>{const[t,c]=l.useState(null),[p,i]=l.useState(!1),[g,d]=l.useState();l.useState(!1),l.useState(),l.useState(!1),l.useState();const[r,u]=l.useState(!1),[n,x]=l.useState(!1),{api_PetRegistrationList:k,api_RigApprovedRegistrations:b,header:y}=D(),j=N();A();const m=a=>{c(t===a?null:a)},s=()=>{x(!0),v.post(b,{},y).then(a=>{x(!1),a.data.status?(u(a.data.data),console.log("list of applied list",a.data.data)):(h.error("Failed to get application list"),console.log("Failed to get application list",a.data.data))}).catch(a=>{h.error("Error while getting applied list"),console.log("Error while getting applied list",a),x(!1)})};return l.useEffect(()=>{s()},[]),n?"Loading..":r!=null&&r.length?e.jsxs(e.Fragment,{children:[p&&e.jsx(R,{setOpenDeleteModal:i,dataTobeDeleted:g,reFetch:s}),e.jsxs("div",{className:"w-full ml-2 md:ml-0 mb-10",children:[e.jsxs("p",{className:"font-manrope md:my-4 ",children:["Total Applications"," ",e.jsx("span",{className:"font-semibold",children:r==null?void 0:r.length})]}),e.jsx("div",{className:"hidden md:block bg-gray-200 text-gray-700 py-3 font-semibold rounded-md",children:e.jsxs("div",{className:"grid grid-cols-12 items-center",children:[e.jsx("p",{className:"px-2 col-span-3 whitespace-nowrap",children:"Registration No"}),e.jsx("p",{className:"px-2 col-span-2",children:"Applicant Name"}),e.jsx("p",{className:"px-1 col-span-2",children:"Type"}),e.jsx("p",{className:"px-2 col-span-2 whitespace-nowrap",children:"Date"}),e.jsx("p",{className:"px-2 col-span-1",children:"Action"})]})}),e.jsx("div",{className:"overflow-y-auto h-screen mb-40 md:mr-0 mr-5 ",children:r&&(r==null?void 0:r.map((a,M)=>e.jsxs("div",{className:"w-full border border-gray-300 rounded-md my-2 bg-white cursor-pointer",onClick:()=>m(M),children:[e.jsxs("div",{className:" flex md:grid grid-cols-12 items-center justify-between border-b border-gray-100",children:[e.jsx("p",{className:"px-4 py-2 break-all font-manrope font-semibold col-span-3 text-xs md:text-base",children:a==null?void 0:a.application_no}),e.jsx("p",{className:"hidden md:block px-4 py-2 break-all col-span-2",children:a==null?void 0:a.applicant_name}),e.jsx("p",{className:"px-4 py-1 break-words flex col-span-2 text-xs md:text-base",children:(a==null?void 0:a.current_status)=="Approved"?e.jsx("p",{className:"text-green-600 font-normal text-sm px-2 rounded-xl",children:"Approved"}):e.jsx("p",{className:"text-red-500 font-normal text-sm px-2 rounded-xl",children:"Under Renewal Process"})}),e.jsx("p",{className:"hidden md:block px-4 py-2 col-span-2",children:f(a==null?void 0:a.application_apply_date,"YYYY-MM-DD").format("DD-MMM-yy")}),e.jsxs("div",{className:"flex justify-between gap-2 col-span-2",children:[e.jsx("p",{className:"px-2 md:px-3 py-1 rounded text-xs md:text-sm text-white bg-indigo-500 hover:bg-indigo-600 text-center",onClick:()=>j(`/viewRigApplication/${a==null?void 0:a.id}`),children:"View"}),e.jsxs("div",{className:"",children:[e.jsx(e.Fragment,{children:(a==null?void 0:a.payment_status)==0&&(a==null?void 0:a.doc_upload_status)==!1?e.jsx("button",{onClick:()=>j(`/rigPayment/${a==null?void 0:a.id}`),className:"px-2 md:px-3 py-1 rounded text-xs md:text-sm text-white bg-indigo-500 hover:bg-indigo-600",children:"Pay Now"}):""}),e.jsx(e.Fragment,{children:(a==null?void 0:a.payment_status)==1&&e.jsx("button",{onClick:()=>j(`/vehicle-payment-receipt/${a==null?void 0:a.transactionNo}`),className:"px-2 md:px-3 py-1 rounded text-xs md:text-sm text-white bg-indigo-500 hover:bg-indigo-600",children:"Print Receipt"})})]}),(a==null?void 0:a.payment_status)==1&&(a==null?void 0:a.status)==2&&e.jsx("h1",{className:"text-xs font-BreeSerif text-green-500",children:e.jsx("span",{children:e.jsxs("button",{className:"float-right  shadow-lg mr-2 rounded leading-5 border-gray-50 bg-indigo-500 px-2 py-1 text-white",children:[" ",e.jsx("a",{href:`/citizen/approvalLetter/${items==null?void 0:items.id}/${items==null?void 0:items.workflow_id}`,target:"_blank",rel:"noopener noreferrer",children:"Download Approval Letter"})," "]})})})]})]}),e.jsx("div",{className:"flex-none bg-gray-100"})]},a.index)))})]})]}):e.jsx(_,{message:"No Data Found."})},$=o=>{const[t,c]=l.useState(!1),[p,i]=l.useState(!1),{api_RigRejectedRegistrations:g,header:d}=D(),r=N();A();const u=()=>{i(!0),v.post(g,{},d).then(n=>{i(!1),n.data.status?(c(n.data.data),console.log("list of applied list",n.data.data)):(h.error("Failed to get application list"),console.log("Failed to get application list",n.data.data))}).catch(n=>{h.error("Error while getting applied list"),console.log("Error while getting applied list",n),i(!1)})};return l.useEffect(()=>{u()},[]),p?"Loading..":t!=null&&t.length?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full ml-2 md:ml-0 mb-10",children:[e.jsxs("p",{className:"font-manrope md:my-4 ",children:["Total Applications"," ",e.jsx("span",{className:"font-semibold",children:t==null?void 0:t.length})]}),e.jsx("div",{className:"hidden md:block bg-gray-200 text-gray-700 py-3 font-semibold rounded-md",children:e.jsxs("div",{className:"grid grid-cols-12 items-center",children:[e.jsx("p",{className:"px-2 col-span-3 whitespace-nowrap",children:"Registration No"}),e.jsx("p",{className:"px-2 col-span-2",children:"Applicant Name"}),e.jsx("p",{className:"px-1 col-span-2",children:"Type"}),e.jsx("p",{className:"px-2 col-span-2 whitespace-nowrap",children:"Date"}),e.jsx("p",{className:"px-2 col-span-1",children:"Action"})]})}),e.jsx("div",{className:"overflow-y-auto h-screen mb-40 md:mr-0 mr-5 ",children:t&&(t==null?void 0:t.map((n,x)=>e.jsx("div",{className:"w-full border border-gray-300 rounded-md my-2 bg-white cursor-pointer",children:e.jsxs("div",{className:" flex md:grid grid-cols-12 items-center justify-between border-b border-gray-100",children:[e.jsx("p",{className:"px-4 py-2 break-all font-manrope font-semibold col-span-3 text-xs md:text-base",children:n==null?void 0:n.application_no}),e.jsx("p",{className:"hidden md:block px-4 py-2 break-all col-span-2",children:n==null?void 0:n.applicant_name}),e.jsx("p",{className:"px-4 py-1 break-words flex col-span-2 text-xs md:text-base",children:e.jsx("p",{className:"text-red-600 font-normal text-sm px-2 rounded-xl",children:"Rejected"})}),e.jsx("p",{className:"hidden md:block px-4 py-2 col-span-2",children:f(n==null?void 0:n.application_apply_date,"YYYY-MM-DD").format("DD-MMM-yy")}),e.jsx("p",{className:"px-2 md:px-3 py-1 rounded text-xs md:text-sm text-white bg-indigo-500 hover:bg-indigo-600 text-center",onClick:()=>r(`/viewRejectedApplication/${n==null?void 0:n.id}`),children:"View"})]})})))})]})}):e.jsx(_,{message:"No Data Found."})},ee=()=>{const[o,t]=l.useState(1),c=N(),{setBreadCrumbData:p}=l.useContext(S);return l.useEffect(()=>{p(["Pet Registration Dashboard"])},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex-1 md:flex items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"md:text-3xl text-2xl text-gray-800 font-semibold ",children:[" ","Vehicle Registration Dashboard"]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 ",children:"Here is list of all vehicle Registration applications."})]}),e.jsx("div",{className:"space-x-1 ",children:e.jsx("button",{onClick:()=>c("/apply-vehicle-registration"),className:"rounded md:rounded-md bg-colorBase px-1 md:px-3.5 py-1.5 text-sm font-semibold leading-7 text-white hover:bg-colorBaseLight ",children:e.jsxs("span",{className:"flex text-sm md:text-base",children:[e.jsx("span",{className:"md:mt-1 mr-1",children:e.jsx(P,{size:17})}),"New Registration"]})})})]}),e.jsx("div",{className:"",children:e.jsxs("ul",{className:"max-w-screen-xl border-b  flex items-center gap-1 md:gap-x-6 text-xs md:text-sm",children:[e.jsx("li",{className:`whitespace-nowrap py-2 border-b-2 ${o==1?"text-indigo-500 border-indigo-500":"border-white text-gray-500"}  `,children:e.jsx("button",{onClick:()=>t(1),role:"tab",className:`flex  ${o==1?"":"bg-indigo-400 text-white"} items-center gap-x-2 py-2 px-2 rounded duration-150 hover:text-indigo-500 hover:bg-gray-50 active:bg-gray-100 font-medium`,children:"New Applications"})}),e.jsx("li",{className:`whitespace-nowrap py-2 border-b-2 ${o==2?"text-indigo-500 border-indigo-500":"border-white text-gray-500"}  `,children:e.jsx("button",{onClick:()=>t(2),role:"tab",className:`flex  ${o==2?"":"bg-indigo-400 text-white"} items-center gap-x-2 py-2 px-2 rounded duration-150 hover:text-indigo-500 hover:bg-gray-50 active:bg-gray-100 font-medium`,children:"Approved Applications"})}),e.jsx("li",{className:`whitespace-nowrap py-2 border-b-2 ${o==3?"text-indigo-500 border-indigo-500":"border-white text-gray-500"}  `,children:e.jsx("button",{onClick:()=>t(3),role:"tab",className:`flex  ${o==3?"":"bg-indigo-400 text-white"} items-center gap-x-2 py-2 px-2 rounded duration-150 hover:text-indigo-500 hover:bg-gray-50 active:bg-gray-100 font-medium`,children:"Rejected Applications"})})]})}),e.jsx("div",{children:e.jsx("section",{className:"container mx-auto py-4",children:e.jsxs("div",{children:[o==1&&e.jsx(w,{errorMsg:"Error Data Loading..",children:e.jsx(F,{})}),o==2&&e.jsx(w,{errorMsg:"Error Data Loading..",children:e.jsx(Y,{})}),o==3&&e.jsx(w,{errorMsg:"Error Data Loading..",children:e.jsx($,{})})]})})})]})})};export{ee as default};
