import{j as e}from"./mui-105b4636.js";import{r as n,u as I,h as K,N as R,O as X}from"./router-894402c5.js";import{A as E,b as H,P as Z,i as T,h as G,B as z,C as ee,l as te,D as F,E as ae,F as D}from"./index-02c19d18.js";import{u as se}from"./user-9843d999.js";import{C as ne}from"./CitizenApplyApiList-e6956e28.js";import{M as $}from"./index-82be3ecd.js";import{a as U}from"./index.esm-c1e7c4e1.js";import{a as V}from"./redux-b8f144fa.js";/* empty css                */import{c as re,d as oe}from"./index.esm-3a2d9baa.js";import{T as le}from"./TitleBar-5351ad4f.js";import{s as ie,a as de}from"./Styles-28f3646d.js";import{a as ce}from"./index.esm-03ca67e3.js";import"./react-40db4358.js";import"./axios-67d8a945.js";import"./reactIcons-58c2a0d8.js";import"./i18next-e2c66b9b.js";function W(a){const{api_logout:r}=Z();E.post(r,{},H()).then(function(i){}).catch(function(i){}).finally(()=>{a()})}const ue=a=>{const[r,i]=n.useState(!1),[y,l]=n.useState(!1),{toggleBar:u,settoggleBar:h}=n.useContext(T),{brand_tag:x,brand_name:d,ulb_name:g,brand_logo:L}=G(),k=I();function m(){i(!1)}const f=()=>{l(!1),F(),a.LOGOUT(),k("/")},p=()=>{m(),W(f)},{api_getProfileDetails:C}=ne(),[c,O]=n.useState(),[b,j]=n.useState(""),S=te;return n.useEffect(()=>{E.post(C,{},H()).then(function(o){var v,_,w;o.data.status&&(O((v=o==null?void 0:o.data)==null?void 0:v.data),j(`${S}/${(w=(_=o==null?void 0:o.data)==null?void 0:_.data)==null?void 0:w.profile_photo}`))}).catch(function(o){})},[]),e.jsxs(e.Fragment,{children:[y&&e.jsx(z,{}),e.jsxs("div",{className:"bg-white flex flex-row justify-between px-2 sm:px-6 py-1 border shadow-sm print:hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[e.jsx("img",{src:L,alt:"",className:"w-11 h-11"}),e.jsx("span",{className:"font-semibold text-xl",children:x}),e.jsx("div",{onClick:()=>{h(!u)},children:e.jsx("span",{className:"cursor-pointer text-gray-700 text-xl",children:e.jsx(ee,{})})})]}),e.jsxs("div",{className:"flex items-center sm:gap-4 gap-2",children:[e.jsx("span",{className:"sm:visible sm:block hidden",children:e.jsx("button",{onClick:()=>p(),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-1.5 text-xs rounded-sm shadow-md",children:"Log Out"})}),e.jsxs("span",{className:"font-semibold capitalize flex gap-1",children:[e.jsx("span",{className:"sm:visible sm:block hidden",children:"Welcome,"})," ",c==null?void 0:c.name]}),e.jsx("span",{children:e.jsx("img",{src:b,onError:()=>j(se),alt:"",className:"w-11 h-11 rounded-full border-2 border-gray-200 bg-gray-50 p-1"})})]})]}),e.jsx($,{isOpen:r,onRequestClose:m,className:"h-screen w-screen flex items-center justify-center",contentLabel:"Logout Modal",children:e.jsxs("div",{class:"relative rounded-lg shadow-lg p-10 w-max h-max backdrop-blur-sm bg-white animate__animated animate__slideInLeft animate__faster",children:[e.jsx("button",{onClick:m,type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{class:"p-6 text-center",children:[e.jsxs("div",{className:"w-full flex h-10",children:[" ",e.jsx("span",{className:"mx-auto",children:e.jsx(U,{size:30})})]}),e.jsx("h3",{class:"mb-5 text-lg font-normal text-gray-500",children:"Are you sure to logout ?"}),e.jsx("button",{type:"button",class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",onClick:p,children:"Yes, I'm sure"})]})]})})]})},xe=a=>({RightNavCloseStatus:a.RightNavCloseStatus,isLoggedIn:a.isLoggedIn}),me=a=>({RIGHT_NAV_OPEN:r=>a({type:"RIGHT_NAV_OPEN"}),LOGOUT:r=>a({type:"LOGOUT"}),RIGHT_NAV_CLOSE:r=>a({type:"RIGHT_NAV_CLOSE"})}),he=V(xe,me)(ue);const ge=a=>{var A,B;const{ulb_name:r,brand_tag:i,state:y}=G(),{toggleBar:l,settoggleBar:u}=n.useContext(T),[h,x]=n.useState(!1),[d,g]=n.useState(""),[L,k]=n.useState(!1),m=K(),f=I(),[p,C]=n.useState(!1);if(m.pathname=="/login"||m.pathname=="/register")return;function c(){k(!1)}const O=()=>{C(!1),F(),a.LOGOUT(),f("/")},b=()=>{c(),W(O)},j="block w-full pl-7 py-2 px-6 clear-both whitespace-nowrap text-sm hover:text-white hover:bg-indigo-700 rounded-md text-sm animate__animated animate__fadeIn animate__faster ",S="block py-3 px-4 hover:text-white hover:bg-indigo-700 rounded-md animate__animated animate__fadeIn animate__faster ",o=t=>{x(!h),g(t)},v="animate__animated animate__slideInLeft animate__faster bg-indigo-500 w-[15rem] ",_="animate__animated animate__fadeInLeft animate__faster ",w="animate__animated animate__fadeInLeft animate__faster ",q="w-0 sm:w-3 bg-indigo-500 animate__animated ",Y="animate__animated animate__fadeOutLeft animate__faster ",J="animate__animated animate__fadeOutLeft animate__faster ",Q=t=>{(t==null?void 0:t.split("/")[1])=="safform"&&(f(`/${t}`),window.location.reload())};return e.jsxs(e.Fragment,{children:[p&&e.jsx(z,{}),e.jsxs("header",{className:(l?v:q)+" relative select-none transition-all duration-200 h-full text-white ",children:[e.jsx("div",{class:(l?w:J)+" bg-gradient-to-r from-cyan-500 to-blue-500 ",id:"mobile-menu",children:e.jsx("nav",{id:"mobile-nav",class:"flex flex-col ltr:right-0 rtl:left-0 w-full top-0 py-4 ",children:e.jsx("div",{class:"mb-auto text-sm 2xl:text-base text-gray-50",children:e.jsx("div",{class:" px-4 h-[87vh] overflow-y-auto scrollbar-width-10 scrollbar-track-indigo-100 scrollbar-thumb-indigo-700 scrollbar-thumb-rounded-full scrollbar-thumb-hover-indigo-500 transition-all duration-200",children:e.jsx("nav",{class:"relative flex flex-wrap items-center justify-between",children:e.jsxs("ul",{id:"side-menu",class:"w-full float-none flex flex-col",children:[(B=(A=a==null?void 0:a.menu)==null?void 0:A.mainMenu)==null?void 0:B.map(t=>{var M,P;return e.jsx(e.Fragment,{children:e.jsxs("li",{className:"relative cursor-pointer",onClick:()=>{var s;window.innerWidth<=763&&((s=t==null?void 0:t.subMenu)==null?void 0:s.length)==0&&u(!l)},children:[e.jsxs(R,{to:(t==null?void 0:t.route)==""?null:t==null?void 0:t.route,className:({isActive:s})=>{var N;return(s&&((N=t==null?void 0:t.subMenu)==null?void 0:N.length)==0?"bg-gradient-to-r from-blue-600 to-violet-600 ":" ")+`${S} flex gap-4 items-center`},onClick:()=>{o(t==null?void 0:t.name),d==(t==null?void 0:t.name)&&g("")},children:[" ",e.jsx("span",{children:e.jsx(re,{})})," ",e.jsxs("div",{className:"flex justify-between items-center flex-1",children:[e.jsx("span",{children:t==null?void 0:t.name}),(t==null?void 0:t.route)==""&&e.jsx("span",{className:d==(t==null?void 0:t.name)?"transition-all duration-200 ease-in-out rotate-90":"transition-all duration-200 ease-in-out rotate-0",children:e.jsx(ae,{})})]})," "]}),((M=t==null?void 0:t.subMenu)==null?void 0:M.length)>0&&d==(t==null?void 0:t.name)&&e.jsx("ul",{class:"block rounded rounded-t-none top-full py-0.5 ltr:text-left rtl:text-right mb-4 bg-gradient-to-r from-blue-600 to-violet-600",children:(P=t==null?void 0:t.subMenu)==null?void 0:P.map(s=>e.jsx(e.Fragment,{children:e.jsx("li",{class:"relative cursor-pointer",onClick:()=>{window.innerWidth<=763&&u(!l)},children:e.jsxs(R,{to:s==null?void 0:s.route,onClick:()=>Q(s==null?void 0:s.route),className:({isActive:N})=>(N?"bg-indigo-400 ":" ")+`${j} flex gap-3 items-center`,children:[e.jsx("span",{children:e.jsx(oe,{})})," ",e.jsx("span",{children:s==null?void 0:s.name})]})})}))})]})})}),e.jsx("li",{className:"relative sm:hidden visible",children:e.jsx("button",{className:"py-2 px-6 w-full text-sm inline-block text-center rounded leading-5 text-gray-100 bg-red-500 border border-pink-500 hover:text-gray-300 hover:bg-red-600 hover:ring-0 hover:border-red-600 focus:bg-red-600 focus:border-pink-600 focus:outline-none focus:ring-0 cursor-pointer",onClick:()=>{b()},children:"Log Out"})})]})})})})})}),e.jsx("div",{className:(l?_:Y)+"absolute text-xs text-white bottom-16 text-center z-10 border-t-[1px] w-full",children:e.jsxs("span",{className:"",children:[" Â© 2023 : ",i=="AMC"?"AMC":"JUIDCO"]})})]}),e.jsx($,{isOpen:L,onRequestClose:c,className:"h-screen w-screen flex items-center justify-center",contentLabel:"Logout Modal",children:e.jsxs("div",{class:"relative rounded-lg shadow-lg p-10 w-max h-max backdrop-blur-sm bg-white",children:[e.jsx("button",{onClick:c,type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{class:"p-6 text-center",children:[e.jsxs("div",{className:"w-full flex h-10",children:[" ",e.jsx("span",{className:"mx-auto",children:e.jsx(U,{size:30})})]}),e.jsx("h3",{class:"mb-5 text-lg font-normal text-gray-500",children:"Are you sure to logout ?"}),e.jsx("button",{type:"button",class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",onClick:b,children:"Yes, I'm sure"})]})]})})]})},fe=a=>({RightNavCloseStatus:a.RightNavCloseStatus,isLoggedIn:a.isLoggedIn}),pe=a=>({RIGHT_NAV_OPEN:r=>a({type:"RIGHT_NAV_OPEN"}),LOGOUT:r=>a({type:"LOGOUT"}),RIGHT_NAV_CLOSE:r=>a({type:"RIGHT_NAV_CLOSE"})}),be=V(fe,pe)(ge),je=()=>{const a={mainMenu:[{name:"Home",route:"/",subMenu:[]},{name:"Dashboard",route:"/landingDashboard",subMenu:[]},{name:"Property",route:"",subMenu:[{name:"My Properties",route:"/propertyDashboard"},{name:"Payment History",route:"/PropertyAllTranscationList"},{name:"Tax Calculator",route:"/tax-cal/inside"}]},{name:"Water",route:"",subMenu:[{name:"Water Connections",route:"/water-dashboard"},{name:"Payment History",route:"/waterViewAllPaymentHistory"}]},{name:"Trade",route:"/trade-dashboard",subMenu:[]},{name:"Fines & Penalties",route:"/fines",subMenu:[]},{name:"Advertisement",route:"/advertisement-dashboard"},{name:"Market Section",route:"/marketingDashboard"},{name:"E-Services",route:"",subMenu:[{name:"Marriage Registration",route:"/marriage-index"},{name:"Pet Registration",route:"/pet-registration-dashboard"},{name:"Water Tanker",route:"/waterTankerDashboard"},{name:"Septic Tank",route:"/septicTankDashboard"}]},{name:"Scheme",route:"/info-scheme-inside",subMenu:[]},{name:"FAQ",route:"/faq-inside",subMenu:[]}]};return e.jsx(e.Fragment,{children:e.jsx(be,{menu:a})})},De=()=>{const a=I(),{setheartBeatCounter:r,settoggleBar:i,breadCrumbData:y,titleText:l,titleStatus:u}=n.useContext(T),h=location.pathname.startsWith("/citizen/safform/"),x=["/citizen/landingDashboard"].includes(location.pathname);n.useEffect(()=>{r(g=>g+1)},[]);let d=localStorage.getItem("device")=="mobile";return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex justify-center items-center h-[100vh] w-full ",children:[e.jsx("div",{className:"backgroundDoodle"}),e.jsxs("div",{className:"flex flex-row flex-wrap w-full md:w-[95%] h-full md:h-[97%] bg-[#eff2f7]  md:rounded-[40px] lg:rounded-[40px] drop-shadow-[0_15px_15px_rgba(0,0,0,0.25)] overflow-clip blurBackground",children:[!d&&e.jsx("div",{className:"w-full",children:e.jsx(he,{})}),e.jsx("div",{className:"md:flex md:relative absolute top-[3.4rem] md:top-0 h-full",style:{zIndex:999},children:e.jsx(je,{})}),e.jsxs("div",{className:"flex-1 h-full w-[60%] relative",onClick:()=>window.innerWidth<=763&&i(!1),children:[!x&&!h&&!d&&e.jsxs("span",{className:"cursor-pointer hover:text-indigo-500 font-semibold md:text-base text-sm  top-0 left-1 md:top-8 md:left-2",onClick:()=>window.history.back(),children:[e.jsx(ce,{className:"inline"}),"Back"]}),e.jsx("div",{className:" px-2 md:px-10 md:mt-0",children:e.jsx(le,{titleText:l,titleStatus:u})}),e.jsxs("div",{className:`${ie} ${!x&&" md:px-5 pt-6 md:pt-4"} `,children:[D("citizen_token")!="null"&&D("citizen_token")!=null?e.jsx(X,{}):a("/login"),e.jsx("div",{className:"h-[9vh]"})]}),e.jsx("div",{className:de})]})]})]})})};export{De as default};
