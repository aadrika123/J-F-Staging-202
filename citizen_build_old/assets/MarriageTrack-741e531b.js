import{j as e}from"./mui-8e804a04.js";import{u as U,r as i}from"./router-87042356.js";import{x as O,A as u,b,o as w,B as q,n,y as p,P as Q,Q as Y}from"./index-21d8c100.js";import{B as J}from"./BottomErrorCard-b31e4e97.js";import{T as j}from"./index.esm-e3de3e5d.js";import{L as K}from"./ListTable-f7e5d531.js";import{G as W}from"./reactIcons-6a3b6da1.js";import{R as X}from"./index.esm-799452e3.js";import{D as Z}from"./DeleteModal-1a99f431.js";import{M as ee}from"./index-4e794517.js";import"./react-09dd1212.js";import"./axios-97164839.js";import"./redux-4db06ad6.js";import"./i18next-e99b4042.js";import"./CommonModal-340f9ebb.js";import"./index.esm-f717eb21.js";function D(s){return W({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M387.581 139.712L356.755 109 216.913 248.319l30.831 30.719 139.837-139.326zM481.172 109L247.744 340.469l-91.39-91.051-30.827 30.715L247.744 403 512 139.712 481.172 109zM0 280.133L123.321 403l30.829-30.713L31.934 249.418 0 280.133z"}}]})(s)}const fe=()=>{const s=U(),{api_getList:k,api_getDetails:M,api_deleteApplication:A}=Q(),[g,v]=i.useState(!0),[N,d]=i.useState(!1),[t,L]=i.useState(null),[h,S]=i.useState([]),[I,F]=i.useState(!1),[E,P]=i.useState(""),[$,B]=i.useState(null),[c,y]=i.useState(null),[T,_]=i.useState(!1),f=()=>{_(!1)},R=()=>{_(!0)},l=(a,o)=>{P(o),F(a),!a&&s("/marriage-index")};O(""),i.useEffect(()=>{d(!0),u.post(k,{},b()).then(a=>{var o,r,m,x;console.log("getting response of user list => ",a),(o=a==null?void 0:a.data)!=null&&o.status?(console.log("user list => ",(r=a==null?void 0:a.data)==null?void 0:r.data),S((m=a==null?void 0:a.data)==null?void 0:m.data)):l(!0,w((x=a==null?void 0:a.data)==null?void 0:x.message))}).catch(a=>{console.log("getting error doc list for marriage => ",a),l(!0,"Error getting list, please try again later !")}).finally(()=>{d(!1)})},[]);const z=a=>{d(!0),u.post(M,{applicationId:a},b()).then(o=>{var r,m,x,C;console.log("getting response of user data => ",o),(r=o==null?void 0:o.data)!=null&&r.status?(console.log("user data => ",(m=o==null?void 0:o.data)==null?void 0:m.data),L((x=o==null?void 0:o.data)==null?void 0:x.data),v(!1)):l(!0,w((C=o==null?void 0:o.data)==null?void 0:C.message))}).catch(o=>{console.log("getting error doc list for marriage => ",o),l(!0,"Error getting document list, please try again later !")}).finally(()=>{d(!1)})},H=()=>{d(!0),u.post(A,{applicationId:c},b()).then(a=>{var o,r;console.log("getting response of user data => ",a),(o=a==null?void 0:a.data)!=null&&o.status?(Y.success("Application Deleted Successfully !!!"),v(!0),y(null)):l(!0,w((r=a==null?void 0:a.data)==null?void 0:r.message))}).catch(a=>{console.log("getting error doc list for marriage => ",a),l(!0,"Error getting document list, please try again later !")}).finally(()=>{d(!1)})},V=a=>{y(a),B(a),z(a)};let G=[{Header:"Sl.No.",Cell:({row:a})=>e.jsx("div",{children:(a==null?void 0:a.index)+1})},{Header:"Application No",accessor:"application_no",Cell:({cell:a})=>{var o;return n((o=a.row.original)==null?void 0:o.application_no)}},{Header:"Bride Name",accessor:"bride_name",Cell:({cell:a})=>{var o;return n((o=a.row.original)==null?void 0:o.bride_name)}},{Header:"Groom Name",accessor:"groom_name",Cell:({cell:a})=>{var o;return n((o=a.row.original)==null?void 0:o.groom_name)}},{Header:"Marriage Date",accessor:"marriage_date",Cell:({cell:a})=>{var o;return p((o=a.row.original)==null?void 0:o.marriage_date)}},{Header:"Marriage Place",accessor:"marriage_place",Cell:({cell:a})=>{var o;return n((o=a.row.original)==null?void 0:o.marriage_place)}},{Header:"Appointment Date",accessor:"appointment_date",Cell:({cell:a})=>{var o;return p((o=a.row.original)==null?void 0:o.appointment_date)}},{Header:"Action",Cell:({cell:a})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex items-center justify-center gap-2 w-full",children:e.jsx("button",{onClick:()=>{var o,r;return V((r=(o=a==null?void 0:a.row)==null?void 0:o.original)==null?void 0:r.id)},className:"px-2 py-1 rounded-md bg-indigo-500 text-white text-sm hover:bg-indigo-600",children:"View"})})})}];return e.jsxs(e.Fragment,{children:[N&&e.jsx(q,{}),!N&&e.jsxs("div",{className:"animate__animated animate__fadeIn animate__faster overflow-x-hidden overflow-y-scroll w-[99%] mx-auto rounded-md gap-6 h-full p-[1vw]",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("h1",{className:"bg-white shadow-lg shadow-indigo-300 text-indigo-500 border-[0.17vw] border-indigo-500 px-[4vw] py-[1.5vh] w-max font-semibold text-[3vh]",children:"Track Marriage Registration"})}),I&&e.jsx(J,{activateBottomErrorCard:l,errorTitle:E}),e.jsxs("div",{className:"flex items-center space-x-2 max-sm:space-x-1 mt-4 sm:mb-0 max-sm:flex-wrap max-sm:justify-center max-sm:space-y-2",children:[e.jsxs("div",{className:(g?"border-2 border-indigo-600 shadow-indigo-400":"border-none")+"select-none bg-white shadow-md rounded-md flex items-center space-x-2 px-4 py-2 cursor-pointer text-sm max-sm:space-x-0 ",onClick:()=>v(!0),children:[e.jsx("span",{className:"font-extrabold",children:e.jsx(j,{})}),e.jsx("span",{className:"font-semibold",children:"APPLICATION LIST"})]}),e.jsxs("div",{className:"border-2 select-none bg-white shadow-md rounded-md flex items-center space-x-2 max-sm:space-x-0 px-6 py-2 cursor-pointer text-sm hover:border-indigo-600",onClick:()=>{s("/registered-marriage-list")},children:[e.jsx("span",{className:"font-extrabold",children:e.jsx(j,{})}),e.jsx("span",{className:"font-semibold uppercase",children:"Approved List"})]}),e.jsxs("div",{className:"border-2 select-none bg-white shadow-md rounded-md flex items-center space-x-2 max-sm:space-x-0 px-6 py-2 cursor-pointer text-sm hover:border-indigo-600",onClick:()=>{s("/rejected-marriage-list")},children:[e.jsx("span",{className:"font-extrabold",children:e.jsx(j,{})}),e.jsx("span",{className:"font-semibold uppercase",children:"Rejected List"})]})]}),g&&e.jsx(e.Fragment,{children:(h==null?void 0:h.length)>0?e.jsx("div",{className:"mt-4 bg-white p-4 shadow-md",children:e.jsx(K,{dataList:h,columns:G})}):e.jsxs("div",{className:"mt-6 bg-white p-4 shadow-lg w-full flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 pl-4 pr-16 py-3 rounded relative text-center",role:"alert",children:[e.jsx("span",{className:"block sm:inline",children:"Sorry! You haven't applied for marriage registration."}),e.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3"})]}),e.jsx("button",{onClick:()=>s("/marriage-apply/0/new"),className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2.7vw] py-[0.6vh] text-[2vh] hover:shadow-none",children:"Apply Now"})]})}),!g&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative flex items-center flex-wrap w-full text-sm bg-white p-4 shadow-lg gap-2 mt-4 max-sm:p-5",children:[e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[22%]",children:[e.jsx("div",{children:"Application No. "}),e.jsx("div",{className:"font-semibold text-base",children:n(t==null?void 0:t.application_no)})]}),e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[22%]",children:[e.jsx("div",{children:"Groom Name "}),e.jsx("div",{className:"font-semibold text-base",children:n(t==null?void 0:t.groom_name)})]}),e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[22%]",children:[e.jsx("div",{children:"Bride Name "}),e.jsx("div",{className:"font-semibold text-base",children:n(t==null?void 0:t.bride_name)})]}),e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[22%]",children:[e.jsx("div",{children:"Marriage Date "}),e.jsx("div",{className:"font-semibold text-base",children:p(t==null?void 0:t.marriage_date)})]}),e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[22%]",children:[e.jsx("div",{children:"Marriage Place "}),e.jsx("div",{className:"font-semibold text-base",children:n(t==null?void 0:t.marriage_place)})]}),e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[27%]",children:[e.jsx("div",{children:"Either of the Bride or Groom belongs to BPL category ?"}),e.jsx("div",{className:"font-semibold text-base",children:n(t==null?void 0:t.is_bpl)})]}),e.jsxs("div",{className:"flex flex-col flex-wrap justify-center w-full md:w-[22%]",children:[e.jsx("div",{children:"Appointment Date "}),e.jsx("div",{className:"font-semibold text-base",children:p(t==null?void 0:t.appointment_date)})]}),e.jsx("button",{onClick:()=>s(`/marriage-details/${c}`),className:"absolute bottom-1 right-1 text-sm border border-indigo-500 text-indigo-500 hover:bg-indigo-500 hover:text-white transition-all duration-300 px-4 py-1 w-max",children:"View Details"})]}),e.jsxs("div",{className:"bg-white flex flex-col gap-2 p-[1.5vw] text-[2vh] mt-[4vh] rounded-md shadow-md",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center border-b-[0.35vh] border-gray-400 pb-[1.2vh]",children:[e.jsx("div",{className:"font-semibold col-span-4",children:"Form Fill Up"}),e.jsx("div",{className:"col-span-4 text-center",children:e.jsx("span",{className:"text-green-500",children:"Done"})}),e.jsx("div",{className:"col-span-4 text-center flex justify-center",children:(t==null?void 0:t.payment_status)==0?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>s(`/marriage-apply/${c}/edit`),className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",children:"Edit"}),e.jsx("button",{onClick:()=>R(),className:"border-[0.15vw] border-red-500 hover:bg-red-600 hover:text-white text-red-500 shadow-red-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",children:"Delete"})]}):e.jsx("span",{className:"font-bold text-green-600 text-2xl",children:e.jsx(D,{})})})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center border-b-[0.35vh] border-gray-400 pb-[1.2vh]",children:[e.jsx("div",{className:"font-semibold col-span-4",children:"Document Upload"}),e.jsx("div",{className:"col-span-4 text-center",children:(t==null?void 0:t.is_btc)==!0?e.jsx("span",{className:"text-red-500",children:"BTC"}):e.jsx("span",{className:`${(t==null?void 0:t.doc_upload_status)==0?"text-zinc-700":"text-green-500"} `,children:(t==null?void 0:t.doc_upload_status)==0?"Pending":"Done"})}),e.jsx("div",{className:"col-span-4 text-center flex justify-center",children:(t==null?void 0:t.doc_upload_status)==0?e.jsx("button",{onClick:()=>s(`/marriage-doc-upload/${c}/${t==null?void 0:t.is_btc}`),className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",children:"Upload Documents"}):e.jsx(e.Fragment,{children:(t==null?void 0:t.payment_status)==0?e.jsx("button",{onClick:()=>s(`/marriage-doc-upload/${c}/${t==null?void 0:t.is_btc}`),className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",children:"Re-Upload"}):e.jsx("span",{className:"font-bold text-green-600 text-2xl",children:e.jsx(D,{})})})})]}),!(t!=null&&t.is_bpl)&&e.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center border-b-[0.35vh] border-gray-400 pb-[1.2vh]",children:[e.jsx("div",{className:"font-semibold col-span-4",children:"Payment"}),e.jsx("div",{className:"col-span-4 text-center",children:e.jsx("span",{className:(t==null?void 0:t.payment_status)==0?"text-zinc-700":"text-green-500",children:(t==null?void 0:t.payment_status)==0?"Pending":"Done"})}),e.jsx("div",{className:"col-span-4 text-center flex justify-center",children:(t==null?void 0:t.payment_status)==0?e.jsx("button",{className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",onClick:()=>s(`/marriage-payment/${$}`),children:"Pay"}):e.jsx("button",{className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",onClick:()=>s(`/marriage-payment-receipt/${encodeURIComponent(t==null?void 0:t.tran_no)}`),children:"View Receipt"})})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center border-b-[0.35vh] border-gray-400 pb-[1.2vh]",children:[e.jsx("div",{className:"font-semibold col-span-4",children:"Form Verification"}),e.jsx("div",{className:"col-span-4 text-center",children:e.jsx("span",{className:`${t!=null&&t.appointment_status?" text-green-500":"text-zinc-700"}`,children:t!=null&&t.appointment_status?"Verified":"Pending"})}),e.jsx("div",{className:"col-span-4 text-center",children:(t==null?void 0:t.appointment_status)&&e.jsx("button",{className:"border-[0.15vw] border-indigo-500 hover:bg-indigo-600 hover:text-white text-indigo-500 shadow-indigo-200 shadow-md px-[2vw] py-[0.6vh] text-[2vh] hover:shadow-none",onClick:()=>s(`/marriage-certificate/${t==null?void 0:t.id}`),children:"Download Certifcate"})})]})]}),e.jsxs("div",{className:`${(t==null?void 0:t.appointment_status)&&"border-2 border-red-500 shadow-lg shadow-red-200"} bg-white flex flex-col gap-2 p-[1.5vw] text-[2vh] mt-[4vh] rounded-md shadow-md pb-10`,children:[e.jsx("span",{className:"font-semibold",children:"Important Note : "}),e.jsx("ol",{children:e.jsxs("li",{children:["After ",e.jsx("span",{className:"font-bold",children:"Form Verification"})," , download the certificate after that whatever the appointment date is given, you have to appear at the registrar office on that day with all documents you have uploaded with 2 joint photographs (3 inch x 2 inch) and downloaded certificate too."]})})]})]})]}),e.jsx(ee,{isOpen:T,onRequestClose:f,className:"z-20 h-screen w-screen backdrop-blur-sm flex flex-row justify-center items-center overflow-auto",contentLabel:"Example Modal",children:e.jsxs("div",{className:" animate__animated animate__fadeInRight animate__faster w-max border-2 border-indigo-500 px-6 py-4 h-max border-t-2 border-l-2 rounded-lg shadow-lg shadow-indigo-300 relative overflow-auto",children:[e.jsx("div",{className:"absolute top-2 z-10 bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:f,children:e.jsx(X,{fontSize:10})}),e.jsx(Z,{closeModal:f,deleteSafFun:()=>H()})]})})]})};export{fe as default};
