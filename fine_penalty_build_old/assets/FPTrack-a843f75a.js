import{z as A,d as F,w as H,r as l,c as B,a as b,u as P,j as a,R as E,T as R,U as L,P as T,J as i,E as V,V as $,W as f,X as q}from"./index-111b296d.js";const J=()=>{A("Search Challan");const{api_FPTrack:w}=T(),d=F(),n=H("userDetails"),y=[{Header:"Sl.No.",Cell:({row:e})=>a.jsx("div",{children:(e==null?void 0:e.index)+1})},{Header:"Name",accessor:"full_name",Cell:({cell:e})=>{var r;return i((r=e.row.original)==null?void 0:r.full_name)}},{Header:"Mobile No.",accessor:"mobile",Cell:({cell:e})=>{var r;return i((r=e.row.original)==null?void 0:r.mobile)}},{Header:"Application No",accessor:"application_no",Cell:({cell:e})=>{var r;return i((r=e.row.original)==null?void 0:r.application_no)}},{Header:"Challan No",accessor:"challan_no",Cell:({cell:e})=>{var r;return i((r=e.row.original)==null?void 0:r.challan_no)}},{Header:"Challan Date",accessor:"challan_date",Cell:({cell:e})=>{var r;return V((r=e.row.original)==null?void 0:r.challan_date)},className:"w-[7%]"},{Header:"Violation Name",accessor:"violation_name",Cell:({cell:e})=>{var r;return i((r=e.row.original)==null?void 0:r.violation_name)}},{Header:"Penalty Amount",accessor:"total_amount",Cell:({cell:e})=>{var r;return $((r=e.row.original)==null?void 0:r.total_amount)}},{Header:"Has Expired",accessor:"hasExpired",Cell:({cell:e})=>{var r;return i((r=e.row.original)==null?void 0:r.has_expired)}},{Header:"Action",Cell:({cell:e})=>{var r,p,u,g;return a.jsxs("div",{className:"flex items-center flex-wrap md:flex-nowrap flex-row gap-2 ",children:[a.jsxs("button",{onClick:()=>{var s,t;d(`/challan/${(t=(s=e==null?void 0:e.row)==null?void 0:s.original)==null?void 0:t.id}`)},className:`border border-sky-700 text-sky-700 w-24 py-1 rounded-sm shadow-md hover:shadow-xl hover:bg-sky-700 
                    hover:text-white flex items-center justify-center gap-1 `,children:[a.jsx(f,{})," Challan"]}),(n==null?void 0:n.user_type)=="JSK"&&!((p=(r=e==null?void 0:e.row)==null?void 0:r.original)!=null&&p.payment_status)&&a.jsxs("button",{onClick:()=>{var s,t;d(`/fp-pay/${(t=(s=e==null?void 0:e.row)==null?void 0:s.original)==null?void 0:t.id}`)},className:`border border-orange-600 text-orange-500 w-24 py-1 rounded-sm shadow-md hover:shadow-xl hover:bg-orange-600 
                            hover:text-white flex items-center justify-center gap-1 `,children:[a.jsx(q,{})," Pay"]}),(n==null?void 0:n.user_type)=="JSK"&&((g=(u=e==null?void 0:e.row)==null?void 0:u.original)==null?void 0:g.payment_status)&&a.jsxs("button",{onClick:()=>{var s,t;d(`/fp-receipt/${(t=(s=e==null?void 0:e.row)==null?void 0:s.original)==null?void 0:t.transaction_no}`)},className:`border border-green-600 text-green-600 w-24 py-1 rounded-sm shadow-md hover:shadow-xl hover:bg-green-600 
                    hover:text-white flex items-center justify-center gap-1 `,children:[a.jsx(f,{})," Receipt"]})]})}}],[j,c]=l.useState({}),[N,m]=l.useState(0),[h,v]=l.useState(!1),[C,x]=l.useState(!1),S=B({searchBy:b().required("Select filter type"),entry:b().required("Enter the parameter")}),o=P({initialValues:{searchBy:"",entry:""},validationSchema:S,onSubmit:e=>{k(e)}}),_=()=>{o.setFieldValue("searchBy",""),o.setFieldValue("entry",""),c({}),x(!1),m(e=>e+1)},k=e=>{x(!0),c({[e==null?void 0:e.searchBy]:e==null?void 0:e.entry}),m(r=>r+1)};return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"w-full flex flex-col gap-5 justify-center items-center p-4 md:p-6 transition-all duration-200",children:[a.jsx("aside",{className:" w-full bg-slate-50 shadow-md h-max",children:a.jsxs("form",{onSubmit:o.handleSubmit,onChange:o.handleChange,className:"bg-white poppins p-4",children:[a.jsx("h1",{className:"text-xl font-semibold uppercase text-center text-gray-700 border-b border-gray-400 mb-4 pb-1",children:"Search Challan"}),a.jsxs("div",{className:"flex flex-row flex-wrap gap-x-4 items-center gap-y-2 pb-4 mb-2 border-b",children:[a.jsxs("div",{className:"w-full md:w-[25%]",children:[a.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Search By",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{...o.getFieldProps("searchBy"),className:`${o.errors.searchBy?"text-red-400 font-semibold border border-solid border-red-400 placeholder-red-300 shadow-red-100 ":"text-gray-700 font-normal border border-solid border-gray-400 placeholder-gray-400 "} cursor-pointer w-full px-3 py-1 text-sm  bg-white bg-clip-padding rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-sm`,children:[a.jsx("option",{value:"",children:"Select"}),a.jsx("option",{value:"applicationNo",children:"Application Number"}),a.jsx("option",{value:"mobile",children:"Mobile Number"}),a.jsx("option",{value:"challanNo",children:"Challan Number"})]})]}),a.jsxs("div",{className:"w-full md:w-[25%] ",children:[a.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Parameter",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",...o.getFieldProps("entry"),placeholder:"Enter the parameter",className:" w-full px-3 py-1 text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-gray-400 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-400 shadow-md"})]}),a.jsxs("div",{className:"mt-4 w-full md:w-[30%] flex flex-row flex-wrap items-center gap-x-4 gap-y-2 md:mt-6",children:[a.jsx("div",{className:" ",children:h?a.jsx(a.Fragment,{children:a.jsx("div",{className:"flex justify-center",children:a.jsx(E,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})})}):a.jsxs("button",{type:"submit",className:" flex items-center border border-green-600 bg-green-500 hover:bg-green-600 text-white shadow-md rounded-sm  text-sm px-5 py-1",children:[a.jsx("span",{className:"",children:a.jsx(R,{fontSize:""})}),a.jsx("span",{children:"Search Record"})]})}),C&&a.jsx("div",{className:"",onClick:()=>_(),children:!h&&a.jsx("div",{className:"cursor-pointer text-center w-full border border-indigo-600 bg-indigo-500 hover:bg-indigo-600 text-white shadow-md rounded-sm text-sm font-semibold px-5 py-1",children:"View All Applications"})})]})]})]})}),a.jsx("aside",{className:"w-full overflow-clip transition-all duration-300 h-full",children:a.jsx(L,{api:w,columns:y,requestBody:j,changeData:N,search:!1,loader:e=>v(e)})})]})})};export{J as default};
