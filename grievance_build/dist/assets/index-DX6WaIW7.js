import{K as os,c as C,d as _,x as S,b as Y,o as k,j as e,F as R,C as h,a6 as f,Z as L,y as M,B as T,g as p,_ as c,r as v,s as hs,a1 as ms,a2 as xs,a3 as b,D as u,z as g,a4 as y,a0 as j,I as w,L as js,k as fs}from"./index-B_SI8cVG.js";import{g as B}from"./services-KQnp_8oA.js";import{R as E}from"./refresh-ccw-DmTINHWc.js";import{I as N}from"./info-B1pU5h4U.js";/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=os("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ns=C().shape({comment:_().required("Write comment")});function bs({setisDialogOpen:t,complaintData:d,setreOpenStatus:l}){const i=S({}),n=Y({resolver:k(Ns)}),a=async m=>{var r,s;let x={complaintId:(s=(r=d==null?void 0:d.data)==null?void 0:r.data)==null?void 0:s._id,comment:m==null?void 0:m.comment};try{const o=await i.mutateAsync({api:p.reopenComplaint,data:x});o.data.success?(c.success(o.data.message),l(!1),d==null||d.refetch(),t(!1)):c.error(o.data.message)}catch(o){c.error(B(o))}};return e.jsx(R,{methods:n,onSubmit:n.handleSubmit(a),children:e.jsxs("div",{className:"gap-x-2 gap-y-4 px-10 py-10",children:[e.jsxs("div",{children:[e.jsxs(h,{className:"text-2xl flex items-center font-bold mb-6 justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-7 h-7 bg-amber-600 rounded-full bg-red-5500 text-white justify-center items-center mr-2 flex ",children:e.jsx(E,{className:"inline"})})," Re-Open Complaint"]}),e.jsx("div",{children:e.jsx("span",{onClick:()=>l(!1),className:"cursor-pointer hover:bg-red-100 p-1 rounded-lg",children:e.jsx(f,{className:"inline"})})})]}),e.jsxs(L,{className:"opacity-70 flex items-center",children:[e.jsx("div",{children:e.jsx(N,{size:20,className:"inline mr-1"})}),e.jsx("div",{children:"Enter, why do you want to reopen this complaint?"})]}),e.jsx(M,{className:"bg-background w-full rounded-md p-4 h-40 border mt-2",name:"comment",placeholder:"Comment"})]}),e.jsx("div",{className:"mt-4",children:e.jsx(T,{isLoading:n.formState.isSubmitting,type:"submit",className:" w-full",children:"Submit Re-Open"})})]})})}const ys=C().shape({comment:_().required("Write comment")});function ps({setisDialogOpen:t,complaintData:d}){const l=S({}),i=Y({resolver:k(ys)}),n=async a=>{var x,r;let m={complaintId:(r=(x=d==null?void 0:d.data)==null?void 0:x.data)==null?void 0:r._id,comment:a==null?void 0:a.comment};try{const s=await l.mutateAsync({api:p.closeComplaint,data:m});s.data.success?(c.success(s.data.message),d==null||d.refetch(),t(!1)):c.error(s.data.message)}catch(s){c.error(B(s))}};return e.jsx(R,{methods:i,onSubmit:i.handleSubmit(n),children:e.jsxs("div",{className:"gap-x-2 gap-y-4 px-10 py-10",children:[e.jsxs("div",{children:[e.jsx(h,{className:"text-2xl flex items-center font-bold mb-6 justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-7 h-7 bg-amber-600 rounded-full bg-red-5500 text-white justify-center items-center mr-2 flex ",children:e.jsx(E,{className:"inline"})})," Close This Complaint"]})}),e.jsxs(L,{className:"opacity-70 flex items-center",children:[e.jsx("div",{children:e.jsx(N,{size:20,className:"inline mr-1"})}),e.jsx("div",{children:"Enter, Why do you want to close this complaint?"})]}),e.jsx(M,{className:"bg-background w-full rounded-md p-4 h-40 border mt-2",name:"comment",placeholder:"Comment"})]}),e.jsx("div",{className:"mt-4",children:e.jsx(T,{isLoading:i.formState.isSubmitting,type:"submit",className:" w-full",children:"Confirm Close Complaint"})})]})})}const vs=C().shape({comment:_().required("Write comment")});function gs({setisDialogOpen:t,complaintData:d}){const l=S({}),i=Y({resolver:k(vs)}),n=async a=>{var x,r;let m={complaintId:(r=(x=d==null?void 0:d.data)==null?void 0:x.data)==null?void 0:r._id,comment:a==null?void 0:a.comment};try{const s=await l.mutateAsync({api:p.openCommentDirect,data:m});s.data.success?(c.success(s.data.message),d==null||d.refetch(),t(!1)):c.error(s.data.message)}catch(s){c.error(B(s))}};return e.jsx(R,{methods:i,onSubmit:i.handleSubmit(n),children:e.jsxs("div",{className:"gap-x-2 gap-y-4 px-10 py-10",children:[e.jsxs("div",{children:[e.jsx(h,{className:"text-2xl flex items-center font-bold mb-6 justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-7 h-7 bg-amber-600 rounded-full bg-red-5500 text-white justify-center items-center mr-2 flex ",children:e.jsx(E,{className:"inline"})})," Send Comment"]})}),e.jsxs(L,{className:"opacity-70 flex items-center",children:[e.jsx("div",{children:e.jsx(N,{size:20,className:"inline mr-1"})}),e.jsx("div",{children:"Enter the comment you want to send?"})]}),e.jsx(M,{className:"bg-background w-full rounded-md p-4 h-40 border mt-2",name:"comment",placeholder:"Comment"})]}),e.jsx("div",{className:"mt-4",children:e.jsx(T,{isLoading:i.formState.isSubmitting,type:"submit",className:" w-full",children:"Send Comment"})})]})})}function ws(){var o,I,O,z,A,q,P,F,W,$,H,K,Q,U,J,V,X,Z,G,D,ee,se,de,ae,ie,te,le,re,ne,ce,me,xe,oe,he,je,fe,ue,Ne,be,ye,pe,ve,ge,we,Ce,_e,Se,Ye,ke,Re,Le,Me,Te,Be,Ee,Ie,Oe,ze,Ae,qe,Pe,Fe,We,$e,He,Ke,Qe,Ue,Je,Ve,Xe,Ze,Ge,De,es,ss,ds,as,is,ts,ls,rs,ns,cs;const[t,d]=v.useState(!1),[l,i]=v.useState(""),[n,a]=v.useState(!1),r=new URLSearchParams(fs().search).get("complaintRefNo"),s=hs({api:`${p.getComplaintDetailsByComplaintNo}/${r}`,key:"ComplaintDetails",options:{enabled:!0}});return e.jsx("div",{className:"",children:e.jsx("div",{className:"min-h-screen bg-gray-100 p-1 sm:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto bg-white shadow-lg rounded-lg p-1 sm:p-8",children:[e.jsxs(ms,{open:n,children:[e.jsx(xs,{}),l==="DETAILS"&&e.jsxs(b,{className:"sm:max-w-[500px]",children:[e.jsxs(h,{className:"mt-4 text-xl text-gray-500 font-bold flex justify-between",children:[e.jsx("div",{children:!t&&e.jsxs(h,{className:"mt-4 text-xl text-gray-500 font-bold flex justify-between",children:[((I=(o=s==null?void 0:s.data)==null?void 0:o.data)==null?void 0:I.wf_status)===1&&e.jsx("span",{className:"text-green-500",children:"| Resolution Details"}),((z=(O=s==null?void 0:s.data)==null?void 0:O.data)==null?void 0:z.wf_status)===2&&e.jsx("span",{className:"text-red-500",children:"| Rejection Details"})]})}),e.jsx("div",{children:e.jsx("span",{children:e.jsx(f,{className:"cursor-pointer hover:bg-red-100 rounded-lg inline",onClick:()=>a(!1)})})})]}),e.jsxs("div",{className:"py-4",children:[!t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex space-x-4  items-center",children:[((q=(A=s==null?void 0:s.data)==null?void 0:A.data)==null?void 0:q.wf_status)===1&&e.jsx("span",{children:"Resolution Date"}),((F=(P=s==null?void 0:s.data)==null?void 0:P.data)==null?void 0:F.wf_status)===2&&e.jsx("span",{children:"Rejection Date"}),e.jsxs("div",{children:[e.jsx("p",{className:"opacity-90",children:u(($=(W=s==null?void 0:s.data)==null?void 0:W.data)==null?void 0:$.wf_resolutionDate).format("DD-MM-YYYY")})," "]})]}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsx("div",{className:"font-semibold",children:"Details : "}),e.jsxs("div",{children:[e.jsx("p",{className:"opacity-90",children:(K=(H=s==null?void 0:s.data)==null?void 0:H.data)==null?void 0:K.wf_finalCommentToCitizen})," "]})]})]}),e.jsx("section",{style:{height:t?"400px":"0px",transition:"height 0.3s ease",overflow:"hidden"},children:e.jsx(bs,{setisDialogOpen:a,setreOpenStatus:d,complaintData:s})}),!t&&e.jsxs("section",{className:"mt-8",children:[e.jsx("div",{className:"border-b mt-1 border-[#99B37C]"}),e.jsxs("p",{className:"text-gray-800 mt-2",children:[e.jsx("span",{className:"font-semibold italic font-serif",children:"Note : "}),"If you are not satisfied with the resolution of complaint, You can re-open complaint anytime."]}),e.jsxs("div",{className:"flex justify-center items-center mt-6",children:[" ",e.jsx(g,{onClick:()=>d(!t),variant:"secondary",className:"mt-2",children:"Re-Open this Complaint"})]})]})]})]}),l==="COMMENT"&&e.jsxs(b,{className:"sm:max-w-[500px] w-full mx-2",children:[e.jsxs(h,{className:"mt-4 text-xl text-gray-500 font-bold flex justify-between ",children:[e.jsx("div",{children:"| Send Comment"}),e.jsx("div",{children:e.jsx("span",{children:e.jsx(f,{className:"cursor-pointer hover:bg-red-100 rounded-lg inline",onClick:()=>a(!1)})})})]}),e.jsx("div",{className:"py-4",children:e.jsx("section",{style:{height:"400px",transition:"height 0.3s ease",overflow:"hidden"},children:e.jsx(gs,{setisDialogOpen:a,complaintData:s})})})]}),l==="CLOSE_COMPLAINT"&&e.jsxs(b,{className:"sm:max-w-[500px] w-full mx-2",children:[e.jsxs(h,{className:"mt-4 text-xl text-gray-500 font-bold flex justify-between",children:[e.jsx("div",{children:"| Close Complaint"}),e.jsx("div",{children:e.jsx("span",{children:e.jsx(f,{className:"cursor-pointer hover:bg-red-100 rounded-lg inline",onClick:()=>a(!1)})})})]}),e.jsx("div",{className:"py-4",children:e.jsx("section",{style:{height:"400px",transition:"height 0.3s ease",overflow:"hidden"},children:e.jsx(ps,{setisDialogOpen:a,complaintData:s})})})]}),e.jsxs("div",{className:"flex",children:[((U=(Q=s==null?void 0:s.data)==null?void 0:Q.data)==null?void 0:U.wf_status)===0&&e.jsxs("div",{className:"text-gray-600 mb-2 font-semibold flex space-x-2",children:[e.jsx(N,{className:"inline text-amber-500"}),e.jsx("span",{className:"opacity-70",children:"We are working on this complaint, You will be informed soon."})," "]}),((V=(J=s==null?void 0:s.data)==null?void 0:J.data)==null?void 0:V.wf_status)===1&&e.jsxs("div",{className:"text-gray-600 mb-2 font-semibold flex space-x-2",children:[e.jsx(us,{className:"inline text-green-500"}),e.jsx("span",{className:"opacity-70",children:"This complaint has been resolved, You can reopen this complaint if not satisfied."})," "]}),((Z=(X=s==null?void 0:s.data)==null?void 0:X.data)==null?void 0:Z.wf_status)===2&&e.jsxs("div",{className:"text-gray-600 mb-2 font-semibold flex space-x-2",children:[e.jsx(f,{className:"inline text-red-500"}),e.jsx("span",{className:"opacity-70",children:"This complaint has been rejected, Please re-register complaint if not satisfied with this."})," "]}),((D=(G=s==null?void 0:s.data)==null?void 0:G.data)==null?void 0:D.wf_status)===4&&e.jsxs("div",{className:"text-gray-600 mb-2 font-semibold flex space-x-2",children:[e.jsx(f,{className:"inline text-red-500"}),e.jsx("span",{className:"opacity-70",children:"This complaint has been closed by you."})," "]}),((se=(ee=s==null?void 0:s.data)==null?void 0:ee.data)==null?void 0:se.wf_status)===3&&e.jsxs("div",{className:"text-gray-600 mb-2 font-semibold flex space-x-2",children:[e.jsx(N,{className:"inline text-amber-500"}),e.jsx("span",{className:"opacity-70",children:"This complaint has been re-opened, We are working on this complaint, You will be informed soon."})," "]}),(((ae=(de=s==null?void 0:s.data)==null?void 0:de.data)==null?void 0:ae.wf_status)===0||((te=(ie=s==null?void 0:s.data)==null?void 0:ie.data)==null?void 0:te.wf_status)===3)&&e.jsxs("div",{className:"text-gray-600 mb-2 font-semibold sm:flex space-x-2 space-y-2 sm:space-y-0",children:["   ",e.jsx(y,{onClick:()=>{a(!0),i("COMMENT"),d(!1)},asChild:!0,children:e.jsx(g,{className:"ml-2",size:"sm",variant:"secondary",children:"Send Comment"})}),e.jsx(y,{onClick:()=>{a(!0),i("CLOSE_COMPLAINT"),d(!1)},asChild:!0,children:e.jsx(g,{className:"ml-2",size:"sm",variant:"destructive",children:"Close Complaint"})})]}),(((re=(le=s==null?void 0:s.data)==null?void 0:le.data)==null?void 0:re.wf_status)===1||((ce=(ne=s==null?void 0:s.data)==null?void 0:ne.data)==null?void 0:ce.wf_status)===2)&&e.jsx(y,{onClick:()=>{a(!0),i("DETAILS"),d(!1)},asChild:!0,children:e.jsx(j,{className:"ml-2 cursor-pointer hover:bg-primary hover:text-white",variant:"secondary",children:"View Details"})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"text-xl font-bold text-blue-800 mb-6 uppercase",children:"Complaint Details"}),e.jsx("h1",{className:"text-xl font-bold  mb-6 ",children:e.jsxs("span",{children:["Complaint No - ",(xe=(me=s==null?void 0:s.data)==null?void 0:me.data)==null?void 0:xe.complaintRefNo]})})]}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"text-gray-600 mb-2 flex-1",children:["Registered on : ",u((he=(oe=s==null?void 0:s.data)==null?void 0:oe.data)==null?void 0:he.createdAt).format("DD-MM-YYYY")]}),e.jsxs("div",{className:"text-gray-600 mb-2 flex-1 text-right",children:["Status : ",((fe=(je=s==null?void 0:s.data)==null?void 0:je.data)==null?void 0:fe.wf_status)===4&&e.jsx(j,{variant:"destructive",children:"Closed"}),((Ne=(ue=s==null?void 0:s.data)==null?void 0:ue.data)==null?void 0:Ne.wf_status)===3&&e.jsx(j,{className:"bg-amber-400 text-white",variant:"secondary",children:"Pending(re-opened)"}),((ye=(be=s==null?void 0:s.data)==null?void 0:be.data)==null?void 0:ye.wf_status)===2&&e.jsx(j,{variant:"destructive",children:"Rejected"}),((ve=(pe=s==null?void 0:s.data)==null?void 0:pe.data)==null?void 0:ve.wf_status)===1&&e.jsx(j,{variant:"success",children:"Resolved"}),((we=(ge=s==null?void 0:s.data)==null?void 0:ge.data)==null?void 0:we.wf_status)===0&&e.jsx(j,{className:"bg-amber-400 text-white",variant:"secondary",children:"Pending"})]}),((_e=(Ce=s==null?void 0:s.data)==null?void 0:Ce.data)==null?void 0:_e.wf_status)===4&&e.jsxs("div",{className:"text-gray-600 mb-2 flex-1 text-right",children:[e.jsx("span",{children:"Closed on : "})," ",u((Ye=(Se=s==null?void 0:s.data)==null?void 0:Se.data)==null?void 0:Ye.wf_resolutionDate).format("DD-MM-YYYY")," "]}),((Re=(ke=s==null?void 0:s.data)==null?void 0:ke.data)==null?void 0:Re.wf_status)===2&&e.jsxs("div",{className:"text-gray-600 mb-2 flex-1 text-right",children:[e.jsx("span",{children:"Rejected on : "})," ",u((Me=(Le=s==null?void 0:s.data)==null?void 0:Le.data)==null?void 0:Me.wf_resolutionDate).format("DD-MM-YYYY")," "]}),((Be=(Te=s==null?void 0:s.data)==null?void 0:Te.data)==null?void 0:Be.wf_status)===1&&e.jsxs("div",{className:"text-gray-600 mb-2 flex-1 text-right",children:[e.jsx("span",{children:"Resolved on : "})," ",u((Ie=(Ee=s==null?void 0:s.data)==null?void 0:Ee.data)==null?void 0:Ie.wf_resolutionDate).format("DD-MM-YYYY")," "]})]}),e.jsx("div",{className:"border-b mt-1 border-[#99B37C]"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4 items-start md:items-center",children:[e.jsx("div",{className:"font-semibold",children:"Full Name:"}),e.jsx("div",{children:e.jsx("p",{className:"opacity-90",children:(ze=(Oe=s==null?void 0:s.data)==null?void 0:Oe.data)==null?void 0:ze.citizenName})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4 items-start md:items-center",children:[e.jsx("div",{className:"font-semibold",children:"Mobile No:"}),e.jsx("div",{children:e.jsx("p",{className:"opacity-90",children:(qe=(Ae=s==null?void 0:s.data)==null?void 0:Ae.data)==null?void 0:qe.mobileNo})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4 items-start md:items-center",children:[e.jsx("div",{className:"font-semibold",children:"Email:"}),e.jsx("div",{children:e.jsx("p",{className:"opacity-90",children:(Fe=(Pe=s==null?void 0:s.data)==null?void 0:Pe.data)==null?void 0:Fe.email})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4 items-start md:items-center",children:[e.jsx("div",{className:"font-semibold",children:"ULB:"}),e.jsx("div",{children:e.jsx("p",{className:"opacity-90",children:(He=($e=(We=s==null?void 0:s.data)==null?void 0:We.data)==null?void 0:$e.ulb)==null?void 0:He.ulbName})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4 items-start md:items-center",children:[e.jsx("div",{className:"font-semibold",children:"Module:"}),e.jsx("div",{children:e.jsx("p",{className:"opacity-90",children:(Ue=(Qe=(Ke=s==null?void 0:s.data)==null?void 0:Ke.data)==null?void 0:Qe.module)==null?void 0:Ue.moduleName})})]}),((Ve=(Je=s==null?void 0:s.data)==null?void 0:Je.data)==null?void 0:Ve.fixedNo)&&e.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4 items-start md:items-center",children:[e.jsxs("div",{className:"font-semibold",children:[(Ze=(Xe=s==null?void 0:s.data)==null?void 0:Xe.data)==null?void 0:Ze.fixedNoLabel,":"]}),e.jsx("div",{children:e.jsx("p",{className:"opacity-90",children:(De=(Ge=s==null?void 0:s.data)==null?void 0:Ge.data)==null?void 0:De.fixedNo})})]}),((ss=(es=s==null?void 0:s.data)==null?void 0:es.data)==null?void 0:ss.tempNo)&&e.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4 items-start md:items-center",children:[e.jsxs("div",{className:"font-semibold",children:[(as=(ds=s==null?void 0:s.data)==null?void 0:ds.data)==null?void 0:as.tempNoLabel,":"]}),e.jsx("div",{children:e.jsx("p",{className:"opacity-90",children:(ts=(is=s==null?void 0:s.data)==null?void 0:is.data)==null?void 0:ts.tempNo})})]}),e.jsx("div",{className:"col-span-1 md:col-span-3 border-b my-10 md:my-20 border-[#99B37C]"}),e.jsxs("div",{className:"flex flex-col col-span-1 md:col-span-3",children:[e.jsx("div",{className:"font-semibold",children:"Title:"}),e.jsx("div",{children:e.jsx("p",{className:"opacity-90",children:(rs=(ls=s==null?void 0:s.data)==null?void 0:ls.data)==null?void 0:rs.complaintTitle})})]}),e.jsxs("div",{className:"col-span-1 md:col-span-3 flex flex-col",children:[e.jsx("div",{className:"font-semibold",children:"Description:"}),e.jsx("div",{children:e.jsx("p",{className:"opacity-90",children:(cs=(ns=s==null?void 0:s.data)==null?void 0:ns.data)==null?void 0:cs.complaintDescription})})]}),e.jsxs("div",{className:"col-span-1 md:col-span-3 flex flex-col",children:[e.jsx("div",{className:"font-semibold",children:"Complaint Document:"}),e.jsxs(ms,{children:[e.jsx(xs,{}),e.jsx(b,{className:"sm:max-w-[500px]",children:e.jsx("div",{className:"py-4",children:e.jsx(w,{src:"/images/slider.png",className:"w-80"})})}),e.jsx(y,{asChild:!0,children:e.jsx("div",{className:"cursor-pointer",children:e.jsx(w,{src:"/images/slider.png",className:"w-40"})})})]})]})]}),e.jsxs("section",{className:"mt-8 px-4 md:px-0",children:[e.jsx("h2",{className:"text-lg md:text-xl font-semibold text-blue-800",children:"Complaint Resolution Time"}),e.jsx("div",{className:"border-b mt-1 border-[#99B37C]"}),e.jsx("p",{className:"text-gray-800 mt-2 text-sm md:text-base",children:"Your complaint will be resolved within 10 working days. You can further reopen your complaint if not satisfied with the complaint resolution."}),e.jsxs("p",{className:"text-gray-800 mt-2 text-sm md:text-base flex flex-col md:flex-row items-start md:items-center space-y-2 md:space-y-0 md:space-x-2",children:["Feel free to connect with us at",e.jsx("a",{href:"tel:+91912325398",className:"font-semibold",children:"+91912325398"}),". You can also visit",e.jsxs(js,{to:"https://maps.app.goo.gl/HFBxeoz9qYmKWE3z8",target:"_blank",className:"inline-flex items-center hover:underline",children:[e.jsx(w,{className:"w-5 inline",src:"/images/pin.svg",alt:"Location Pin"}),e.jsx("span",{className:"mx-2",children:"nearest Jan Seva Kendra"})]}),"for further queries."]})]})]})})})}function ks(){return e.jsx(ws,{})}export{ks as default};
