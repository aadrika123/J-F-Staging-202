import{bb as g,b as k,o as v,s as w,g as S,r as m,j as e,t as T,w as U,G as A,c as R,d as $}from"./index-Bu3j6dEl.js";import{T as D,a as I,b as i,c as t,d as B,e as l}from"./table-C3t3jtj8.js";const G=R().shape({ulbId:$().required("ulbId is Required")});function M(){var x,h,b;g(),k({resolver:v(G)});const p=w({api:`${(x=S)==null?void 0:x.getAllUlbDirect}?page=1&limit=10000`,key:"getAllUlbDirect",options:{enabled:!0,refetchOnMount:!1}}),[d,j]=m.useState(""),[s,N]=m.useState({key:"ulbName",direction:"asc"}),n=[...((b=(h=p.data)==null?void 0:h.data)==null?void 0:b.filter(a=>a==null?void 0:a.ulbName.toLowerCase().includes(d.toLowerCase())))||[]].sort((a,r)=>{var c,o;return s.direction==="asc"?((c=a[s.key])==null?void 0:c.localeCompare(r[s.key]))||0:s.direction==="desc"&&((o=r[s.key])==null?void 0:o.localeCompare(a[s.key]))||0}),u=a=>{let r="asc";s.key===a&&s.direction==="asc"&&(r="desc"),N({key:a,direction:r})},f=a=>{const r=a,c="Complaint registration",o=`Dear Sir,
--Write your complaint here--`,C=encodeURIComponent(c),y=encodeURIComponent(o);window.open(`https://mail.google.com/mail/?view=cm&fs=1&to=${r}&su=${C}&body=${y}`,"_blank")};return e.jsxs("div",{className:"w-full md:w-8/12 p-2 mx-auto",children:[e.jsx("div",{className:"mt-4",children:e.jsx("h1",{className:"text-blue-800 font-bold text-2xl underline mb-2",children:"Ulb Wise Grievance via Email"})}),e.jsx(T,{children:e.jsxs(U,{children:[e.jsx("div",{className:"mb-4 py-2",children:e.jsx("input",{type:"text",placeholder:"Search by ULB Name...",className:"w-64 px-4 py-2 border rounded-md",value:d,onChange:a=>j(a.target.value)})}),e.jsxs(D,{children:[e.jsx(I,{children:e.jsxs(i,{children:[e.jsx(t,{className:"cursor-pointer",children:"Serial No."}),e.jsxs(t,{className:"cursor-pointer",onClick:()=>u("ulbName"),children:["Ulb Name ",s.key==="ulbName"&&(s.direction==="asc"?"↑":"↓")]}),e.jsxs(t,{className:"cursor-pointer",onClick:()=>u("email"),children:["Mail ",s.key==="email"&&(s.direction==="asc"?"↑":"↓")]}),e.jsx(t,{children:"Action"})]})}),e.jsx(B,{children:(n==null?void 0:n.length)>0?n.map((a,r)=>e.jsxs(i,{children:[e.jsx(l,{children:r+1}),e.jsx(l,{children:a==null?void 0:a.ulbName}),e.jsx(l,{children:(a==null?void 0:a.email)||"N/A"}),e.jsx(l,{onClick:()=>f(a==null?void 0:a.email),children:e.jsx(A,{children:"Mail Now"})})]},a._id)):e.jsx(i,{children:e.jsx(l,{colSpan:4,className:"text-center",children:"No results found"})})})]})]})})]})}function L(){return e.jsx("div",{className:"",children:e.jsx(M,{})})}export{L as default};
