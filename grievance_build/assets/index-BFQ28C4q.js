import{u,f as h,b as g,o as x,j as s,G as P,F as f,a0 as d,R as t,B as p,c as j,d as o,h as y,g as b,_ as c}from"./index-DB3BSQvx.js";import{P as v}from"./index-C0f-fUO5.js";const N=j().shape({currentPassword:o().required("Current Password is required"),newPassword:o().required("New Password is required"),confirmPassword:o().oneOf([y("newPassword")],"Passwords must match").required("Confirm Password is required")});function F(){const l=u({}),m=h(),r=g({resolver:x(N)}),w=async a=>{var n,i;try{const e=await l.mutateAsync({api:b.changePassword,data:{currentPassword:a.currentPassword,newPassword:a.newPassword,confirmPassword:a.confirmPassword}});(n=e.data)!=null&&n.success?(c.success((i=e==null?void 0:e.data)==null?void 0:i.message),m("/grievance/auth/login")):c.error("Password not changed"),r.reset({currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){console.log(e)}};return s.jsx(v,{children:s.jsx("section",{className:"relative flex w-full justify-center items-center   dark:bg-gray-900",children:s.jsxs("div",{className:"w-full max-w-md px-4 py-8 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[s.jsx("h1",{className:"text-2xl text-center font-semibold text-gray-800 capitalize dark:text-white mb-2",children:s.jsx("span",{className:"text-[#0D7538] ",children:"Change Password"})}),s.jsx(P,{className:"px-2 text-center text-sm text-gray-500 dark:text-gray-400",children:"Easily change your password"}),s.jsx(f,{methods:r,onSubmit:r.handleSubmit(w),children:s.jsxs("div",{className:"space-y-6 mt-6",children:[s.jsxs("div",{children:[s.jsx(d,{htmlFor:"currentPassword",children:"Old Password"}),s.jsx(t,{className:"bg-gray-100 dark:bg-gray-700 mt-1 w-full rounded-md shadow-sm",name:"currentPassword",type:"password",placeholder:"Enter old password"})]}),s.jsxs("div",{children:[s.jsx(d,{htmlFor:"newPassword",children:"New Password"}),s.jsx(t,{className:"bg-gray-100 dark:bg-gray-700 mt-1 w-full rounded-md shadow-sm",name:"newPassword",type:"password",placeholder:"Enter new password"})]}),s.jsxs("div",{children:[s.jsx(d,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(t,{className:"bg-gray-100 dark:bg-gray-700 mt-1 w-full rounded-md shadow-sm",name:"confirmPassword",type:"password",placeholder:"Confirm new password"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(p,{isLoading:r.formState.isSubmitting,type:"submit",className:"w-full bg-[#0D7538] text-white py-2 rounded-md hover:bg-green-700",children:"Submit"})})]})})]})})})}function q(){return s.jsx(s.Fragment,{children:s.jsx(F,{})})}export{q as default};
