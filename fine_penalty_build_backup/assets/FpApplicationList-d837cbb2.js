import{w as N,d as v,r as o,c as A,a as m,u as C,j as s,R as S,I as F,P as k,D as a,J as H}from"./index-787afc35.js";import{L as _}from"./ListTableConnect-ab325a21.js";import"./index.esm-d4dbf1fb.js";const V=()=>{N("Fines & Penalties Application List");const{api_getInfractionList:p}=k(),x=v(),h=[{Header:"Sl.No.",Cell:({row:e})=>s.jsx("div",{children:(e==null?void 0:e.index)+1})},{Header:"Name",accessor:"full_name",Cell:({cell:e})=>{var r;return a((r=e.row.original)==null?void 0:r.full_name)}},{Header:"Mobile No.",accessor:"mobile",Cell:({cell:e})=>{var r;return a((r=e.row.original)==null?void 0:r.mobile)}},{Header:"Holding No",accessor:"holding_no",Cell:({cell:e})=>{var r;return a((r=e.row.original)==null?void 0:r.holding_no)}},{Header:"Application No",accessor:"application_no",Cell:({cell:e})=>{var r;return a((r=e.row.original)==null?void 0:r.application_no)}},{Header:"Violation Name",accessor:"violation_name",Cell:({cell:e})=>{var r;return a((r=e.row.original)==null?void 0:r.violation_name)}},{Header:"Violation Section",accessor:"violation_section",Cell:({cell:e})=>{var r;return a((r=e.row.original)==null?void 0:r.violation_section)}},{Header:"Penalty Amount",accessor:"amount",Cell:({cell:e})=>{var r;return H((r=e.row.original)==null?void 0:r.amount)}},{Header:"Apply Date",accessor:"date",Cell:({cell:e})=>{var r;return a((r=e.row.original)==null?void 0:r.date)},className:"w-[7%]"},{Header:"Action",Cell:({cell:e})=>s.jsx("div",{className:"flex gap-2 ",children:s.jsx("button",{onClick:()=>{var r,d;x(`/fp-details/${(d=(r=e==null?void 0:e.row)==null?void 0:r.original)==null?void 0:d.id}`)},className:`border border-sky-700 text-sky-700 px-3 py-1 rounded-sm shadow-md hover:shadow-xl hover:bg-sky-700 \r
                        hover:text-white `,children:"View"})})}],[u,i]=o.useState({}),[b,l]=o.useState(0),[n,g]=o.useState(!1),[f,c]=o.useState(!1),y=A({searchBy:m().required("Select filter type"),entry:m().required("Enter the parameter")}),t=C({initialValues:{searchBy:"",entry:""},validationSchema:y,onSubmit:e=>{j(e)}}),w=()=>{t.setFieldValue("searchBy",""),t.setFieldValue("entry",""),i({}),c(!1),l(e=>e+1)},j=e=>{c(!0),i({[e==null?void 0:e.searchBy]:e==null?void 0:e.entry}),l(r=>r+1)};return s.jsxs(s.Fragment,{children:[s.jsxs("form",{onSubmit:t.handleSubmit,onChange:t.handleChange,className:"bg-white poppins p-4",children:[s.jsx("h1",{className:"text-xl font-semibold uppercase text-center text-gray-700 border-b border-gray-400 mb-4 pb-1",children:"Fines & Penalties Application List"}),s.jsxs("div",{className:"flex flex-row flex-wrap gap-x-4 items-center gap-y-2 pb-4 mb-2 border-b",children:[s.jsxs("div",{className:"w-full md:w-[25%]",children:[s.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Filter By",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{...t.getFieldProps("searchBy"),className:`${t.errors.searchBy?"text-red-400 font-semibold border border-solid border-red-400 placeholder-red-300 shadow-red-100 ":"text-gray-700 font-normal border border-solid border-gray-400 placeholder-gray-400 "} cursor-pointer w-full px-3 py-1 text-sm  bg-white bg-clip-padding rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-sm`,children:[s.jsx("option",{value:"",children:"Select"}),s.jsx("option",{value:"applicationNo",children:"Application Number"}),s.jsx("option",{value:"mobile",children:"Mobile Number"})]})]}),s.jsxs("div",{className:"w-full md:w-[25%] ",children:[s.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Parameter",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",...t.getFieldProps("entry"),placeholder:"Enter the parameter",className:" w-full px-3 py-1 text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-gray-400 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-400 shadow-md"})]}),s.jsxs("div",{className:"mt-4 w-full md:w-[30%] flex flex-row flex-wrap items-center gap-x-4 gap-y-2 md:mt-6",children:[s.jsx("div",{className:" ",children:n?s.jsx(s.Fragment,{children:s.jsx("div",{className:"flex justify-center",children:s.jsx(S,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})})}):s.jsxs("button",{type:"submit",className:" flex items-center border border-green-600 bg-green-500 hover:bg-green-600 text-white shadow-md rounded-sm  text-sm px-5 py-1",children:[s.jsx("span",{className:"",children:s.jsx(F,{fontSize:""})}),s.jsx("span",{children:"Search Record"})]})}),f&&s.jsx("div",{className:"",onClick:()=>w(),children:!n&&s.jsx("div",{className:"cursor-pointer text-center w-full border border-indigo-600 bg-indigo-500 hover:bg-indigo-600 text-white shadow-md rounded-sm text-sm font-semibold px-5 py-1",children:"View All Applications"})})]})]})]}),s.jsx("div",{className:"bg-white p-4",children:s.jsx(_,{api:p,columns:h,requestBody:u,changeData:b,search:!1,loader:e=>g(e)})})]})};export{V as default};
