import{j as e}from"./mui-d8134288.js";import{r as t,f as l,u as a}from"./router-a70afc62.js";import{A as s,b as i,B as d,n as r,bV as c,bW as m,E as n}from"./index-1c8a2e08.js";import{P as o}from"./PropertyApiList-3d1b6323.js";import{T as x}from"./TopTabs-0d12f2c7.js";import{S as p}from"./ServerErrorCard-e275c2e4.js";import"./axios-0f103e9d.js";import"./reactIcons-65f093d4.js";import"./materialTailwind-01b55b4e.js";import"./moment-494dae31.js";/* empty css                */import"./redux-c3344370.js";import"./i18next-524eea2d.js";function h(){var h,v;const[N,b]=t.useState(),[y,f]=t.useState(!1),[u,g]=t.useState(),[w,z]=t.useState(!1),{api_getSpecificHoldingTranscationHistory:j}=n(),{api_getPropHoldingDetailsById:P}=o(),{id:T}=l(),_=a();t.useEffect(()=>{H()},[]);const H=()=>{f(!0),s.post(j,{propId:T},i()).then(function(e){var t;b(null==(t=null==e?void 0:e.data)?void 0:t.data),f(!1)}).catch(function(e){f(!1)})};return t.useEffect(()=>{z(!1),f(!0),s.post(`${P}`,{propertyId:T},i()).then(function(e){var t;g(null==(t=null==e?void 0:e.data)?void 0:t.data),f(!1)}).catch(function(e){z(!0),f(!1)})},[]),y?e.jsxs(e.Fragment,{children:[e.jsx(d,{}),e.jsx("div",{className:"min-h-screen"})]}):w?e.jsx(p,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-ful  mx-auto max-sm:p-2",children:[e.jsx("div",{className:"",children:e.jsx(x,{title:"Payment History",type:"holding",id:T,safNo:"",active:"payment"})}),e.jsx("div",{className:"w-full bg-white shadow-xl mb-6",children:e.jsxs("div",{className:"py-6 mt-2 rounded-lg shadow-lg p-4",children:[e.jsxs("div",{className:"flex max-sm:flex-col md:space-x-5 md:pl-4 ",children:[e.jsxs("div",{className:"flex-1 max-sm:mb-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(null==u?void 0:u.old_ward_no)}),e.jsx("div",{className:"text-gray-500 text-xs capitalize",children:"Ward No."})]}),e.jsxs("div",{className:"flex-1 max-sm:mb-1",children:[e.jsx("div",{className:"font-semibold text-lg",children:r(null==u?void 0:u.old_ward_no)}),e.jsx("div",{className:"text-gray-500 text-xs capitalize",children:"New Ward No"})]}),e.jsxs("div",{className:"flex-1 max-sm:mb-1",children:[e.jsx("div",{className:"font-semibold text-md",children:r(null==u?void 0:u.ownership_type)}),e.jsx("div",{className:"text-gray-500 text-xs capitalize",children:"Ownership Type"})]}),e.jsxs("div",{className:"flex-1 max-sm:mb-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(null==u?void 0:u.property_type)}),e.jsx("div",{className:"text-gray-500 text-xs capitalize",children:"Property Type"})]}),e.jsxs("div",{className:"flex-1 max-sm:mb-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(null==u?void 0:u.holding_type)}),e.jsx("div",{className:"text-gray-500 text-xs capitalize",children:"Holding Type"})]})]}),e.jsxs("div",{className:"flex max-sm:flex-col md:space-x-10  md:pl-4 mt-4",children:[e.jsxs("div",{className:"flex-1 max-sm:mb-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(null==u?void 0:u.is_mobile_tower)}),e.jsx("div",{className:"text-gray-500 text-xs capitalize",children:"Property has Mobile Tower(s) ?"})]}),e.jsxs("div",{className:"flex-1 max-sm:mb-1",children:[e.jsxs("div",{className:"font-semibold text-md",children:[r(null==u?void 0:u.is_hoarding_board)," "]}),e.jsx("div",{className:"text-gray-500 text-xs capitalize",children:"Property has Hoarding Board(s) ?"})]}),e.jsxs("div",{className:"flex-1 max-sm:mb-1",children:[e.jsx("div",{className:"font-semibold text-md",children:r(null==u?void 0:u.is_petrol_pump)}),e.jsx("div",{className:"text-gray-500 text-xs capitalize",children:"Is property a Petrol Pump ?"})]}),e.jsxs("div",{className:"flex-1 max-sm:mb-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r(null==u?void 0:u.is_water_harvesting)}),e.jsx("div",{className:"text-gray-500 text-xs capitalize",children:"Rainwater harvesting provision ?"})]}),e.jsx("div",{className:"flex-1"})]})]})}),0==(null==N?void 0:N.length)&&e.jsx("div",{className:"text-2xl font-bold text-red-500 mt-20 text-center",children:e.jsx("span",{className:"border border-red-500 px-4 py-2 shadow-xl",children:"No payments found yet."})}),0!=(null==N?void 0:N.length)&&e.jsx("div",{className:"mt-10 bg-white shadow-xl  rounded-lg",children:e.jsx("div",{className:"overflow-auto max-sm:my-3",children:e.jsxs("table",{className:"min-w-full leading-normal mt-2",children:[e.jsx("thead",{className:"font-bold text-left text-sm bg-white text-gray-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs capitalize text-left",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs capitalize text-left",children:"Tansaction No"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs capitalize text-left",children:"Payment Mode"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs capitalize text-left",children:"Date"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs capitalize text-left",children:"From Qtr/Year"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs capitalize text-left",children:"Upto Qtr/Year"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs capitalize text-left",children:"Amount"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs capitalize text-left",children:"Action"})]})}),e.jsxs("tbody",{className:"text-sm",children:[null==(h=null==N?void 0:N.Holding)?void 0:h.map((t,l)=>e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:l+1}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r(null==t?void 0:t.tran_no)}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r(null==t?void 0:t.payment_mode)}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r(null==t?void 0:t.tran_date)}),e.jsxs("td",{className:"px-2 py-2 text-sm text-left",children:[r(null==t?void 0:t.from_qtr),"/",r(null==t?void 0:t.from_fyear)]}),e.jsxs("td",{className:"px-2 py-2 text-sm text-left",children:[r(null==t?void 0:t.to_qtr),"/",r(null==t?void 0:t.to_fyear)]}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r(null==t?void 0:t.amount)}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e.jsx("button",{onClick:()=>_(`/paymentReceipt/${null==t?void 0:t.tran_no}/holding`),type:"button",className:`cypress_owner_add_update ${c}`,children:"View Receipt"})})]})),null==(v=null==N?void 0:N.Saf)?void 0:v.map((t,l)=>e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:l+1}),e.jsxs("td",{className:"px-2 py-2 text-sm text-left",children:[r(null==t?void 0:t.tran_no),e.jsx("span",{className:m,children:"SAF"})]}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r(null==t?void 0:t.payment_mode)}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r(null==t?void 0:t.tran_date)}),e.jsxs("td",{className:"px-2 py-2 text-sm text-left",children:[r(null==t?void 0:t.from_qtr),"/",r(null==t?void 0:t.from_fyear)]}),e.jsxs("td",{className:"px-2 py-2 text-sm text-left",children:[r(null==t?void 0:t.to_qtr),"/",r(null==t?void 0:t.to_fyear)]}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:r(null==t?void 0:t.amount)}),e.jsx("td",{className:"px-2 py-2 text-sm text-left",children:e.jsx("button",{onClick:()=>_(`/paymentReceipt/${null==t?void 0:t.tran_no}/saf`),type:"button",className:`cypress_owner_add_update ${c}`,children:"View Receipt"})})]}))]})]})})}),e.jsx("div",{className:"w-full h-40"})]})})}export{h as default};
