import{j as e,E as a,J as l,K as i,M as s,N as t}from"./mui-d8134288.js";import{r,u as n}from"./router-a70afc62.js";import{V as d}from"./index.esm-6fe1e240.js";import{aH as c,z as m,c as o,d as p,u as h,A as u}from"./index-1c8a2e08.js";import{G as x}from"./GrievanceApiList-4e83b4c5.js";import"./reactIcons-65f093d4.js";import"./axios-0f103e9d.js";import"./materialTailwind-01b55b4e.js";import"./moment-494dae31.js";/* empty css                */import"./redux-c3344370.js";import"./i18next-524eea2d.js";const N=c("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]),v=c("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]);function y(c){var y;const[f,b]=r.useState(),[g,w]=r.useState(),[j,S]=r.useState(),[B,G]=r.useState(),{notify:H}=r.useContext(m),{api_distList:U,api_getAllUlbList:I,api_wardListByUlb:F}=x();n();const R=o({fileUpload:p().required("Require"),description:p().required("Require"),grievanceHead:p().required("Require"),department:p().required("Require")}),A=h({initialValues:{mobileNo:"",applicantName:"",fileUpload:"",description:"",grievanceHead:"",department:""},enableReinitialize:!0,onSubmit:(e,a)=>{H("Grievance Submitted Successfully","success"),c.screen()},validationSchema:R}),L="flex-1 w-full px-4 py-2 text-base text-gray-800 placeholder-gray-400 bg-white border border-gray-300 focus:outline-none focus:ring-1 focus:ring-indigo-800 focus:border-transparent",D="text-red-700 font-semibold";return r.useEffect(()=>{u.post(U,{}).then(e=>{e.data.status&&b(e.data.data)}).catch(e=>{})},[]),r.useEffect(()=>{u.get(I).then(e=>{e.data.status&&S(e.data.data)}).catch(e=>{})},[]),r.useEffect(()=>{u.post(F,{ulbId:A.values.ulb}).then(e=>{e.data.status&&G(e.data.data)}).catch(e=>{})},[A.values.ulb]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-5 py-6 rounded-lg border border-indigo-300 bg-white md:mx-[10rem] xl:mx-[20rem] my-32",children:[e.jsxs("p",{className:"absolute right-8 top-8 cursor-pointer bg-gray-100 hover:bg-gray-300",children:[" ",e.jsx(d,{size:30})," "]}),e.jsx("div",{className:"text-center text-lg underline font-semibold",children:"Grievance Registration Page"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:A.handleSubmit,onChange:e=>{"fileUpload"===e.target.name&&w(e.target.files[0])},children:[e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{children:["Contact No",e.jsx("span",{className:D,children:"*"})]}),e.jsx("input",{type:"text",...A.getFieldProps("mobileNo"),name:"mobileNo",className:`${L}`}),e.jsx("p",{className:"text-red-500 text-xs",children:A.touched.mobileNo&&A.errors.mobileNo?A.errors.mobileNo:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{children:["Applicant Name",e.jsx("span",{className:D,children:"*"})]}),e.jsx("input",{type:"text",...A.getFieldProps("applicantName"),name:"applicantName",className:`${L}`}),e.jsx("p",{className:"text-red-500 text-xs",children:A.touched.applicantName&&A.errors.applicantName?A.errors.applicantName:null})]})]}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{children:["Email",e.jsx("span",{className:D,children:"*"})]}),e.jsx("input",{type:"text",...A.getFieldProps("email"),name:"email",className:`${L}`}),e.jsx("p",{className:"text-red-500 text-xs",children:A.touched.email&&A.errors.email?A.errors.email:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsx("label",{children:"Aadhar"}),e.jsx("input",{type:"text",...A.getFieldProps("aadhar"),name:"aadhar",className:`${L}`}),e.jsx("p",{className:"text-red-500 text-xs",children:A.touched.aadhar&&A.errors.aadhar?A.errors.aadhar:null})]})]}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("div",{className:"flex justify-start",children:[e.jsxs("label",{children:["Gender",e.jsx("span",{className:D,children:"*"})]}),e.jsx("input",{type:"radio",...A.getFieldProps("gender"),name:"gender",value:"male",className:"mx-2"}),"Male",e.jsx("input",{type:"radio",...A.getFieldProps("gender"),name:"gender",value:"female",className:"mx-2"}),"Female"]}),e.jsx("p",{className:"text-red-500 text-xs",children:A.touched.gender&&A.errors.gender?A.errors.gender:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("div",{className:"flex justify-start",children:[e.jsxs("label",{children:["Specially abled ?",e.jsx("span",{className:D,children:"*"})]}),e.jsx("input",{type:"radio",...A.getFieldProps("disability"),name:"disability",value:"yes",className:"mx-2"}),"Yes",e.jsx("input",{type:"radio",...A.getFieldProps("disability"),name:"disability",value:"no",className:"mx-2"}),"No"]}),e.jsx("p",{className:"text-red-500 text-xs",children:A.touched.disability&&A.errors.disability?A.errors.disability:null})]})]}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"m-3 w-full",children:[e.jsx("div",{className:"flex justify-start",children:e.jsxs("label",{children:["Grievance Register By ? ",e.jsx("span",{className:D,children:"*"})]})}),e.jsx("p",{className:"text-red-500 text-xs",children:A.touched.gender&&A.errors.gender?A.errors.gender:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("div",{className:"flex justify-between w-full py-1",children:[e.jsx("input",{type:"radio",...A.getFieldProps("registeredBy"),name:"registeredBy",value:"yes",className:"mx-2"}),e.jsx(a,{}),e.jsx("input",{type:"radio",...A.getFieldProps("registeredBy"),name:"registeredBy",value:"no",className:"mx-2"}),e.jsx(l,{}),e.jsx("input",{type:"radio",...A.getFieldProps("registeredBy"),name:"registeredBy",value:"no",className:"mx-2"}),e.jsx(v,{}),e.jsx("input",{type:"radio",...A.getFieldProps("registeredBy"),name:"registeredBy",value:"no",className:"mx-2"}),e.jsx(i,{}),e.jsx("input",{type:"radio",...A.getFieldProps("registeredBy"),name:"registeredBy",value:"no",className:"mx-2"}),e.jsx(N,{}),e.jsx("input",{type:"radio",...A.getFieldProps("registeredBy"),name:"registeredBy",value:"no",className:"mx-2"}),e.jsx(s,{}),e.jsx("input",{type:"radio",...A.getFieldProps("registeredBy"),name:"registeredBy",value:"no",className:"mx-2"}),e.jsx(t,{})]}),e.jsx("p",{className:"text-red-500 text-xs",children:A.touched.registeredBy&&A.errors.registeredBy?A.errors.registeredBy:null})]})]}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{children:["Select Department ",e.jsx("span",{className:D,children:"*"})]}),e.jsxs("select",{...A.getFieldProps("department"),name:"department",className:L,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"1",children:"Department 1"}),e.jsx("option",{value:"2",children:"Department 2"}),e.jsx("option",{value:"3",children:"Department 3"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:A.touched.department&&A.errors.department?A.errors.department:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{htmlFor:"grievanceHead",children:["Select Grievance Head ",e.jsx("span",{className:D,children:"*"})]}),e.jsxs("select",{...A.getFieldProps("grievanceHead"),name:"grievanceHead",className:L,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"1",children:"Grievance Head 1"}),e.jsx("option",{value:"2",children:"Grievance Head 2"}),e.jsx("option",{value:"3",children:"Grievance Head 3"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:A.touched.grievanceHead&&A.errors.grievanceHead?A.errors.grievanceHead:null})]})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{htmlFor:"description",children:["Write Description ",e.jsx("span",{className:D,children:"*"})]}),e.jsx("textarea",{...A.getFieldProps("description"),name:"description",className:L,placeholder:"Enter your grievance",rows:"5",cols:"40"}),e.jsx("p",{className:"text-red-500 text-xs",children:A.touched.description&&A.errors.description?A.errors.description:null})]}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{children:["Select District ",e.jsx("span",{className:D,children:"*"})]}),e.jsxs("select",{...A.getFieldProps("district"),name:"district",className:L,children:[e.jsx("option",{children:"Select"}),null==f?void 0:f.map(a=>e.jsx("option",{value:a.district_code,children:a.district_name}))]}),e.jsx("p",{className:"text-red-500 text-xs",children:A.touched.district&&A.errors.district?A.errors.district:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{htmlFor:"ulb",children:["Select ULB ",e.jsx("span",{className:D,children:"*"})]}),e.jsxs("select",{...A.getFieldProps("ulb"),name:"ulb",className:L,children:[e.jsx("option",{value:"",children:"Select"}),null==(y=null==j?void 0:j.filter(e=>e.district_id==A.values.district))?void 0:y.map(a=>e.jsx("option",{value:a.id,children:a.ulb_name}))]}),e.jsx("p",{className:"text-red-500 text-xs",children:A.touched.ulb&&A.errors.ulb?A.errors.ulb:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{htmlFor:"ward",children:["Select Ward ",e.jsx("span",{className:D,children:"*"})]}),e.jsxs("select",{...A.getFieldProps("ward"),name:"ward",className:L,children:[e.jsx("option",{children:"Select"}),null==B?void 0:B.map(a=>e.jsx("option",{value:a.id,children:a.ward_name}))]}),e.jsx("p",{className:"text-red-500 text-xs",children:A.touched.ward&&A.errors.ward?A.errors.ward:null})]})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{htmlFor:"address",children:["Your Address ",e.jsx("span",{className:D,children:"*"})]}),e.jsx("textarea",{...A.getFieldProps("address"),name:"address",className:L,placeholder:"Enter your address",rows:"2"}),e.jsx("p",{className:"text-red-500 text-xs",children:A.touched.address&&A.errors.address?A.errors.address:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{htmlFor:"address",children:["Other Information ",e.jsx("span",{className:"text-xs italic",children:"(optional)"})," ",e.jsx("span",{className:D,children:"*"})]}),e.jsx("textarea",{...A.getFieldProps("address"),name:"address",className:L,placeholder:"Other Information",rows:"2"}),e.jsx("p",{className:"text-red-500 text-xs",children:A.touched.address&&A.errors.address?A.errors.address:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("label",{htmlFor:"fileUpload",children:["Upload Image ",e.jsx("span",{className:D,children:"*"})]}),e.jsx("input",{...A.getFieldProps("fileUpload"),type:"file",accept:"image/*",name:"fileUpload",className:L}),e.jsx("p",{className:"text-red-500 text-xs",children:A.touched.fileUpload&&A.errors.fileUpload?A.errors.fileUpload:null})]}),e.jsxs("div",{className:"m-3 w-full",children:[e.jsxs("div",{className:"flex justify-start",children:[e.jsxs("label",{children:["Importance Label ?",e.jsx("span",{className:D,children:"*"})]}),e.jsx("input",{type:"radio",...A.getFieldProps("importance"),name:"importance",value:"lease",className:"mx-2 "})," ",e.jsx("span",{className:"bg-green-500 rounded text-white px-2 py-1 text-sm font-semibold",children:" Least Important"}),e.jsx("input",{type:"radio",...A.getFieldProps("importance"),name:"importance",value:"medium",className:"mx-2"}),e.jsx("span",{className:"bg-yellow-500 rounded text-white px-2 py-1 text-sm font-semibold",children:"Medium Important"}),e.jsx("input",{type:"radio",...A.getFieldProps("importance"),name:"importance",value:"most",className:"mx-2 "}),e.jsx("span",{className:"bg-red-500 rounded text-white px-2 py-1 text-sm font-semibold",children:"Most Important"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:A.touched.importance&&A.errors.importance?A.errors.importance:null})]}),e.jsx("div",{className:"m-3 w-full flex justify-center",children:e.jsx("button",{type:"submit",className:"px-4 py-2 mt-5 bg-indigo-600 hover:bg-indigo-700 text-gray-50 text-base shadow-md rounded-md",children:"Submit Grievances"})})]})})]})})}export{y as default};
