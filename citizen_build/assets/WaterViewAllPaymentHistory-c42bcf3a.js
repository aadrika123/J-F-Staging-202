import{j as e}from"./mui-d8134288.js";import{r as a,u as l}from"./router-a70afc62.js";import{W as t,A as r,B as i,N as s}from"./index-1c8a2e08.js";import{h as o}from"./moment-494dae31.js";import"./axios-0f103e9d.js";import"./reactIcons-65f093d4.js";import"./materialTailwind-01b55b4e.js";/* empty css                */import"./redux-c3344370.js";import"./i18next-524eea2d.js";const n=()=>{var n,c,d,m;const[p,h]=a.useState(!1),[x,u]=a.useState(""),[v,N]=a.useState(1),[y,b]=a.useState(5),[g,w]=a.useState(""),{api_waterCitizenPaymentHistory:f,header:j}=t(),k=l();a.useEffect(()=>{P()},[v,y]);const P=()=>{h(!0),r.post(f,{pages:y,page:v},j).then(e=>{e.data.status?(u(e.data.data),h(!1)):h(!1)}).catch(e=>{h(!1)})};return p?e.jsx(i,{}):(null==(n=null==x?void 0:x.data)?void 0:n.length)<1?e.jsx(s,{message:"No Payment History Found."}):(null==(c=null==x?void 0:x.data)?void 0:c.length)>=1?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"my-3 font-semibold text-center text-lg text-gray-700",children:" Water Payment Transactions "}),e.jsxs("div",{className:"relative overflow-x-auto sm:rounded-lg border shadow-md bg-white  mb-20",children:[e.jsxs("div",{className:"flex justify-between my-3 mx-5  ",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("p",{children:"Show"}),e.jsxs("select",{onChange:e=>b(e.target.value),name:"",id:"",className:"border rounded shadow w-24",children:[e.jsx("option",{value:"5",children:"5 Records"}),e.jsx("option",{value:"10",children:"10 Records"}),e.jsx("option",{value:"20",children:"20 Records"}),e.jsx("option",{value:"30",children:"30 Records"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("p",{children:"Search"}),e.jsx("input",{type:"text",name:"search",value:g,onChange:e=>w(e.target.value),className:"border rounded shadow w-40"})]})]}),e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 ",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-[#f0f9ff]",children:e.jsxs("tr",{children:[e.jsxs("th",{scope:"col",className:"p-4",children:[" ",e.jsx("div",{className:"flex items-center",children:" SL "})," "]}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Transaction No."}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Payment Mode"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Amount"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Paid For"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Transaction Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e.jsx("tbody",{className:"",children:x&&(null==(d=null==x?void 0:x.data)?void 0:d.filter(e=>""===g||e.tran_no.toLowerCase().includes(g.toLowerCase())).map((a,l)=>e.jsxs("tr",{className:"bg-white border-b dark:bg-white  hover:bg-gray-50",children:[e.jsx("td",{className:"w-4 p-4",children:e.jsx("div",{className:"flex items-center",children:l+1})}),e.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-black whitespace-nowrap ",children:a.tran_no}),e.jsx("td",{className:"px-6 py-4",children:a.payment_mode}),e.jsx("td",{className:"px-6 py-4",children:a.amount}),e.jsx("td",{className:"px-6 py-4",children:a.tran_type}),e.jsx("td",{className:"px-6 py-4",children:o(null==a?void 0:a.tran_date).format("DD-MMM-yy")}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{onClick:()=>{return e=a.tran_no,1==(l=a.tran_type_id)?k(`/waterUserReceipt/${e}`):2==l?k(`/waterConnReceipt/${e}`):void 0;var e,l},className:"font-medium text-blue-600 border-indigo-600 cursor-pointer hover:bg-indigo-600 hover:text-white shadow-md rounded border px-2 py-1 text-center whitespace-nowrap",children:"View Receipt"})})]})))})]}),e.jsxs("nav",{className:"block md:flex items-center md:justify-between text-center md:pt-4 m-5","aria-label":"Table navigation",children:[e.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["Showing ",e.jsxs("span",{className:"font-semibold text-black",children:[null==x?void 0:x.from,"-",null==x?void 0:x.to]})," of ",e.jsx("span",{className:"font-semibold text-black",children:null==x?void 0:x.total})]}),e.jsx("ul",{className:"inline-flex items-center -space-x-px",children:null==(m=null==x?void 0:x.links)?void 0:m.map(a=>{return e.jsx("li",{children:e.jsx("p",{onClick:()=>{N(null==a?void 0:a.url.slice(-1))},className:` ${1==(null==a?void 0:a.active)?"bg-indigo-500 text-white":"bg-white text-gray-500"} px-3 py-2 leading-tight  border border-gray-300 hover:bg-indigo-100 hover:text-gray-700 cursor-pointer whitespace-nowrap`,children:(l=a.label,"&laquo; Previous"==l?"<< Prev":"Next &raquo;"==l?">> Next":l)})});var l})})]})]})]}):void 0};export{n as default};
