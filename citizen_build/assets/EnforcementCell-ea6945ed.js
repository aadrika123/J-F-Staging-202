import{j as e}from"./mui-d8134288.js";import{r as l}from"./router-a70afc62.js";import{c as r,d as a,u as o,A as s,b as i,f as d,bO as n,L as t,P as c,n as u}from"./index-1c8a2e08.js";import{a as m}from"./axios-0f103e9d.js";import"./reactIcons-65f093d4.js";import"./materialTailwind-01b55b4e.js";import"./moment-494dae31.js";/* empty css                */import"./redux-c3344370.js";import"./i18next-524eea2d.js";const p=()=>{const[p,v]=l.useState([]),[b,f]=l.useState([]),[h,x]=l.useState(0),[g,w]=l.useState(null),[N,j]=l.useState(!1),{api_enf_officer:y,api_ulbList:C}=c(),[S,H]=l.useState(!1),[I,L]=l.useState(!1),A=r({ulbId:a().required("Select Your Ulb")}),_=o({initialValues:{ulbId:""},onSubmit:e=>{w({ulbId:e.ulbId}),x(e=>e+1),j(!0)},validationSchema:A});l.useEffect(()=>{L(!0),m.get(C,{},i()).then(e=>{var l,r;L(!1),1==(null==(l=null==e?void 0:e.data)?void 0:l.status)&&f(null==(r=null==e?void 0:e.data)?void 0:r.data)}).catch(e=>{L(!1)})},[]),l.useEffect(()=>{g&&(H(!0),s.post(y,{userType:"EO",...g},i()).then(e=>{var l,r;(null==(l=null==e?void 0:e.data)?void 0:l.status)?(v(null==(r=null==e?void 0:e.data)?void 0:r.data),H(!1)):v([])}).catch(e=>{v([]),H(!1)}))},[g]);const k=[{Header:"#",Cell:({row:l})=>e.jsx("div",{className:"pr-2",children:(null==l?void 0:l.index)+1})},{Header:"Profile",accessor:"profile",Cell:({cell:l})=>{var r,a;return e.jsx(e.Fragment,{children:(null==(r=l.row.original)?void 0:r.profile_image)?e.jsx("img",{className:"border drop-shadow-lg h-8 rounded-sm",src:null==(a=l.row.original)?void 0:a.profile_image,alt:"profile",srcset:""}):"N/A"})}},{Header:"Name",accessor:"user_name",Cell:({cell:e})=>{var l;return u(null==(l=e.row.original)?void 0:l.user_name)}},{Header:"Mobile No.",accessor:"mobile",Cell:({cell:e})=>{var l;return u(null==(l=e.row.original)?void 0:l.mobile)}},{Header:"E-mail",accessor:"email",Cell:({cell:e})=>{var l;return(null==(l=e.row.original)?void 0:l.email)?e.row.original.email.replace("@","[at]").replace(".","[dot]"):"N/A"}},{Header:"Address",accessor:"address",Cell:({cell:e})=>{var l;return u(null==(l=e.row.original)?void 0:l.address)}}];return e.jsxs(e.Fragment,{children:[S&&e.jsx(d,{}),e.jsxs("div",{className:"w-full  md:pt-10 bg-white shadow-lg rounded-md",children:[e.jsx("form",{onChange:_.handleChange,onSubmit:_.handleSubmit,className:"mb-4 ml-[30%]",children:e.jsxs("div",{className:"flex flex-wrap flex-row justify-start w-full gap-x-6 gap-y-2 text-sm 3xl:text-base p-4 px-8",children:[e.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[e.jsx("div",{className:"col-span-6 font-semibold",children:"Select Ulb"}),e.jsx("div",{className:"col-span-6",children:e.jsxs("select",{name:"ulbId",id:"ulbId",className:"form-control block w-full px-2 py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md",value:_.values.ulbId,onChange:_.handleChange,children:[e.jsx("option",{value:"",children:"Select Your ULB"}),I?e.jsx("option",{value:"",disabled:!0,children:"Loading..."}):null==b?void 0:b.map(l=>e.jsx("option",{value:null==l?void 0:l.id,children:null==l?void 0:l.ulb_name},null==l?void 0:l.id))]})}),e.jsx("div",{className:"col-span-12 text-center",children:_.touched.ulbId&&_.errors.ulbId&&e.jsx(e.Fragment,{children:e.jsx("span",{className:"text-red-600 text-xs",children:_.errors.ulbId})})})]}),e.jsx("div",{className:"w-full md:w-[20%] flex justify-start items-center mt-4",children:e.jsxs("button",{type:"submit",className:"flex flex-row items-center border border-green-600 bg-green-600 hover:bg-green-400 text-white hover:text-black shadow-lg rounded-sm text-sm font-semibold px-5 py-1 w-max",children:[" ",e.jsx("span",{className:"mr-2",children:e.jsx(n,{})}),"Search "]})})]})}),N&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"uppercase font-semibold text-gray-700 text-2xl py-2 text-center tracking-[0.5rem]",children:"Know Your Enforcement Cell"}),e.jsx(t,{columns:k,dataList:p,exportStatus:!0})]})]})]})};export{p as default};
