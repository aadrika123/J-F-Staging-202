import{j as e}from"./mui-d8134288.js";import{r as l,f as d,u as r}from"./router-a70afc62.js";import{W as o,z as t,A as a,a6 as i}from"./index-1c8a2e08.js";/* empty css              *//* empty css                */import{p as n}from"./pdf-d17540cb.js";import{W as s,a as c,n as m,i as p}from"./WaterDocumentModalForOwner-d22baef7.js";import{V as x}from"./ViewUploadedDoc-4509c4de.js";import{W as h}from"./WaterPaymentModal-4b3d8ae4.js";import{W as u}from"./WaterApplicationTopButtons-087476ec.js";import"./axios-0f103e9d.js";import"./reactIcons-65f093d4.js";import"./materialTailwind-01b55b4e.js";import"./moment-494dae31.js";import"./redux-c3344370.js";import"./i18next-524eea2d.js";import"./index.esm-ecae21af.js";import"./success-39308b33.js";const b=b=>{var v,g,N;const[y,f]=l.useState(0),[w,j]=l.useState(0),[D,k]=l.useState(),[U,W]=l.useState(),[V,C]=l.useState(0),[M,_]=l.useState(),[I,P]=l.useState(),[R,A]=l.useState(!1),[F,T]=l.useState(!1),[B,L]=l.useState(!1),[O,S]=l.useState(!1),[z,K]=l.useState(null),{api_waterViewDocumetTobeuploaded:q,header:E}=o(),{id:G}=d();r(),l.useEffect(()=>{J()},[G]);const{setBreadCrumbData:H}=l.useContext(t);l.useEffect(()=>{H(["Water Dashboard","Upload Document"])},[]);const J=()=>{A(!0),a.post(q,{applicationId:G},E).then(e=>{var l,d,r,o,t;A(!1),k(e.data.data.documentsList),W(e.data.data.ownersDocList),T(null==(d=null==(l=null==e?void 0:e.data)?void 0:l.data)?void 0:d.doc_upload_status),L(null==(r=null==e?void 0:e.data)?void 0:r.data),K(null==(t=null==(o=null==e?void 0:e.data)?void 0:o.data)?void 0:t.parked)}).catch(e=>{A(!1)})},Q=e=>{e&&(P(e),C(e=>e+1))},X=null==(v=null==B?void 0:B.connectionCharges)?void 0:v.charge_category;return e.jsxs(e.Fragment,{children:[e.jsx(u,{active:"document",title:"Water Application Document Upload",applicationNo:null==(g=null==B?void 0:B.connectionCharges)?void 0:g.applicationNo}),O&&e.jsx(h,{openPaymentModal:S,category:X,paymentData:B}),e.jsx(s,{openDocumentModal:y,payloadData:M,refetch:J}),e.jsx(c,{openDocumentModal:w,payloadData:M,refetch:J}),e.jsx(x,{openDocviewModal:V,documentUrl:I}),e.jsx("div",{className:"grid grid-cols-12 bg-white poppins animate__animated animate__fadeIn animate__faster",children:e.jsx("div",{className:"col-span-12 pt-4 2xl:h-full md:h-screen overflow-y-auto pb-2",children:e.jsxs("div",{className:"md:px-2 col-span-12",children:[e.jsx("div",{className:"float-right m-3 space-x-3",children:1==F?0==(null==(N=null==B?void 0:B.connectionCharges)?void 0:N.paid_status)&&e.jsx("button",{onClick:()=>{S(!0)},class:"py-2 px-4 inline-block text-center mb-3 leading-5 text-gray-100 bg-green-500 border border-green-500 hover:text-white hover:bg-green-600 hover:ring-0 hover:border-indigo-600 focus:bg-indigo-600 focus:border-indigo-600 focus:outline-none focus:ring-0",children:"Pay Now"}):e.jsx("div",{})}),e.jsx("div",{children:e.jsx("h1",{class:"text-base md:text-xl font-bold md:my-3 text-gray-600 text-center",children:"Water Connection Document List"})}),e.jsx("div",{className:"",children:e.jsx("div",{className:"md:inline-block min-w-full overflow-hidden",children:R?e.jsxs(e.Fragment,{children:[" ",e.jsx(i,{})," ",e.jsx(i,{})," "]}):e.jsxs("div",{className:"overflow-auto",children:[e.jsxs("table",{className:"min-w-full leading-normal border",children:[e.jsx("thead",{className:"bg-sky-100",children:e.jsxs("tr",{className:"font-semibold ",children:[e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"#"}),e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"Document Name"}),e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"View"}),e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800 text-center text-sm uppercase",children:"Status"}),e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"Upload"})]})}),e.jsx("tbody",{children:null==D?void 0:D.map((l,d=1)=>{var r,o,t,a,i,s,c,x,h,u,b,v,g;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:d+1})}),e.jsx("td",{className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsxs("p",{className:"text-gray-900 whitespace-no-wrap",children:[null==l?void 0:l.refDocName,1==(null==l?void 0:l.isMadatory)&&e.jsx("span",{className:"text-red-500 font-semibold mx-1",children:"*"})]})}),e.jsx("td",{onClick:()=>{var e;return Q(null==(e=null==l?void 0:l.uploadDoc)?void 0:e.doc_path)},className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("a",{href:"#",className:"block relative",children:[""==(null==l?void 0:l.uploadDoc)&&e.jsx("img",{alt:"profil",src:m,className:"mx-auto object-cover rounded-none cursor-not-allowed md:h-10 h-8 md:w-10 w-8"}),"pdf"==(null==(o=null==(r=null==l?void 0:l.uploadDoc)?void 0:r.doc_path)?void 0:o.split(".").pop())&&e.jsx("img",{alt:"profil",src:n,className:"mx-auto object-cover rounded-none md:h-10 h-8 md:w-10 w-8 "}),"jpg"==(null==(a=null==(t=null==l?void 0:l.uploadDoc)?void 0:t.doc_path)?void 0:a.split(".").pop())&&e.jsx("img",{alt:"profil",src:p,className:"mx-auto object-cover rounded-none md:h-10 h-8 md:w-10 w-8 "}),"jpeg"==(null==(s=null==(i=null==l?void 0:l.uploadDoc)?void 0:i.doc_path)?void 0:s.split(".").pop())&&e.jsx("img",{alt:"profil",src:p,className:"mx-auto object-cover rounded-none md:h-10 h-8 md:w-10 w-8 "}),"png"==(null==(x=null==(c=null==l?void 0:l.uploadDoc)?void 0:c.doc_path)?void 0:x.split(".").pop())&&e.jsx("img",{alt:"profil",src:p,className:"mx-auto object-cover rounded-none md:h-10 h-8 md:w-10 w-8 "})]})})})}),e.jsx("td",{className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("p",{className:"text-center text-black md:font-medium text-xs md:text-sm",children:""==(null==l?void 0:l.uploadDoc)?e.jsx("p",{className:"text-red-500",children:"Not Upload"}):e.jsxs("div",{children:[0==(null==(h=null==l?void 0:l.uploadDoc)?void 0:h.verify_status)&&e.jsx("p",{className:"text-yellow-700",children:"Pending"}),1==(null==(u=null==l?void 0:l.uploadDoc)?void 0:u.verify_status)&&e.jsx("p",{className:"text-green-700",children:"Verified"}),2==(null==(b=null==l?void 0:l.uploadDoc)?void 0:b.verify_status)&&e.jsx("p",{className:"text-red-700",children:"Rejected"})]})})}),e.jsx("td",{className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm ",children:1!=(null==(v=null==l?void 0:l.uploadDoc)?void 0:v.verify_status)&&e.jsx("button",{onClick:()=>(_({docName:l.docName,applicationId:G,docVal:l.docVal,refDocName:l.refDocName}),void f(e=>e+1)),className:"border px-2 md:px-4 py-1 md:py-2 hover:text-white hover:bg-indigo-500",children:2==(null==(g=null==l?void 0:l.uploadDoc)?void 0:g.verify_status)?"Re-Upload":"Upload "})})]},d)})})]}),e.jsxs("p",{className:" font-semibold text-red-400",children:[" ",e.jsx("span",{className:"text-base",children:" *"})," ",e.jsx("span",{className:"text-xs",children:" Mandatory"})]})]})})}),e.jsx("div",{children:e.jsx("h1",{class:"text-base md:text-xl font-bold my-3 text-gray-600 text-center",children:"Owner Document List"})}),e.jsx("div",{className:"",children:e.jsx("div",{className:"md:inline-block min-w-full overflow-hidden",children:R?e.jsxs(e.Fragment,{children:[" ",e.jsx(i,{})," ",e.jsx(i,{})," "]}):e.jsxs("div",{className:"overflow-auto",children:[e.jsxs("table",{className:"min-w-full leading-normal border",children:[e.jsx("thead",{className:"bg-sky-100",children:e.jsxs("tr",{className:"font-semibold ",children:[e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"#"}),e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"Document Name"}),e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"View"}),e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800 text-center text-sm uppercase",children:"Status"}),e.jsx("th",{scope:"col",className:"px-1 md:px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"Upload"})]})}),e.jsx("tbody",{children:U?null==U?void 0:U.map((l,d=1)=>{var r,o,t,a,i,s,c,x,h,u,b,v,g;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:d+1})}),e.jsxs("td",{className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:[e.jsxs("p",{className:"text-gray-900 whitespace-no-wrap",children:[null==l?void 0:l.refDocName,(null==l?void 0:l.isMadatory)&&e.jsx("span",{className:"text-red-500 font-semibold mx-1",children:"*"})]}),e.jsxs("p",{className:"text-xs md:w-full w-40",children:["(",null==l?void 0:l.ownerName,")"]})]}),e.jsx("td",{onClick:()=>{var e;return Q(null==(e=null==l?void 0:l.uploadDoc)?void 0:e.doc_path)},className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("a",{href:"#",className:"block relative",children:[""==(null==l?void 0:l.uploadDoc)&&e.jsx("img",{alt:"profil",src:m,className:"mx-auto object-cover rounded-none md:h-10 h-8 md:w-10 w-8  cursor-not-allowed"}),"pdf"==(null==(o=null==(r=null==l?void 0:l.uploadDoc)?void 0:r.doc_path)?void 0:o.split(".").pop())&&e.jsx("img",{alt:"profil",src:n,className:"mx-auto object-cover rounded-none md:h-10 h-8 md:w-10 w-8  "}),"jpg"==(null==(a=null==(t=null==l?void 0:l.uploadDoc)?void 0:t.doc_path)?void 0:a.split(".").pop())&&e.jsx("img",{alt:"profil",src:p,className:"mx-auto object-cover rounded-none md:h-10 h-8 md:w-10 w-8  "}),"jpeg"==(null==(s=null==(i=null==l?void 0:l.uploadDoc)?void 0:i.doc_path)?void 0:s.split(".").pop())&&e.jsx("img",{alt:"profil",src:p,className:"mx-auto object-cover rounded-none md:h-10 h-8 md:w-10 w-8  "}),"png"==(null==(x=null==(c=null==l?void 0:l.uploadDoc)?void 0:c.doc_path)?void 0:x.split(".").pop())&&e.jsx("img",{alt:"profil",src:p,className:"mx-auto object-cover rounded-none md:h-10 h-8 md:w-10 w-8  "})]})})})}),e.jsx("td",{className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("p",{className:"text-center text-black md:font-medium text-xs md:text-sm",children:""==(null==l?void 0:l.uploadDoc)?e.jsx("p",{className:"text-red-500",children:"Not Upload"}):e.jsxs("div",{children:[0==(null==(h=null==l?void 0:l.uploadDoc)?void 0:h.verify_status)&&e.jsx("p",{className:"text-yellow-700",children:"Pending"}),1==(null==(u=null==l?void 0:l.uploadDoc)?void 0:u.verify_status)&&e.jsx("p",{className:"text-green-700",children:"Verified"}),2==(null==(b=null==l?void 0:l.uploadDoc)?void 0:b.verify_status)&&e.jsx("p",{className:"text-red-700",children:"Rejected"})]})})}),e.jsx("td",{className:"px-1 md:px-5 py-2 border-b border-gray-200 bg-white text-sm",children:1!=(null==(v=null==l?void 0:l.uploadDoc)?void 0:v.verify_status)&&e.jsx("button",{onClick:()=>(_({ownerName:l.ownerName,docName:l.docName,applicationId:G,ownerId:l.ownerId,docVal:l.docVal,docCategory:l.refDocName}),void j(e=>e+1)),className:"border px-2 md:px-4 py-1 md:py-2 hover:text-white hover:bg-indigo-500",children:2==(null==(g=null==l?void 0:l.uploadDoc)?void 0:g.verify_status)?"Re-Upload":"Upload"})})]})}):e.jsx("p",{children:"No Data Found"})})]}),e.jsxs("p",{className:" font-semibold text-red-400",children:[" ",e.jsx("span",{className:"text-base",children:" *"})," ",e.jsx("span",{className:"text-xs",children:" Mandatory"})]})]})})})]})})})]})};export{b as default};
