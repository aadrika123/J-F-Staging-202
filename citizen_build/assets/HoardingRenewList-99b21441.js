import{j as e}from"./mui-d8134288.js";import{r as t,f as o,u as i}from"./router-a70afc62.js";import"./setBatchUpdatesFn-9f595700.js";import{M as r,A as a,b as s,B as l,C as n,aJ as d,Q as c}from"./index-1c8a2e08.js";import"./AgencyNotification-73f04428.js";import{A as h}from"./AdvertisementApiList-98f872e1.js";import{A as p}from"./ReuploadDocumentModal-0fcdf499.js";import{H as g}from"./HoardingApplicationFullDetail-7eea7e47.js";import{r as m}from"./materialTailwind-01b55b4e.js";import{S as u}from"./ServerErrorCard-e275c2e4.js";import{A as v}from"./AdvtListTablePagination-f4228aa9.js";import"./axios-0f103e9d.js";import"./reactIcons-65f093d4.js";import"./moment-494dae31.js";/* empty css                */import"./redux-c3344370.js";import"./i18next-524eea2d.js";const x={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};function w(w){t.useState(!1),t.useState(!1);const{api_postHoardingRenewList:b,api_archivedApplication:f}=h(),[y,N]=t.useState();t.useState(!1);const[A,j]=t.useState(),[C,L]=t.useState(),[I,P]=t.useState(!1),[D,E]=t.useState(!1),[H,R]=t.useState(!1),S=()=>R(!1);t.useState();const[T,k]=t.useState(!1),[M,V]=t.useState(!1),[_,B]=t.useState(!1),[F,O]=t.useState(0),[$,q]=t.useState(1),[U,z]=t.useState(0),[J,Q]=t.useState(10),[W,G]=t.useState(""),[K,X]=t.useState(!1),{id:Y}=o(),Z=(e,t)=>{c.dismiss(),"success"==t&&c.success(e),"error"==t&&c.error(e)},ee=i(),te=[{Header:"#",Cell:({row:t})=>e.jsx("div",{className:"pr-2",children:t.index+1})},{Header:"Application No",accessor:"application_no"},{Header:"Apply Date.",accessor:"application_date"},{Header:"Action",accessor:"id",Cell:({cell:t})=>e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx("button",{onClick:()=>oe(t.row.values.id,"Approve"),className:"bg-indigo-500 px-3 py-1 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r\n                hover:text-white text-white",children:"View"}),1==t.row.original.renew_option&&e.jsx("button",{onClick:()=>ee(`/hoarding/${Y}/${t.row.values.id}/renew`),className:"bg-indigo-500 px-3 py-1 ml-2 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r\n              hover:text-white text-white",children:"Renew"}),"Expired"==t.row.original.renew_option&&e.jsx("button",{className:"bg-indigo-500 px-3 py-1 ml-2 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r\n              hover:text-white text-white",disabled:!0,children:"Expired"}),"Expired"==t.row.original.renew_option&&e.jsx(m.Tooltip,{className:"bg-gray-300 text-xs text-gray-900",content:"Archived",children:e.jsx("button",{onClick:()=>ae(t.row.values.id),className:"bg-indigo-500 float-right px-2 py-1 ml-2 rounded leading-5 shadow-lg hover:shadow-xl hover:bg-indigo-700 \r\n              hover:text-white text-white",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-5 h-5",children:e.jsx("path",{"fill-rule":"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z","clip-rule":"evenodd"})})})})]})})}],oe=(e,t)=>{L(e),j(t),R(!0)};t.useEffect(()=>{ie($,J,W)},[$,W,J]);const ie=(e,t,o="")=>{X(!0),B(!0),a.post(b,{page:e,perPage:t,key:o},s()).then(e=>{var t,o,i,r,a,s;k(null==(o=null==(t=e.data)?void 0:t.data)?void 0:o.data),V(!0),B(!1),O(null==(r=null==(i=e.data)?void 0:i.data)?void 0:r.total),z(null==(s=null==(a=e.data)?void 0:a.data)?void 0:s.last_page)}).catch(e=>{V(!1),B(!1)}),setTimeout(()=>{X(!1)},[500])},re={totalDataCount:F,currentPageIndex:$,setcurrentPageIndex:q,pageLength:J,setpageLength:Q,lastPageIndex:U,setlastPageIndex:z,fetchInboxList:ie,searchValue:W,setsearchValue:G,refreshStatus:K},ae=e=>{a.post(`${f}`,{applicationId:e},p()).then(function(e){Z("Archived successfully","success")}).catch(function(e){Z("failed to archived","error")})};return _?e.jsx(e.Fragment,{children:e.jsx(l,{})}):D?e.jsx(n,{children:e.jsx(u,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):e.jsxs(e.Fragment,{children:[e.jsx(d,{position:"top-right",autoClose:2e3}),e.jsx("div",{className:"container bg-white text-gray-600 h-screen mx-auto mt-12",children:e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-4 container mx-auto pt-4 ",children:e.jsx("div",{className:"col-span-12 p-2",children:e.jsxs("div",{className:"flex flex-row bg-white mb-4 rounded leading-5 shadow-md shadow-violet-100 ",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/3288/3288006.png",className:"h-10 ml-3 mt-2"}),e.jsx("h1",{className:"text-xl text-gray-700 font-semibold p-4",children:"RENEW APPLICATIONS"})]})})}),e.jsxs("div",{className:"grid grid-cols-1 p-2",children:[M&&0!=(null==T?void 0:T.length)&&e.jsx(v,{columns:te,dataList:T,values:re}),M&&0==(null==T?void 0:T.length)&&e.jsx("div",{className:"text-xl font-semibold text-red-400 text-center",children:"Data Not Found"})]}),e.jsx("div",{className:"grid grid-cols-1",children:e.jsx(r,{isOpen:H,onAfterOpen:()=>{},onRequestClose:S,style:x,contentLabel:"Example Modal",children:e.jsx("div",{class:" rounded-lg shadow-xl border-2 border-gray-50 mx-auto px-0 ",style:{width:"80vw",height:"100%"},children:e.jsx("div",{className:"h-[44rem] bg-white overflow-y-auto",children:e.jsx(g,{data:C,applicationType:A,showLoader:e=>{P(e)},closeModal:S})})})})})]})})]})}r.setAppElement("#root");export{w as default};
