import{j as e}from"./mui-8e804a04.js";import{r as a,f as k,u as A}from"./router-87042356.js";import{m,A as _}from"./index-8cebd38c.js";import"./index-4e794517.js";import"./RazorpayPaymentScreen-caac82e4.js";import{F as C}from"./index.esm-f717eb21.js";import{P as M}from"./PetRegAPIList-a6437e07.js";import{P as V}from"./PetRegDocUploadModal-c8b2eb76.js";import{R as E}from"./RigRegTopButtons-cf76a577.js";import{S as F}from"./ShimmerEffectInline-66ba2926.js";import{V as I}from"./ViewUploadedDoc-d68a9dbe.js";import"./react-09dd1212.js";import"./axios-97164839.js";import"./reactIcons-6a3b6da1.js";import"./redux-4db06ad6.js";import"./i18next-e99b4042.js";import"./CitizenApplyApiList-3d0f1c41.js";import"./WaterApiList-43eae6b5.js";import"./index.esm-2e3a7c1f.js";const le=W=>{a.useState(0);const[h,c]=a.useState(!1),[s,x]=a.useState(),[u,g]=a.useState(),[f,l]=a.useState(!0),[j,B]=a.useState(0),[N,n]=a.useState(!1),[b,y]=a.useState(0),[v,w]=a.useState();a.useContext(m);const{id:r}=k(),{api_RigRegistrationDocUploadList:D,header1:S}=M(),{setBreadCrumbData:U}=a.useContext(m);a.useEffect(()=>{U(["Vehicle Registration","Upload Document"])},[]);const d=A(),R=t=>{t&&(w(t),y(o=>o+1))},i=()=>{l(!0),_.post(D,{applicationId:r},S).then(t=>{var o,p;l(!1),(o=t==null?void 0:t.data)!=null&&o.status?(x((p=t==null?void 0:t.data)==null?void 0:p.data),console.log(t,"response from doc vehicle")):n(!0)}).catch(t=>{console.log("Error while getting pet doc list",t),l(!1),n(!0)})};a.useEffect(()=>{i()},[j]);const P=t=>{c(!0),g(t),console.log("Document Upload click..",t)};return e.jsxs("div",{className:"mt-3",children:[e.jsx(E,{active:"document",consumerNo:s==null?void 0:s.ApplicationNo}),e.jsx(I,{openDocviewModal:b,documentUrl:v}),h&&e.jsx(V,{payloadData:u,refetch:i,applicationId:r,close:c}),e.jsxs("div",{className:"bg-white rounded-md shadow-sm py-2",children:[e.jsx("div",{className:"my-3",children:e.jsx("p",{className:"text-center text-2xl font-medium text-gray-800",children:"Vehicle Registration Document Upload"})}),f?e.jsxs("p",{className:"w-full",children:[" ",e.jsx(F,{})," "]}):e.jsxs("div",{className:"overflow-auto",children:[N==!0?e.jsx("p",{className:"m-auto font-semibold border border-gray-300 text-red-700 bg-red-100 px-5 py-2 rounded shadow w-fit",children:"Failed to Get Data"}):e.jsxs("table",{className:"w-full text-left text-gray-600",children:[e.jsx("thead",{className:"text-lg bg-gray-300 border-b-2",children:e.jsxs("tr",{className:"",children:[e.jsx("th",{className:"px-3 py-2",children:"Sl."}),e.jsx("th",{className:"px-3 py-2",children:"Document Name"}),e.jsx("th",{className:"px-3 py-2",children:"View "}),e.jsx("th",{className:"px-3 py-2",children:"Status"}),e.jsx("th",{className:"px-3 py-2",children:"Action"})]})}),e.jsx("tbody",{className:"",children:s&&(s==null?void 0:s.map((t,o)=>e.jsxs("tr",{className:"hover:bg-sky-100 border-b",children:[e.jsx("td",{className:"px-3 py-2",children:o+1}),e.jsxs("td",{className:"px-3 py-2",children:[t.doc_code," "]}),e.jsxs("td",{className:"px-3 py-2",children:[(t==null?void 0:t.doc_path)&&e.jsx("img",{className:"h-8 cursor-pointer",onClick:()=>R(t==null?void 0:t.doc_path),src:t==null?void 0:t.doc_path,alt:"images"}),!(t!=null&&t.doc_path)&&"N/A"]}),e.jsx("td",{className:"px-3 py-2 text-base",children:t.doc_path?"Uploaded":"Not Uploaded"}),e.jsx("td",{className:"py-2 border-b border-gray-200 text-sm",children:(s==null?void 0:s.paymentStatus)==1?e.jsx("p",{className:"text-base",children:"Submitted"}):e.jsxs("span",{className:"relative inline-block ",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute inset-0 "}),e.jsx("span",{className:"relative ",onClick:()=>P(t),children:e.jsxs("label",{className:"cursor-pointer rounded-sm hover:rounded-sm hover:shadow-2xl hover:bg-blue-600 hover:ring-1 hover:ring-blue-800 bg-blue-500  shadow-lg flex pl-4 pr-5 py-2  text-white font-medium",htmlFor:"contained-button-file",children:[e.jsx(C,{size:16,className:"mt-0 ml-0 mr-2 font-medium"}),t.doc_path?"Re-Upload":"Upload"]})})]})})]})))})]}),(s==null?void 0:s.docUploadStatus)&&e.jsx("p",{className:"text-center mt-5 text-green-600 font-semibold",children:"All Documents are uploaded."})]}),e.jsxs("div",{className:"flex justify-center my-6 space-x-5",children:[e.jsx("button",{type:"button",onClick:()=>d("/vehicle-registration-dashboard"),className:"bg-indigo-500 px-5 py-1 text-white rounded shadow",children:"Back"}),(s==null?void 0:s.docUploadStatus)&&(s==null?void 0:s.paymentStatus)==0&&e.jsx("button",{onClick:()=>d(`/petPayment/${r}`),type:"submit",className:"bg-indigo-700 px-8 py-2 text-white rounded font-sans font-semibold shadow",children:"Pay Now"})]})]})]})};export{le as default};
