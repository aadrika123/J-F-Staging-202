import{j as l,a1 as e,a2 as r}from"./mui-d8134288.js";import{r as o}from"./router-a70afc62.js";import{o as n,c3 as t,c4 as i,c5 as d,c6 as a,c7 as s}from"./index-1c8a2e08.js";function c(r){return l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"grid grid-cols-1 md:flex ",children:[l.jsx("label",{htmlFor:"search",children:" Search : "}),l.jsx("input",{className:"border border-gray-400 px-2 mx-1  bg-gray-100 py-1",type:"text",id:"searchValue",value:null==r?void 0:r.filter,onChange:l=>{null==r||r.setFilter(l.target.value)}}),l.jsx(n,{anchorId:"searchGlobal"}),l.jsxs("button",{type:"button",id:"searchGlobal","data-tooltip-content":"Search your input globally",className:" whitespace-nowrap border bg-sky-400  hover:bg-sky-500 text-white rounded-md px-2 text-xs",onClick:()=>{var l,e,o,n;let t=document.getElementById("searchValue").value;return""!=t&&(null==t?void 0:t.length)>4?(null==(l=null==r?void 0:r.values)||l.setsearchValue(t),void(null==(e=null==r?void 0:r.values)||e.setcurrentPageIndex(1))):""!=t&&(null==t?void 0:t.length)>=1&&(null==t?void 0:t.length)<=3?void 0:(null==(o=null==r?void 0:r.values)||o.setsearchValue(""),void(null==(n=null==r?void 0:r.values)||n.setcurrentPageIndex(1)))},children:[l.jsx(e,{fontSize:"medium"}),"Search Globally"]})]}),l.jsx("div",{children:l.jsxs("p",{className:"text-xs  text-gray-500 font-poppins mt-4",children:[l.jsx("strong",{children:"Note : "})," If you don't find your search result in the box, ",l.jsx("span",{className:"text-blue-500 capitalize",children:" Search Globally"})," to get result from the server."]})})]})}function u(e){var u,v,h,m,g;const[p,x]=o.useState("hidden"),b=o.useMemo(()=>null==e?void 0:e.columns,[]),f=o.useMemo(()=>null==e?void 0:e.dataList,[null==e?void 0:e.dataList]);o.useEffect(()=>{var l,r;C((null==(l=null==e?void 0:e.values)?void 0:l.pageLength)?null==(r=null==e?void 0:e.values)?void 0:r.pageLength:5)},[null==(u=null==e?void 0:e.values)?void 0:u.pageLength]),o.useState("");const{getTableBodyProps:y,headerGroups:N,page:w,prepareRow:k,setPageSize:C,state:G,setGlobalFilter:P}=t.useTable({columns:b,data:f,initialState:{pageIndex:0}},t.useGlobalFilter,t.useSortBy,t.usePagination),{globalFilter:S,pageSize:j}=G,I=()=>{var l,r;return(null==(l=null==e?void 0:e.values)?void 0:l.currentPageIndex)!=(null==(r=null==e?void 0:e.values)?void 0:r.lastPageIndex)},z=()=>{var l;return 1!=(null==(l=null==e?void 0:e.values)?void 0:l.currentPageIndex)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 pr-4",children:[l.jsx("div",{className:"col-span-1 md:col-span-2",children:l.jsx(c,{filter:S,setFilter:P,values:null==e?void 0:e.values})}),l.jsxs("div",{className:"flex justify-end ",children:[l.jsx("div",{className:"",children:l.jsxs("button",{className:"bg-sky-400 px-3 pr-3  shadow-lg rounded py-1 text-white hover:shadow-2xl hover:bg-green-600 text-center relative",onMouseEnter:()=>x(""),onMouseLeave:()=>x("hidden"),children:[l.jsx(i,{data:null==e?void 0:e.dataList,children:"Export"}),l.jsx("div",{className:p+" absolute h-full top-3 text-sm left-0 text-center animate-bounce",children:l.jsx(d,{})})]})}),l.jsx("div",{className:"",children:null==e?void 0:e.children}),(null==e?void 0:e.canRefresh)&&l.jsx("div",{className:"",children:l.jsxs("div",{className:"flex",children:[l.jsx(n,{anchorId:"refresh"}),l.jsx("div",{className:((null==(v=null==e?void 0:e.values)?void 0:v.refreshStatus)?"animate-spin":"")+" h-8 w-8 bg-gray-300 shadow-lg cursor-pointer text-green-900 text-xs font-semibold text-center p-1 rounded-full flex-initial ml-4 ","data-tooltip-content":"Refresh all data",id:"refresh",onClick:()=>{var l,r,o;null==(l=null==e?void 0:e.values)||l.fetchInboxList(1,10,""),null==(r=null==e?void 0:e.values)||r.setcurrentPageIndex(1),null==(o=null==e?void 0:e.values)||o.setsearchValue("")},children:l.jsx(r,{})})]})})]})]}),l.jsx("div",{className:" py-2 overflow-x-auto bg-white",children:l.jsxs("div",{className:"inline-block min-w-full rounded-lg overflow-hidden bg-white",children:[l.jsxs("table",{...y,className:"min-w-full leading-normal",children:[l.jsx("thead",{className:"font-bold text-left text-sm bg-gray-100 hover:bg-gray-200",children:null==N?void 0:N.map(e=>l.jsx("tr",{...e.getHeaderGroupProps(),children:e.headers.map(e=>l.jsxs("th",{...e.getHeaderProps(e.getSortByToggleProps()),className:"px-2 py-3 border-b border-gray-200 text-gray-800  text-left text-xs uppercase ",children:[e.render("Header"),l.jsx("span",{children:e.isSorted?e.isSortedDesc?"⬆️":"⬇️":""})]}))}))}),l.jsxs("tbody",{...y(),className:"text-sm",children:[null==w?void 0:w.map((e,r)=>{var o;return k(e),l.jsx("tr",{...e.getRowProps(),className:"bg-white shadow-md border border-slate-100 hover:bg-slate-50 ",children:null==(o=null==e?void 0:e.cells)?void 0:o.map(e=>l.jsx("td",{...e.getCellProps(),className:"px-2 py-2 text-sm text-left",children:e.render("Cell")}))})}),l.jsx("tr",{children:l.jsx("td",{})})]})]}),l.jsxs("div",{className:"mt-3 grid grid-cols-3 w-full",children:[l.jsx("div",{className:"",children:l.jsxs("div",{className:"flex",children:[l.jsx("select",{className:"h-10 w-1/2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 mx-2",value:j,onChange:l=>{var r,o;C(Number(l.target.value)),null==(r=null==e?void 0:e.values)||r.setpageLength(l.target.value),null==(o=null==e?void 0:e.values)||o.setcurrentPageIndex(1)},children:[5,10,25,50].map(e=>l.jsxs("option",{value:e,children:["show ",e]},e))}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("input",{className:"border border-gray-400 h-10 rounded-md w-32 text-xs px-2",placeholder:"Go to page",type:"text",onBlur:l=>{var r;return null==(r=null==e?void 0:e.values)?void 0:r.setcurrentPageIndex(l.target.value)}}),l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8 bg-indigo-500 text-white p-1 rounded-md mt-1",children:l.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zm-7.518-.267A8.25 8.25 0 1120.25 10.5M8.288 14.212A5.25 5.25 0 1117.25 10.5"})})]})]})}),l.jsx("div",{className:"  text-center",children:l.jsxs("span",{children:["page ","",l.jsxs("strong",{children:[null==(h=null==e?void 0:e.values)?void 0:h.currentPageIndex," of ",null==(m=null==e?void 0:e.values)?void 0:m.lastPageIndex]}),"","  --- ",l.jsxs("strong",{children:["Total "," ",null==(g=null==e?void 0:e.values)?void 0:g.totalDataCount," records"]})]})}),l.jsx(n,{anchorId:"firstPage"}),l.jsx(n,{anchorId:"lastPage"}),l.jsxs("div",{className:" w-full text-right",children:[l.jsxs("button",{id:"firstPage","data-tooltip-content":"Go to First Page",className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:()=>{var l;return null==(l=null==e?void 0:e.values)?void 0:l.setcurrentPageIndex(1)},disabled:!z(),children:[l.jsx(a,{})," "]}),l.jsx("button",{className:(z()?"opacity-100":"opacity-50")+" text-xl hover:bg-sky-300 hover:text-white",onClick:()=>{var l,r;null==(l=null==e?void 0:e.values)||l.setcurrentPageIndex(l=>l-1),null==(r=null==e?void 0:e.values)||r.setpageLength(j)},disabled:!z(),children:"⬅️"}),l.jsx("button",{className:(I()?"opacity-100":"opacity-50")+" text-xl hover:bg-sky-300 hover:text-white",onClick:()=>{var l,r;null==(l=null==e?void 0:e.values)||l.setcurrentPageIndex(l=>l+1),null==(r=null==e?void 0:e.values)||r.setpageLength(j)},disabled:!I(),children:"➡️"}),l.jsxs("button",{id:"lastPage","data-tooltip-content":"Go to Last Page",className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:()=>{var l,r;return null==(r=null==e?void 0:e.values)?void 0:r.setcurrentPageIndex(null==(l=null==e?void 0:e.values)?void 0:l.lastPageIndex)},disabled:!I(),children:["  ",l.jsx(s,{})]})]})]})]})})]})}export{u as A};
