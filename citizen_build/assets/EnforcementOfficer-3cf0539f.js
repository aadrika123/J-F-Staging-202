import{j as a}from"./mui-105b4636.js";import{r as s}from"./router-894402c5.js";import{L as I}from"./ListTable-7d4fc79e.js";import{c as E,d as _,u as A,A as H,b as m,aj as F,P as k,n as l}from"./index-5f3b1ea2.js";import{a as B}from"./axios-67d8a945.js";import{B as D}from"./BarLoader-1722e4a7.js";import"./react-40db4358.js";import"./reactIcons-58c2a0d8.js";import"./redux-b8f144fa.js";import"./i18next-e2c66b9b.js";const z=()=>{const[f,i]=s.useState([]),[n,x]=s.useState([]),[U,p]=s.useState(0),[d,h]=s.useState(null),[b,g]=s.useState(!1),{api_enf_officer:j,api_ulbList:w}=k(),N="form-control block w-full px-2 py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md",[S,c]=s.useState(!1),[v,u]=s.useState(!1),y=E({ulbId:_().required("Select Your Ulb")}),o=A({initialValues:{ulbId:""},onSubmit:e=>{h({ulbId:e.ulbId}),p(t=>t+1),g(!0)},validationSchema:y}),C=()=>{u(!0),B.get(w,{},m()).then(e=>{var t,r;u(!1),((t=e==null?void 0:e.data)==null?void 0:t.status)==!0&&x((r=e==null?void 0:e.data)==null?void 0:r.data)}).catch(e=>{u(!1)})};s.useEffect(()=>{C()},[]),s.useEffect(()=>{d&&(c(!0),H.post(j,{userType:"EO",...d},m()).then(e=>{var t,r;(t=e==null?void 0:e.data)!=null&&t.status?(i((r=e==null?void 0:e.data)==null?void 0:r.data),c(!1)):i([])}).catch(e=>{i([]),c(!1)}))},[d]);const L=[{Header:"#",Cell:({row:e})=>a.jsx("div",{className:"pr-2",children:(e==null?void 0:e.index)+1})},{Header:"Profile",accessor:"profile",Cell:({cell:e})=>{var t,r;return a.jsx(a.Fragment,{children:(t=e.row.original)!=null&&t.profile_image?a.jsx("img",{className:"border drop-shadow-lg h-8 rounded-sm",src:(r=e.row.original)==null?void 0:r.profile_image,alt:"profile",srcset:""}):"N/A"})}},{Header:"Name",accessor:"user_name",Cell:({cell:e})=>{var t;return l((t=e.row.original)==null?void 0:t.user_name)}},{Header:"Mobile No.",accessor:"mobile",Cell:({cell:e})=>{var t;return l((t=e.row.original)==null?void 0:t.mobile)}},{Header:"E-mail",accessor:"email",Cell:({cell:e})=>{var t;return l((t=e.row.original)==null?void 0:t.email)}},{Header:"Address",accessor:"address",Cell:({cell:e})=>{var t;return l((t=e.row.original)==null?void 0:t.address)}}];return a.jsxs(a.Fragment,{children:[S&&a.jsx(D,{}),a.jsxs("div",{className:"w-full  md:pt-10 bg-white shadow-lg rounded-md",children:[a.jsx("form",{onChange:o.handleChange,onSubmit:o.handleSubmit,className:"mb-4 ml-[30%]",children:a.jsxs("div",{className:"flex flex-wrap flex-row justify-start w-full gap-x-6 gap-y-2 text-sm 3xl:text-base p-4 px-8",children:[a.jsxs("div",{className:"flex flex-col w-full md:w-[20%]",children:[a.jsx("div",{className:"col-span-6 font-semibold",children:"Select Ulb"}),a.jsx("div",{className:"col-span-6",children:a.jsxs("select",{name:"ulbId",id:"ulbId",className:N,value:o.values.ulbId,onChange:o.handleChange,children:[a.jsx("option",{value:"",children:"Select Your ULB"}),v?a.jsx("option",{value:"",disabled:!0,children:"Loading..."}):n==null?void 0:n.map(e=>a.jsx("option",{value:e==null?void 0:e.id,children:e==null?void 0:e.ulb_name},e==null?void 0:e.id))]})}),a.jsx("div",{className:"col-span-12 text-center",children:o.touched.ulbId&&o.errors.ulbId&&a.jsx(a.Fragment,{children:a.jsx("span",{className:"text-red-600 text-xs",children:o.errors.ulbId})})})]}),a.jsx("div",{className:"w-full md:w-[20%] flex justify-start items-center mt-4",children:a.jsxs("button",{type:"submit",className:"flex flex-row items-center border border-green-600 bg-green-600 hover:bg-green-400 text-white hover:text-black shadow-lg rounded-sm text-sm font-semibold px-5 py-1 w-max",children:[" ",a.jsx("span",{className:"mr-2",children:a.jsx(F,{})}),"Search "]})})]})}),b&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"uppercase font-semibold text-gray-700 text-2xl py-2 text-center tracking-[0.5rem]",children:"Know Your Enforcement Officer"}),a.jsx(I,{columns:L,dataList:f,exportStatus:!1})]})]})]})};export{z as default};
