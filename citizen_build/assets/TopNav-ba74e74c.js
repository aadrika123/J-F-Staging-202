import{j as e}from"./mui-8e804a04.js";import{r as s,h as ie,u as ce,N as f}from"./router-87042356.js";import{a as de}from"./redux-4db06ad6.js";import{M as p}from"./index-4e794517.js";/* empty css              */import{a as q}from"./axios-97164839.js";import{k as ue,l as xe,E as ge,b as he}from"./index-05e96c05.js";import{g as V,l as be}from"./localstorage-fbfe5679.js";import{a as fe}from"./index.esm-f717eb21.js";import{C as pe}from"./CitizenApplyApiList-a42ddf5f.js";import"./react-tooltip.min-feff7b3d.js";import{E as me}from"./EPramanLoginLoader-44b9b41e.js";function ve(){return e.jsxs("div",{className:"w-screen rounded-md flex flex-row gap-2 flex-wrap",children:[e.jsx("div",{className:"h-[150px] w-[150px]  rounded-t-md object-cover bg-gray-200 animate"}),e.jsx("div",{className:"h-[150px] w-[150px]  rounded-t-md object-cover bg-gray-200 animate"}),e.jsx("div",{className:"h-[150px] w-[150px] rounded-t-md object-cover bg-gray-200 animate"}),e.jsx("div",{className:"h-[150px] w-[150px] rounded-t-md object-cover bg-gray-200 animate"})]})}const J="/assets/agency-f2235590.png",we="/assets/category-eb5fd5db.png",W=t=>e.jsx(e.Fragment,{children:e.jsxs("div",{onClick:()=>window.location.replace(t==null?void 0:t.route),className:"bg-gray-100 select-none rounded-xl flex flex-col justify-center items-center p-4 md:p-6 relative cursor-pointer hover:scale-105 hover:shadow-md transition-all duration-150",href:"",children:[e.jsx("img",{className:"h-16 w-16 text-xs",src:t==null?void 0:t.image,alt:t==null?void 0:t.name}),e.jsx("div",{className:"font-bold mt-4 text-center",children:t==null?void 0:t.name})]})});p.setAppElement("#root");function je(){var $,G;const{t}=ue(),[x,C]=s.useState(!1),[Y,k]=s.useState(!1),[K,Q]=s.useState(!1),[d,L]=s.useState(!1),[g,X]=s.useState([]),[_,z]=s.useState(!1),[m,Z]=s.useState(!1),[v,ee]=s.useState([]),{api_moduleList:ne,api_ePraman:te}=pe(),M=!1,I=ie(),w=ce(),[re,j]=s.useState(!1),[h,b]=s.useState(""),oe=n=>v==null?void 0:v.some(o=>o==n),S=n=>{j(!re),b(n)},E=()=>{j(!1),b("")},[y,a]=s.useState(!1),{brand_tag:O,brand_name:Ce,ulb_name:ke,brand_logo:Le}=xe(t),u={mainMenu:[{name:t("tranCitizenLandingPage.home.label"),route:"/",subMenu:[]},{name:t("tranCitizenLandingPage.aboutUs.label"),route:"/about",subMenu:[]},{name:t("tranCitizenLandingPage.actAndRules.label"),route:"/act&rules",subMenu:[]},{name:t("tranCitizenLandingPage.eServices.label"),route:"/e-services",subMenu:[]},{name:t("tranCitizenLandingPage.taxRebate.label"),route:"/info-scheme",subMenu:[]},{name:t("tranCitizenLandingPage.faq.label"),route:"/faq",subMenu:[]},{name:"Downloads",route:"#",subMenu:[{name:"User Manuals",route:"/download/user-manuals"},{name:"Mobile App",route:"/download/mobile-app"}]}]},se=()=>{E()};function A(){C(!0)}function B(){C(!1)}function P(){k(!0)}function T(){k(!1)}function F(){Q(!1)}const ae=()=>{z(!0),q.post(ne,{}).then(n=>{var o;console.log("module list: ",n),X((o=n==null?void 0:n.data)==null?void 0:o.data)}).finally(()=>z(!1))};s.useEffect(()=>{V("citizen_token")!=null&&V("citizen_token")!="null"?L(!0):L(!1),ae()},[]);const R="block w-full pl-7 py-2 px-6 clear-both whitespace-nowrap text-sm hover:text-[#1c7f3a] hover:bg-green-50 rounded-md text-sm animate__animated animate__fadeIn animate__faster ",D="block py-3 px-3 hover:text-[#9dffbb] rounded-md animate__animated animate__fadeIn animate__faster ",i=n=>{if(I.pathname===n){window.location.reload();return}w(n)},N=()=>{be(),i("/")},le=()=>{window.localStorage.removeItem("login"),Z(!0),q.post(te,{type:"citizen"},he()).then(n=>{var o,c,r,l,H,U;console.log(`%cE-Praman Login response: 

${JSON.stringify(n==null?void 0:n.data)} `,"color: green; background-color: black; font-size: 1.2em; padding: 5px 20px"),window.localStorage.setItem("codeVerifier",(c=(o=n==null?void 0:n.data)==null?void 0:o.data)==null?void 0:c.code_verifier),window.localStorage.setItem("nonce",(l=(r=n==null?void 0:n.data)==null?void 0:r.data)==null?void 0:l.nonce),window.location.replace((U=(H=n==null?void 0:n.data)==null?void 0:H.data)==null?void 0:U.url)}).catch(n=>{console.log("epraman login error => ",n)}).finally(()=>{})};return s.useEffect(()=>{(window.localStorage.getItem("login")??"")=="true"&&le()},[]),e.jsxs(e.Fragment,{children:[m&&e.jsx(me,{message:"Redirect to E-Pramaan"}),e.jsx("div",{className:"block top-0 left-0 w-full z-50 ",children:e.jsx("header",{className:"block select-none",children:e.jsx("nav",{className:(I.pathname!="/"?"bg-[#99B37C] fixed top-0 left-0 right-0 ":"bg-[#99B37C]")+" nav-top flex flex-nowrap lg:flex-start items-center z-20  overflow-y-auto  lg:overflow-visible w-full",children:e.jsxs("div",{class:"w-full mx-auto ",children:[e.jsxs("div",{class:"flex flex-row justify-between w-full lg:hidden px-4 lg:px-6 bg-[#99B37C]",children:[e.jsx("span",{class:"flex items-center justify-between py-2 mr-4 text-xl",onClick:()=>{a(!1),i("/")},children:e.jsx("h2",{class:"text-2xl font-semibold text-gray-200 px-4  overflow-hidden",children:e.jsx("span",{className:"text-white",children:O})})}),e.jsx("div",{class:"right-0 flex items-center cursor-pointer text-2xl text-white",children:e.jsx("span",{className:"cursor-pointer",onClick:()=>{a(!y),j(!1)},children:e.jsx(ge,{fontSize:"large"})})})]}),y&&e.jsxs("div",{class:"lg:hidden fixed w-full h-full inset-0 z-50 lg:px-6 ",id:"mobile-menu",style:{zIndex:999},children:[e.jsx("span",{class:"fixed bg-gray-900 bg-opacity-70 w-full h-full inset-x-0 top-0",onClick:()=>a(!y)}),e.jsx("nav",{id:"mobile-nav",class:"flex flex-col ltr:right-0 rtl:left-0 w-64 fixed top-0 py-4 bg-[#99B37C] text-gray-100 h-full overflow-auto z-40",children:e.jsxs("div",{class:"mb-auto",children:[e.jsx("div",{class:"mh-18 text-center px-4 mb-8",children:e.jsx("span",{class:"flex relative",children:e.jsxs("h2",{class:"text-2xl text-gray-200 max-h-9 flex flex-row items-center justify-between gap-4 relative",children:[e.jsx("span",{className:" md:absolute -left-2 z-10 text-4xl cursor-pointer text-white ",onClick:()=>a(!1),children:"Ã—"}),e.jsx("span",{onClick:()=>{a(!1),i("/")}}),e.jsx("span",{onClick:()=>{a(!1),i("/")},className:"text-gray-800 font-semibold",children:"UD&HD"})]})})}),e.jsx("div",{class:"mb-4 px-4",children:e.jsx("nav",{class:"relative flex flex-wrap items-center justify-between",children:e.jsxs("ul",{id:"side-menu",class:"w-full float-none flex flex-col",children:[($=u==null?void 0:u.mainMenu)==null?void 0:$.map(n=>{var o,c;return e.jsx(e.Fragment,{children:e.jsxs("li",{className:"relative cursor-pointer ",children:[e.jsxs(f,{to:(n==null?void 0:n.route)==""?null:n==null?void 0:n.route,className:({isActive:r})=>{var l;return(r&&(n==null?void 0:n.route)!="#"&&((l=n==null?void 0:n.subMenu)==null?void 0:l.length)==0?"text-[#9dffbb] font-bold ":" ")+`${D} flex gap-4 py-1 items-center`},onClick:()=>{S(n==null?void 0:n.name),h==(n==null?void 0:n.name)&&b("")},children:[" ",e.jsx("div",{className:"flex justify-between items-center flex-1",children:e.jsx("span",{children:n==null?void 0:n.name})})," "]}),((o=n==null?void 0:n.subMenu)==null?void 0:o.length)>0&&h==(n==null?void 0:n.name)&&e.jsx("ul",{class:"block rounded rounded-t-none top-full z-50 py-0.5 ltr:text-left rtl:text-right mb-4 bg-green-100 text-zinc-800",children:(c=n==null?void 0:n.subMenu)==null?void 0:c.map(r=>e.jsx(e.Fragment,{children:e.jsx("li",{class:"relative cursor-pointer ",children:e.jsx(f,{to:r==null?void 0:r.route,onClick:()=>w(`/${r==null?void 0:r.route}`),className:({isActive:l})=>(l?"text-[#9dffbb] font-bold ":" ")+`${R} flex gap-3 items-center`,children:e.jsx("span",{children:r==null?void 0:r.name})})})}))})]})})}),e.jsxs("li",{className:"relative",children:[m?e.jsx(e.Fragment,{children:e.jsx("button",{class:"cypress_citizen_login w-full animate-pulse cypress_citizen_login py-2 px-4 text-sm w-full mb-1.5 text-center rounded leading-5 text-black  border border-white hover:text-white bg-blue-400 hover:bg-blue-600 hover:ring-0 hover:border-white focus:outline-none focus:ring-0",children:"Loading..."})}):e.jsx(e.Fragment,{children:M}),d&&e.jsx("button",{className:"bg-amber-500 border border-white hover:text-gray-300 hover:bg-amber-600 hover:ring-0 hover:border-white focus:bg-amber-500 focus:border-amber-600 py-2 px-4 text-sm  text-center rounded leading-5 text-gray-100 w-full mb-1.5 focus:outline-none focus:ring-0 cursor-pointer",onClick:()=>{a(!1),i("/landingDashboard")},children:"Dashboard"}),d&&e.jsx("button",{className:"w-full mb-2 py-2 px-4 text-sm  text-center rounded leading-5 text-white bg-red-500 hover:bg-red-600 border border-red-800 hover:ring-0 hover:border-red-800 cursor-pointer",onClick:()=>{a(!1),N()},children:"Log Out"}),!d&&e.jsx("button",{className:"cypress_citizen_login py-2 px-4 text-sm w-full mb-1.5 text-center rounded leading-5 text-black  border border-white hover:text-white bg-[#B9EBC8] hover:bg-[#87b695] hover:ring-0 hover:border-white focus:bg-white focus:border-white focus:outline-none focus:ring-0 cursor-pointer",onClick:()=>{a(!1),i("/login")},children:"Citizen Login"}),e.jsx("button",{className:"cypress_citizen_login py-2 px-4 text-sm w-full mb-1.5 text-center rounded leading-5 text-black  border border-white hover:text-white bg-[#B9EBC8] hover:bg-[#87b695] hover:ring-0 hover:border-white focus:bg-white focus:border-white focus:outline-none focus:ring-0 cursor-pointer",onClick:()=>{a(!1),A()},children:"Admin Log In"}),e.jsx("button",{className:"cypress_citizen_login py-2 px-4 text-sm w-full mb-1.5 text-center rounded leading-5 text-black  border border-white hover:text-white bg-[#B9EBC8] hover:bg-[#87b695] hover:ring-0 hover:border-white focus:bg-white focus:border-white focus:outline-none focus:ring-0 cursor-pointer",onClick:()=>{a(!1),P()},children:"Agency Log In"})]})]})})})]})})]}),e.jsxs("div",{onMouseLeave:()=>se(),style:{zIndex:999,fontSize:"1vw"},class:"px-4 hidden border-b border-b-gray-200 lg:flex lg:flex-row lg:flex-nowrap lg:items-center lg:justify-between lg:mt-0 lg:w-full",id:"desktp-menu",children:[e.jsx("span",{class:"hidden lg:flex items-center py-2 mr-4 text-xl",onClick:()=>{a(!1),i("/")},children:e.jsx("h2",{class:"text-2xl font-semibold px-4 overflow-hidden cursor-pointer flex items-center gap-2",children:e.jsx("span",{className:"text-white",children:O})})}),e.jsx("ul",{class:"flex flex-col lg:mx-auto mt-2 lg:flex-row lg:mt-0 text-white",onMouseLeave:()=>E(),children:(G=u==null?void 0:u.mainMenu)==null?void 0:G.map(n=>{var o,c;return e.jsx(e.Fragment,{children:e.jsxs("li",{className:"relative cursor-pointer py-1.5",children:[e.jsxs(f,{to:(n==null?void 0:n.route)==""?null:n==null?void 0:n.route,className:({isActive:r})=>{var l;return(r&&(n==null?void 0:n.route)!="#"&&((l=n==null?void 0:n.subMenu)==null?void 0:l.length)==0?"text-[#9dffbb] font-bold ":" ")+`${D} flex gap-2 items-center`},onMouseEnter:()=>{S(n==null?void 0:n.name),h==(n==null?void 0:n.name)&&b("")},children:[" ",e.jsx("span",{children:n==null?void 0:n.name})," "]}),((o=n==null?void 0:n.subMenu)==null?void 0:o.length)>0&&h==(n==null?void 0:n.name)&&e.jsx("ul",{style:{zIndex:999},class:"block md:absolute left-1/2 right-auto border-t-2 transform -translate-x-1/2 rounded top-full z-50 py-0.5 ltr:text-left rtl:text-right bg-white text-gray-700 shadow-md cursor-pointer",children:(c=n==null?void 0:n.subMenu)==null?void 0:c.map(r=>e.jsx(e.Fragment,{children:e.jsx("li",{class:"relative cursor-pointer py-1.5",children:e.jsx(f,{to:r==null?void 0:r.route,onClick:()=>w(`/${r==null?void 0:r.route}`),className:({isActive:l})=>(l?"text-[#9dffbb] font-bold ":" ")+`${R} flex gap-3 items-center`,children:e.jsx("span",{children:r==null?void 0:r.name})})})}))})]})})})}),e.jsxs("div",{class:"grid text-center lg:block my-4 lg:my-auto",children:[m?e.jsx(e.Fragment,{children:e.jsx("span",{class:"cypress_citizen_login animate-pulse py-2 px-4 text-sm inline-block text-center rounded leading-5 text-black  border border-white hover:text-white bg-blue-300 hover:bg-blue-600 hover:ring-0 hover:border-white focus:border-white focus:outline-none focus:ring-0 mr-2",children:"Loading..."})}):e.jsx(e.Fragment,{children:M}),d&&e.jsx("span",{className:"bg-amber-500 border border-white hover:text-gray-300 hover:bg-amber-600 hover:ring-0 hover:border-white focus:bg-amber-500 focus:border-amber-600 py-2 px-4 text-sm inline-block text-center rounded leading-5 text-gray-100  focus:outline-none focus:ring-0 cursor-pointer mr-2",onClick:()=>i("/landingDashboard"),children:t("tranCitizenLandingPage.dashboard.label")}),d&&e.jsx("span",{className:"bg-red-500 border border-white hover:text-gray-300 hover:bg-red-600 hover:ring-0 hover:border-white focus:bg-red-500 focus:border-red-600 py-2 px-4 text-sm inline-block text-center rounded leading-5 text-gray-100  focus:outline-none focus:ring-0 cursor-pointer mr-2",onClick:()=>N(),children:t("tranCitizenLandingPage.logOut.label")}),!d&&e.jsx("span",{class:"cypress_citizen_login py-2 px-4 text-sm inline-block text-center rounded leading-5 text-black  border border-white hover:text-white bg-[#B9EBC8] hover:bg-[#87b695] hover:ring-0 hover:border-white focus:bg-white focus:border-white focus:outline-none focus:ring-0 cursor-pointer mr-2",onClick:()=>i("/login"),children:"Citizen Login"}),e.jsx("span",{class:"cypress_citizen_login py-2 px-4 text-sm inline-block text-center rounded leading-5 text-black  border border-white hover:text-white bg-[#B9EBC8] hover:bg-[#87b695] hover:ring-0 hover:border-white focus:bg-white focus:border-white focus:outline-none focus:ring-0 cursor-pointer mr-2",onClick:()=>A(),children:t("tranCitizenLandingPage.adminLogIn.label")}),e.jsx("span",{class:"cypress_citizen_login py-2 px-4 text-sm inline-block text-center rounded leading-5 text-black  border border-white hover:text-white bg-[#B9EBC8] hover:bg-[#87b695] hover:ring-0 hover:border-white focus:bg-white focus:border-white focus:outline-none focus:ring-0 cursor-pointer mr-2",onClick:()=>P(),children:t("tranCitizenLandingPage.agencyLogIn.label")})]}),e.jsx("div",{className:"border-b border-b-gray-200 opacity-10"})]})]})})})}),e.jsx(p,{isOpen:x,onRequestClose:B,className:"z-20 h-screen w-screen backdrop-blur-sm flex flex-row justify-center items-center overflow-auto",contentLabel:"Example Modal",children:e.jsx("div",{className:"w-full sm:w-4/5 lg:3/5 mx-auto",children:e.jsxs("div",{className:"bg-gradient-to-b from-slate-500 to-slate-400 shadow-xl flex justify-center items-center relative",children:[e.jsx("button",{onClick:()=>B(),type:"button",class:"md:absolute top-6 right-6 bg-red-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-300 hover:border-none",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{className:"w-full px-4 mx-auto py-4 md:py-6 ",children:[e.jsx("div",{className:"w-full",children:e.jsx("div",{children:e.jsx("h2",{className:"text-xl font-medium text-center text-white ",children:"Choose Module To Login"})})}),e.jsx("div",{className:"my-10 relative",children:e.jsxs("div",{className:"grid gap-6 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4",children:[_&&e.jsx(ve,{}),!_&&Array.isArray(g)&&(g==null?void 0:g.map(n=>e.jsxs("div",{onClick:()=>window.location.replace(n==null?void 0:n.url),className:"bg-gray-100 select-none rounded-xl flex flex-col justify-center items-center p-4 md:p-6 relative cursor-pointer hover:scale-105 hover:shadow-md transition-all duration-150",href:"",children:[e.jsx("img",{className:"h-16 w-16 text-xs",src:oe(n==null?void 0:n.id)?we:n==null?void 0:n.image,onError:()=>ee(o=>[...o,n==null?void 0:n.id]),alt:n==null?void 0:n.title}),e.jsx("div",{className:"font-bold mt-4 text-center",children:n==null?void 0:n.title})]})))]})})]})]})})}),e.jsx(p,{isOpen:Y,onRequestClose:T,className:"z-20 h-screen w-screen backdrop-blur-sm flex flex-row justify-center items-center overflow-auto",contentLabel:"Example Modal",children:e.jsx("div",{className:"w-full sm:w-auto lg:auto mx-auto",children:e.jsxs("div",{className:"bg-white shadow-xl flex justify-center items-center relative",children:[e.jsx("button",{onClick:()=>T(),type:"button",class:"md:absolute top-6 right-6 bg-transparent bg-gray-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-200 hover:border-none",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{className:"w-full px-4 mx-auto py-4 md:py-6 ",children:[e.jsx("div",{className:"w-full",children:e.jsx("div",{children:e.jsx("h2",{className:"text-xl font-medium text-center",children:"Choose Agency To Login"})})}),e.jsx("div",{className:"my-10 relative",children:e.jsxs("div",{className:"grid gap-6 grid-cols-2 sm:grid-cols-2 lg:grid-cols-2",children:[e.jsx(W,{image:J,name:"Septic Tank Agency",route:"/agency"}),e.jsx(W,{image:J,name:"Water Tanker Agency",route:"/agency"})]})})]})]})})}),e.jsx(p,{isOpen:K,onRequestClose:F,className:"h-screen w-screen flex items-center justify-center",contentLabel:"Logout Modal",children:e.jsxs("div",{class:"relative rounded-lg shadow-lg p-10 w-max h-max backdrop-blur-sm bg-white animate__animated animate__slideInLeft animate__faster",children:[e.jsx("button",{onClick:F,type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{class:"p-6 text-center",children:[e.jsxs("div",{className:"w-full flex h-10",children:[" ",e.jsx("span",{className:"mx-auto",children:e.jsx(fe,{size:30})})]}),e.jsx("h3",{class:"mb-5 text-lg font-normal text-gray-500",children:"Are you sure to logout ?"}),e.jsx("button",{type:"button",class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",onClick:()=>N(),children:"Yes, I'm sure"})]})]})})]})}const ye=t=>({RightNavCloseStatus:t.RightNavCloseStatus,isLoggedIn:t.isLoggedIn}),Ne=t=>({RIGHT_NAV_OPEN:x=>t({type:"RIGHT_NAV_OPEN"}),LOGOUT:x=>t({type:"LOGOUT"}),RIGHT_NAV_CLOSE:x=>t({type:"RIGHT_NAV_CLOSE"})}),Re=de(ye,Ne)(je);export{Re as T};
