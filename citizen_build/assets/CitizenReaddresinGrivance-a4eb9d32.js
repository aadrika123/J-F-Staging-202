import{j as e}from"./mui-d8134288.js";import{u as a,r}from"./router-a70afc62.js";import{c as l,u as s,bZ as i,b_ as o,a3 as n,bO as t,b$ as d,E as c,r as m}from"./index-1c8a2e08.js";import"./axios-0f103e9d.js";import"./reactIcons-65f093d4.js";import"./materialTailwind-01b55b4e.js";import"./moment-494dae31.js";/* empty css                */import"./redux-c3344370.js";import"./i18next-524eea2d.js";const u=()=>{const{getCitizenComplainList:u}=c(),p=a(),h=[{Header:"#",Cell:({row:a})=>e.jsx("div",{className:"pr-2",children:a.index+1})},{Header:"Ward No",accessor:"ward_no"},{Header:"Complain No",accessor:"complain_no"},{Header:"Consumer Name",accessor:"consumer_name"},{Header:"Date",accessor:"date"},{Header:"Action",accessor:"id",Cell:({cell:a})=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"mt-1.5",children:e.jsx("span",{onClick:()=>{p(`/citizen-view-complain/${a.row.original.id}`)},className:"bg-sky-200 px-2 py-1 rounded-lg shadow-lg border border-white cursor-pointer hover:bg-sky-400",children:"View"})}),e.jsx("div",{className:" ",children:e.jsx("button",{onClick:()=>((e,a)=>{var r,l;const s=null==(r=null==a?void 0:a.original)?void 0:r.latitude,i=null==(l=null==a?void 0:a.original)?void 0:l.longitude;window.open(`https://www.google.com/maps?q=${s},${i}`,"_blank")})(0,a.row),className:"bg-sky-200 px-2 py-1 rounded-lg shadow-lg border border-white cursor-pointer hover:bg-sky-400 ",children:" View in Map"})})]})}],[b,f]=r.useState(),[x,w]=r.useState(0),[g,N]=r.useState(!1);r.useState(!1);const v=l({}),y=s({initialValues:{complainNo:" "},enableReinitialize:!0,onSubmit:(e,a)=>{var r;f({complainNo:null==(r=null==y?void 0:y.values)?void 0:r.complainNo,page:1,perPage:10}),w(e=>e+1)},validationSchema:v});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-full h-full ",children:e.jsx("div",{className:"overflow-y-auto max-h-screen",children:e.jsx("div",{className:"w-full  ",children:e.jsx("div",{className:" ",children:e.jsxs("div",{className:"w-full flex flex-col gap-5 justify-center items-center  transition-all duration-200",children:[e.jsx("aside",{className:" w-full bg-slate-50 shadow-md h-max",children:e.jsx(i,{value:y,children:e.jsxs(o,{onChange:e=>{"consumerNo"==e.target.name&&y.setFieldValue("complainNo",m(e.target.value,y.values.complainNo,20))},onSubmit:y.handleSubmit,children:[e.jsx("h1",{className:"text-xl font-semibold uppercase text-center text-gray-700 border-b border-gray-400 mb-4 pb-1",children:"Grievance Re-Addresser ( View Complain List )"}),e.jsxs("div",{className:"flex flex-row flex-wrap gap-x-4 items-center gap-y-2 pb-4 mb-2 border-b ml-3",children:[e.jsxs("div",{className:"w-full md:w-[25%] mx-3",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Enter Complain Number"," "," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{...y.getFieldProps("consumerNo"),type:"text",placeholder:"Enter Consumer Number",className:"h-10  w-full px-3 py-1 text-sm font-normal text-gray-700 bg-white bg-clip-padding border border-gray-400 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-400 shadow-md"})]}),e.jsx("div",{className:"mt-4 w-full  justify-center md:justify-start md:w-[30%] flex flex-row flex-wrap items-center gap-x-4 gap-y-2 md:mt-6",children:e.jsx("div",{className:"max-sm:w-full flex justify-center",children:g?e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex justify-center",children:e.jsx(n,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})})}):e.jsxs("button",{type:"submit",className:"py-2 max-sm:w-full flex items-center justify-center border border-green-600 bg-green-500 hover:bg-green-600 text-white shadow-md rounded-md  text-sm px-5",children:[e.jsx("span",{className:"",children:e.jsx(t,{fontSize:""})}),e.jsx("span",{children:"Search Record"})]})})})]})]})})}),e.jsx("div",{className:" w-full px-2",children:e.jsx("div",{className:" ",children:null!=b&&e.jsx(d,{api:u,columns:h,requestBody:b,changeData:x,search:!1})})})]})})})})})})};export{u as default};
