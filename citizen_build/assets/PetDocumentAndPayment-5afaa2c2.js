import{j as e}from"./mui-8e804a04.js";import{r as a,f as C,u as E}from"./router-87042356.js";import{m as h,A as F}from"./index-19682a6e.js";import"./index-4e794517.js";import"./RazorpayPaymentScreen-7e667066.js";import{F as I}from"./index.esm-f717eb21.js";import{P as V}from"./PetRegAPIList-bb1063ad.js";import{P as W}from"./PetRegDocUploadModal-5e863cba.js";import{P as B}from"./PetRegTopButtons-48d948a5.js";import{S as O}from"./ShimmerEffectInline-66ba2926.js";import{V as z}from"./ViewUploadedDoc-f648d701.js";import"./react-09dd1212.js";import"./axios-97164839.js";import"./reactIcons-6a3b6da1.js";import"./redux-4db06ad6.js";import"./i18next-e99b4042.js";import"./CitizenApplyApiList-70acccc5.js";import"./WaterApiList-e42e9d41.js";import"./index.esm-2e3a7c1f.js";const ce=G=>{var i;a.useState(0);const[f,n]=a.useState(!1),[t,N]=a.useState(),[g,j]=a.useState(),[b,o]=a.useState(!0),[y,T]=a.useState(0),[D,c]=a.useState(!1),[w,v]=a.useState(0),[S,P]=a.useState();a.useContext(h);const{id:l}=C(),{api_PetRegistrationDocUploadList:U,header1:R}=V(),{setBreadCrumbData:k}=a.useContext(h);a.useEffect(()=>{k(["Pet Registration","Upload Document"])},[]);const d=E(),A=s=>{s&&(P(s),v(r=>r+1))},p=()=>{o(!0),F.post(U,{applicationId:l},R).then(s=>{o(!1),s.data.status?N(s.data.data):c(!0)}).catch(s=>{console.log("Error while getting pet doc list",s),o(!1),c(!0)})};a.useEffect(()=>{p()},[y]);const M=s=>{n(!0),j(s),console.log("Document Upload click..",s)};return e.jsxs("div",{className:"mt-3",children:[e.jsx(B,{active:"document",consumerNo:t==null?void 0:t.ApplicationNo}),e.jsx(z,{openDocviewModal:w,documentUrl:S}),f&&e.jsx(W,{payloadData:g,refetch:p,applicationId:l,close:n}),e.jsxs("div",{className:"bg-white rounded-md shadow-sm py-2",children:[e.jsx("div",{className:"my-3",children:e.jsx("p",{className:"text-center text-2xl font-medium text-gray-800",children:"Pet Registration Document Upload"})}),b?e.jsxs("p",{className:"w-full",children:[" ",e.jsx(O,{})," "]}):e.jsxs("div",{className:"overflow-auto",children:[D==!0?e.jsx("p",{className:"m-auto font-semibold border border-gray-300 text-red-700 bg-red-100 px-5 py-2 rounded shadow w-fit",children:"Failed to Get Data"}):e.jsxs("table",{className:"w-full text-left text-gray-600",children:[e.jsx("thead",{className:"text-lg bg-gray-300 border-b-2",children:e.jsxs("tr",{className:"",children:[e.jsx("th",{className:"px-3 py-2",children:"Sl."}),e.jsx("th",{className:"px-3 py-2",children:"Document Name"}),e.jsx("th",{className:"px-3 py-2",children:"View "}),e.jsx("th",{className:"px-3 py-2",children:"Status"}),e.jsx("th",{className:"px-3 py-2",children:"Action"})]})}),e.jsx("tbody",{className:"",children:t&&((i=t==null?void 0:t.listDocs)==null?void 0:i.map((s,r)=>{var m,x;return e.jsxs("tr",{className:"hover:bg-sky-100 border-b",children:[e.jsx("td",{className:"px-3 py-2",children:r+1}),e.jsxs("td",{className:"px-3 py-2",children:[s.docName," ",s.isMandatory==1&&e.jsx("span",{className:"text-red-600",children:"*"})," "]}),e.jsxs("td",{className:"px-3 py-2",children:[((m=s==null?void 0:s.uploadedDoc)==null?void 0:m.docPath)&&e.jsx("img",{className:"h-8 cursor-pointer",onClick:()=>{var u;return A((u=s==null?void 0:s.uploadedDoc)==null?void 0:u.docPath)},src:(x=s==null?void 0:s.uploadedDoc)==null?void 0:x.docPath,alt:"images"}),!(s!=null&&s.uploadedDoc)&&"N/A"]}),e.jsx("td",{className:"px-3 py-2 text-base",children:s.uploadedDoc?"Uploaded":"Not Uploaded"}),e.jsx("td",{className:"py-2 border-b border-gray-200 text-sm",children:(t==null?void 0:t.paymentStatus)==1?e.jsx("p",{className:"text-base",children:"Submitted"}):e.jsxs("span",{className:"relative inline-block ",children:[e.jsx("span",{"aria-hidden":"true",className:"absolute inset-0 "}),e.jsx("span",{className:"relative ",onClick:()=>M(s),children:e.jsxs("label",{className:"cursor-pointer rounded-sm hover:rounded-sm hover:shadow-2xl hover:bg-blue-600 hover:ring-1 hover:ring-blue-800 bg-blue-500  shadow-lg flex pl-4 pr-5 py-2  text-white font-medium",htmlFor:"contained-button-file",children:[e.jsx(I,{size:16,className:"mt-0 ml-0 mr-2 font-medium"}),s.uploadedDoc?"Re-Upload":"Upload"]})})]})})]})}))})]}),(t==null?void 0:t.docUploadStatus)&&e.jsx("p",{className:"text-center mt-5 text-green-600 font-semibold",children:"All Documents are uploaded."})]}),e.jsxs("div",{className:"flex justify-center my-6 space-x-5",children:[e.jsx("button",{type:"button",onClick:()=>d("/pet-registration-dashboard"),className:"bg-indigo-500 px-5 py-1 text-white rounded shadow",children:"Back"}),(t==null?void 0:t.docUploadStatus)&&(t==null?void 0:t.paymentStatus)==0&&e.jsx("button",{onClick:()=>d(`/petPayment/${l}`),type:"submit",className:"bg-indigo-700 px-8 py-2 text-white rounded font-sans font-semibold shadow",children:"Pay Now"})]})]})]})};export{ce as default};
