import{j as e}from"./mui-d8134288.js";import{u as l,r}from"./router-a70afc62.js";import{c as a,u as d,bZ as s,b_ as t,a3 as i,bO as o,b$ as n,E as c,n as m,aI as u,m as h,bQ as p}from"./index-1c8a2e08.js";import{a as b}from"./axios-0f103e9d.js";import"./reactIcons-65f093d4.js";import"./materialTailwind-01b55b4e.js";import"./moment-494dae31.js";/* empty css                */import"./redux-c3344370.js";import"./i18next-524eea2d.js";const v=()=>{var v;const{getApartmentLists:f,getWardNoList:x,getApartmentConsumer:w}=c(),N=l(),g=[{Header:"Sl.No.",Cell:({row:l})=>e.jsx("div",{children:(null==l?void 0:l.index)+1})},{Header:"WARD NO.",accessor:"ward_no",Cell:({cell:e})=>{var l;return m(null==(l=e.row.original)?void 0:l.ward_no)}},{Header:"ADDRESS",accessor:"apt_address",Cell:({cell:e})=>{var l;return m(null==(l=e.row.original)?void 0:l.apt_address)}},{Header:"APARTMENT NAME",accessor:"apt_name",Cell:({cell:e})=>{var l;return null==(l=e.row.original)?void 0:l.apt_name},className:"w -[7%]"},{Header:"TOTAL DEMAND",accessor:"demandAmt",Cell:({cell:e})=>{var l;return u(null==(l=e.row.original)?void 0:l.demandAmt)}},{Header:"DEMAND UPTO",accessor:"demandUpto",Cell:({cell:e})=>{var l;return h(null==(l=e.row.original)?void 0:l.demandUpto)}},{Header:"STATUS",accessor:"",Cell:({cell:l})=>{var r;return e.jsx("div",{className:"font-semibold",children:e.jsx("div",{children:(null==(r=l.row.original)?void 0:r.demandAmt)<0?e.jsx("span",{className:"text-green-500",children:"Paid"}):e.jsx("span",{className:"text-red-500 ",children:"Unpaid"})})})}},{Header:"Action",Cell:({cell:l})=>e.jsx("div",{className:"flex items-center flex-wrap md:flex-nowrap flex-row gap-2 ",children:e.jsxs("button",{onClick:()=>{var e,r;N(`/apartments/${null==(r=null==(e=null==l?void 0:l.row)?void 0:e.original)?void 0:r.id}`)},className:"border border-sky-700 text-sky-700 w-24 py-1 rounded-sm shadow-md hover:shadow-xl hover:bg-sky-700 \r\n                    hover:text-white flex items-center justify-center gap-1 ",children:[e.jsx(p,{})," View"]})})}],[y,j]=r.useState(),[A,S]=r.useState(0),[C,D]=r.useState(!1),[k,H]=r.useState(),[T,E]=r.useState(!1),R=a({}),M=d({initialValues:{wardNo:"",apartment:""},enableReinitialize:!0,onSubmit:(e,l)=>{var r,a;j({wardNo:null==(r=null==M?void 0:M.values)?void 0:r.wardNo,id:null==(a=null==M?void 0:M.values)?void 0:a.apartment}),S(e=>e+1)},validationSchema:R});return r.useEffect(()=>{E(!0),b.post(x).then(e=>{E(!1),e.data.status&&H(e.data.data)}).catch(e=>{E(!1)})},[]),r.useEffect(()=>{var e,l;(null==(e=null==M?void 0:M.values)?void 0:e.wardNo)&&(E(!0),b.post(f,{wardNo:null==(l=null==M?void 0:M.values)?void 0:l.wardNo}).then(e=>{E(!1),e.data.status&&D(e.data.data)}).catch(e=>{E(!1)}))},[null==(v=null==M?void 0:M.values)?void 0:v.wardNo]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-full h-full",children:e.jsx("div",{className:"overflow-y-auto max-h-screen",children:e.jsx("div",{className:"w-full ",children:e.jsx("div",{className:" ",children:e.jsxs("div",{className:"w-full flex flex-col gap-5 justify-center items-center  transition-all duration-200",children:[e.jsx("aside",{className:" w-full bg-slate-50 shadow-md h-max",children:e.jsx(s,{value:M,children:e.jsxs(t,{onSubmit:M.handleSubmit,children:[e.jsx("h1",{className:"text-xl font-semibold uppercase text-center text-gray-700 border-b border-gray-400 mb-4 pb-1",children:"Search Apartments"}),e.jsxs("div",{className:"flex flex-row flex-wrap gap-x-4 items-center gap-y-2 pb-4 mb-2 border-b",children:[e.jsxs("div",{className:"w-full md:w-[25%] ml-3",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Ward No.",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...M.getFieldProps("wardNo"),className:(M.errors.searchBy?"text-red-400 font-semibold border border-solid border-red-400 placeholder-red-300 shadow-red-100 ":"text-gray-700 font-normal border border-solid border-gray-400 placeholder-gray-400 h-10")+" cursor-pointer w-full px-3 py-1 text-sm  bg-white bg-clip-padding rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-sm",children:[e.jsx("option",{value:"",children:"Select"}),null==k?void 0:k.map(l=>e.jsx("option",{value:l.id,children:l.name}))]})]}),e.jsxs("div",{className:"w-full md:w-[25%]",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Apartment",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...M.getFieldProps("apartment"),className:(M.errors.searchBy?"text-red-400 font-semibold border border-solid border-red-400 placeholder-red-300 shadow-red-100 ":"text-gray-700 font-normal border border-solid border-gray-400 placeholder-gray-400 h-10")+" cursor-pointer w-full px-3 py-1 text-sm  bg-white bg-clip-padding rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-sm",children:[e.jsx("option",{value:"",children:"Select"}),(null==C?void 0:C.length)>0&&(null==C?void 0:C.map(l=>e.jsx("option",{value:l.id,children:l.apt_name})))]})]}),e.jsx("div",{className:"mt-4 w-full  justify-center md:justify-start md:w-[30%] flex flex-row flex-wrap items-center gap-x-4 gap-y-2 md:mt-6",children:e.jsx("div",{className:"max-sm:w-full flex justify-center",children:T?e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex justify-center",children:e.jsx(i,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})})}):e.jsxs("button",{type:"submit",className:"py-2 max-sm:w-full flex items-center justify-center border border-green-600 bg-green-500 hover:bg-green-600 text-white shadow-md rounded-md  text-sm px-5",children:[e.jsx("span",{className:"",children:e.jsx(o,{fontSize:""})}),e.jsx("span",{children:"Search Record"})]})})})]})]})})}),e.jsx("div",{className:"w-full px-2 ",children:e.jsx("div",{className:"",children:null!=y&&e.jsx(n,{api:w,columns:g,requestBody:y,changeData:A,search:!1})})})]})})})})})})};export{v as default};
