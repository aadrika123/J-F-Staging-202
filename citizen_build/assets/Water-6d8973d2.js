import{j as e}from"./mui-d8134288.js";import{r as l,b as r,u as t}from"./router-a70afc62.js";import{ba as a,W as d,A as s}from"./index-1c8a2e08.js";import{H as o}from"./TradeApiListFile-de7f1ad3.js";import{p as n}from"./pdf-d17540cb.js";import{W as i,a as c,n as m,i as p}from"./WaterDocumentModalForOwner-d22baef7.js";import{V as h}from"./ViewUploadedDoc-4509c4de.js";import{W as x}from"./WaterPaymentModal-4b3d8ae4.js";import"./axios-0f103e9d.js";import"./reactIcons-65f093d4.js";import"./materialTailwind-01b55b4e.js";import"./moment-494dae31.js";/* empty css                */import"./redux-c3344370.js";import"./i18next-524eea2d.js";import"./index.esm-ecae21af.js";import"./success-39308b33.js";function b(){return e.jsx("div",{className:"bg-sky-200 w-12 h-12 flex justify-center items-center rounded-full p-2 shadow-xl border-2 border-white fixed bottom-20 right-10 hover:",children:e.jsx("img",{className:"w-10",src:"/assets/ringing-7be05542.png"})})}function g(){return e.jsx("div",{className:"w-full h-12 bg-green-50 shadow-lg px-2 flex items-center text-xs text-gray-500 relative overflow-hidden",children:e.jsx("span",{className:" absolute text-green-800",children:e.jsxs("span",{className:"text-red-800 ml-2",children:[e.jsx(a,{className:"inline text-sm"})," Please pay your water tax on time and avoid penalty. Pay before 10/12/2022"]})})})}function u(t){const[a,x]=l.useState(0),[b,g]=l.useState(0),[u,y]=l.useState(0);r.useState(!1);const[v,N]=l.useState(),[f,w]=l.useState(),[k,j]=l.useState(),[P,D]=l.useState(),{api_getDocList:A}=d();l.useEffect(()=>{C()},[t.uploadDocBtnId]);const C=()=>{s.post(A,{applicationId:null==t?void 0:t.uploadDocBtnId},o()).then(e=>{1==e.data.status&&(N(e.data.data.documentsList),w(e.data.data.ownersDocList))}).catch(e=>{})},W=e=>{e&&(D(e),y(e=>e+1))};return e.jsxs(e.Fragment,{children:[e.jsx(i,{openDocumentModal:a,payloadData:k,refetch:C}),e.jsx(c,{openDocumentModal:b,payloadData:k,refetch:C}),e.jsx(h,{openDocviewModal:u,documentUrl:P}),e.jsx("div",{className:"float-right m-3",children:e.jsx("button",{onClick:t.back,class:"py-2 px-4 inline-block text-center mb-3 rounded leading-5 text-gray-100 bg-indigo-500 border border-indigo-500 hover:text-white hover:bg-indigo-600 hover:ring-0 hover:border-indigo-600 focus:bg-indigo-600 focus:border-indigo-600 focus:outline-none focus:ring-0",children:"Back"})}),e.jsx("div",{children:e.jsx("h1",{class:"text-xl font-bold mt-3 mb-5 text-gray-600 ml-3",children:"Water Connection Document List+"})}),e.jsx("div",{className:"bg-white shadow-xl border border-sky-200 p-5 m-2 rounded-md",children:e.jsx("div",{className:"md:inline-block min-w-full overflow-hidden hidden",children:e.jsxs("table",{className:"min-w-full leading-normal border",children:[e.jsx("thead",{className:"bg-sky-100",children:e.jsxs("tr",{className:"font-semibold ",children:[e.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"#"}),e.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"Document Name"}),e.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"Remark"}),e.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"View"}),e.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800 text-center text-sm uppercase",children:"Status"}),e.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"Upload"})]})}),e.jsx("tbody",{children:null==v?void 0:v.map((l,r=1)=>{var a,d,s,o,i,c,h,b,g;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:r+1})}),e.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsxs("p",{className:"text-gray-900 whitespace-no-wrap",children:[null==l?void 0:l.docName,(null==l?void 0:l.isMadatory)&&e.jsx("span",{className:"text-red-500 font-semibold mx-1",children:"*"})]})}),e.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:null==(null==l?void 0:l.uploadDoc)?e.jsx("p",{className:"text-red-500",children:"Not Upload"}):e.jsxs("div",{children:[0==(null==(a=null==l?void 0:l.uploadDoc)?void 0:a.verify_status)&&e.jsx("p",{className:"text-green-700",children:"Pending"}),1==(null==(d=null==l?void 0:l.uploadDoc)?void 0:d.verify_status)&&e.jsx("p",{className:"text-green-700",children:"Verified"}),2==(null==(s=null==l?void 0:l.uploadDoc)?void 0:s.verify_status)&&e.jsx("p",{className:"text-red-700",children:"Rejected"})]})})}),e.jsx("td",{onClick:()=>{var e;return W(null==(e=null==l?void 0:l.uploadDoc)?void 0:e.doc_path)},className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("a",{href:"#",className:"block relative",children:[null==(null==l?void 0:l.uploadDoc)&&e.jsx("img",{alt:"profil",src:m,className:"mx-auto object-cover rounded-none h-10 w-10 cursor-not-allowed"}),"pdf"==(null==(i=null==(o=null==l?void 0:l.uploadDoc)?void 0:o.doc_path)?void 0:i.split(".").pop())&&e.jsx("img",{alt:"profil",src:n,className:"mx-auto object-cover rounded-none h-10 w-10 "}),"jpg"==(null==(h=null==(c=null==l?void 0:l.uploadDoc)?void 0:c.doc_path)?void 0:h.split(".").pop())&&e.jsx("img",{alt:"profil",src:p,className:"mx-auto object-cover rounded-none h-10 w-10 "}),"png"==(null==(g=null==(b=null==l?void 0:l.uploadDoc)?void 0:b.doc_path)?void 0:g.split(".").pop())&&e.jsx("img",{alt:"profil",src:p,className:"mx-auto object-cover rounded-none h-10 w-10 "})]})})})}),e.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsxs("p",{className:"text-center text-black font-medium",children:[null==l.uploadDoc&&e.jsx("p",{className:"bg-red-400 rounded-xl px-2 py-0.5",children:l.docStatus}),null!=l.uploadDoc&&e.jsx("p",{className:"bg-green-400 rounded-xl py-0.5",children:l.docStatus})]})}),e.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("button",{onClick:()=>(j({docName:l.docName,applicationId:null==t?void 0:t.uploadDocBtnId}),void x(e=>e+1)),className:"border px-4 py-2",children:"Upload"})})]})})})]})})}),e.jsx("div",{children:e.jsx("h1",{class:"text-xl font-bold my-5 text-gray-600 ml-3",children:"Owner Document List++"})}),e.jsx("div",{className:"bg-white shadow-xl border border-sky-200 p-5 m-2 rounded-md",children:e.jsx("div",{className:"md:inline-block min-w-full overflow-hidden hidden",children:e.jsxs("table",{className:"min-w-full leading-normal border",children:[e.jsx("thead",{className:"bg-sky-100",children:e.jsxs("tr",{className:"font-semibold ",children:[e.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"#"}),e.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"Document Name"}),e.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"Owner Name"}),e.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"Remark"}),e.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"View"}),e.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800 text-center text-sm uppercase",children:"Status"}),e.jsx("th",{scope:"col",className:"px-5 py-2 border-b border-gray-200 text-gray-800  text-left text-sm uppercase",children:"Upload"})]})}),e.jsx("tbody",{children:null==f?void 0:f.map((l,r=1)=>{var a,d,s,o,i,c,h,x,b;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:r+1})}),e.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsxs("p",{className:"text-gray-900 whitespace-no-wrap",children:[null==l?void 0:l.docName,(null==l?void 0:l.isMadatory)&&e.jsx("span",{className:"text-red-500 font-semibold mx-1",children:"*"})]})}),e.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:null==l?void 0:l.ownerName})}),e.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("p",{className:"text-gray-900 whitespace-no-wrap",children:null==(null==l?void 0:l.uploadDoc)?e.jsx("p",{className:"text-red-500",children:"Not Upload"}):e.jsxs("div",{children:[0==(null==(a=null==l?void 0:l.uploadDoc)?void 0:a.verify_status)&&e.jsx("p",{className:"text-green-700",children:"Pending"}),1==(null==(d=null==l?void 0:l.uploadDoc)?void 0:d.verify_status)&&e.jsx("p",{className:"text-green-700",children:"Verified"}),2==(null==(s=null==l?void 0:l.uploadDoc)?void 0:s.verify_status)&&e.jsx("p",{className:"text-red-700",children:"Rejected"})]})})}),e.jsx("td",{onClick:()=>{var e;return W(null==(e=null==l?void 0:l.uploadDoc)?void 0:e.doc_path)},className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("a",{href:"#",className:"block relative",children:[null==(null==l?void 0:l.uploadDoc)&&e.jsx("img",{alt:"profil",src:m,className:"mx-auto object-cover rounded-none h-10 w-10 cursor-not-allowed"}),"pdf"==(null==(i=null==(o=null==l?void 0:l.uploadDoc)?void 0:o.doc_path)?void 0:i.split(".").pop())&&e.jsx("img",{alt:"profil",src:n,className:"mx-auto object-cover rounded-none h-10 w-10 "}),"jpg"==(null==(h=null==(c=null==l?void 0:l.uploadDoc)?void 0:c.doc_path)?void 0:h.split(".").pop())&&e.jsx("img",{alt:"profil",src:p,className:"mx-auto object-cover rounded-none h-10 w-10 "}),"png"==(null==(b=null==(x=null==l?void 0:l.uploadDoc)?void 0:x.doc_path)?void 0:b.split(".").pop())&&e.jsx("img",{alt:"profil",src:p,className:"mx-auto object-cover rounded-none h-10 w-10 "})]})})})}),e.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsxs("p",{className:"text-center text-black font-medium",children:[null==l.uploadDoc&&e.jsx("p",{className:"bg-red-400 rounded-xl px-2 py-0.5",children:l.docStatus}),null!=l.uploadDoc&&e.jsx("p",{className:"bg-green-400 rounded-xl py-0.5",children:l.docStatus})]})}),e.jsx("td",{className:"px-5 py-2 border-b border-gray-200 bg-white text-sm",children:e.jsx("button",{onClick:()=>(j({docName:l.docName,applicationId:null==t?void 0:t.uploadDocBtnId,ownerId:l.ownerId}),void g(e=>e+1)),className:"border px-4 py-2",children:"Upload"})})]})})})]})})})]})}function y(r){const{api_citizenApplications:a,api_citizenApprovedApplications:o,header:n}=d(),[i,c]=l.useState(0),[m,p]=l.useState(0),[h,b]=l.useState(),[g,u]=l.useState(),[y,v]=l.useState(),[N,f]=l.useState(),[w,k]=l.useState(0),j=t();return l.useEffect(()=>{s.post(o,{},n).then(e=>{1==e.data.status&&u(e.data.data)}).catch(e=>{})},[w]),l.useEffect(()=>{s.post(a,{},n).then(e=>{1==e.data.status&&b(e.data.data)}).catch(e=>{})},[w]),e.jsxs(e.Fragment,{children:[e.jsx(x,{openPaymentModal:i,paymentData:y,refechList:()=>k(e=>e+1)}),e.jsxs("div",{children:[e.jsx("h1",{className:"px-2 font-semibold mt-0 text-center text-gray-900 font-serif py-2 md:text-2xl uppercase ",children:"Manage all your water connections at one place"}),e.jsx("p",{className:"border-b border-gray-300 mx-5"}),e.jsxs("div",{className:"float-right mt-2 mr-3",children:[" ",e.jsx("button",{onClick:()=>j("/water-apply"),className:"py-2 mx-2 px-4 inline-block text-center mb-3 rounded leading-5 text-gray-100 bg-sky-500 border border-sky-500 hover:text-white hover:bg-sky-600 hover:ring-0 hover:border-sky-600 focus:bg-sky-600 focus:border-sky-600 focus:outline-none focus:ring-2",children:"Apply New Connection"})," "]}),e.jsxs("div",{className:"px-2 w-full mt-10",children:[e.jsx("div",{className:"text-lg font-sans font-semibold text-gray-700 mx-2 my-2",children:"All Water Connections"}),null==g?void 0:g.map(l=>e.jsx("div",{className:"bg-white shadow-lg pb-2 oveflow-hidden mb-2 rounded-lg relative",children:e.jsxs("div",{className:"w-full py-8 rounded-lg  px-4 md:flex",children:[e.jsx("span",{className:"px-3 py-1 bg-green-200 border border-green-300 text-gray-700 text-xs font-semibold absolute rounded-tl-md rounded-br-md top-0 left-0 shadow-sm",children:"Active Water Connection "}),e.jsxs("div",{className:"w-full flex space-x-2 mt-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-700",children:null==l?void 0:l.consumer_no}),e.jsx("div",{className:"text-sm text-gray-600 font-serif",children:"Connection No."})]}),e.jsxs("div",{className:"pl-4",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:null==l?void 0:l.applicant_name}),e.jsx("div",{className:"text-sm text-gray-600 font-serif",children:"Owner Name"})]}),e.jsxs("div",{className:"pl-4",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:null==l?void 0:l.ward_name}),e.jsx("div",{className:"text-sm text-gray-600 font-serif",children:"Ward No"})]}),e.jsxs("div",{className:"pl-4",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:null==l?void 0:l.ulb_name}),e.jsx("div",{className:"text-sm text-gray-600 font-serif",children:"ULB Name"})]}),e.jsxs("div",{className:"pl-4",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:null==l?void 0:l.address}),e.jsx("div",{className:"text-sm text-gray-600 font-serif",children:"Address"})]})]}),e.jsx("div",{className:"float-right",children:e.jsxs("div",{className:"flex",children:[e.jsx("button",{onClick:()=>j(`/water/viewApplication/${null==l?void 0:l.consumer_no}`),className:"border text-sm bg-amber-400 hover:bg-amber-500 mx-2 my-2 px-3 py-2 rounded-md shadow-lg",children:" View Application"}),e.jsx("button",{className:"border text-sm bg-green-400 hover:bg-green-500 mx-2 my-2 px-3 py-2 rounded-md shadow-lg",children:" View Demand"})]})})]})}))]}),e.jsxs("div",{className:"px-2 w-full mt-10",children:[e.jsx("div",{className:"text-lg font-sans font-semibold text-gray-700 mx-2 my-2",children:"Applied Water Applications"}),null==h?void 0:h.map((l,t)=>e.jsx("div",{className:"bg-white shadow-lg pb-2 oveflow-hidden mb-2 rounded-lg relative",children:e.jsxs("div",{className:"w-full py-4 rounded-lg  px-4 md:flex",children:[e.jsx("span",{className:"px-3 py-1 bg-yellow-200 border border-yellow-300 text-gray-700 text-xs font-semibold absolute rounded-tl-md rounded-br-md top-0 left-0 shadow-sm",children:"Pending Application "}),e.jsxs("div",{className:"w-full flex space-x-2 mt-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-700",children:null==l?void 0:l.application_no}),e.jsx("div",{className:"text-xs text-gray-600 font-serif",children:"Application No."}),e.jsxs("div",{className:"text-xs text-gray-600 font-serif",children:["Ward No (ID) - ",null==l?void 0:l.ward_name," (",null==l?void 0:l.ward_id,")"]})]}),e.jsxs("div",{className:"pl-4",children:[e.jsxs("div",{className:"font-semibold text-gray-700",children:["â‚¹ ",null==l?void 0:l.amount]}),e.jsx("div",{className:"text-xs text-gray-600 font-serif",children:"Total Tax"})]}),e.jsx("p",{className:"border-r border-gray-600 md:pl-10"}),e.jsxs("div",{className:"w-full md:w-1/4 pl-2 text-xs",children:[e.jsx("div",{className:"font-semibold font-sans",children:"Actions"}),e.jsx("div",{className:"text-sm text-amber-500",children:" Document Upload Pending"}),e.jsx("div",(null==l?void 0:l.payment_status)?{className:"text-sm text-green-500",children:" Payment Completed"}:{className:"text-sm text-amber-500",children:" Waiting for Payment"})]}),e.jsxs("div",{className:"block",children:[e.jsx("button",{className:"border text-sm bg-blue-400 hover:bg-blue-500 mx-2 py-2 px-3 text-white font-sans font-normal rounded-md shadow-lg",children:" View Application"}),e.jsx("button",{onClick:()=>{return e=l.id,p(e=>e+1),f(e),void r.uploadDocId(e);var e},className:"border text-sm bg-indigo-400 hover:bg-indigo-500 py-2 mx-2 px-3 rounded-md text-white font-sans font-normal shadow-lg",children:" Upload Document"}),!(null==l?void 0:l.payment_status)&&e.jsx("button",{onClick:()=>{return e=l.id,r=l.type,c(e=>e+1),void v({id:e,type:r});var e,r},className:"border text-sm py-2 text-white font-sans font-normal bg-cyan-400 hover:bg-cyan-500 mx-2 px-3 rounded-md shadow-lg",children:" Pay Now"})]})]})]})}))]})]})]})}function v(){return e.jsxs("div",{children:[e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"mb-2 text-gray-700 font-sans font-semibold",children:"Notifications"}),e.jsx("div",{className:"bg-yellow-50 shadow-lg py-2 text-base  flex pl-4 items-center mt-2",children:"Property appication no 2083 has been approved"}),e.jsx("div",{className:"bg-yellow-50 shadow-lg py-2 text-base flex pl-4 items-center mt-2",children:"Property appication no 2083 has been approved"}),e.jsx("div",{className:"bg-yellow-50 shadow-lg py-2 text-base flex pl-4 items-center mt-2",children:"Property appication no 2083 has been approved"})]}),e.jsx("div",{className:"w-full h-1 border-b-2 border-white mt-10"}),e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"mb-2 text-gray-700 font-sans font-semibold",children:"Actions"}),e.jsxs("div",{className:"bg-yellow-50 shadow-lg py-2 text-base flex pl-4 items-center mt-2",children:["Pay your property tax ",e.jsx("span",{className:"ml-4 cursor-pointer bg-green-400 text-white px-2 py-1 text-base shadow-lg",children:"Pay"})]}),e.jsxs("div",{className:"bg-yellow-50 shadow-lg py-2 text-base flex pl-4 items-center mt-2",children:["Pay your property tax ",e.jsx("span",{className:"ml-4 cursor-pointer bg-green-400 text-white px-2 py-1 text-base shadow-lg",children:"Pay"})]}),e.jsxs("div",{className:"bg-yellow-50 shadow-lg py-2 text-base flex pl-4 items-center mt-2",children:["Pay your property tax ",e.jsx("span",{className:"ml-4 cursor-pointer bg-green-400 text-white px-2 py-1 text-base shadow-lg",children:"Pay"})]})]}),e.jsx("div",{className:"w-full h-1 border-b-2 border-white mt-10"}),e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"mb-2 text-gray-700 font-sans font-semibold",children:"Summary"}),e.jsxs("div",{className:"bg-yellow-50 shadow-lg py-2 text-base flex pl-4 items-center w-3/4 rounded-sm",children:["Total Property",e.jsx("span",{className:"ml-4 cursor-pointer bg-yellow-400 text-white px-2 py-1 text-base shadow-lg rounded-lg ",children:"2"})]}),e.jsxs("div",{className:"bg-yellow-50 shadow-lg py-2 text-base flex pl-4 items-center mt-2 w-3/4 rounded-sm",children:["Total Water",e.jsx("span",{className:"ml-4 cursor-pointer bg-yellow-400 text-white px-2 py-1 text-base shadow-lg rounded-lg ",children:"2"})]}),e.jsxs("div",{className:"bg-yellow-50 shadow-lg py-2 text-base flex pl-4 items-center mt-2 w-3/4 rounded-sm",children:["Total Trade",e.jsx("span",{className:"ml-4 cursor-pointer bg-yellow-400 text-white px-2 py-1 text-base shadow-lg rounded-lg ",children:"2"})]})]})]})}function N(){const[r,t]=l.useState();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-12 my-10",children:[e.jsxs("div",{className:"col-span-9 border rounded-md bg-blue-50",children:[!r&&e.jsx(y,{uploadDocId:e=>{t(e)}}),r&&e.jsx(u,{uploadDocBtnId:r,back:()=>t()})]}),e.jsxs("div",{className:"col-span-3 border rounded-md ml-3 bg-blue-50",children:[" ",e.jsx(v,{})," "]})]})})}function f(){return e.jsxs(e.Fragment,{children:[e.jsx(g,{}),e.jsx(N,{}),e.jsx(b,{})]})}export{f as default};
