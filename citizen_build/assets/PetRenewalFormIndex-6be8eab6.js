import{j as e}from"./mui-d8134288.js";import{f as l,r as a,u as d}from"./router-a70afc62.js";import{aN as t,c as s,d as i,u as n,A as r,Q as c}from"./index-1c8a2e08.js";import{h as o}from"./moment-494dae31.js";import{P as m}from"./PetRegAPIList-09ec3f04.js";import"./axios-0f103e9d.js";import"./reactIcons-65f093d4.js";import"./materialTailwind-01b55b4e.js";/* empty css                */import"./redux-c3344370.js";import"./i18next-524eea2d.js";const p="text-red-700 font-semibold",h="text-sm",u="block w-full h-9 border px-2 border-gray-300 rounded shadow text-gray-700",N=N=>{const{id:v}=l(),[x,b]=a.useState();a.useContext(t);const[g,y]=a.useState(!1),[f,w]=a.useState(!1),[F,A]=a.useState(!1),[R,D]=a.useState(),j=a.useRef(),V=d(),{header:L,api_PetApproveViewApplication:O,api_PetApplyRenewalForm:P,header1:S}=m(),C=s({doctorName:i().matches(/^[a-zA-Z0-9\s,.:-]+$/,"Special characters are not allowed").required("Kindly enter a value."),doctorRegNo:i().matches(/^[a-zA-Z0-9\s,.:-]+$/,"Special characters are not allowed").required("Kindly enter a value."),dateOfRabies:i().required("Kindly enter a value."),dateOfLepVaccine:i().required("Kindly enter a value.")}),T=n({initialValues:{doctorName:"",doctorRegNo:"",dateOfRabies:"",dateOfLepVaccine:""},enableReinitialize:!0,onSubmit:(e,l)=>{I(e)},validationSchema:C}),I=e=>{w(!0),r.post(P,{address:null==e?void 0:e.address,applyThrough:null==e?void 0:e.applyThrough,propertyNo:null==e?void 0:e.holdingNo,breed:null==e?void 0:e.breed,ownerCategory:null==e?void 0:e.categoryApplication,color:null==e?void 0:e.color,dateOfLepVaccine:null==e?void 0:e.dateOfLepVaccine,dateOfRabiesVac:null==e?void 0:e.dateOfRabies,doctorName:null==e?void 0:e.doctorName,doctorRegNo:null==e?void 0:e.doctorRegNo,mobileNo:null==e?void 0:e.mobileNo,panNo:null==e?void 0:e.panNo,petBirthDate:null==e?void 0:e.petBirthDate,petFrom:null==e?void 0:e.petFrom,petGender:null==e?void 0:e.petGender,petIdentity:null==e?void 0:e.petIdentity,petName:null==e?void 0:e.petName,petType:null==e?void 0:e.petType,ulbId:null==e?void 0:e.ulb,ward:null==e?void 0:e.ward,registrationId:v,applicantName:null==e?void 0:e.applicantName,mobileNo:null==e?void 0:e.mobileNo,email:null==e?void 0:e.email,panNo:null==e?void 0:e.panNo},L).then(e=>{var l,a,d;w(!1),e.data.status?(D(e.data.data),k(),c.success(null==(l=null==e?void 0:e.data)?void 0:l.message,"success")):(c.error(null==(a=null==e?void 0:e.data)?void 0:a.message,"error"),A(null==(d=null==e?void 0:e.data)?void 0:d.message))}).catch(e=>{var l,a;A(null==(a=null==(l=null==e?void 0:e.response)?void 0:l.data)?void 0:a.error),c.error("Something Went wrong","error"),w(!1)})},k=()=>{j.current.showModal()};return a.useEffect(()=>{r.post(O,{registrationId:v},S).then(e=>{e.data.status&&b(e.data.data)}).catch(e=>{})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:T.handleSubmit,onChange:e=>{A(!1)},children:[e.jsxs("div",{className:"overflow-y-auto mt-5",children:[e.jsx("div",{className:"col-span-12 ml-2 my-2",children:e.jsx("div",{className:"text-lg text-left text-gray-600 font-semibold",children:"# Property Details "})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 xl:grid-cols-5  bg-white shadow-md rounded-md py-2",children:[e.jsxs("div",{className:"m-3",children:[e.jsx("label",{className:h,htmlFor:"ulb",children:"ULB "}),e.jsx("input",{value:null==x?void 0:x.ulb_name,disabled:!0,type:"text",name:"ulb",className:u}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.ulb&&T.errors.ulb?T.errors.ulb:null})]}),e.jsxs("div",{className:"m-3",children:[e.jsx("label",{className:h,htmlFor:"applyThrough",children:"Apply Through "}),e.jsx("input",{disabled:!0,value:null==x?void 0:x.apply_through_name,type:"text",className:u}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.applyThrough&&T.errors.applyThrough?T.errors.applyThrough:null})]}),e.jsxs("div",{className:"m-3",children:[e.jsx("label",{className:h,htmlFor:"holdingNo",children:"Holding / SAF No."}),e.jsx("input",{disabled:!0,value:""==(null==x?void 0:x.holding_no)?null==x?void 0:x.saf_no:null==x?void 0:x.holding_no,type:"text",name:"holdingNo",className:u}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.holdingNo&&T.errors.holdingNo?T.errors.holdingNo:null})]}),e.jsxs("div",{className:"m-3",children:[e.jsx("label",{className:h,htmlFor:"categoryApplication",children:"Category of Application"}),e.jsx("input",{disabled:!0,value:null==x?void 0:x.application_type,type:"text",name:"holdingNo",className:u}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.categoryApplication&&T.errors.categoryApplication?T.errors.categoryApplication:null})]}),e.jsxs("div",{className:"m-3",children:[e.jsx("label",{className:h,htmlFor:"ward",children:"Ward Number"}),e.jsx("input",{type:"text",disabled:!0,value:null==x?void 0:x.ward_name,name:"ward",className:u}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.ward&&T.errors.ward?T.errors.ward:null})]})]}),e.jsx("div",{className:"col-span-12 ml-2 my-2",children:e.jsx("div",{className:"text-lg text-left text-gray-600 font-semibold",children:"# Applicant Details"})}),e.jsxs("div",{className:"bg-white shadow-md rounded-md py-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 ",children:[e.jsxs("div",{className:"m-3",children:[e.jsx("label",{className:h,htmlFor:"applicantName",children:"Name of Applicant"}),e.jsx("input",{disabled:!0,value:null==x?void 0:x.applicant_name,className:u}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.applicantName&&T.errors.applicantName?T.errors.applicantName:null})]}),e.jsxs("div",{className:"m-3",children:[e.jsx("label",{className:h,htmlFor:"mobileNo",children:"Mobile No"}),e.jsx("input",{disabled:!0,value:null==x?void 0:x.mobile_no,type:"number",name:"mobileNo",className:u}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.mobileNo&&T.errors.mobileNo?T.errors.mobileNo:null})]}),e.jsxs("div",{className:"m-3",children:[e.jsx("label",{className:h,htmlFor:"email",children:"Email"}),e.jsx("input",{disabled:!0,value:null==x?void 0:x.email,type:"email",name:"email",className:u}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.email&&T.errors.email?T.errors.email:null})]}),e.jsxs("div",{className:"m-3",children:[e.jsx("label",{className:h,htmlFor:"panNo",children:"PAN No."}),e.jsx("input",{disabled:!0,value:null==x?void 0:x.pan_no,type:"text",name:"panNo",className:u}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.panNo&&T.errors.panNo?T.errors.panNo:null})]})]}),e.jsxs("div",{className:"m-3",children:[e.jsx("label",{className:h,htmlFor:"address",children:"Address"}),e.jsx("textarea",{disabled:!0,value:null==x?void 0:x.address,name:"address",maxLength:"500",rows:"3",className:"block w-full border px-2 border-gray-300 rounded shadow"}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.address&&T.errors.address?T.errors.address:null})]})]}),e.jsx("div",{className:"col-span-12 ml-2 my-2",children:e.jsx("div",{className:"text-lg text-left text-gray-600 font-semibold",children:"# Pet Details"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 bg-white shadow-md rounded-md py-2",children:[e.jsxs("div",{className:"m-3",children:[e.jsx("label",{className:h,htmlFor:"petType",children:"Pet Type"}),e.jsx("input",{disabled:!0,value:null==x?void 0:x.ref_pet_type,className:u}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.petType&&T.errors.petType?T.errors.petType:null})]}),e.jsxs("div",{className:"m-3",children:[e.jsx("label",{className:h,htmlFor:"pet_name",children:"Name of Pet"}),e.jsx("input",{disabled:!0,value:null==x?void 0:x.pet_name,className:u}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.petName&&T.errors.petName?T.errors.petName:null})]}),e.jsxs("div",{className:"m-3",children:[e.jsx("label",{className:h,htmlFor:"petGender",children:"Gender"}),e.jsx("input",{disabled:!0,value:null==x?void 0:x.ref_gender,className:u}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.petGender&&T.errors.petGender?T.errors.petGender:null})]}),e.jsxs("div",{className:"m-3",children:[e.jsx("label",{className:h,htmlFor:"petBirthDate",children:"Date of Birth"}),e.jsx("input",{disabled:!0,value:o(null==x?void 0:x.dob).format("DD-MM-Y"),className:u}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.petBirthDate&&T.errors.petBirthDate?T.errors.petBirthDate:null})]}),e.jsxs("div",{className:"m-3",children:[e.jsx("label",{className:h,htmlFor:"breed",children:"Breed"}),e.jsx("input",{disabled:!0,value:null==x?void 0:x.breed,type:"text",name:"color",className:u}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.breed&&T.errors.breed?T.errors.breed:null})]}),e.jsxs("div",{className:"m-3",children:[e.jsx("label",{className:h,htmlFor:"color",children:"Color"}),e.jsx("input",{disabled:!0,value:null==x?void 0:x.color,type:"text",name:"color",className:u}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.color&&T.errors.color?T.errors.color:null})]}),e.jsxs("div",{className:"m-3",children:[e.jsxs("label",{className:h,htmlFor:"doctorName",children:["Veterinary Doctor Name",e.jsx("span",{className:p,children:"*"})]}),e.jsx("input",{...T.getFieldProps("doctorName"),type:"text",maxLength:"70",name:"doctorName",className:u}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.doctorName&&T.errors.doctorName?T.errors.doctorName:null})]}),e.jsxs("div",{className:"m-3",children:[e.jsxs("label",{className:h,htmlFor:"doctorRegNo",children:["Doctorâ€™s MSVC/VCI number ",e.jsx("span",{className:p,children:"*"})]}),e.jsx("input",{...T.getFieldProps("doctorRegNo"),type:"text",maxLength:"70",name:"doctorRegNo",className:u}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.doctorRegNo&&T.errors.doctorRegNo?T.errors.doctorRegNo:null})]}),e.jsxs("div",{className:"m-3",children:[e.jsxs("label",{className:h,htmlFor:"dateOfRabies",children:["Date of Rabies",e.jsx("span",{className:p,children:"*"})]}),e.jsx("input",{...T.getFieldProps("dateOfRabies"),type:"date",name:"dateOfRabies",className:u,max:(new Date).toISOString().split("T")[0]}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.dateOfRabies&&T.errors.dateOfRabies?T.errors.dateOfRabies:null})]}),e.jsxs("div",{className:"m-3",children:[e.jsxs("label",{className:h,htmlFor:"dateOfLepVaccine",children:["Leptospirosis Vaccination Date",e.jsx("span",{className:p,children:"*"})]}),e.jsx("input",{...T.getFieldProps("dateOfLepVaccine"),type:"date",name:"dateOfLepVaccine",className:u,max:(new Date).toISOString().split("T")[0]}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.dateOfLepVaccine&&T.errors.dateOfLepVaccine?T.errors.dateOfLepVaccine:null})]}),e.jsxs("div",{className:"m-3",children:[e.jsx("label",{className:h,htmlFor:"petFrom",children:"Pet From"}),e.jsx("input",{disabled:!0,value:null==x?void 0:x.occurrence_types,name:"PetFrom",className:u}),e.jsx("p",{className:"text-red-500 text-xs",children:T.touched.petFrom&&T.errors.petFrom?T.errors.petFrom:null})]})]})]}),e.jsxs("p",{className:"flex mt-3 gap-x-3",children:[e.jsx("input",{type:"checkbox",checked:g,name:"",id:"",onChange:e=>y(e.target.checked)}),e.jsx("p",{className:"cursor-pointer select-none",onClick:()=>y(!g),children:"I have entered the correct information and agree to the terms and conditions."})]}),e.jsx("p",{className:"text-red-500 font-semibold text-center mt-3",children:F}),e.jsx("div",{className:"flex justify-center my-5",children:f?e.jsx("p",{children:"Form Submitting.."}):e.jsx("button",{type:"submit",disabled:!g,className:"disabled:opacity-40 bg-indigo-600 hover:bg-indigo-700 px-8 py-2 text-white rounded shadow mb-10",children:"Submit Application"})})]}),e.jsx("dialog",{ref:j,className:"",children:e.jsxs("div",{className:"space-y-2 mb-5",children:[e.jsx("p",{className:"text-center bg-yellow-300 p-2 font-semibold ",children:" Your Application has submitted successfully"}),e.jsxs("p",{className:"text-center",children:["Application No.  ",e.jsx("span",{className:"font-semibold text-lg",children:(null==R?void 0:R.applicationNo)||"N/A"})]}),e.jsx("div",{className:"flex justify-center gap-x-5",children:e.jsx("button",{onClick:()=>V("/pet-registration-dashboard"),className:"border border-indigo-600 px-2 py-1 rounded shadow hover:bg-indigo-500 hover:text-white",children:"Dashboard"})})]})})]})};export{N as default};
