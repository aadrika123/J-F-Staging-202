import{j as e}from"./mui-d8134288.js";import{r as s,u as a,f as t}from"./router-a70afc62.js";import{z as r,c as o,d as l,aa as i,u as d,D as n,a3 as c,A as m,b as p,Q as x,r as w,E as u}from"./index-1c8a2e08.js";/* empty css              */import"./axios-0f103e9d.js";import"./reactIcons-65f093d4.js";import"./materialTailwind-01b55b4e.js";import"./moment-494dae31.js";/* empty css                */import"./redux-c3344370.js";import"./i18next-524eea2d.js";const h=h=>{const[f,g]=s.useState(!1),{api_changePassword:b,api_forgotPassword:y}=u();s.useContext(r);const N=a(),[v,P]=s.useState(),[j,C]=s.useState(!1),[E,S]=s.useState(null),{type:k}=t(),A=o().shape({oldPassword:l().when([],{is:()=>"change"==k,then:()=>l().required("Enter old password")}),newPassword:l().min(6,"Minimum six character !").max(50,"Too Long!").required("Enter new password !").matches(/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{6,}$/,"Password Must Contains (Capital, Smail, Number, Special) eg - Abc123#."),matchNewPassword:l().required("Confirm your new password").oneOf([i("newPassword"),null],"Password not match")}),D=d({initialValues:{oldPassword:"",newPassword:"",matchNewPassword:""},onSubmit:(e,s)=>{T(e)},validationSchema:A}),T=e=>{let s={password:e.oldPassword,newPassword:e.newPassword};g(!0),m.post("change"==k?b:y,s,p()).then(e=>{var s,a;1==(null==(s=null==e?void 0:e.data)?void 0:s.status)&&(x.success("Password changed successfully !!!"),N("change"==k?"/landingDashboard":"/login")),0==(null==(a=null==e?void 0:e.data)?void 0:a.status)&&z(!0,"Error occured. Please try again later."),g(!1)}).catch(e=>{z(!0,"Error occured. Please try again later."),g(!1)})},z=(e,s)=>{S(s),C(e)};return e.jsxs(e.Fragment,{children:[j&&e.jsx(n,{activateBottomErrorCard:z,errorTitle:E}),e.jsx("div",{className:"w-full text-center mx-auto h-max relative",children:e.jsx("div",{className:"w-full h-max mx-auto rounded-lg ",children:e.jsx("form",{onChange:e=>{"mobile"==e.target.name&&D.setFieldValue("mobile",w(e.target.value,D.values.mobile,10))},children:e.jsxs("div",{className:"grid grid-cols-12 px-4 md:px-0 shadow-none md:shadow-lg ",children:[e.jsx("div",{className:"col-span-6 hidden md:block bg-white py-10",children:e.jsx("img",{className:"w-3/4",src:"/assets/login-46b9cc9d.svg"})}),e.jsx("div",{className:"w-full md:px-10 col-span-12 md:col-span-6 shadow-lg md:shadow-none bg-white py-10",children:e.jsxs("div",{className:"px-6 py-6 mt-10 text-gray-700 md:px-14",children:[e.jsx("h1",{className:"text-center font-semibold my-1 flex justify-center",children:e.jsxs("span",{className:"px-1 text-indigo-500 text-semibold text-2xl poppins uppercase",children:[k," Password"]})}),"change"==k&&e.jsxs("div",{className:"my-3 relative text-sm",children:[e.jsx("div",{className:"text-gray-600 static mb-1 font-semibold text-left poppins",children:"Old Password"}),e.jsxs("div",{className:"flex flex-row flex-wrap gap-x-2 gap-y-2",children:[e.jsx("input",{type:"password",...D.getFieldProps("oldPassword"),className:"form-control px-3 text-xs 2xl:text-sm py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md poppins w-full",placeholder:"Enter Your Old Password"}),e.jsx("div",{className:"w-full text-start",children:e.jsx("span",{className:"text-red-600 text-xs poppins text-start",children:D.touched.oldPassword&&D.errors.oldPassword?D.errors.oldPassword:null})})," "]})]}),e.jsxs("div",{className:"my-3 relative text-sm",children:[e.jsx("div",{className:"text-gray-600 static mb-1 font-semibold text-left poppins",children:"New Password"}),e.jsxs("div",{className:"flex flex-row flex-wrap gap-x-2 gap-y-2",children:[e.jsx("input",{type:"password",...D.getFieldProps("newPassword"),className:"form-control px-3 text-xs 2xl:text-sm py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md poppins w-full",placeholder:"Enter Your New Password"}),e.jsx("div",{className:"w-full text-start",children:e.jsx("span",{className:"text-red-600 text-xs poppins text-start",children:D.touched.newPassword&&D.errors.newPassword?D.errors.newPassword:null})})," "]})]}),e.jsxs("div",{className:"my-3 relative text-sm",children:[e.jsx("div",{className:"text-gray-600 static mb-1 font-semibold text-left poppins",children:"Confirm New Password"}),e.jsxs("div",{className:"flex flex-row flex-wrap gap-x-2 gap-y-2",children:[e.jsx("input",{type:"password",...D.getFieldProps("matchNewPassword"),className:"form-control px-3 text-xs 2xl:text-sm py-1 font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md poppins w-full",placeholder:"Confirm your new password"}),e.jsx("div",{className:"w-full text-start",children:e.jsx("span",{className:"text-red-600 text-xs poppins text-start",children:D.touched.matchNewPassword&&D.errors.matchNewPassword?D.errors.matchNewPassword:null})})," "]})]}),e.jsx("div",{className:" my-10"}),e.jsx("div",{className:"text-center mt-3 text-xs"}),e.jsxs("div",{className:"my-5   relative",children:[e.jsxs("div",{className:"text-red-600 text-sm font-semibold my-3 ",children:[" ",e.jsxs("span",{className:"",children:[" ",v]})]}),f?e.jsx("div",{className:"flex w-full justify-center",children:e.jsx(c,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):e.jsx("button",{type:"submit",onClick:D.handleSubmit,disabled:f,className:" bg-indigo-500 hover:bg-indigo-700 px-5 shadow-xl py-2 w-[16rem]  rounded-md text-white text-md font-semibold",children:"Submit"})]})]})})]})})})})]})};export{h as default};
