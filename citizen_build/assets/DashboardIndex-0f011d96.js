import{j as l}from"./mui-d8134288.js";import{u as e,r as a}from"./router-a70afc62.js";import{u as n,A as o,X as i,Q as r,k as d,m as s,aO as t,a3 as c,E as u,b as m,aP as p,aQ as v,n as g,aR as f,aS as x,aT as h}from"./index-1c8a2e08.js";import{u as b}from"./user-9843d999.js";import{G as y}from"./reactIcons-65f093d4.js";import{R as w}from"./index.esm-449e63b8.js";import{b as N}from"./UsefulFunctions-a3e1d6b3.js";import{m as k}from"./marriage_bg-b98ec373.js";/* empty css              */import{w as C,t as j,a as _,s as L,b as D,p as P}from"./septic-0b8add4b.js";import"./axios-0f103e9d.js";import"./materialTailwind-01b55b4e.js";import"./moment-494dae31.js";/* empty css                */import"./redux-c3344370.js";import"./i18next-524eea2d.js";import"./sweetalert2.esm.all-cfc94e76.js";function A(l){return y({tag:"svg",attr:{viewBox:"0 0 32 32"},child:[{tag:"path",attr:{d:"M 16 1.25 L 15.1875 2.4375 C 15.1875 2.4375 14.648438 3.191406 14.125 4.09375 C 13.863281 4.546875 13.617188 5.019531 13.40625 5.5 C 13.195313 5.980469 13 6.421875 13 7 C 13 8.644531 14.355469 10 16 10 C 17.644531 10 19 8.644531 19 7 C 19 6.421875 18.804688 5.980469 18.59375 5.5 C 18.382813 5.019531 18.136719 4.546875 17.875 4.09375 C 17.351563 3.191406 16.8125 2.4375 16.8125 2.4375 Z M 16 10 L 13 10 L 13 14 L 7 14 C 4.789063 14 3 15.789063 3 18 C 3 19.015625 3.375 19.949219 4 20.65625 L 4 28 L 28 28 L 28 20.65625 C 28.625 19.949219 29 19.015625 29 18 C 29 15.789063 27.210938 14 25 14 L 19 14 L 19 10 Z M 16 4.875 C 16.066406 4.984375 16.058594 4.976563 16.125 5.09375 C 16.363281 5.503906 16.617188 5.941406 16.78125 6.3125 C 16.945313 6.683594 17 7.027344 17 7 C 17 7.554688 16.554688 8 16 8 C 15.445313 8 15 7.554688 15 7 C 15 7.027344 15.054688 6.683594 15.21875 6.3125 C 15.382813 5.941406 15.636719 5.503906 15.875 5.09375 C 15.941406 4.976563 15.933594 4.984375 16 4.875 Z M 15 12 L 17 12 L 17 14 L 15 14 Z M 7 16 L 25 16 C 26.191406 16 27 16.808594 27 18 C 27 19.191406 26.191406 20 25 20 C 23.808594 20 23 19.191406 23 18 L 21 18 C 21 19.191406 20.191406 20 19 20 C 17.808594 20 17 19.191406 17 18 L 15 18 C 15 19.191406 14.191406 20 13 20 C 11.808594 20 11 19.191406 11 18 L 9 18 C 9 19.191406 8.191406 20 7 20 C 5.808594 20 5 19.191406 5 18 C 5 16.808594 5.808594 16 7 16 Z M 10 20.65625 C 10.734375 21.484375 11.804688 22 13 22 C 14.195313 22 15.265625 21.484375 16 20.65625 C 16.734375 21.484375 17.804688 22 19 22 C 20.195313 22 21.265625 21.484375 22 20.65625 C 22.734375 21.484375 23.804688 22 25 22 C 25.347656 22 25.679688 21.925781 26 21.84375 L 26 26 L 6 26 L 6 21.84375 C 6.320313 21.925781 6.652344 22 7 22 C 8.195313 22 9.265625 21.484375 10 20.65625 Z"}}]})(l)}const T=()=>{const{api_getProfileDetails:p,api_EditMyProfile:v}=u();e();const g="rounded-full drop-shadow-md border p-1.5 bg-indigo-500 text-white font-bold text-lg",[f,x]=a.useState(null),[h,y]=a.useState(b),[k,C]=a.useState(null),[j,_]=a.useState(!1);a.useEffect(()=>{o.post(p,{},m()).then(l=>{var e,a,n,o;(null==(e=null==l?void 0:l.data)?void 0:e.status)&&(x(null==(a=null==l?void 0:l.data)?void 0:a.data),y(null==(o=null==(n=null==l?void 0:l.data)?void 0:n.data)?void 0:o.profile_photo))}).catch(l=>{})},[]);const L=a.useRef(),D=n({initialValues:{name:null==f?void 0:f.user_name,mobile:null==f?void 0:f.mobile,email:null==f?void 0:f.email,dob:null==f?void 0:f.dob,gender:null==f?void 0:f.gender,photo:""},enableReinitialize:!0,onSubmit:l=>{P(l)}}),P=l=>{let e=new FormData;e.append("name",null==l?void 0:l.name),e.append("mobile",null==l?void 0:l.mobile),e.append("email",null==l?void 0:l.email),e.append("dob",null==l?void 0:l.dob),e.append("gender",null==l?void 0:l.gender),""!=l.photo&&null!=k&&e.append("photo",k),_(!0),o.post(v,e,i()).then(function(l){var e;1==l.data.status?(r.success("Your profile updated Successfully"),L.current.close()):r.error(d(null==(e=null==res?void 0:res.data)?void 0:e.message))}).catch(function(l){r.error("Something went wrong! Please try again later.")}).finally(()=>{_(!1)})};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-full grid grid-cols-12 bg-cover bg-blend-overlay",children:[l.jsx("div",{className:"col-span-12 flex justify-center py-4 pt-10 bg-gray-100",children:l.jsx("img",{src:h,onError:()=>y(b),alt:"",srcset:"",className:" border-4 rounded-full drop-shadow-md bg-zinc-700 w-32 md:w-40 p-1"})}),l.jsxs("div",{className:"col-span-12 flex flex-col items-center justify-center bg-gray-100 border-b-2 border-gray-200 mb-6",children:[l.jsx("span",{className:"text-3xl font-semibold mb-4 pb-6",children:null==f?void 0:f.name}),l.jsxs("div",{className:"w-full flex flex-col gap-1 p-4 py-6 bg-gray-50",children:[l.jsxs("span",{className:"text-sm flex items-center gap-2",children:[l.jsx("span",{className:g,children:l.jsx(A,{})}),s(null==f?void 0:f.dob)]}),l.jsxs("span",{className:"text-sm flex items-center gap-2",children:[l.jsx("span",{className:g,children:l.jsx(t,{})}),null==f?void 0:f.mobile]})]})]})]}),l.jsxs("dialog",{ref:L,className:"backdrop:backdrop-brightness-75 w-full md:w-[50vw] animate__animated animate__zoomIn animate__faster relative drop-shadow-lg p-0 focus:outline-none",children:[l.jsx("button",{type:"button",className:"absolute top-2 right-2 bg-red-500 font-bold text-base rounded-full p-1 text-white  hover:bg-red-600 ",onClick:()=>L.current.close(),children:l.jsx(w,{})}),l.jsxs("div",{class:"grid grid-cols-12 ",children:[l.jsx("div",{class:"col-span-12 md:col-span-5 w-full",children:l.jsx("img",{className:" bg-gray-700 shadow-xl",src:h,onError:()=>y(b),alt:""})}),l.jsxs("form",{onSubmit:D.handleSubmit,onChange:l=>{if("photo"==l.target.name){let e=l.target.files[0];if(!N(e))return void D.setFieldValue("photo","");C(e)}},class:"col-span-12 md:col-span-7 flex flex-wrap flex-row text-sm",children:[l.jsx("h1",{className:"w-full text-2xl font-bold border-b mb-2 px-4 pt-5",children:"Edit Profile"}),l.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/2",children:[l.jsx("label",{class:"inline-block mb-2",children:"Name"}),l.jsx("input",{type:"text",...D.getFieldProps("name"),class:"w-full leading-5 relative py-2 px-4 rounded text-gray-800 bg-white border border-gray-300 overflow-x-auto focus:outline-none focus:border-gray-400 focus:ring-0 darks:text-gray-300 darks:bg-gray-700 darks:border-gray-700 darks:focus:border-gray-600"}),l.jsx("span",{className:"text-red-600 absolute text-xs",children:D.touched.name&&D.errors.name?D.errors.name:null})]}),l.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/2",children:[l.jsx("label",{class:"inline-block mb-2",children:"Mobile No."}),l.jsx("input",{...D.getFieldProps("mobile"),disabled:!0,type:"text",class:"w-full leading-5 relative py-2 px-4 rounded text-gray-800 bg-gray-50 border border-gray-300 overflow-x-auto focus:outline-none focus:border-gray-400 focus:ring-0 darks:text-gray-300 darks:bg-gray-700 darks:border-gray-700 darks:focus:border-gray-600"}),l.jsx("span",{className:"text-red-600 absolute text-xs",children:D.touched.mobile&&D.errors.mobile?D.errors.mobile:null})]}),l.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/2",children:[l.jsx("label",{class:"inline-block mb-2",children:"Email"}),l.jsx("input",{...D.getFieldProps("email"),disabled:!0,type:"email",class:"w-full leading-5 relative py-2 px-4 rounded text-gray-800 bg-gray-50 border border-gray-300 overflow-x-auto focus:outline-none focus:border-gray-400 focus:ring-0 darks:text-gray-300 darks:bg-gray-700 darks:border-gray-700 darks:focus:border-gray-600"}),l.jsx("span",{className:"text-red-600 absolute text-xs",children:D.touched.email&&D.errors.email?D.errors.email:null})]}),l.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/2",children:[l.jsx("label",{class:"inline-block mb-2",children:"DOB"}),l.jsx("input",{...D.getFieldProps("dob"),type:"date",class:"w-full leading-5 relative py-2 px-4 rounded text-gray-800 bg-white border border-gray-300 overflow-x-auto focus:outline-none focus:border-gray-400 focus:ring-0 darks:text-gray-300 darks:bg-gray-700 darks:border-gray-700 darks:focus:border-gray-600 cursor-pointer"}),l.jsx("span",{className:"text-red-600 absolute text-xs",children:D.touched.dob&&D.errors.dob?D.errors.dob:null})]}),l.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/2",children:[l.jsx("label",{class:"inline-block mb-2",children:"Gender"}),l.jsxs("select",{...D.getFieldProps("gender"),class:"w-full leading-5 relative py-2 px-4 rounded text-gray-800 bg-white border border-gray-300 overflow-x-auto focus:outline-none focus:border-gray-400 focus:ring-0 darks:text-gray-300 darks:bg-gray-700 darks:border-gray-700 darks:focus:border-gray-600 cursor-pointer",children:[l.jsx("option",{children:"Select"}),l.jsx("option",{value:"Male",children:"Male"}),l.jsx("option",{value:"Female",children:"Female"}),l.jsx("option",{value:"Other",children:"Other"})]}),l.jsx("span",{className:"text-red-600 absolute text-xs",children:D.touched.gender&&D.errors.gender?D.errors.gender:null})]}),l.jsxs("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/2",children:[l.jsx("label",{class:"inline-block mb-2",children:"Photo"}),l.jsx("input",{...D.getFieldProps("photo"),type:"file",class:"w-full leading-5 relative py-2 px-4 rounded text-gray-800 bg-white border border-gray-300 overflow-x-auto focus:outline-none focus:border-gray-400 focus:ring-0 darks:text-gray-300 darks:bg-gray-700 darks:border-gray-700 darks:focus:border-gray-600"}),l.jsx("span",{className:"text-red-600 absolute text-xs",children:D.touched.photo&&D.errors.photo?D.errors.photo:null})]}),l.jsx("div",{class:"w-full flex justify-end items-center px-4 gap-4",children:j?l.jsx("div",{className:"flex justify-center",children:l.jsx(c,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",class:"py-1.5 text-xs px-4 inline-block text-center rounded leading-5 text-gray-800 bg-gray-100 border border-gray-100 hover:text-gray-900 hover:bg-gray-200 hover:ring-0 hover:border-gray-200 focus:bg-gray-200 focus:border-gray-200 focus:outline-none focus:ring-0 ltr:mr-2 rtl:ml-2",onClick:()=>L.current.close(),children:"Close"}),l.jsx("button",{type:"submit",class:"py-1.5 text-xs px-4 inline-block text-center rounded leading-5 text-gray-100 bg-indigo-500 border border-indigo-500 hover:text-white hover:bg-indigo-600 hover:ring-0 hover:border-indigo-600 focus:bg-indigo-600 focus:border-indigo-600 focus:outline-none focus:ring-0",children:"Update"})]})})]})]})]})]})},M="/assets/house-91e8f968.gif",S=a=>(e(),l.jsx(l.Fragment,{children:l.jsx("div",{className:"poppins flex items-center gap-2 bg-white hover:drop-shadow-lg cursor-pointer border border-slate-200 py-2 text-xs 2xl:text-sm transition-all duration-500 px-2 my-2 flex-row flex-wrap justify-between",children:l.jsxs("div",{className:"poppins",children:["ðŸ””Â Â ",null==a?void 0:a.message]})})})),F=({style:e=""})=>l.jsx(l.Fragment,{children:l.jsx("div",{className:"bg-slate-100 relative animate__animated animate__fadeIn animate__faster grid grid-cols-12 poppins text-gray-800 h-full p-4 border-l",children:l.jsxs("div",{className:"poppins mds:col-span-6 col-span-12 pb-4",children:[l.jsxs("div",{className:"font-semibold flex flex-row items-center gap-2 text-indigo-800 mt-2 2xl:mb-4 mb-2 2xl:text-lg text-sm poppins",children:[l.jsx("span",{className:null==e?void 0:e.symbol,children:l.jsx(p,{})})," Current Notifications"]}),l.jsx(S,{message:"You have a new notification.",action:""}),l.jsx(S,{message:"You have a new notification.",action:""}),l.jsx(S,{message:"You have a new notification.",action:""}),l.jsx(S,{message:"You have a new notification.",action:""})]})})}),O=({data:n=""})=>{var o,i,r,d,t,c,u,m,p,b,y,N,k,C;Array.isArray(null==n?void 0:n.owners)&&(C=null==n?void 0:n.owners[0]);const[j,_]=a.useState(null),[L,D]=a.useState(M),P=e();a.useEffect(()=>{var l,e,a,o;if(Array.isArray(null==n?void 0:n.geotags)){const i=null==(l=null==n?void 0:n.geotags)?void 0:l.filter(l=>1==v("front",null==l?void 0:l.direction_type));_(i[0]),(null==(e=null==n?void 0:n.geotags)?void 0:e.length)>0&&""!=(null==(a=i[0])?void 0:a.image_path)&&D(null==(o=i[0])?void 0:o.image_path)}},[n]);let A={css1:"font-semibold w-full md:w-[48%] flex flex-wrap h-max gap-x-2 ",buttonStyle:l=>`bg-${l}-400 hover:bg-${l}-500 px-4 py-1 text-sm drop-shadow-md`,symbol:"rounded-full drop-shadow-md border p-2 bg-indigo-500 text-white font-bold text-xl"};const T=(e,a)=>l.jsxs("h1",{className:"w-full text-xl font-bold flex items-center gap-2 py-1",children:[l.jsx("span",{className:null==A?void 0:A.symbol,children:e})," ",a]}),S=(e,a,n="")=>l.jsxs("div",{className:`${A.css1}`,children:[" ",l.jsxs("span",{className:"col-span-6 ",children:[e," : "]})," ",l.jsx("span",{className:"col-span-6 font-normal",children:""==n?g(a):s(a)})," "]}),O=[{key:"Name                    ",value:g(null==C?void 0:C.owner_name)},{key:`${(l=>{switch(l){case"S/O":case"D/O":return"Father's";case"W/O":return"Husband's";default:return"Guardian's"}})(null==C?void 0:C.relation_type)} Name   `,value:g(null==C?void 0:C.guardian_name)},{key:"Gender                  ",value:g(null==C?void 0:C.gender)},{key:"Address                 ",value:g(null==n?void 0:n.property_address)},{key:"Mobile No.              ",value:g(null==C?void 0:C.mobile_no)},{key:"Is Senior Citizen       ",value:g(null==C?void 0:C.is_senior_citizen)},{key:"Is Specially Abled      ",value:g(null==C?void 0:C.is_specially_abled)},{key:"Is Armed Force          ",value:g(null==C?void 0:C.is_armed_force)}],$=[{key:"Holding No.     ",value:""==(null==n?void 0:n.new_holding_no)?null==n?void 0:n.holding_no:null==n?void 0:n.new_holding_no},{key:"Holding Date    ",value:s(null==n?void 0:n.holding_date)},{key:"Ward No.        ",value:""==(null==n?void 0:n.new_ward_no)?null==n?void 0:n.ward_no:null==n?void 0:n.new_ward_no},{key:"Ownership Type  ",value:g(null==n?void 0:n.ownership_type)},{key:"Property Type   ",value:g(null==n?void 0:n.property_type)},{key:"Holding Type    ",value:g(null==n?void 0:n.holding_type)},{key:"Area of Plot    ",value:g(null==n?void 0:n.area_of_plot)},{key:"Road Width      ",value:g(null==n?void 0:n.road_width)}],H=[{key:"Name",value:"owner_name"},{key:"Mobile No.",value:"mobile_no"}],E=[{key:"Floor",value:"floor_name"},{key:"Usage Type",value:"usage_type"},{key:"Occupancy Type",value:"occupancy_type"},{key:"Construction Type",value:"construction_type"},{key:"Build Up Area",value:"builtup_area"},{key:"From Date",value:"date_from",type:"date"},{key:"Upto Date",value:"date_upto",type:"date"}],I=[{key:"License No.",value:"license_no"},{key:"Valid From",value:"valid_from",type:"date"},{key:"Valid Upto",value:"valid_upto",type:"date"}],W=[{key:"Connection No.",value:"consumer_no"}];return l.jsx(l.Fragment,{children:l.jsxs("div",{className:"grid grid-cols-12 text-zinc-700 bg-white border-2 border-indigo-200 shadow-lg shadow-indigo-100 mb-10",children:[l.jsxs("div",{className:"col-span-12 grid grid-cols-12 bg py-2 px-4 row-span-3 items-center",children:[l.jsxs("div",{className:"col-span-12 md:col-span-8 text-xl md:text-2xl font-bold items-center flex gap-x-1",children:[l.jsx("span",{className:"text-indigo-600 w-[20%]",children:"Located At:"})," ",l.jsx("span",{className:"font-normal ml-2 text-base w-[79%]",children:g(null==n?void 0:n.property_address)})]}),l.jsxs("div",{className:"col-span-12 md:col-span-4 text-lg md:text-xl font-bold text-end flex md:justify-end items-center",children:["Status:",(null==(o=null==n?void 0:n.demands)?void 0:o.is_due)?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"bg-red-500 text-white rounded-full p-1 text-base ml-2 mr-1",children:l.jsx(w,{})})," ",l.jsxs("span",{className:"font-normal text-sm text-red-600",children:["Dues Pending"," ",l.jsx("span",{className:"text-white bg-green-500 px-4 py-0.5 text-sm hover:bg-green-600 cursor-pointer",onClick:()=>P(`/property-payment/${null==n?void 0:n.id}/holding`),children:"Pay"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("img",{src:"/assets/tick-67b2f70d.png",className:"w-7 ml-2 mr-1 hue-rotate-[290deg]",alt:"",srcset:""})," ",l.jsxs("span",{className:"font-normal text-sm text-green-600",children:["Due passed ",f(null==(i=null==n?void 0:n.demands)?void 0:i.paid_date)]})]})]}),l.jsxs("div",{className:"col-span-12 md:col-span-12 md:text-center text-xs",children:["For more details go to"," ",l.jsx("span",{className:"underline cursor-pointer",onClick:()=>P("/propertyDashboard"),children:"Property Dashboard"})]})]}),l.jsxs("div",{className:"col-span-12 md:col-span-12 row-span-3 p-4 px-6 flex gap-2 bg-indigo-50 bg-cover bg-blend-overlay",style:{backgroundImage:"url(/assets/background-90d7111d.jpeg)"},children:[l.jsxs("div",{className:"flex flex-col w-full md:w-[25%]",children:[l.jsx("img",{src:L,onError:()=>D(M),className:"mix-blend-darken md:block hidden",alt:"",srcset:""}),l.jsxs("div",{className:"col-span-3 text-base font-bold mb-2",children:["Holding No.:"," ",l.jsx("span",{className:"font-normal ml-2 text-base",children:""==(null==n?void 0:n.new_holding_no)?null==n?void 0:n.holding_no:null==n?void 0:n.new_holding_no})]})]}),l.jsxs("div",{className:"flex gap-2 w-full",children:[l.jsx("div",{className:" flex flex-wrap gap-x-2 items-center h-max gap-y-5 pt-12 justify-center text-sm w-full md:w-[80%]",children:null==O?void 0:O.map(l=>S(null==l?void 0:l.key,null==l?void 0:l.value))}),l.jsxs("div",{className:"flex flex-col gap-2 justify-center w-full md:w-[20%]",children:[l.jsx("button",{onClick:()=>P(`/holding-transactions/${null==n?void 0:n.id}`),className:A.buttonStyle("sky"),children:"View Payment History"}),l.jsx("button",{onClick:()=>P(`/viewDemandHoldingProperty/${null==n?void 0:n.id}`),className:A.buttonStyle("amber"),children:"View Demand"}),l.jsx("a",{href:`https://www.google.com/maps?q=${null==j?void 0:j.latitude},${null==j?void 0:j.longitude}`,target:"_blank",className:A.buttonStyle("blue")+" text-center",children:"View Location"})]})]})]}),l.jsxs("div",{className:"col-span-12 md:col-span-9 px-6 grid grid-cols-12 items-start h-max relative",children:[l.jsxs("div",{className:"col-span-12 flex flex-wrap mt-4 mb-4",children:[T(l.jsx(x,{}),"Property Details"),l.jsx("div",{className:"w-full flex flex-wrap gap-x-2 gap-y-2 px-4 py-2 text-sm  pl-10 md:pl-20",children:null==$?void 0:$.map(l=>S(null==l?void 0:l.key,null==l?void 0:l.value))})]}),l.jsxs("div",{className:"col-span-12 row-span-2 flex flex-wrap mt-4 mb-4",children:[T(l.jsx(h,{}),"Owner Details"),l.jsx("div",{className:"w-full flex flex-wrap gap-x-2 px-4 py-2 text-sm  pl-10 md:pl-20",children:(null==(d=null==(r=null==n?void 0:n.owners)?void 0:r.map)?void 0:d.length)>0&&(null==(t=null==n?void 0:n.owners)?void 0:t.map((e,a)=>l.jsxs("div",{className:"mb-8 flex w-full",children:[l.jsxs("span",{className:"font-semibold pr-4",children:[a+1,"."]}),l.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-2 w-full ",children:null==H?void 0:H.map((a,n)=>l.jsx(l.Fragment,{children:S(null==a?void 0:a.key,e[null==a?void 0:a.value])}))})]})))})]}),l.jsxs("div",{className:"col-span-12 row-span-2 flex flex-wrap mt-4 mb-4",children:[T(l.jsx(x,{}),"Floor Details"),l.jsx("div",{className:"w-full flex flex-wrap gap-x-2 px-4 py-2 text-sm  pl-10 md:pl-20",children:(null==(c=null==n?void 0:n.floors)?void 0:c.length)>0&&(null==(u=null==n?void 0:n.floors)?void 0:u.map((e,a)=>l.jsxs("div",{className:"mb-8 flex",children:[l.jsxs("span",{className:"font-semibold",children:[a+1,"."]}),l.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-2 px-4",children:null==E?void 0:E.map((a,n)=>l.jsx(l.Fragment,{children:S(null==a?void 0:a.key,e[null==a?void 0:a.value],null==a?void 0:a.type)}))})]})))})]}),(null==(m=null==n?void 0:n.water)?void 0:m.length)>0&&l.jsxs("div",{className:"col-span-12 row-span-2 flex flex-wrap mt-4 mb-4",children:[T(l.jsx(x,{}),"Water Connections at this Property"),l.jsx("div",{className:"w-full flex flex-wrap gap-x-2 px-4 py-2 text-sm  pl-10 md:pl-20",children:(null==(p=null==n?void 0:n.water)?void 0:p.length)>0&&(null==(b=null==n?void 0:n.water)?void 0:b.map((e,a)=>l.jsxs("div",{className:"mb-8 flex w-full",children:[l.jsxs("span",{className:"font-semibold",children:[a+1,"."]}),l.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-2 px-4 ",children:null==W?void 0:W.map((a,n)=>l.jsx(l.Fragment,{children:l.jsxs("div",{className:"w-full",children:[" ",l.jsxs("span",{className:"col-span-6 ",children:[null==a?void 0:a.key," :"," "]})," ",l.jsx("span",{className:"col-span-6 font-normal",children:g(e[null==a?void 0:a.value])})," "]})}))})]})))})]}),(null==(y=null==n?void 0:n.trade)?void 0:y.length)>0&&l.jsxs("div",{className:"col-span-12 row-span-2 flex flex-wrap mt-4 mb-4",children:[T(l.jsx(x,{}),"Trade Licenses issued at this Property"),l.jsx("div",{className:"w-full flex flex-wrap gap-x-2 px-4 py-2 text-sm  pl-10 md:pl-20",children:(null==(N=null==n?void 0:n.trade)?void 0:N.length)>0&&(null==(k=null==n?void 0:n.trade)?void 0:k.map((e,a)=>l.jsxs("div",{className:"mb-8 flex w-full",children:[l.jsxs("span",{className:"font-semibold",children:[a+1,"."]}),l.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-2 w-full  px-4",children:null==I?void 0:I.map((a,n)=>l.jsx(l.Fragment,{children:S(null==a?void 0:a.key,e[null==a?void 0:a.value])}))})]})))})]})]}),l.jsx("div",{className:"col-span-12 md:col-span-3 relative",children:l.jsx(F,{style:A})})]})})};function $(){return l.jsx("div",{className:"h-full w-full  rounded-t-md object-cover bg-gray-200 animate"})}const H=()=>l.jsx(l.Fragment,{children:l.jsx("div",{className:"flex flex-col pb-6 space-y-4 rounded-md",children:l.jsx("div",{className:"bg-gray-200 w-full h-10 flex justify-center items-center p-4 animate"})})}),E=()=>{var n,i,r,d,s,t,c;const u=e(),[p,v]=a.useState([]),[g,f]=a.useState(!1);a.useEffect(()=>{x()},[]);const x=()=>{f(!0),o.get(void 0,m()).then(function(l){var e,a;(null==(e=null==l?void 0:l.data)?void 0:e.status)&&v(null==(a=null==l?void 0:l.data)?void 0:a.data),f(!1)}).catch(function(l){f(!1)})};let h=[{navigation:"/water-dashboard",image:C,total:(null==(n=null==p?void 0:p.Water)?void 0:n.totalApplications)??0,name:"Water Connection(s)"},{navigation:"/trade-dashboard",image:j,total:(null==(i=null==p?void 0:p.Trade)?void 0:i.totalApplications)??0,name:"Trade License(s)"},{navigation:"/advertisement-dashboard",image:_,total:(null==(r=null==p?void 0:p.Advertisement)?void 0:r.totalApplications)??0,name:"Advertisement"},{navigation:"/marriage-index",image:k,total:(null==(d=null==p?void 0:p.Marriage)?void 0:d.totalApplications)??0,name:"Marriage Registration"},{navigation:"/septicTankDashboard",image:L,total:(null==(s=null==p?void 0:p.Septic)?void 0:s.totalApplications)??0,name:"Septic Tank"},{navigation:"/waterTankerDashboard",image:D,total:(null==(t=null==p?void 0:p.WaterTanker)?void 0:t.totalApplications)??0,name:"Water Tank"},{navigation:"/pet-registration-dashboard",image:P,total:(null==(c=null==p?void 0:p.pet)?void 0:c.totalApplications)??0,name:"Pet Registration"}];return l.jsx(l.Fragment,{children:l.jsx("div",{className:"grid grid-cols-12 ",children:l.jsxs("div",{className:"col-span-12 w-full flex flex-col items-center",children:[l.jsx("img",{src:"/assets/house-4364b995.png",className:"house 2xl:w-[50%] md:w-[50%] pt-4 w-full",alt:"",srcset:""}),l.jsx("div",{className:"p-4 relative w-full flex flex-col gap-2 ",children:l.jsx("div",{className:"w-full flex overflow-x-auto overflow-y-hidden gap-x-2",children:Array.isArray(h)&&(null==h?void 0:h.map(e=>l.jsx(l.Fragment,{children:l.jsxs("div",{onClick:()=>u(null==e?void 0:e.navigation),className:"bg-slate-50 hover:bg-slate-100 w-[80%] select-none rounded-md flex flex-col gap-2 justify-center items-center p-4 md:p-6 relative cursor-pointer hover:drop-shadow-lg border transition-all duration-150",children:[l.jsx("div",{className:"absolute top-1 right-1 bg-green-500 px-1.5 animate-pulse rounded-full text-white",children:null==e?void 0:e.total}),l.jsx("img",{className:"w-[3rem] text-xs",src:null==e?void 0:e.image}),l.jsx("div",{className:"font-semibold text-center text-sm",children:null==e?void 0:e.name})]})})))})}),l.jsxs("div",{className:"mt-10 flex flex-col ",children:[l.jsx("span",{className:"text-4xl font-bold mb-2",children:"ðŸ¥³ðŸ¥³ Congratulations! ðŸ¥³ðŸ¥³"}),l.jsx("span",{className:"text-lg",children:"You will get 5% rebate by apply and pay holding from your dashboard."})]}),l.jsx("div",{className:"c flex gap-4 flex-row items-center justify-center mt-8 mb-16",children:l.jsx("button",{className:" border border-indigo-400 bg-indigo-500 text-white hover:bg-white font-semibold transition-all duration-200 px-4 poppins py-2 shadow-lg cursor-pointer hover:scale-105 hover:text-indigo-500 rounded-sm shadow-indigo-400",onClick:()=>u("/safform/new/0"),children:"Apply New Holding"})})]})})})},I=()=>{const{post_citizenDashboard:e}=u();a.useState(-1);const[n,i]=a.useState([]),[r,d]=a.useState(!1);return a.useEffect(()=>{d(!0),o.post(e,{},m()).then(l=>{var e,a,n;(null==(e=null==l?void 0:l.data)?void 0:e.status)&&i(null==(n=null==(a=null==l?void 0:l.data)?void 0:a.data)?void 0:n.property)}).catch(l=>{}).finally(()=>d(!1))},[]),l.jsxs(l.Fragment,{children:[r&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex w-[98%] h-[30vh] bg-white m-4 drop-shadow-lg",children:[l.jsx("div",{className:"md:w-[30%] md:p-10 w-full",children:l.jsx($,{})}),l.jsxs("div",{className:"md:w-[70%] py-2 md:py-7 px-10 w-full",children:[l.jsx(H,{}),l.jsx(H,{}),l.jsx(H,{}),l.jsx(H,{})]})]}),l.jsxs("div",{className:"flex w-[98%] h-[30vh] bg-white m-4 drop-shadow-lg",children:[l.jsx("div",{className:"md:w-[30%] md:p-10 w-full",children:l.jsx($,{})}),l.jsxs("div",{className:"md:w-[70%] py-2 md:py-7 px-10 w-full",children:[l.jsx(H,{}),l.jsx(H,{}),l.jsx(H,{}),l.jsx(H,{})]})]})]}),!r&&Array.isArray(n)&&(null==n?void 0:n.map((e,a)=>l.jsx(l.Fragment,{children:l.jsx(O,{data:e},a)}))),!r&&0==(null==n?void 0:n.length)&&l.jsx(l.Fragment,{children:l.jsx(E,{})})]})},W=()=>l.jsx(l.Fragment,{children:l.jsxs("div",{className:"grid grid-cols-12 h-full",children:[l.jsx("div",{className:"col-span-12 md:col-span-3 h-full bg-gray-50 shadow-md shadow-slate-400 overflow-y-auto",children:l.jsx(T,{})}),l.jsx("div",{className:"col-span-12 md:col-span-9 overflow-y-auto bg-white h-full",children:l.jsx(I,{})})]})});export{W as default};
