import{j as a}from"./mui-8bd1858b.js";import{r as l,h as ce,u as ie,N as I}from"./router-56e993c5.js";import{a as de}from"./redux-a3f69129.js";import{M as h,x as ue,y as xe,am as ge,aC as fe,aD as pe,aE as he,aF as be,b as $,E as je}from"./index-660adcfa.js";import{a as N}from"./axios-ab7cc016.js";import{g as B,l as ve}from"./localstorage-fbfe5679.js";import{a as we}from"./index.esm-79e01f48.js";import{E as me}from"./EPramanLoginLoader-580dab38.js";const ye=!1;h.setAppElement("#root");function Ne(){var R,D;const{t:o}=ue(),[u,H]=l.useState(!1),[G,U]=l.useState(!1),[q,V]=l.useState(!1),[ze,L]=l.useState(!1),[x,J]=l.useState([]),[C,z]=l.useState(!1),[Y,K]=l.useState(!1),[b,Q]=l.useState([]),{api_moduleList:W,api_ePraman:X,api_getHeadingApiList:Z}=je(),_=ce(),j=ie(),[ee,v]=l.useState(!1),[g,f]=l.useState(""),[_e,w]=l.useState(!1),[M,ae]=l.useState(!1),se=e=>b==null?void 0:b.some(t=>t==e),k=e=>{v(!ee),f(e)},S=()=>{v(!1),f("")},ne=()=>{w(!0),N.post(Z,{},$()).then(e=>{var t,r,s;console.log("getting Sp master list => ",e),(t=e==null?void 0:e.data)!=null&&t.status&&(ae((r=e==null?void 0:e.data)==null?void 0:r.data),console.log("getting Sp master list => ",(s=e==null?void 0:e.data)==null?void 0:s.data)),w(!1)}).catch(e=>{console.log("getting Sp master list error =>",e),w(!1)})};l.useEffect(()=>{ne()},[]);const[m,c]=l.useState(!1),{brand_tag:E,brand_name:Me,ulb_name:ke,brand_logo:Se}=xe(o),i={mainMenu:[{name:o("tranCitizenLandingPage.home.label"),route:"/citizen-page",subMenu:[]},{name:o("tranCitizenLandingPage.aboutUs.label"),route:"/citizen-page/about",subMenu:[]},{name:o("tranCitizenLandingPage.actAndRules.label"),route:"/citizen-page/act&rules",subMenu:[]},{name:o("tranCitizenLandingPage.eServices.label"),route:"/citizen-page/e-services",subMenu:[]},{name:o("tranCitizenLandingPage.taxRebate.label"),route:"/citizen-page/info-scheme",subMenu:[]},{name:o("tranCitizenLandingPage.faq.label"),route:"/citizen-page/faq",subMenu:[]},{name:"Blogs",route:"/citizen-page/all-blogs",subMenu:[]},{name:"Downloads",route:"#",subMenu:[{name:"User Manuals",route:"",submenu:["Pet Registration System"]},{name:"Mobile App",route:"/citizen-page/download/mobile-app",submenu:[]}]}]},te=()=>{S()};function A(){H(!1)}function O(){U(!1)}function T(){V(!1)}const le=()=>{z(!0),N.post(W,{}).then(e=>{var t;console.log("module list: ",e),J((t=e==null?void 0:e.data)==null?void 0:t.data)}).finally(()=>z(!1))};l.useEffect(()=>{B("citizen_token")!=null&&B("citizen_token")!="null"?L(!0):L(!1),le()},[]);const y="block w-full pl-7 py-2 px-6 clear-both whitespace-nowrap text-sm hover:text-[#1c7f3a] hover:bg-green-50 rounded-md text-sm animate__animated animate__fadeIn animate__faster ",P="block py-3 px-3 hover:text-[#9dffbb] rounded-md animate__animated animate__fadeIn animate__faster ",d=e=>{if(_.pathname===e){window.location.reload();return}j(e)},oe=()=>{ve(),d("/")},re=()=>{window.localStorage.removeItem("login"),K(!0),N.post(X,{type:"citizen"},$()).then(e=>{var t,r,s,n,p,F;console.log(`%cE-Praman Login response: 

${JSON.stringify(e==null?void 0:e.data)} `,"color: green; background-color: black; font-size: 1.2em; padding: 5px 20px"),window.localStorage.setItem("codeVerifier",(r=(t=e==null?void 0:e.data)==null?void 0:t.data)==null?void 0:r.code_verifier),window.localStorage.setItem("nonce",(n=(s=e==null?void 0:e.data)==null?void 0:s.data)==null?void 0:n.nonce),window.location.replace((F=(p=e==null?void 0:e.data)==null?void 0:p.data)==null?void 0:F.url)}).catch(e=>{console.log("epraman login error => ",e)}).finally(()=>{})};return l.useEffect(()=>{(window.localStorage.getItem("login")??"")=="true"&&re()},[]),a.jsxs(a.Fragment,{children:[Y&&a.jsx(me,{message:"Redirect to E-Pramaan"}),a.jsx("div",{className:"block top-0 left-0 w-full z-50 ",children:a.jsx("header",{className:"block select-none",children:a.jsx("nav",{className:(_.pathname!="/"?"bg-[#99B37C] fixed top-0 left-0 right-0 ":"bg-[#99B37C]")+" nav-top flex flex-nowrap lg:flex-start items-center z-20  overflow-y-auto  lg:overflow-visible w-full",children:a.jsxs("div",{class:"w-full mx-auto ",children:[a.jsxs("div",{class:"flex flex-row justify-between w-full lg:hidden px-4 lg:px-6 bg-[#99B37C]",children:[a.jsx("span",{class:"flex items-center justify-between py-2 mr-4 text-xl",onClick:()=>{c(!1),d("/")},children:a.jsx("h2",{class:"text-2xl font-semibold text-gray-200 px-4  overflow-hidden",children:a.jsx("span",{className:"text-white",children:E})})}),a.jsx("div",{class:"right-0 flex items-center cursor-pointer text-2xl text-white",children:a.jsx("span",{className:"cursor-pointer",onClick:()=>{c(!m),v(!1)},children:a.jsx(ge,{fontSize:"large"})})})]}),m&&a.jsxs("div",{class:"lg:hidden fixed w-full h-full inset-0 z-50 lg:px-6 ",id:"mobile-menu",style:{zIndex:999},children:[a.jsx("span",{class:"fixed bg-gray-900 bg-opacity-70 w-full h-full inset-x-0 top-0",onClick:()=>c(!m)}),a.jsx("nav",{id:"mobile-nav",class:"flex flex-col ltr:right-0 rtl:left-0 w-64 fixed top-0 py-4 bg-[#99B37C] text-gray-100 h-full overflow-auto z-40",children:a.jsxs("div",{class:"mb-auto",children:[a.jsx("div",{class:"mh-18 text-center px-4 mb-8",children:a.jsx("span",{class:"flex relative",children:a.jsxs("h2",{class:"text-2xl text-gray-200 max-h-9 flex flex-row items-center justify-between gap-4 relative",children:[a.jsx("span",{className:" md:absolute -left-2 z-10 text-4xl cursor-pointer text-white ",onClick:()=>c(!1),children:"Ã—"}),a.jsx("span",{onClick:()=>{c(!1),d("/")}}),a.jsx("span",{onClick:()=>{c(!1),d("/")},className:"text-gray-800 font-semibold",children:"UD&HD"})]})})}),a.jsx("div",{class:"mb-4 px-4",children:a.jsx("nav",{class:"relative flex flex-wrap items-center justify-between",children:a.jsx("ul",{id:"side-menu",class:"w-full  float-none flex flex-col space-y-6",children:(R=i==null?void 0:i.mainMenu)==null?void 0:R.map(e=>{var t,r;return a.jsx(a.Fragment,{children:a.jsxs("li",{className:"relative cursor-pointer ",children:[(e==null?void 0:e.name)!=="Downloads"&&a.jsx("a",{href:(e==null?void 0:e.route)===""?null:e==null?void 0:e.route,className:({isActive:s})=>{var n;return(s&&(e==null?void 0:e.route)!=="#"&&((n=e==null?void 0:e.subMenu)==null?void 0:n.length)===0?"text-[#9dffbb] font-bold ":" ")+`${P} flex gap-4 py-1 items-center`},onClick:()=>{k(e==null?void 0:e.name),g===(e==null?void 0:e.name)&&f(""),c(!1)},children:a.jsx("div",{className:"flex justify-between items-center flex-1",children:a.jsx("span",{children:e==null?void 0:e.name})})}),((t=e==null?void 0:e.subMenu)==null?void 0:t.length)>0&&g==(e==null?void 0:e.name)&&a.jsx("ul",{class:"block rounded rounded-t-none top-full z-50 py-0.5 ltr:text-left rtl:text-right mb-4 bg-green-100 text-zinc-800",children:(r=e==null?void 0:e.subMenu)==null?void 0:r.map(s=>a.jsx(a.Fragment,{children:a.jsx("li",{class:"relative cursor-pointer ",children:a.jsx(I,{to:s==null?void 0:s.route,onClick:()=>j(`/${s==null?void 0:s.route}`),className:({isActive:n})=>` ${y} flex gap-3 items-center`,children:a.jsx("span",{children:s==null?void 0:s.name})})})}))})]})})})})})})]})})]}),a.jsxs("div",{onMouseLeave:()=>te(),style:{zIndex:999,fontSize:"1vw"},class:"px-4 hidden border-b border-b-gray-200 lg:flex lg:flex-row lg:flex-nowrap lg:items-center lg:justify-between lg:mt-0 lg:w-full",id:"desktp-menu",children:[a.jsx("span",{class:"hidden lg:flex items-center py-2 mr-4 text-xl",onClick:()=>{c(!1),d("/")},children:a.jsx("h2",{class:"text-2xl font-semibold px-4 overflow-hidden cursor-pointer flex items-center gap-2",children:a.jsx("span",{className:"text-white",children:E})})}),a.jsx("ul",{className:"flex flex-col lg:mx-auto mt-2 lg:flex-row lg:mt-0 text-white space-x-6 py-3",onMouseLeave:()=>S(),children:(D=i==null?void 0:i.mainMenu)==null?void 0:D.map(e=>{var t,r;return a.jsxs("li",{className:"relative cursor-pointer py-1.5 ",children:[a.jsx("a",{href:(e==null?void 0:e.route)===""?null:e==null?void 0:e.route,className:({isActive:s})=>{var n;return(s&&(e==null?void 0:e.route)!=="#"&&((n=e==null?void 0:e.subMenu)==null?void 0:n.length)===0?"text-[#9dffbb] font-bold ":" ")+`${P} flex gap-2 items-center`},onMouseEnter:()=>{k(e==null?void 0:e.name),g===(e==null?void 0:e.name)&&f("")},children:a.jsx("span",{children:e==null?void 0:e.name})}),((t=e==null?void 0:e.subMenu)==null?void 0:t.length)>0&&g===(e==null?void 0:e.name)&&a.jsx("ul",{style:{zIndex:999},className:"submenu block md:absolute left-1/2 right-auto border-t-2 transform -translate-x-1/2 rounded top-full z-50 py-0.5 ltr:text-left rtl:text-right bg-white text-gray-700 shadow-md cursor-pointer",children:(r=e==null?void 0:e.subMenu)==null?void 0:r.map(s=>a.jsxs("li",{className:"relative cursor-pointer py-1.5",children:[a.jsx(I,{to:s==null?void 0:s.route,onClick:()=>j(`/${s==null?void 0:s.route}`),className:({isActive:n})=>(n?"":" ")+`${y} flex gap-3 items-center`,children:a.jsx("span",{children:s==null?void 0:s.name})}),a.jsx("ul",{className:"submenu absolute bg-white shadow-md rounded border border-green-600 mt-1 left-full top-0 hidden group-hover:block z-10",children:s.submenu&&s.submenu.length>0&&M&&M.map((n,p)=>a.jsx("li",{className:"border-b border-gray-100 last:border-b-0",children:a.jsx("div",{className:"w-96",children:a.jsx("a",{href:`/citizen-page/user-manuals-list/${n==null?void 0:n.id}`,className:`${y} flex gap-3 items-center p-3 hover:bg-gray-50 transition-colors duration-200 text-gray-700 hover:text-green-600`,children:a.jsx("span",{children:n==null?void 0:n.heading})})})},(n==null?void 0:n.id)||p))})]},s==null?void 0:s.name))})]},e==null?void 0:e.name)})}),ye,a.jsx("div",{className:"border-b border-b-gray-200 opacity-10"})]})]})})})}),a.jsx(h,{isOpen:u,onRequestClose:A,className:"z-20 h-screen w-screen backdrop-blur-sm flex flex-row justify-center items-center overflow-auto",contentLabel:"Example Modal",children:a.jsx("div",{className:"w-full sm:w-4/5 lg:3/5 mx-auto h-[80%] overflow-auto",children:a.jsxs("div",{className:"bg-gradient-to-b from-slate-500 to-slate-400 shadow-xl flex justify-center items-center relative",children:[a.jsx("button",{onClick:()=>A(),type:"button",class:"md:absolute top-6 right-6 bg-red-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-300 hover:border-none",children:a.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:a.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),a.jsxs("div",{className:"w-full px-4 mx-auto py-4 md:py-6 ",children:[a.jsx("div",{className:"w-full",children:a.jsx("div",{children:a.jsx("h2",{className:"text-xl font-medium text-center text-white ",children:"Choose Module To Login"})})}),a.jsx("div",{className:"my-4 relative",children:a.jsxs("div",{className:"grid gap-6 grid-cols-2 sm:grid-cols-3 lg:grid-cols-5",children:[C&&a.jsx(fe,{}),!C&&Array.isArray(x)&&(x==null?void 0:x.map(e=>a.jsxs("div",{onClick:()=>window.location.replace(e==null?void 0:e.url),className:"bg-gray-100 select-none rounded-xl flex flex-col justify-center items-center p-4 md:p-6 relative cursor-pointer hover:scale-105 hover:shadow-md transition-all duration-150",href:"",children:[a.jsx("img",{className:"h-16 w-16 text-xs",src:se(e==null?void 0:e.id)?pe:e==null?void 0:e.image,onError:()=>Q(t=>[...t,e==null?void 0:e.id]),alt:e==null?void 0:e.title}),a.jsx("div",{className:"font-bold mt-4 text-center",children:e==null?void 0:e.title})]})))]})})]})]})})}),a.jsx(h,{isOpen:G,onRequestClose:O,className:"z-20 h-screen w-screen backdrop-blur-sm flex flex-row justify-center items-center overflow-auto",contentLabel:"Example Modal",children:a.jsx("div",{className:"w-full sm:w-auto lg:auto mx-auto",children:a.jsxs("div",{className:"bg-white shadow-xl flex justify-center items-center relative",children:[a.jsx("button",{onClick:()=>O(),type:"button",class:"md:absolute top-0 right-0 bg-transparent bg-gray-200 text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center shadow-sm  hover:bg-red-200 hover:border-none",children:a.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:a.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),a.jsxs("div",{className:"w-full px-4 mx-auto py-4 md:py-6 ",children:[a.jsx("div",{className:"w-full",children:a.jsx("div",{children:a.jsx("h2",{className:"text-xl font-medium text-center",children:"Choose Agency To Login"})})}),a.jsx("div",{className:"my-10 relative",children:a.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-1 lg:grid-cols-1",children:a.jsx(he,{image:be,name:"Advertisement Agency",route:"/agency"})})})]})]})})}),a.jsx(h,{isOpen:q,onRequestClose:T,className:"h-screen w-screen flex items-center justify-center",contentLabel:"Logout Modal",children:a.jsxs("div",{class:"relative rounded-lg shadow-lg p-10 w-max h-max backdrop-blur-sm bg-white animate__animated animate__slideInLeft animate__faster",children:[a.jsx("button",{onClick:T,type:"button",class:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center",children:a.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:a.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),a.jsxs("div",{class:"p-6 text-center",children:[a.jsxs("div",{className:"w-full flex h-10",children:[" ",a.jsx("span",{className:"mx-auto",children:a.jsx(we,{size:30})})]}),a.jsx("h3",{class:"mb-5 text-lg font-normal text-gray-500",children:"Are you sure to logout ?"}),a.jsx("button",{type:"button",class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",onClick:()=>oe(),children:"Yes, I'm sure"})]})]})})]})}const Le=o=>({RightNavCloseStatus:o.RightNavCloseStatus,isLoggedIn:o.isLoggedIn}),Ce=o=>({RIGHT_NAV_OPEN:u=>o({type:"RIGHT_NAV_OPEN"}),LOGOUT:u=>o({type:"LOGOUT"}),RIGHT_NAV_CLOSE:u=>o({type:"RIGHT_NAV_CLOSE"})}),Ie=de(Le,Ce)(Ne);export{Ie as T};
