import{j as e}from"./mui-8bd1858b.js";import{b as oe,f as ce,u as me,r as m}from"./router-56e993c5.js";import{R as xe}from"./index-a188d691.js";import{aw as pe,l as he,n as a,aH as f,j as fe,x as je,ad as Ne,A as be,b as ge,B as ve,E as ye}from"./index-660adcfa.js";import{S as ue}from"./ServerErrorCard-10e39907.js";import{P as we}from"./PrintButton-ab1e243c.js";import"./axios-ab7cc016.js";import"./reactIcons-d26c0b2d.js";import"./materialTailwind-34de039c.js";import"./moment-a9aaa855.js";/* empty css                */import"./redux-a3f69129.js";import"./i18next-2edfafb0.js";class De extends oe.Component{render(){var p,n,j,N,o,b,c,g,h,v,d,l,i,u,w,D,R,T,A,S,P,F,k,_,C,H,I,Q,B,L,z,E,U,M,O,q,V,W,Y,$,G,J,K,X,Z,ee,se,ae,re,te,le,ie,ne;console.log("paymentData...1",this.props.module);const s=(p=this==null?void 0:this.props)==null?void 0:p.ulbData,r=(n=this==null?void 0:this.props)==null?void 0:n.paymentData;console.log("data--------->",s),console.log("data--------->  ------>",r);const y=()=>{window.ReactNativeWebView.postMessage(JSON.stringify({Key:"PRINT_TO_PRINTER",url:`<div style="border: 2px dashed gray; background-color: white; padding: 8px; width: 250mm; height: auto; position: relative; margin: 0 auto;">
    <div style="display: grid; grid-template-columns: 1fr; text-align: center; position: relative;">
        <div>
            <img src="${s==null?void 0:s.ulb_logo}" style="height: 80px; display: block; margin: 0 auto;" />
        </div>
        <div style="position: absolute; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
            <img src="${s==null?void 0:s.state_logo}" alt="" style="width: 22rem; height: 22rem; opacity: 0.2; border-radius: 50%; border: 1px solid;" />
        </div>
    </div>

    <div style="text-align: center; padding-top: 8px;">
        <h1 style="font-weight: bold; font-size: 32px;">${s==null?void 0:s.ulb_name}</h1>
    </div>

    <div style="text-align: center; padding-top: 16px;">
        <h1 style="font-weight: bold; font-size: 20px; color: gray; border: 2px solid black; padding: 10px; display: inline-block;">Payment Receipt<br>Holding Tax</h1>
    </div>

    <div style="margin-top: 16px; text-align: center; font-size: 14px;">**This is a computer-generated receipt and it does not require a signature.**</div>
</div>`}))};return e.jsxs(e.Fragment,{children:[window.ReactNativeWebView?e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed bottom-10 text-center justify-center items-center w-screen print:hidden z-50",children:e.jsxs("button",{onClick:()=>y(),className:pe,children:[e.jsx(he,{className:"inline text-lg"}),"print"]})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between items-start sm:items-center gap-2 mb-4",children:[e.jsx("div",{className:"",children:e.jsx(we,{})}),e.jsx("div",{className:"",children:e.jsx("button",{onClick:()=>this.props.navigate(-1),className:"inline-flex bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 text-sm",children:"Back"})})]})}),e.jsx("div",{id:"printableArea",className:"mt-10 print:mt-0",children:e.jsx("div",{children:e.jsxs("div",{className:"border-2 border-dashed border-gray-600 print:scale-95 bg-white p-2 sm:p-4 w-full sm:w-[250mm] h-auto sm:mx-auto lg:mx-auto container2 relative",children:[e.jsxs("div",{className:"grid grid-cols-1 relative",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:(j=r==null?void 0:r.ulbDetails)==null?void 0:j.ulb_logo,className:"h-16 sm:h-20 mx-auto",alt:"ULB Logo"})}),e.jsx("div",{className:"absolute w-full h-full flex justify-center items-center pointer-events-none mt-96",children:e.jsx("img",{src:(N=r==null?void 0:r.ulbDetails)==null?void 0:N.ulb_logo,alt:"",className:"w-48 h-48 sm:w-[22rem] sm:h-[22rem] z-10 bg-transparent opacity-20 rounded-full border"})})]}),e.jsx("div",{className:"pt-2 sm:pt-4",children:e.jsx("h1",{className:"font-bold text-xl sm:text-4xl text-center",children:(o=r==null?void 0:r.ulbDetails)==null?void 0:o.ulb_name})}),e.jsx("div",{className:"pt-4 flex justify-center",children:e.jsx("div",{className:"text-center",children:e.jsxs("h1",{className:"font-bold text-base sm:text-xl text-gray-800 border-2 border-gray-700 px-4 sm:px-10 py-2",children:["Payment Receipt ",e.jsx("br",{}),"Holding Tax"]})})}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-xs sm:text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"Receipt No.:"}),e.jsx("span",{className:"font-normal sm:pl-2",children:a((c=(b=this.props)==null?void 0:b.paymentData)==null?void 0:c.transactionNo)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"Department/Section:"}),e.jsx("span",{className:"font-normal sm:pl-2",children:a((h=(g=this.props)==null?void 0:g.paymentData)==null?void 0:h.departmentSection)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"Account Description:"}),e.jsx("span",{className:"font-normal sm:pl-2 break-words",children:a((d=(v=this.props)==null?void 0:v.paymentData)==null?void 0:d.accountDescription)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"Date:"}),e.jsx("span",{className:"font-normal sm:pl-2",children:a((i=(l=this.props)==null?void 0:l.paymentData)==null?void 0:i.transactionDate)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"Ward No.:"}),e.jsx("span",{className:"font-normal sm:pl-2",children:a((w=(u=this.props)==null?void 0:u.paymentData)==null?void 0:w.oldWardNo)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:((D=this==null?void 0:this.props)==null?void 0:D.module)=="holding"?"Holding No.:":"Application No.:"}),e.jsx("span",{className:"font-normal sm:pl-2",children:a((T=(R=this.props)==null?void 0:R.paymentData)==null?void 0:T.applicationNo)})]})]})]})}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"space-y-2 text-xs sm:text-sm",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"Received From Mr/Mrs/Miss:"}),e.jsx("span",{className:"font-normal sm:pl-2",children:a((S=(A=this.props)==null?void 0:A.paymentData)==null?void 0:S.customerName)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"Address:"}),e.jsx("span",{className:"font-normal sm:pl-2 break-words",children:a((F=(P=this.props)==null?void 0:P.paymentData)==null?void 0:F.address)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"A Sum of:"}),e.jsx("span",{className:"font-normal sm:pl-2",children:f((_=(k=this.props)==null?void 0:k.paymentData)==null?void 0:_.totalPaidAmount)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"(in words):"}),e.jsxs("span",{className:"font-normal sm:pl-2 border-b border-dashed border-gray-600 flex-1",children:[a((H=(C=this.props)==null?void 0:C.paymentData)==null?void 0:H.paidAmtInWords)," Rupees Only"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"towards:"}),e.jsx("span",{className:"font-normal sm:ml-1",children:a((Q=(I=this.props)==null?void 0:I.paymentData)==null?void 0:Q.towards)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Vide:"}),e.jsx("span",{className:"font-normal sm:ml-1",children:a((L=(B=this.props)==null?void 0:B.paymentData)==null?void 0:L.paymentMode)})]})]})]})}),e.jsx("div",{className:"mt-4 p-2",children:e.jsx("h1",{className:"font-bold text-xs sm:text-sm text-left",children:"N.B. Online Payment/Cheque/Draft/Bankers Cheque are Subject to Realisation"})}),e.jsx("div",{className:"p-2",children:e.jsx("h1",{className:"font-bold text-sm sm:text-base text-left",children:"HOLDING TAX DETAILS"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"min-w-full border border-gray-500",children:[e.jsxs("div",{className:"hidden sm:block",children:[e.jsxs("div",{className:"flex text-xs sm:text-sm font-semibold bg-gray-50",children:[e.jsx("div",{className:"w-1/3 text-center border-r border-gray-500 p-2",children:"Description"}),e.jsx("div",{className:"w-1/3 text-center border-r border-gray-500 p-2",children:"Period"}),e.jsx("div",{className:"w-1/3 text-center p-2",children:"Total Amount"})]}),e.jsxs("div",{className:"flex text-xs bg-gray-50 border-t border-gray-500",children:[e.jsx("div",{className:"w-1/3 border-r border-gray-500"}),e.jsx("div",{className:"w-1/3 border-r border-gray-500",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-1/2 text-center border-r border-gray-500 p-1",children:"From"}),e.jsx("div",{className:"w-1/2 text-center p-1",children:"To"})]})}),e.jsx("div",{className:"w-1/3"})]}),e.jsxs("div",{className:"flex text-xs bg-gray-50 border-t border-gray-500",children:[e.jsx("div",{className:"w-1/3 border-r border-gray-500"}),e.jsx("div",{className:"w-1/3 border-r border-gray-500",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-1/2 border-r border-gray-500",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-1/2 text-center border-r border-gray-500 p-1",children:"QTR"}),e.jsx("div",{className:"w-1/2 text-center p-1",children:"FY"})]})}),e.jsx("div",{className:"w-1/2",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-1/2 text-center border-r border-gray-500 p-1",children:"QTR"}),e.jsx("div",{className:"w-1/2 text-center p-1",children:"FY"})]})})]})}),e.jsx("div",{className:"w-1/3"})]})]}),e.jsxs("div",{className:"border-t border-gray-500",children:[e.jsxs("div",{className:"sm:hidden p-3 space-y-3",children:[e.jsx("div",{className:"font-semibold text-center text-sm bg-gray-50 p-2 rounded",children:"Holding Tax"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:"Period From:"}),e.jsxs("div",{children:["QTR: ",a((E=(z=this.props)==null?void 0:z.paymentData)==null?void 0:E.paidFromQtr)]}),e.jsxs("div",{children:["FY: ",a((M=(U=this.props)==null?void 0:U.paymentData)==null?void 0:M.paidFrom)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:"Period To:"}),e.jsxs("div",{children:["QTR: ",a((q=(O=this.props)==null?void 0:O.paymentData)==null?void 0:q.paidUptoQtr)]}),e.jsxs("div",{children:["FY: ",a((W=(V=this.props)==null?void 0:V.paymentData)==null?void 0:W.paidUpto)]})]})]}),e.jsxs("div",{className:"text-center font-semibold text-sm bg-blue-50 p-2 rounded",children:["Total Amount: ",f(($=(Y=this.props)==null?void 0:Y.paymentData)==null?void 0:$.demandAmount)]})]}),e.jsxs("div",{className:"hidden sm:flex text-xs border-b border-gray-500",children:[e.jsx("div",{className:"w-1/3 text-center border-r border-gray-500 p-2 font-normal",children:"Holding Tax"}),e.jsx("div",{className:"w-1/3 border-r border-gray-500",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-1/2 border-r border-gray-500",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-1/2 text-center border-r border-gray-500 p-1",children:a((J=(G=this.props)==null?void 0:G.paymentData)==null?void 0:J.paidFromQtr)}),e.jsx("div",{className:"w-1/2 text-center p-1",children:a((X=(K=this.props)==null?void 0:K.paymentData)==null?void 0:X.paidFrom)})]})}),e.jsx("div",{className:"w-1/2",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-1/2 text-center border-r border-gray-500 p-1",children:a((ee=(Z=this.props)==null?void 0:Z.paymentData)==null?void 0:ee.paidUptoQtr)}),e.jsx("div",{className:"w-1/2 text-center p-1",children:a((ae=(se=this.props)==null?void 0:se.paymentData)==null?void 0:ae.paidUpto)})]})})]})}),e.jsx("div",{className:"w-1/3 text-center p-2 font-normal",children:f((te=(re=this.props)==null?void 0:re.paymentData)==null?void 0:te.demandAmount)})]})]}),(ne=(ie=(le=this.props)==null?void 0:le.paymentData)==null?void 0:ie.taxDetails)==null?void 0:ne.map((t,de)=>e.jsxs("div",{className:"border-b border-gray-500",children:[e.jsx("div",{className:"sm:hidden p-2",children:e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsx("span",{className:"font-normal flex-1 text-right pr-2",children:a(t==null?void 0:t.keyString)}),e.jsx("span",{className:"font-normal font-semibold",children:f(t==null?void 0:t.value)})]})}),e.jsxs("div",{className:"hidden sm:flex text-xs",children:[e.jsx("div",{className:"w-1/3 border-r border-gray-500"}),e.jsx("div",{className:"w-1/3 text-right border-r border-gray-500 p-2",children:a(t==null?void 0:t.keyString)}),e.jsx("div",{className:"w-1/3 text-center p-2 font-normal",children:f(t==null?void 0:t.value)})]})]},de))]})}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(fe,{url:window.location.href,size:"64"})}),e.jsxs("div",{className:"space-y-1 text-xs sm:text-sm",children:[e.jsx("div",{children:e.jsxs("span",{className:"text-gray-900 font-sans",children:["For Details Please Visit: ",s==null?void 0:s.website]})}),e.jsx("div",{children:e.jsxs("span",{className:"text-gray-900 font-sans",children:["Or Call us at ",s==null?void 0:s.mobile_no," or ",s==null?void 0:s.mobile_no_2]})})]})]})}),e.jsx("div",{className:"mt-4 p-2",children:e.jsx("h1",{className:"font-normal text-xs sm:text-sm text-center",children:"**This is a computer-generated receipt and it does not require a signature.**"})})]})})})]})}}function Le(){je();const{paymentId:x,module:s}=ce();console.log("param payment id ..",x);let r;s=="saf"?r="SAF Receipt":r="Holding Receipt",Ne(r);const y=me(),p=m.useRef(),[n,j]=m.useState();m.useState(!1);const[N,o]=m.useState(!1),[b,c]=m.useState(!1),{api_getPaymentData:g,api_getHoldingReceiptUrl:h}=ye();m.useEffect(()=>{v()},[]);const v=()=>{o(!1),c(!0),window.localStorage.getItem("token");let d,l;s=="holding"?(d=h,l={tranNo:x}):s=="saf"?(d=g,l={tranNo:x}):(d=h,l={tranNo:x}),console.log("before fetch payment receipt....",l),be.post(d,l,ge()).then(i=>{console.log("payment data at receipt.....",i),i.data.status?j(i.data.data):o(!0),c(!1)}).catch(i=>{o(!0),c(!1),console.log(i)})};return b?e.jsxs(e.Fragment,{children:[e.jsx(ve,{}),e.jsx("div",{className:"min-h-screen"})]}):N?e.jsx(ue,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):e.jsxs("div",{children:[e.jsx(xe,{trigger:()=>e.jsx("button",{}),content:()=>p.current}),e.jsx(De,{module:s,ref:p,paymentData:n,ulbData:n==null?void 0:n.ulbDetails,navigate:y})]})}export{Le as default};
