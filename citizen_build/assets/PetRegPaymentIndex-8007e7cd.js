import{j as e}from"./mui-d8134288.js";import{r as l,u as t,f as i}from"./router-a70afc62.js";import{P as d}from"./PetRegAPIList-09ec3f04.js";import{U as s,z as a,a6 as n,a2 as c,a3 as o,A as r,h as m}from"./index-1c8a2e08.js";import{h as x}from"./moment-494dae31.js";import"./axios-0f103e9d.js";import"./reactIcons-65f093d4.js";import"./materialTailwind-01b55b4e.js";/* empty css                */import"./redux-c3344370.js";import"./i18next-524eea2d.js";const v=()=>{var v,h,N,u,p,f,b,g,y,w,A,P,D,_,j;const{handlePayment:k}=s(),[M,C]=l.useState(),[I,R]=l.useState(!1),[Y,U]=l.useState(!1),[S,T]=l.useState();l.useState();const{notify:V}=l.useContext(a),z=t(),{id:F}=i(),{api_PetRegViewApplication:O,api_petRegGenerateOrderId:G,header1:L,header:$,api_generatedreceipt:B}=d();l.useEffect(()=>{R(!0),r.post(O,{applicationId:F},L).then(e=>{R(!1),e.data.status?C(e.data.data):(U(!0),C(null))}).catch(e=>{R(!1),U(!0)})},[]);const W=async e=>{let l={applicationId:null==e?void 0:e.applicationId,departmentId:null==e?void 0:e.departmentId,status:"",captured:"1",card_id:"",amount:null==e?void 0:e.amount,payment_method:"upi/netbanking",workflow_id:null==e?void 0:e.workflowId,user_id:null==e?void 0:e.user_id,ulb_id:null==e?void 0:e.ulbId,user_id:localStorage.getItem("citizenId"),payment_order_id:null==e?void 0:e.orderId,payment_id:null==e?void 0:e.razorpay_payment_id,created_at:""};r.post(B,l,$).then(e=>{T(!1),1==e.data.status?window.location.reload():V(e.data.message,"error")}).catch(e=>{T(!1),V(e.message,"error")})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-cols-12 mb-20",children:e.jsxs("div",{className:"rounded-md col-span-12",children:[e.jsxs("p",{className:"text-center text-xl font-semibold mx-5 text-gray-700",children:[" ","YOUR APPLICATION No : ",(null==M?void 0:M.application_no)||"N/A"," "]}),1==Y?e.jsx("p",{className:"m-auto mt-10 font-semibold border border-gray-300 text-red-700 bg-red-100 px-5 py-2 rounded shadow w-fit",children:"Failed to Get Data"}):e.jsxs("div",{className:"overflow-y-auto",children:[e.jsx("div",{className:"bg-white shadow-xl p-4 border border-gray-200 my-3",children:I?e.jsx(n,{}):e.jsxs("div",{className:"mt-2 space-y-5 max-sm:flex max-sm:flex-col",children:[e.jsxs("div",{className:"flex space-x-10 pl-4  max-sm:space-x-0 max-sm:flex-col max-sm:space-y-2",children:[e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Pet Type"}),e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:(null==M?void 0:M.pet_type)?1==(null==M?void 0:M.pet_type)&&"Dog":"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Name of Pet"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(null==M?void 0:M.pet_name)?null==M?void 0:M.pet_name:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Gender"}),e.jsxs("div",{className:"font-bold text-sm text-[#37517e]",children:[1==(null==M?void 0:M.sex)&&"Male",2==(null==M?void 0:M.sex)&&"Female",!(null==M?void 0:M.sex)&&"N/A"]})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Date of Birth"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(null==M?void 0:M.dob)?x(M.dob).format("DD-MM-Y"):"N/A"})})]})]}),e.jsxs("div",{className:"flex space-x-10 pl-4  max-sm:space-x-0 max-sm:flex-col max-sm:space-y-2",children:[e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Breed"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(null==M?void 0:M.breed)?null==M?void 0:M.breed:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Color"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(null==M?void 0:M.color)?null==M?void 0:M.color:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Veterinary Doctor Name"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(null==M?void 0:M.vet_doctor_name)?null==M?void 0:M.vet_doctor_name:"N/A"})]}),e.jsx("div",{className:"flex-1 text-xs"})]}),e.jsxs("div",{className:"flex space-x-10 pl-4  max-sm:space-x-0 max-sm:flex-col max-sm:space-y-3",children:[e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Doctor’s MSVC/VCI number"}),e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:(null==M?void 0:M.doctor_registration_no)?null==M?void 0:M.doctor_registration_no:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Date of Rabies"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(null==M?void 0:M.rabies_vac_date)?x(M.rabies_vac_date).format("DD-MM-Y"):"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Leptospirosis Vaccination Date"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(null==M?void 0:M.leptospirosis_vac_date)?x(M.leptospirosis_vac_date).format("DD-MM-Y"):"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Pet From"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(null==M?void 0:M.occurrence_types)?null==M?void 0:M.occurrence_types:"N/A"})]})]})]})}),e.jsxs("div",{className:"bg-white shadow-xl p-4 border border-gray-200",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs mt-2 text-[#37517e]",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/8948/8948774.png",alt:"Upload",className:"w-5 inline text-[#37517e]"})," ","Payment Details"]}),I?e.jsx(n,{}):0==(null==(v=null==M?void 0:M.documentDetails)?void 0:v.doc_upload_status)?e.jsx("div",{className:"text-center text-indigo-600",children:"Payment Pending :- Please Upload Document First"}):(null==(N=null==(h=null==M?void 0:M.documentDetails)?void 0:h.connectionCharges)?void 0:N.paid_status)?e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex space-x-10 pl-4 ",children:[e.jsx("div",{className:"text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:"Sl."})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:"Trans No"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:"Amount"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:"Payment Mode"})}),e.jsx("div",{className:" text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:"Status"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:"Payment Date"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:"Action"})})]}),(null==(u=null==M?void 0:M.waterTransDetail)?void 0:u.length)>0&&(null==(p=null==M?void 0:M.waterTransDetail)?void 0:p.map((l,t)=>e.jsxs("div",{className:"flex space-x-10 pl-4 my-2 border-b border-y-gray-200",children:[e.jsx("div",{className:"text-xs",children:e.jsxs("div",{className:"font-semibold text-sm text-[#37517e]",children:[t+1,"."]})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:(null==l?void 0:l.tran_no)||"N/A"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(null==l?void 0:l.amount)||"N/A"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:(null==l?void 0:l.payment_mode)||"N/A"})}),e.jsx("div",{className:"text-xs",children:e.jsxs("div",{className:"font-semibold text-sm text-[#37517e]",children:[1==(null==l?void 0:l.verify_status)&&"Paid",2==(null==l?void 0:l.verify_status)&&"Processing"]})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-semibold text-xs text-[#37517e]",children:(null==l?void 0:l.created_at)||"N/A"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:e.jsx("button",{className:"hover:border-b-2 border-blue-500 hover:text-blue-500",onClick:()=>z(`/waterConnReceipt/${null==l?void 0:l.tran_no}`),children:"Print Receipt"})})})]},t)))]}):e.jsxs("div",{children:[0==(null==(f=null==M?void 0:M.charges)?void 0:f.paid_status)&&e.jsxs("div",{className:"bg-white shadow-2xl border border-blue-200 md:p-1 md:m-5 rounded-md max-sm:flex max-sm:flex-col",children:[e.jsxs("div",{className:" border-b-2 py-1 pl-3 font-semibold border-red-400 flex",children:[e.jsx(c,{size:20,className:"mt-0.5 mr-1"}),"Make Payment"," "]}),e.jsx("div",{className:"flex justify-center py-6",children:e.jsx("img",{src:"https://img.freepik.com/free-vector/hand-holding-phone-with-credit-card-screen-man-making-purchase-shopping-paying-online-using-banking-app-flat-vector-illustration-transaction-e-commerce-concept_74855-26014.jpg?w=1380&t=st=1686898919~exp=1686899519~hmac=4b0ddb44860ec647fa33a1a0416ea0c1cc8167693a13fdba3f09058d099f0e76",alt:"My Image",width:200,height:100})}),e.jsxs("div",{className:"flex justify-center max-sm:flex-col items-center",children:[e.jsx("div",{className:"font-semibold text-xl text-gray-500",children:e.jsx("p",{children:"Application No:  "})}),e.jsx("p",{className:"font-semibold text-2xl text-gray-800",children:null==M?void 0:M.application_no})]}),e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"font-semibold text-2xl text-green-500",children:e.jsx("p",{children:"Amount : Rs  "})}),e.jsxs("p",{className:"font-semibold text-2xl text-green-500",children:[" ",(null==(b=null==M?void 0:M.charges)?void 0:b.amount)||"N/A"]})]}),e.jsxs("h1",{className:"text-center font-semibold",children:["Application Type :"," ",null==(g=null==M?void 0:M.charges)?void 0:g.charge_category_name]}),e.jsx("div",{className:"md:col-span-12 col-span-12 md:mt-5 mt-2",children:e.jsx("div",{className:"text-center font-extralight px-2 rounded",children:e.jsx("p",{children:"Note : You can pay using Card / UPI / Netbanking / Wallet etc."})})}),e.jsx("div",{className:"col-span-12 md:mt-5 mt-2 pb-5",children:e.jsx("div",{className:"flex justify-center",children:S?e.jsx(o,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"30",visible:!0}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>z(-1),className:"mx-3 bg-red-600 hover:bg-red-700 transition duration-200 hover:scale-105 font-normal text-white px-6 py-2 text-sm rounded-sm shadow-xl",children:"Cancel"}),e.jsx("button",{onClick:()=>{T(!0),r.post(G,{id:F},$).then(e=>{var l,t,i,d,s,a,n,c,o,r,x,v,h,N;T(!1),1==e.data.status?window.ReactNativeWebView?m({generatedOrder:null==(l=null==e?void 0:e.data)?void 0:l.data,payload:{applicationId:null==(i=null==(t=null==e?void 0:e.data)?void 0:t.data)?void 0:i.applicationId,departmentId:null==(s=null==(d=null==e?void 0:e.data)?void 0:d.data)?void 0:s.departmentId,status:"",captured:"1",card_id:"",amount:null==(n=null==(a=null==e?void 0:e.data)?void 0:a.data)?void 0:n.amount,payment_method:"upi/netbanking",workflow_id:null==(o=null==(c=null==e?void 0:e.data)?void 0:c.data)?void 0:o.workflowId,user_id:null==(x=null==(r=null==e?void 0:e.data)?void 0:r.data)?void 0:x.userId,ulb_id:null==(h=null==(v=null==e?void 0:e.data)?void 0:v.data)?void 0:h.ulbId,created_at:""},api:B,returnUrl:`/citizen/petPayment/${F}`,isParam:!0}):k(null==(N=null==e?void 0:e.data)?void 0:N.data,W):V(e.data.message,"error")}).catch(e=>{T(!1),V(e.message,"error")})},className:"mx-3 bg-indigo-600 hover:bg-indigo-700 transition duration-200 hover:scale-105 font-normal text-white px-5 py-2 text-sm  rounded-sm shadow-xl",children:"Pay Now"})]})})})]}),2==(null==(y=null==M?void 0:M.charges)?void 0:y.paid_status)&&e.jsxs(e.Fragment,{children:[" ",e.jsxs("div",{className:"text-center font-semibold text-yellow-500",children:[" ","Payment pending."]})]}),1==(null==(w=null==M?void 0:M.charges)?void 0:w.paid_status)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center font-semibold text-green-600",children:[" ","Payment Completed."]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex space-x-10 pl-4 ",children:[e.jsx("div",{className:"text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:"Sl."})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:"Trans No"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:"Amount"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:"Payment Mode"})}),e.jsx("div",{className:" text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:"Status"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:"Payment Date"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"text-[#37517e]",children:"Action"})})]}),(null==M?void 0:M.transactionDetails)&&e.jsxs("div",{className:"flex space-x-10 pl-4 my-2 border-y-gray-200",children:[e.jsx("div",{className:"text-xs",children:e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:"1"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-semibold text-sm text-[#37517e] whitespace-nowrap",children:(null==(A=null==M?void 0:M.transactionDetails)?void 0:A.tran_no)||"N/A"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(null==(P=null==M?void 0:M.transactionDetails)?void 0:P.amount)||"N/A"})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:(null==(D=null==M?void 0:M.transactionDetails)?void 0:D.payment_mode)||"N/A"})}),e.jsx("div",{className:"text-xs",children:e.jsxs("div",{className:"font-semibold text-sm text-[#37517e]",children:[1==(null==M?void 0:M.payment_status)&&"Paid",0==(null==(_=null==M?void 0:M.transactionDetails)?void 0:_.payment_status)&&"Unpaid"]})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsxs("div",{className:"font-semibold text-sm text-[#37517e]",children:[" ",x(null==(j=null==M?void 0:M.transactionDetails)?void 0:j.created_at,"YYYY-MM-DD").format("DD-MM-yy")||"N/A"]})}),e.jsx("div",{className:"flex-1 text-xs",children:e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:e.jsx("button",{onClick:()=>{var e;return z(`/pet-payment-receipt/${null==(e=null==M?void 0:M.transactionDetails)?void 0:e.tran_no}`)},className:"hover:bg-blue-500 whitespace-nowrap border rounded shadow px-5 py-2 border-blue-500 hover:text-white text-blue-500",children:"Print Receipt"})})})]})]}),e.jsx("div",{className:"flex justify-center w-full mt-2 ",children:e.jsxs("button",{className:"mx-3 bg-indigo-600 hover:bg-indigo-700 transition duration-200 hover:scale-105 font-normal text-white px-5 py-2 text-sm  rounded-sm shadow-xl",onClick:()=>z("/pet-registration-dashboard"),children:[" ","Home Page"]})})]})]})]})]})]})})})};export{v as default};
