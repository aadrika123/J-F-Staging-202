import{j as e}from"./mui-d8134288.js";import{r,u as t,b as i}from"./router-a70afc62.js";import{V as n}from"./index.esm-6fe1e240.js";import{z as o,aG as l,A as a,M as s}from"./index-1c8a2e08.js";import{G as d}from"./GrievanceApiList-4e83b4c5.js";import{a as c}from"./axios-0f103e9d.js";import m from"./GrievanceForm-71f794cc.js";import"./reactIcons-65f093d4.js";import"./materialTailwind-01b55b4e.js";import"./moment-494dae31.js";/* empty css                */import"./redux-c3344370.js";import"./i18next-524eea2d.js";function g(i){const[s,m]=r.useState(!1),[g,h]=r.useState(!1),[u,b]=r.useState(!1),[p,x]=r.useState(),[f,y]=r.useState(),[v,N]=r.useState(!1),[w,k]=r.useState(!1),{api_reqOtp:j,api_verifyOtp:T}=d(),{notify:C}=r.useContext(o);t();const O=r.useRef(null),P=r.useRef(null),M=()=>{P.current.focus()},S="text-red-700 font-semibold",F={headers:{Accept:"application/json"}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-5 py-6 rounded-lg border border-indigo-300 bg-white",children:[e.jsxs("p",{className:"absolute right-8 top-8 cursor-pointer bg-gray-100 hover:bg-gray-300",children:[" ",e.jsx(n,{size:30})," "]}),e.jsx("div",{className:"text-center text-lg font-semibold",children:" Verify Phone Number "}),e.jsxs("div",{children:[e.jsx("div",{className:"m-3",children:e.jsxs(e.Fragment,s?{children:[e.jsxs("label",{htmlFor:"mobileNo",children:["Your Mobile No. ",e.jsx("span",{className:S,children:"*"})]}),e.jsxs("p",{className:"flex justify-center items-center gap-x-5 text-2xl border bg-gray-200 py-1 font-semibold text-gray-700",children:[p,e.jsx(l,{onClick:()=>m(!1),color:"indigo",size:20,className:"cursor-pointer"})]})]}:{children:[e.jsxs("label",{htmlFor:"mobileNo",children:["Enter Mobile No. ",e.jsx("span",{className:S,children:"*"})]}),e.jsx("input",{disabled:s,maxLength:"10",ref:O,value:p,onChange:e=>{return x(r=e.target.value),Number(r)?N(10!=(null==r?void 0:r.length)&&"Enter 10 Digit Mobile No"):N("Enter 10 Digit Mobile No");var r},name:"mobileNo",className:"flex-1 w-full px-4 py-2 text-base text-gray-800 placeholder-gray-400 bg-white border border-gray-300 focus:outline-none focus:ring-1 focus:ring-indigo-800 focus:border-transparent ' disabled:bg-gray-200 rounded-md'",type:"text",id:""}),e.jsx("p",{className:"text-red-500 text-xs",children:v})]})}),e.jsxs("div",{className:"m-3",children:[e.jsxs("label",{htmlFor:"opt",children:["Enter OTP. ",e.jsx("span",{className:S,children:"*"})]}),e.jsx("input",{disabled:!s,maxLength:"6",ref:P,onChange:e=>y(e.target.value),name:"opt",className:" flex-1 w-full px-4 py-2 text-base text-gray-800 placeholder-gray-400 disabled:bg-gray-200 bg-white border border-gray-300 focus:outline-none focus:ring-1 focus:ring-indigo-800 focus:border-transparent",type:"text",id:""}),e.jsx("p",{className:"text-red-500 text-xs",children:w})]}),e.jsx("p",{className:"text-center text-gray-600",children:"Default OTP : 123456"}),e.jsx("p",{className:"text-center text-red-600 font-semibold",children:u&&u}),e.jsx("div",{className:"m-3 flex justify-center",children:g?"Submitting...":e.jsx("button",s?{onClick:()=>{if(M(),6!=(null==f?void 0:f.length))return k("Please Enter 6 Digit OTP");h(!0),a.post(T,{mobileNo:p,otp:f}).then(e=>{e.data.status?(h(!1),h(!1),C("OPT Verified Successfully","success"),i.screen(),i.phoneNo(p)):(h(!1),C("Failed to Verify OTP","error"),k("Invalid OTP"),h(!1))}).catch(e=>{h(!1),C("Failed to Verify OTP","error"),h(!1),k("Failed to Verify OTP")})},type:"button",className:"px-4 py-2 mt-5 bg-green-600 hover:bg-green-700 text-gray-50 text-base shadow-md rounded-md",children:"Verify OTP"}:{onClick:()=>(b(),N(),k(),O.current.focus(),10!=(null==p?void 0:p.length)?N("Enter 10 Digit Mobile No"):Number(p)?(h(!0),void c.post(j,{mobileNo:p},F).then(e=>{e.data.status?(h(!1),C("OPT Send Successfully","success"),m(!0),setTimeout(()=>{M()},1e3)):(C("Failed to send OTP","error"),b("Failed to send OTP"),h(!1))}).catch(e=>{C("Failed to send OTP","error"),h(!1),b("Failed to send OTP")})):N("Enter 10 Digit Mobile No")),type:"button",className:"px-4 py-2 mt-5 bg-indigo-600 hover:bg-indigo-700 text-gray-50 text-base shadow-md rounded-md",children:"Send OTP"})})]})]})})}const h={overlay:{background:"#e6e6fc"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"transparent",border:"none",height:"700px"}};function u(n){const[o,l]=i.useState(!1),[a,d]=r.useState(!1),c=t();function m(){l(!1),c("/grievance")}return r.useEffect(()=>{l(!0)},[]),s.setAppElement("#root"),e.jsx("div",{className:"",children:e.jsx(s,{isOpen:o,onAfterOpen:function(){},onRequestClose:m,style:h,contentLabel:"Example Modal",children:e.jsx("div",{className:"container",children:e.jsx("div",{class:"relative w-full h-full mt-20 md:mt-0 max-w-3xl md:h-auto border-indigo-600 shadow-indigo-200 shadow-sm rounded",children:e.jsxs("div",{class:"relative bg-white rounded-lg shadow ",children:[e.jsxs("div",{class:"flex items-start justify-between p-4 border-b rounded-t darks:border-gray-600",children:[e.jsx("h3",{class:"text-sm md:text-xl font-semibold text-gray-900 darks:text-white",children:"Register Grievance / शिकायत दर्ज करें"}),e.jsxs("button",{onClick:m,class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center darks:hover:bg-gray-600 darks:hover:text-white","data-modal-hide":"defaultModal",children:[e.jsx("svg",{"aria-hidden":"true",class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})}),e.jsx("span",{class:"sr-only",children:"Close modal"})]})]}),e.jsxs("div",{class:"p-6 space-y-5 text-sm md:text-base",children:[e.jsx("p",{class:"leading-relaxed text-gray-800",children:"Such points will not be considered Public complain / ऐसे विषय या बिंदुओं की सूची, जिन्हें जनशिकायत नहीं मानी जायेगीः"}),e.jsxs("ol",{start:"1",children:[e.jsx("li",{children:"1. Matters related to RTI./ सूचना के अधिकार (RTI) से संबंधित मामले।"}),e.jsx("li",{children:"2. Matters related to Judiciary./ माननीय न्यायालयों में विचाराधीन मामले।"}),e.jsx("li",{children:"3. Matters undertaking Central Government./ केंद्र सरकार या सार्वजनिक क्षेत्र के उपक्रमों से जुड़े मामले।"}),e.jsx("li",{children:"4. Sanitary services are not supported by this Portal./ इस पोर्टल द्वारा स्वच्छता सेवाओं का समर्थन नहीं किया जाता है।"}),e.jsx("li",{children:"5. Matters related to schemes and policies./योजना और नीति से जुड़े मामले।"}),e.jsx("li",{children:"6. Suggestions./ सुझाव के रूप में प्राप्त मामले।"}),e.jsx("li",{children:"7. Complain demanding employment or financial help./आर्थिक सहायता या नौकरी की मांग से जुड़े मामले।"}),e.jsx("li",{children:"8. Religious matters./ धर्म-संप्रदाय से जुड़े मामले।"})]})]}),e.jsxs("div",{className:"block md:flex justify-center md:space-x-4",children:[e.jsx("input",{className:"float-left mt-1 ml-3 md:mt-0",type:"checkbox",onClick:()=>d(!a),checked:a,name:"term-condition",id:""}),e.jsx("div",{onClick:()=>d(!a),className:"select-none text-sm md:text-base font-semibold text-center cursor-pointer",children:"I acknowledge that I have read and agree to the above Terms and Condition"})]}),e.jsxs("div",{class:"flex flex-row-reverse items-center p-6 border-t border-gray-200 rounded-b",children:[e.jsx("button",{onClick:()=>(n.screen(),void l(!1)),disabled:!a,class:"mx-2 text-white disabled:bg-gray-500 disabled:scale-100 bg-indigo-700 hover:bg-indigo-800 focus:ring-4 focus:outline-none focus:ring-indigo-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center darks:bg-indigo-600 darks:hover:bg-indigo-700 darks:focus:ring-indigo-800",children:"START"}),e.jsx("button",{onClick:m,class:"mx-2 text-white bg-gray-500 hover:bg-gray-600 focus:ring-4 focus:outline-none focus:ring-red-300 rounded-lg border border-red-200 text-sm font-medium px-5 py-2.5 focus:z-10 ",children:"CANCEL"})]})]})})})})})}function b(i){r.useContext(o);const n=t();return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"w-fit px-16 py-5 bg-green-50 rounded-lg border border-indigo-300 text-center",children:[e.jsx("p",{className:"absolute right-8 top-8 cursor-pointer bg-gray-100 hover:bg-gray-300",children:" "}),e.jsx("div",{className:"text-center text-lg font-semibold",children:"Applied Successfully "}),e.jsx("p",{className:"border-b my-2"}),e.jsxs("div",{children:["You have Successfully applied the Grievances.",e.jsxs("p",{children:["Acknowledgement No - ",e.jsxs("span",{className:"font-semibold",children:[" ",null==i?void 0:i.grievanceNo]})]})]}),e.jsxs("div",{className:"flex justify-center gap-x-5 mt-4",children:[e.jsx("button",{onClick:()=>n("/citizen"),type:"button",className:"px-2 py-1 border-2 border-gray-800 hover:bg-gray-700 hover:text-white rounded",children:"Home"}),e.jsx("button",{onClick:()=>n("/grievance"),type:"button",className:"px-2 py-1 border-2 border-gray-800 hover:bg-gray-700 hover:text-white rounded",children:"View Status"})]})]})})})}const p=()=>{const[t,i]=r.useState(),[n,o]=r.useState(1),[l,a]=r.useState();return e.jsxs(e.Fragment,{children:[1===n&&e.jsx(u,{screen:()=>o(2)}),e.jsx("p",{className:"mt-20"}),e.jsxs("div",{className:"xl:mx-30 md:mx-[10rem]",children:[e.jsx("div",{className:"flex justify-center ",children:2===n&&e.jsx(g,{phoneNo:i,screen:()=>o(3)})}),3===n&&e.jsx(m,{mobileNo:t,screen:()=>o(4),grievanceApplicationNo:a}),4===n&&e.jsx(b,{grievanceNo:l})]})]})};export{p as default};
