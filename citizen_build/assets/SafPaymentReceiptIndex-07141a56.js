import{j as e}from"./mui-d8134288.js";import{b as l,f as i,u as s,r}from"./router-a70afc62.js";import{R as a}from"./index-d753f8e2.js";import{aw as d,l as n,n as t,aI as o,j as c,x as m,ad as h,A as v,b as x,B as p,E as f}from"./index-1c8a2e08.js";import{S as N}from"./ServerErrorCard-e275c2e4.js";import{P as u}from"./PrintButton-a24f181e.js";import"./axios-0f103e9d.js";import"./reactIcons-65f093d4.js";import"./materialTailwind-01b55b4e.js";import"./moment-494dae31.js";/* empty css                */import"./redux-c3344370.js";import"./i18next-524eea2d.js";class b extends l.Component{render(){var l,i,s,r,a,m,h,v,x,p,f,N,b,g,w,y,j,T,R,k,D,P,A,S,F,H,I,z,B,C,O,q,E,L,Q,Y,_,M,U,V,$,G,J,K,W,X,Z,ee,le,ie,se,re,ae;const de=null==(l=null==this?void 0:this.props)?void 0:l.ulbData,ne=null==(i=null==this?void 0:this.props)?void 0:i.paymentData;return e.jsxs(e.Fragment,{children:[window.ReactNativeWebView?e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed bottom-10 text-center justify-center items-center w-screen print:hidden z-50",children:e.jsxs("button",{onClick:()=>{window.ReactNativeWebView.postMessage(JSON.stringify({Key:"PRINT_TO_PRINTER",url:`<div style="border: 2px dashed gray; background-color: white; padding: 8px; width: 250mm; height: auto; position: relative; margin: 0 auto;">\n    <div style="display: grid; grid-template-columns: 1fr; text-align: center; position: relative;">\n        <div>\n            <img src="${null==de?void 0:de.ulb_logo}" style="height: 80px; display: block; margin: 0 auto;" />\n        </div>\n        <div style="position: absolute; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">\n            <img src="${null==de?void 0:de.state_logo}" alt="" style="width: 22rem; height: 22rem; opacity: 0.2; border-radius: 50%; border: 1px solid;" />\n        </div>\n    </div>\n\n    <div style="text-align: center; padding-top: 8px;">\n        <h1 style="font-weight: bold; font-size: 32px;">${null==de?void 0:de.ulb_name}</h1>\n    </div>\n\n    <div style="text-align: center; padding-top: 16px;">\n        <h1 style="font-weight: bold; font-size: 20px; color: gray; border: 2px solid black; padding: 10px; display: inline-block;">Payment Receipt<br>Holding Tax</h1>\n    </div>\n\n    <div style="margin-top: 16px; text-align: center; font-size: 14px;">**This is a computer-generated receipt and it does not require a signature.**</div>\n</div>`}))},className:d,children:[e.jsx(n,{className:"inline text-lg"}),"print"]})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between items-start sm:items-center gap-2 mb-4",children:[e.jsx("div",{className:"",children:e.jsx(u,{})}),e.jsx("div",{className:"",children:e.jsx("button",{onClick:()=>this.props.navigate(-1),className:"inline-flex bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 text-sm",children:"Back"})})]})}),e.jsx("div",{id:"printableArea",className:"mt-10 print:mt-0",children:e.jsx("div",{children:e.jsxs("div",{className:"border-2 border-dashed border-gray-600 print:scale-95 bg-white p-2 sm:p-4 w-full sm:w-[250mm] h-auto sm:mx-auto lg:mx-auto container2 relative",children:[e.jsxs("div",{className:"grid grid-cols-1 relative",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:null==(s=null==ne?void 0:ne.ulbDetails)?void 0:s.ulb_logo,className:"h-16 sm:h-20 mx-auto",alt:"ULB Logo"})}),e.jsx("div",{className:"absolute w-full h-full flex justify-center items-center pointer-events-none mt-96",children:e.jsx("img",{src:null==(r=null==ne?void 0:ne.ulbDetails)?void 0:r.ulb_logo,alt:"",className:"w-48 h-48 sm:w-[22rem] sm:h-[22rem] z-10 bg-transparent opacity-20 rounded-full border"})})]}),e.jsx("div",{className:"pt-2 sm:pt-4",children:e.jsx("h1",{className:"font-bold text-xl sm:text-4xl text-center",children:null==(a=null==ne?void 0:ne.ulbDetails)?void 0:a.ulb_name})}),e.jsx("div",{className:"pt-4 flex justify-center",children:e.jsx("div",{className:"text-center",children:e.jsxs("h1",{className:"font-bold text-base sm:text-xl text-gray-800 border-2 border-gray-700 px-4 sm:px-10 py-2",children:["Payment Receipt ",e.jsx("br",{}),"Holding Tax"]})})}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-xs sm:text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"Receipt No.:"}),e.jsx("span",{className:"font-normal sm:pl-2",children:t(null==(h=null==(m=this.props)?void 0:m.paymentData)?void 0:h.transactionNo)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"Department/Section:"}),e.jsx("span",{className:"font-normal sm:pl-2",children:t(null==(x=null==(v=this.props)?void 0:v.paymentData)?void 0:x.departmentSection)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"Account Description:"}),e.jsx("span",{className:"font-normal sm:pl-2 break-words",children:t(null==(f=null==(p=this.props)?void 0:p.paymentData)?void 0:f.accountDescription)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"Date:"}),e.jsx("span",{className:"font-normal sm:pl-2",children:t(null==(b=null==(N=this.props)?void 0:N.paymentData)?void 0:b.transactionDate)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"Ward No.:"}),e.jsx("span",{className:"font-normal sm:pl-2",children:t(null==(w=null==(g=this.props)?void 0:g.paymentData)?void 0:w.oldWardNo)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"holding"==(null==(y=null==this?void 0:this.props)?void 0:y.module)?"Holding No.:":"Application No.:"}),e.jsx("span",{className:"font-normal sm:pl-2",children:t(null==(T=null==(j=this.props)?void 0:j.paymentData)?void 0:T.applicationNo)})]})]})]})}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"space-y-2 text-xs sm:text-sm",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"Received From Mr/Mrs/Miss:"}),e.jsx("span",{className:"font-normal sm:pl-2",children:t(null==(k=null==(R=this.props)?void 0:R.paymentData)?void 0:k.customerName)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"Address:"}),e.jsx("span",{className:"font-normal sm:pl-2 break-words",children:t(null==(P=null==(D=this.props)?void 0:D.paymentData)?void 0:P.address)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"A Sum of:"}),e.jsx("span",{className:"font-normal sm:pl-2",children:o(null==(S=null==(A=this.props)?void 0:A.paymentData)?void 0:S.totalPaidAmount)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900 min-w-0 sm:min-w-fit",children:"(in words):"}),e.jsxs("span",{className:"font-normal sm:pl-2 border-b border-dashed border-gray-600 flex-1",children:[t(null==(H=null==(F=this.props)?void 0:F.paymentData)?void 0:H.paidAmtInWords)," Rupees Only"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"towards:"}),e.jsx("span",{className:"font-normal sm:ml-1",children:t(null==(z=null==(I=this.props)?void 0:I.paymentData)?void 0:z.towards)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Vide:"}),e.jsx("span",{className:"font-normal sm:ml-1",children:t(null==(C=null==(B=this.props)?void 0:B.paymentData)?void 0:C.paymentMode)})]})]})]})}),e.jsx("div",{className:"mt-4 p-2",children:e.jsx("h1",{className:"font-bold text-xs sm:text-sm text-left",children:"N.B. Online Payment/Cheque/Draft/Bankers Cheque are Subject to Realisation"})}),e.jsx("div",{className:"p-2",children:e.jsx("h1",{className:"font-bold text-sm sm:text-base text-left",children:"HOLDING TAX DETAILS"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"min-w-full border border-gray-500",children:[e.jsxs("div",{className:"hidden sm:block",children:[e.jsxs("div",{className:"flex text-xs sm:text-sm font-semibold bg-gray-50",children:[e.jsx("div",{className:"w-1/3 text-center border-r border-gray-500 p-2",children:"Description"}),e.jsx("div",{className:"w-1/3 text-center border-r border-gray-500 p-2",children:"Period"}),e.jsx("div",{className:"w-1/3 text-center p-2",children:"Total Amount"})]}),e.jsxs("div",{className:"flex text-xs bg-gray-50 border-t border-gray-500",children:[e.jsx("div",{className:"w-1/3 border-r border-gray-500"}),e.jsx("div",{className:"w-1/3 border-r border-gray-500",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-1/2 text-center border-r border-gray-500 p-1",children:"From"}),e.jsx("div",{className:"w-1/2 text-center p-1",children:"To"})]})}),e.jsx("div",{className:"w-1/3"})]}),e.jsxs("div",{className:"flex text-xs bg-gray-50 border-t border-gray-500",children:[e.jsx("div",{className:"w-1/3 border-r border-gray-500"}),e.jsx("div",{className:"w-1/3 border-r border-gray-500",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-1/2 border-r border-gray-500",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-1/2 text-center border-r border-gray-500 p-1",children:"QTR"}),e.jsx("div",{className:"w-1/2 text-center p-1",children:"FY"})]})}),e.jsx("div",{className:"w-1/2",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-1/2 text-center border-r border-gray-500 p-1",children:"QTR"}),e.jsx("div",{className:"w-1/2 text-center p-1",children:"FY"})]})})]})}),e.jsx("div",{className:"w-1/3"})]})]}),e.jsxs("div",{className:"border-t border-gray-500",children:[e.jsxs("div",{className:"sm:hidden p-3 space-y-3",children:[e.jsx("div",{className:"font-semibold text-center text-sm bg-gray-50 p-2 rounded",children:"Holding Tax"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:"Period From:"}),e.jsxs("div",{children:["QTR: ",t(null==(q=null==(O=this.props)?void 0:O.paymentData)?void 0:q.paidFromQtr)]}),e.jsxs("div",{children:["FY: ",t(null==(L=null==(E=this.props)?void 0:E.paymentData)?void 0:L.paidFrom)]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-semibold",children:"Period To:"}),e.jsxs("div",{children:["QTR: ",t(null==(Y=null==(Q=this.props)?void 0:Q.paymentData)?void 0:Y.paidUptoQtr)]}),e.jsxs("div",{children:["FY: ",t(null==(M=null==(_=this.props)?void 0:_.paymentData)?void 0:M.paidUpto)]})]})]}),e.jsxs("div",{className:"text-center font-semibold text-sm bg-blue-50 p-2 rounded",children:["Total Amount: ",o(null==(V=null==(U=this.props)?void 0:U.paymentData)?void 0:V.demandAmount)]})]}),e.jsxs("div",{className:"hidden sm:flex text-xs border-b border-gray-500",children:[e.jsx("div",{className:"w-1/3 text-center border-r border-gray-500 p-2 font-normal",children:"Holding Tax"}),e.jsx("div",{className:"w-1/3 border-r border-gray-500",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-1/2 border-r border-gray-500",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-1/2 text-center border-r border-gray-500 p-1",children:t(null==(G=null==($=this.props)?void 0:$.paymentData)?void 0:G.paidFromQtr)}),e.jsx("div",{className:"w-1/2 text-center p-1",children:t(null==(K=null==(J=this.props)?void 0:J.paymentData)?void 0:K.paidFrom)})]})}),e.jsx("div",{className:"w-1/2",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-1/2 text-center border-r border-gray-500 p-1",children:t(null==(X=null==(W=this.props)?void 0:W.paymentData)?void 0:X.paidUptoQtr)}),e.jsx("div",{className:"w-1/2 text-center p-1",children:t(null==(ee=null==(Z=this.props)?void 0:Z.paymentData)?void 0:ee.paidUpto)})]})})]})}),e.jsx("div",{className:"w-1/3 text-center p-2 font-normal",children:o(null==(ie=null==(le=this.props)?void 0:le.paymentData)?void 0:ie.demandAmount)})]})]}),null==(ae=null==(re=null==(se=this.props)?void 0:se.paymentData)?void 0:re.taxDetails)?void 0:ae.map((l,i)=>e.jsxs("div",{className:"border-b border-gray-500",children:[e.jsx("div",{className:"sm:hidden p-2",children:e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsx("span",{className:"font-normal flex-1 text-right pr-2",children:t(null==l?void 0:l.keyString)}),e.jsx("span",{className:"font-normal font-semibold",children:o(null==l?void 0:l.value)})]})}),e.jsxs("div",{className:"hidden sm:flex text-xs",children:[e.jsx("div",{className:"w-1/3 border-r border-gray-500"}),e.jsx("div",{className:"w-1/3 text-right border-r border-gray-500 p-2",children:t(null==l?void 0:l.keyString)}),e.jsx("div",{className:"w-1/3 text-center p-2 font-normal",children:o(null==l?void 0:l.value)})]})]},i))]})}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(c,{url:window.location.href,size:"64"})}),e.jsxs("div",{className:"space-y-1 text-xs sm:text-sm",children:[e.jsx("div",{children:e.jsxs("span",{className:"text-gray-900 font-sans",children:["For Details Please Visit: ",null==de?void 0:de.website]})}),e.jsx("div",{children:e.jsxs("span",{className:"text-gray-900 font-sans",children:["Or Call us at ",null==de?void 0:de.mobile_no," or ",null==de?void 0:de.mobile_no_2]})})]})]})}),e.jsx("div",{className:"mt-4 p-2",children:e.jsx("h1",{className:"font-normal text-xs sm:text-sm text-center",children:"**This is a computer-generated receipt and it does not require a signature.**"})})]})})})]})}}function g(){m();const{paymentId:l,module:d}=i();let n;n="saf"==d?"SAF Receipt":"Holding Receipt",h(n);const t=s(),o=r.useRef(),[c,u]=r.useState();r.useState(!1);const[g,w]=r.useState(!1),[y,j]=r.useState(!1),{api_getPaymentData:T,api_getHoldingReceiptUrl:R}=f();r.useEffect(()=>{k()},[]);const k=()=>{let e,i;w(!1),j(!0),window.localStorage.getItem("token"),"holding"==d?(e=R,i={tranNo:l}):"saf"==d?(e=T,i={tranNo:l}):(e=R,i={tranNo:l}),v.post(e,i,x()).then(e=>{e.data.status?u(e.data.data):w(!0),j(!1)}).catch(e=>{w(!0),j(!1)})};return y?e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsx("div",{className:"min-h-screen"})]}):g?e.jsx(N,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"}):e.jsxs("div",{children:[e.jsx(a,{trigger:()=>e.jsx("button",{}),content:()=>o.current}),e.jsx(b,{module:d,ref:o,paymentData:c,ulbData:null==c?void 0:c.ulbDetails,navigate:t})]})}export{g as default};
