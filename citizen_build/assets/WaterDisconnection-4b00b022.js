import{j as e}from"./mui-105b4636.js";import{r as o,u as E,f as F}from"./router-894402c5.js";import{l as W,c as M,d as n,u as I}from"./index-743a2ec8.js";import{M as R}from"./index-82be3ecd.js";import{a as H}from"./axios-67d8a945.js";import{W as L}from"./WaterApiList-43a720f1.js";import{A as O}from"./AccordiaonPagefordisconnection-417f544e.js";import{C as D}from"./ChatBot-2a3af93c.js";import{B}from"./BarLoader-26c92bfd.js";import"./react-40db4358.js";import"./reactIcons-58c2a0d8.js";import"./redux-b8f144fa.js";import"./i18next-e2c66b9b.js";/* empty css                */const Y={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"",border:"none"}},ae=()=>{const[g,l]=o.useState(!1),[f,r]=o.useState(!1),[i,N]=o.useState(),{notify:m}=o.useContext(W),[c,x]=o.useState(""),[t,j]=o.useState(!1),y=()=>{j(!t)},v={feruleCleaning:!1,pipeShifting:!1,remarks:"",reason:"",address:"",mobileNo:""},h=E(),{consumerId:k}=F(),{api_applywaterdisconnection:w,header:C}=L(),S=M().shape({remarks:n().required("Remarks is required"),address:n().required("Address is required"),reason:n().required("Address is required"),mobileNo:n().required("Mobile number is required")}),s=I({initialValues:v,validationSchema:S,onSubmit:d=>{r(!0),H.post(w,{consumerId:k,remarks:d.remarks,ulbId:"2",reason:d.reason,mobileNo:d.mobileNo,address:d.address},C).then(a=>{var p,u,b;a.data.status===!0?(N((p=a==null?void 0:a.data)==null?void 0:p.data),r(!1),l(!0)):(r(!1),x(" "+((u=a==null?void 0:a.data)==null?void 0:u.message)),m((b=a==null?void 0:a.data)==null?void 0:b.message,"error"))}).catch(a=>{r(!1),x("Exception While Apply"),m("Something Went Wrong","error")})}}),A=()=>{},q=()=>{l(!1)};return e.jsxs("div",{children:[f&&e.jsx(B,{}),e.jsxs("div",{className:"grid grid-cols-12 p-5 max-sm:flex max-sm:flex-col max-sm:p-0 ",children:[e.jsxs("div",{className:"col-span-7 ml-16 max-sm:ml-0 max-sm:p-2",children:[e.jsxs("p",{className:"border p-2 bg-indigo-500 text-gray-200 rounded shadow-md",children:["You are applying for"," ",e.jsx("span",{className:"font-semibold",children:" Water Disconnection "})," "]}),e.jsx("div",{className:"bg-white rounded-md my-2 shadow-lg  block",children:e.jsx("div",{className:"my-3 p-4",children:e.jsxs("form",{onSubmit:s.handleSubmit,children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block",htmlFor:"address",children:[" ",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Reason:"]}),e.jsx("input",{type:"text",id:"reason",name:"reason",className:"px-4 py-2 border rounded w-full",placeholder:"Enter your reason",value:s.values.reason,onChange:s.handleChange}),s.errors.reason&&s.touched.reason&&e.jsx("div",{className:"text-red-500 text-xs",children:s.errors.reason})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block",htmlFor:"address",children:[e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Address:"]}),e.jsx("input",{type:"text",id:"address",name:"address",className:"px-4 py-2 border rounded w-full",placeholder:"Enter your address",value:s.values.address,onChange:s.handleChange}),s.errors.address&&s.touched.address&&e.jsx("div",{className:"text-red-500 text-xs",children:s.errors.address})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block",htmlFor:"mobileNo",children:[" ",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Updated Mobile Number:"]}),e.jsx("input",{type:"text",id:"mobileNo",name:"mobileNo",className:"px-4 py-2 border rounded w-full",placeholder:"Enter your updated mobile number",value:s.values.mobileNo,onChange:s.handleChange}),s.errors.mobileNo&&s.touched.mobileNo&&e.jsx("div",{className:"text-red-500 text-xs",children:s.errors.mobileNo})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block",htmlFor:"remarks",children:[e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Remarks:"]}),e.jsx("textarea",{id:"remarks",name:"remarks",className:"px-4 py-2 border rounded w-full",placeholder:"Enter any additional remarks...",value:s.values.remarks,onChange:s.handleChange}),s.errors.remarks&&s.touched.remarks&&e.jsx("div",{className:"text-red-500  text-xs",children:s.errors.remarks})]}),e.jsx("div",{className:"col-span-4 mb-3",children:e.jsx("div",{className:"text-center text-red-600 font-semibold",children:c&&c})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("label",{className:"text-red-500",children:[e.jsx("input",{type:"checkbox",checked:t,onChange:y}),"Â  I hereby declare that the above particulars of facts and information stated are true, correct and complete to the best of my belief and knowledge."]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:`bg-indigo-600 text-white font-medium text-sm leading-tight  hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out px-12 py-2.5 rounded ${t?"bg-opacity-100 cursor-pointer":"bg-opacity-50 cursor-not-allowed"}`,disabled:!t,children:"Submit"})})]})]})})})]}),e.jsxs("div",{className:"col-span-5 ml-[40%] sm:hidden md:block lg:block max-sm:ml-0 max-sm:p-2",children:[e.jsxs("p",{className:"border-2 border-indigo-400 p-2 text-center bg-white text-1xl shadow-md",children:[" ","Frequently Asked Questions"," "]}),e.jsx(O,{})]})]}),e.jsx(R,{isOpen:g,onAfterOpen:A,onRequestClose:q,style:Y,contentLabel:"Example Modal",children:e.jsx("div",{className:"bg-white shadow-2xl border border-blue-200 rounded-md ",children:e.jsx("div",{className:"block p-4 md:py-6 shadow-lg bg-indigo-100 border border-indigo-300 rounded  mx-auto ",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"font-semibold",children:"Your Application Has been Submitted Successfully."}),e.jsxs("p",{children:[e.jsx("span",{className:"text-sm",children:" Application No: "}),e.jsx("span",{className:"text-indigo-600 font-semibold",children:i==null?void 0:i.applicationNo})]}),e.jsx("button",{onClick:()=>h("/landingDashboard"),className:"bg-white hover:bg-indigo-600 hover:text-white text-indigo-700  border border-indigo-600 mx-2 rounded-sm text-sm px-4 py-2 shadow-xl",children:"Home"}),e.jsx("button",{onClick:()=>h(`/water-doc-upload/${id}`),className:"bg-indigo-600 hover:bg-indigo-700 text-white mx-2 rounded-sm text-sm px-4 py-2 shadow-xl",children:"Upload Document"})]})})})}),e.jsx(D,{topic:[{q:"How to apply ",a:"You can apply water connection against your property using Holding or SAF."},{q:"Which documents need to submit  ?",a:"Holding proff ,saf proff"}]})]})};export{ae as default};
