import{j as e}from"./mui-d8134288.js";import{u as t,f as l,r as s}from"./router-a70afc62.js";import{a as d}from"./index.esm-e2812b38.js";import{h as a}from"./moment-494dae31.js";import{c0 as r,bQ as i,E as c}from"./index-1c8a2e08.js";import{p as n,P as x}from"./PaymentCardDirect-42b59086.js";import{a as o}from"./axios-0f103e9d.js";import{B as m}from"./BarLoader-49bae028.js";import"./reactIcons-65f093d4.js";import"./materialTailwind-01b55b4e.js";/* empty css                */import"./redux-c3344370.js";import"./i18next-524eea2d.js";import"./index.esm-ecae21af.js";import"./index-5ce5650c.js";const h=()=>{var h,N,p;const b=t(),{id:v}=l(),[f,u]=s.useState(),[y,g]=s.useState(!1),w=s.useRef(),{getConsumerDtl:A}=c();s.useEffect(()=>{g(!0),o.post(A,{id:v}).then(e=>{g(!1),u(e.data.status?e.data.data:null)}).catch(e=>{g(!1)})},[]);const M=()=>{w.current.close()};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-full h-full",children:e.jsxs("div",{className:"overflow-y-auto max-h-screen",children:[y&&e.jsx(m,{}),e.jsx("div",{className:"grid grid-cols-12  overflow-y-auto  pb-20",children:e.jsx("div",{className:"rounded-md col-span-12 ",children:e.jsxs("div",{className:"overflow-y-auto",children:[!y&&e.jsxs("div",{className:"bg-white shadow-xl p-4 border border-gray-200 my-3",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs mt-2 text-[#37517e]",children:[e.jsx("img",{src:n,alt:"Pet Detail",className:"w-5 inline text-[#37517e]"})," User Details"]}),e.jsxs("div",{className:"mt-2 space-y-5",children:[e.jsxs("div",{className:"flex space-x-10 pl-4 ",children:[e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Ward No"}),e.jsx("div",{className:"font-semibold text-sm text-[#37517e]",children:(null==f?void 0:f.ward_no)?null==f?void 0:f.ward_no:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Consumer Name"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(null==f?void 0:f.name)?null==f?void 0:f.name:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Consumer No."}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(null==f?void 0:f.consumer_no)?f.consumer_no:"N/A"})})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Demand From"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(null==f?void 0:f.demand_from)?null==f?void 0:f.demand_from:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Demand Upto"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(null==f?void 0:f.demand_upto)?f.demand_upto:"N/A"})]})]}),e.jsxs("div",{className:"flex space-x-10 pl-4 ",children:[e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Mobile No."}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:r(null==f?void 0:f.mobile_no)})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Monthly Demand"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(null==f?void 0:f.monthly_demand)?null==f?void 0:f.monthly_demand:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Outstanding Demand"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(null==f?void 0:f.total_demand)?null==f?void 0:f.total_demand:"N/A"})]}),e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:" Consumer Type"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(null==f?void 0:f.consumer_type)?null==f?void 0:f.consumer_type:"N/A"})]}),e.jsx("div",{className:"flex-1 text-xs"})]}),e.jsx("div",{className:"flex space-x-10 pl-4 ",children:e.jsxs("div",{className:"flex-1 text-xs",children:[e.jsx("div",{className:"text-[#37517e]",children:"Address"}),e.jsx("div",{className:"font-bold text-sm text-[#37517e]",children:(null==f?void 0:f.address)?null==f?void 0:f.address:"N/A"})]})})]})]}),!y&&e.jsxs("div",{className:"bg-white shadow-xl p-4 border border-gray-200 my-5 ",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs text-[#37517e]",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/2029/2029957.png",alt:"pin",className:"w-5 inline text-[#37517e]"})," Demand Details"]}),e.jsxs("table",{className:"min-w-full leading-normal mt-2 bg-white",children:[e.jsx("thead",{className:"font-bold text-left text-sm border text-[#37517e] bg-sky-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"\tMONTH/YEAR"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"MONTHLY RATE"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs uppercase text-left",children:"PAID STATUS"})]})}),e.jsx("tbody",{className:"text-sm",children:e.jsx(e.Fragment,{children:null==(h=null==f?void 0:f.demand_details)?void 0:h.map((t,l)=>e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:l+1}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:a(null==t?void 0:t.payment_from,"YYYY-MM-DD").format("MMM-YYYY")}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:null==t?void 0:t.total_tax}),e.jsx("td",{className:"px-2  py-2 text-sm",children:e.jsx("div",1==(null==t?void 0:t.paid_status)?{className:"text-green-500 ",children:"Paid"}:{className:"text-red-500  ",children:"Unpaid"})})]}))})})]}),e.jsx("div",{className:"text-center text-red-600 mt-2",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-center font-bold ",children:e.jsx("p",{children:"Please Make Payment *"})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>{w.current.showModal()},className:"px-2 py-1 bg-indigo-600 text-sm text-white",children:"Pay Now"})})]})})]}),e.jsx("dialog",{ref:w,className:"",children:e.jsxs("div",{className:"space-y-2 mb-5",children:[e.jsx("button",{className:"absolute top-0 right-0 m-2  text-white  rounded-full bg-red-500",onClick:()=>M(),children:e.jsx(d,{className:"text-3xl"})}),e.jsxs("p",{className:"text-center font-extrabold text-red-600 ",children:["Please Select Month * ",e.jsx("span",{className:"font-semibold text-lg"})]}),e.jsx("div",{className:"flex justify-center gap-x-5",children:e.jsx(x,{consumerId:null==f?void 0:f.id,consumerType:"independent",closeDialogTag:M})})]})}),!y&&(null==(N=null==f?void 0:f.transaction_details)?void 0:N.length)>0&&e.jsxs("div",{className:"bg-white shadow-xl p-4 border border-gray-200",children:[e.jsxs("h1",{className:"px-1 font-semibold font-serif text-xs mt-2 text-[#37517e]",children:[e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/8948/8948774.png",alt:"Upload",className:"w-5 inline text-[#37517e]"})," Payment Details"]}),e.jsxs("table",{className:"min-w-full leading-normal mt-2 bg-white",children:[e.jsx("thead",{className:"font-bold text-left text-sm border text-[#37517e] bg-sky-100 uppercase",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"#"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"AMOUNT"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"MODE"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"MONTH/YEAR"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"TRANSACTION DATE"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"TRANSACTION NO."}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"TC NAME"}),e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-xs text-left",children:"Action"})]})}),e.jsx("tbody",{className:"text-sm",children:e.jsx(e.Fragment,{children:null==(p=null==f?void 0:f.transaction_details)?void 0:p.map((t,l)=>e.jsxs("tr",{className:"bg-white shadow-lg border-b border-gray-200",children:[e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:l+1}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:null==t?void 0:t.total_payable_amt}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:null==t?void 0:t.payment_mode}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:a(null==t?void 0:t.demand_from,"YYYY-MM-DD").format("MMM-YYYY")}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:null==t?void 0:t.transaction_date}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:null==t?void 0:t.transaction_no}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:(null==t?void 0:t.tc_name)||"N/A"}),e.jsx("td",{className:"px-2 py-2 text-sm text-left text-[#37517e]",children:e.jsxs("button",{onClick:()=>b(`/swm-payment-receipt/${null==t?void 0:t.transaction_id}`),className:"border border-sky-700 text-sky-700 w-32 py-1 rounded-sm shadow-md hover:shadow-xl hover:bg-sky-700 \r\n                                                                           hover:text-white flex items-center justify-center gap-1 ",children:[e.jsx(i,{})," View Receipt"]})})]}))})})]})]})]})})})]})})})};export{h as default};
