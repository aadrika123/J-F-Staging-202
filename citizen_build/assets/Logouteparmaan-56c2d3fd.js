import{j as e}from"./mui-d8134288.js";import{r as o,u as t}from"./router-a70afc62.js";import{A as i,b as n,E as a}from"./index-1c8a2e08.js";import"./axios-0f103e9d.js";import"./reactIcons-65f093d4.js";import"./materialTailwind-01b55b4e.js";import"./moment-494dae31.js";/* empty css                */import"./redux-c3344370.js";import"./i18next-524eea2d.js";const{api_ePramanLogout:s}=a(),r=()=>{const[a,r]=o.useState(null),l=t();return o.useEffect(()=>{(async()=>{i.post(s,{sessionId:localStorage.getItem("epramaanToken"),type:window.ReactNativeWebView?"mobile":"web"},n()).then(function(e){var o,t,i;(null==(o=null==e?void 0:e.data)?void 0:o.status)?r(JSON.stringify(null==(i=null==(t=e.data)?void 0:t.data)?void 0:i.data)):alert("log out failed")}).catch(function(e){})})()},[]),o.useEffect(()=>{if(localStorage.getItem("epramaanToken")||(window.localStorage.removeItem("menuList"),window.localStorage.removeItem("userName"),window.localStorage.removeItem("roles"),window.localStorage.removeItem("citizen_token"),window.localStorage.removeItem("userType"),window.localStorage.removeItem("LoginStatus"),l("/")),a){const e=document.getElementById("logoutForm");window.localStorage.removeItem("menuList"),window.localStorage.removeItem("userName"),window.localStorage.removeItem("roles"),window.localStorage.removeItem("citizen_token"),window.localStorage.removeItem("userType"),window.localStorage.removeItem("LoginStatus"),e.submit()}},[a]),e.jsx("div",a?{className:"flex justify-center items-center h-screen bg-white",children:e.jsxs("form",{id:"logoutForm",action:"https://epramaan.meripehchaan.gov.in/openid/jwt/processOIDCSLORequest.do",method:"post",children:[e.jsx("textarea",{name:"data",style:{display:"none"},value:a,readOnly:!0}),e.jsx("button",{type:"submit",className:"text-gray-800 font-semibold",children:"Logout..."})]})}:{className:"flex justify-center items-center h-[600px]",children:e.jsx("h1",{className:"text-gray-800 font-semibold",children:"Please wait..."})})};export{r as default};
