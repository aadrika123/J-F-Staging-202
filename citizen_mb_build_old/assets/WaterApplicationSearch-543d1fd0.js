import{r as n,u as S,b as t,F as r,j as a,a as B}from"./index-0e94f450.js";import{u as A}from"./formik.esm-3041fe88.js";import{c as C,a as p}from"./index.esm-53d0ef34.js";import{R as F}from"./index.esm-651ce217.js";import{W as _}from"./WaterApiList-dfcbb003.js";import k from"./CommonLoader-bddb49c4.js";import"./BeatLoader-10dd928d.js";function z(){const[m,o]=n.useState(),[g,i]=n.useState(!1),[d,u]=n.useState();n.useState();const{api_waterSearchActiveApplication:b,header:f}=_(),y=S(),v=e=>{i(!0);const c={filterBy:l.values.filterBy,applicationNo:l.values.parameter};B.post(b,c,f).then(s=>{var h,x;(h=s==null?void 0:s.data)!=null&&h.status&&u((x=s==null?void 0:s.data)==null?void 0:x.data),i(!1)}).catch(s=>{i(!1)})},N=C({filterBy:p().required("This is a required field !"),parameter:p().required("This is a required field !")}),l=A({initialValues:{filterBy:"",parameter:""},onSubmit:e=>{v()},validationSchema:N}),w=e=>{l.values.filterBy=e.target.value,e.target.value=="holdingNo"&&o("Holding No"),e.target.value=="ownerDetails"&&o("Owner Details"),e.target.value=="address"&&o("Address")};return t(r,{children:[g&&a(k,{}),a("div",{className:"text-center font-bold text-gray-700 text-lg border-b-2 border-gray-700 mx-4 mb-4",children:a("p",{children:"  Search Water Application "})}),t("div",{className:"mt-6",children:[a("div",{className:"flex ml-5 mt-2 "}),a("form",{onSubmit:l.handleSubmit,children:t("div",{className:"justify-center my-5 m-10",children:[t("div",{children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Filter By",a("span",{className:"text-red-500",children:"*"})]}),t("select",{name:"filterBy",onChange:w,className:"cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[a("option",{value:"",children:"Select"}),a("option",{value:"newConnection",children:"New Connection"}),a("option",{value:"regularization",children:"Regularization"})]}),a("p",{className:"text-red-500 text-xs",children:l.touched.filterBy&&l.errors.filterBy?l.errors.filterBy:null})]}),t("div",{children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Search By ",m," ",a("span",{className:"text-red-500",children:"*"})]}),a("input",{type:"text",name:"parameter",onChange:l.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),a("p",{className:"text-red-500 text-xs",children:l.touched.parameter&&l.errors.parameter?l.errors.parameter:null})]}),a("div",{className:"mt-4",children:a("button",{type:"submit",className:"w-full border border-indigo-600 bg-indigo-600 hover:bg-indigo-700 text-gray-200 hover:text-white shadow-lg rounded-sm text-base font-semibold  py-1",children:t("p",{className:"flex justify-center",children:[" ",t("span",{className:"mt-1 mx-2",children:[" ",a(F,{})," "]})," Search record "]})})})]})}),a("div",{className:"mt-10 mx-4",children:d?t("div",{className:"w-full relative bg-indigo-50 shadow-md  rounded-sm pb-2 border-2 border-indigo-600 mb-4 select-none cursor-pointer",children:[a("div",{className:"font-semibold bg-indigo-600 px-4 text-white",children:"Application Details"}),a("div",{className:"w-full rounded-lg space-b-2",children:a("div",{className:"",children:d&&d.map((e,c)=>t("div",{children:[t("div",{className:"w-full md:w-[40%] grid grid-cols-12 p-4",children:[t(r,{children:[a("div",{className:"col-span-6 text-xs text-gray-600",children:"Application No"}),a("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:e==null?void 0:e.application_no})]}),(e==null?void 0:e.holding_no)&&t(r,{children:[a("div",{className:"col-span-6 text-xs text-gray-600",children:"Holding No"}),a("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:e==null?void 0:e.holding_no})]}),(e==null?void 0:e.saf_no)&&t(r,{children:[a("div",{className:"col-span-6 text-xs text-gray-600",children:"Saf No"}),a("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:e==null?void 0:e.saf_no})]}),t(r,{children:[a("div",{className:"col-span-6 text-xs text-gray-600",children:"Applicant Name"}),a("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:e==null?void 0:e.applicantname})]}),t(r,{children:[a("div",{className:"col-span-6 text-xs text-gray-600",children:"Guardian Name"}),a("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:e==null?void 0:e.guardian_name})]}),t(r,{children:[a("div",{className:"col-span-6 text-xs text-gray-600",children:"Mobile No"}),a("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:e==null?void 0:e.mobileno})]}),t(r,{children:[a("div",{className:"col-span-6 text-xs text-gray-600",children:"Address"}),a("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-sm",children:e==null?void 0:e.address})]})]},c),a("div",{className:"float-right -mt-4 -pl-1",children:a("button",{type:"button",onClick:()=>y(`/water-application-view/${e==null?void 0:e.id}`),className:"px-3 mt-1 rounded-l-sm -mr-0.5 bg-indigo-600 hover:bg-indigo-700 text-white text-sm",children:"Click to View"})})]}))})})]}):a("div",{})})]})]})}export{z as default};
