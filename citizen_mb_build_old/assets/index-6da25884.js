import{R as u,c as x,b as a,j as e}from"./index-a5fcf8e9.js";import{u as p}from"./formik.esm-87560db8.js";import{c as h,a as r,b as g}from"./index.esm-de8323ef.js";import{F as f,a as N,T as d}from"./LoadingButton-4b9bcc68.js";import{u as b}from"./useCustomGeoLocation-c35ded76.js";import{r as v}from"./resizeImage-f1558408.js";import"./index.esm-b3375e3d.js";function L(){const[o,n]=u.useState(null),{coords:t}=b(),{id:c}=x(),l=p({enableReinitialize:!0,initialValues:{application_no:c,remark:"",latitude:"",longitude:"",photo:null},validationSchema:h({remark:r().required("Required"),latitude:r().required("Required"),longitude:r().required("Required"),photo:g().required("Required").test("fileSize","File Size is too large",s=>s&&s.size<=2e6)}),onSubmit:s=>{console.log("Form Data",s)}});return a("div",{className:"p-4",children:[a("div",{className:"w-full relative rounded-lg pb-2 mb-4 cursor-pointer shadow-lg",children:[a("div",{className:"font-semibold bg-[#838FCE] px-4 py-2 text-white rounded-t-lg text-sm",children:["Water Tanker Details"," "]}),e("div",{className:"w-full rounded-lg p-4 space-b-2",children:a("div",{className:"flex flex-row flex-wrap gap-x-4 gap-y-2 w-full",children:[a("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[e("div",{className:"col-span-6 text-xs text-gray-600",children:"Application No."}),e("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-xs",children:"123"})]}),a("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[e("div",{className:"col-span-6 text-xs text-gray-600",children:"Owner's Name"}),e("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-xs",children:"Roshan Kumar"})]}),a("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[e("div",{className:"col-span-6 text-xs text-gray-600",children:"Owner's Address"}),e("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-xs",children:"Ranchi Jharkhand"})]}),a("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[e("div",{className:"col-span-6 text-xs text-gray-600",children:"Contact Number"}),e("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-xs",children:"1234567890"})]}),a("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[e("div",{className:"col-span-6 text-xs text-gray-600 no-underline",children:"Water Tanker Capacity"}),e("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-xs",children:"1000 L"})]})]})})]}),e("p",{className:"border-b"}),e("div",{className:"py-2  rounded-lg shadow-xl p-4 mt-3",children:e(f,{formik:l,children:a("div",{className:"space-y-5 ",children:[e("div",{className:"flex-1",children:e(N,{label:"Remark",name:"remark",placeholder:"Enter Remark",formik:l})}),a("div",{className:"flex w-full gap-4",children:[e(d,{disabled:!0,label:"Latitude",name:"latitude",placeholder:"Enter Latitude",formik:l}),e(d,{disabled:!0,label:"Longitude",name:"longitude",placeholder:"Enter Longitude",formik:l})]}),e("div",{className:"flex-1"}),a("div",{className:"flex-1",children:[e(d,{label:"Upload Photo",name:"photo",onChange:async s=>{let m=s.target.files[0];const i=await v(m);i?(n(URL.createObjectURL(i)),l.setFieldValue("photo",i),l.setFieldValue("latitude",t==null?void 0:t.latitude),l.setFieldValue("longitude",t==null?void 0:t.longitude)):(l.setFieldValue("photo",null),l.setFieldValue("latitude",""),l.setFieldValue("longitude",""))},type:"file",placeholder:"Upload Photo"}),e("span",{className:"text-red-600 absolute text-xs",children:l.touched.photo&&l.errors.photo?l.errors.photo:null})]}),o&&e("div",{className:"flex justify-center",children:e("img",{src:o,alt:"image",className:""})}),e("div",{className:"flex justify-center py-2",children:e("button",{type:"submit",className:"bg-[#838FCE] text-white px-4 py-1.5 text-sm rounded-lg",children:"Submit"})})]})})})]})}export{L as default};
