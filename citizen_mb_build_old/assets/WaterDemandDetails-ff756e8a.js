import{c as _,r as s,b as t,F as l,j as d,a as h}from"./index-0e94f450.js";import{W as A}from"./WaterApiList-dfcbb003.js";import{C as u}from"./ConsumerButtons-843a123c.js";import{h as N}from"./moment-db06c914.js";const S=()=>{var o;const{id:a}=_(),[r,f]=s.useState(),[x,m]=s.useState(),[w,n]=s.useState(!1),{api_waterApprovedApplicationDetails:y,api_waterListDemand:b,header:c}=A(),g=()=>{n(!0),h.post(y,{id:a},c).then(function(e){f(e.data.data),n(!1)}).catch(function(e){n(!1)})},p=()=>{h.post(b,{ConsumerId:a},c).then(e=>{m(e.data.data)}).catch(e=>{})};return s.useEffect(()=>{g(),p()},[a]),t(l,{children:[d(u,{active:"demand"}),t("div",{className:"mb-14",children:[d("div",{className:" mt-2 border bg-white rounded-lg shadow-xl p-4",children:t("div",{className:"space-y-4 pl-4",children:[t("div",{className:"",children:[d("div",{className:"font-semibold text-sm",children:r!=null&&r.ulb_name?r==null?void 0:r.ulb_name:"N/A"}),d("div",{className:"text-gray-600 text-xs",children:"ULB Name"})]}),t("div",{className:"flex space-x-4 ",children:[t("div",{className:"flex-1",children:[d("div",{className:"font-semibold text-sm",children:r!=null&&r.consumer_no?r==null?void 0:r.consumer_no:"N/A"}),d("div",{className:"text-gray-600 text-xs",children:"Consumer No"})]}),(r==null?void 0:r.connection_through)=="SAF"?t("div",{className:"flex-1",children:[d("div",{className:"font-semibold text-sm",children:r!=null&&r.saf_no?r==null?void 0:r.saf_no:"N/A"}),d("div",{className:"text-gray-600 text-xs",children:"SAF No"})]}):t("div",{className:"flex-1",children:[d("div",{className:"font-semibold text-sm",children:r!=null&&r.holding_no?r==null?void 0:r.holding_no:"N/A"}),d("div",{className:"text-gray-600 text-xs",children:"Holding No"})]})]}),t("div",{className:"flex space-x-4 ",children:[t("div",{className:"flex-1",children:[d("div",{className:"font-bold text-sm",children:r!=null&&r.ward_name?r==null?void 0:r.ward_name:"N/A"}),d("div",{className:"text-gray-600 text-xs",children:"Ward No."})]}),t("div",{className:"flex-1",children:[d("div",{className:"font-bold text-sm",children:r!=null&&r.area_sqft?r==null?void 0:r.area_sqft:"N/A"}),d("div",{className:"text-gray-600 text-xs",children:"Area (Sqft.)"})]})]})]})}),t("div",{className:"mx-2 overflow-x-auto",children:[d("h1",{className:"px-1 mt-3 text-center font-semibold text-gray-700",children:" Demand Details"}),d("p",{className:"border-b border-gray-700 mx-5"}),t("table",{className:"min-w-full leading-normal mt-2 bg-white rounded-lg shadow-xl p-4",children:[d("thead",{className:"font-bold text-left text-sm border text-gray-800 bg-white",children:t("tr",{children:[d("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"#"}),d("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Demand From"}),d("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Demand Upto"}),d("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Demand Amount"}),d("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Penalty"}),d("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Connection Type"}),d("th",{className:"px-2 py-3 border-b border-gray-200  text-xs uppercase text-left",children:"Payable Amount "})]})}),d("tbody",{className:"text-sm",children:d(l,{children:(o=x==null?void 0:x.consumerDemands)==null?void 0:o.map((e,v)=>t("tr",{className:"bg-white shadow-xl border-b border-gray-200",children:[d("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:v+1}),d("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:e!=null&&e.demand_from?N(e==null?void 0:e.demand_from,"YYYY-MM-DD").format("DD-MMM-yy"):"N/A"}),d("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:e!=null&&e.demand_upto?N(e==null?void 0:e.demand_upto,"YYYY-MM-DD").format("DD-MMM-yy"):"N/A"}),d("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:e!=null&&e.balance_amount?e==null?void 0:e.balance_amount:"N/A"}),d("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:e!=null&&e.penalty?e==null?void 0:e.penalty:"N/A"}),d("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:e!=null&&e.connection_type?e==null?void 0:e.connection_type:"N/A"}),d("td",{className:"px-2 py-2 text-left text-gray-500 text-xs",children:e!=null&&e.amount?"â‚¹ "+(e==null?void 0:e.amount):"N/A"})]}))})})]})]})]})]})};export{S as default};
