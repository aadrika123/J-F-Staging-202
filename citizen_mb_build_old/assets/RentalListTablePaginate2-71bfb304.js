import{b as n,j as t,r as h,F as R}from"./index-0e94f450.js";import{r as g,C as V}from"./index-41260bf7.js";import{H as x}from"./react-tooltip.min-75bb6cec.js";import E from"./ShopListViewInCard-51f0e546.js";import M from"./TollListViewInCard-743b4202.js";function B(e){return n("div",{className:"w-full",children:[n("div",{className:"grid grid-cols-1 md:flex ",children:[t("label",{htmlFor:"search",children:" Search : "}),t("input",{className:"border border-gray-200 shadow-lg px-2 mx-1  bg-gray-50 py-1",type:"text",id:"searchValue",onChange:i=>{e==null||e.setFilter(i.target.value)}}),t(x,{anchorId:"searchGlobal"}),t("button",{type:"button",id:"searchGlobal","data-tooltip-content":"Search your input globally",className:" whitespace-nowrap border bg-sky-400  hover:bg-sky-500 text-white rounded px-1 py-2 mt-2 text-xs",onClick:()=>{var c,u,m,v;let i=document.getElementById("searchValue").value;if(i!=""&&(i==null?void 0:i.length)>=4){(c=e==null?void 0:e.values)==null||c.setsearchValue(i),(u=e==null?void 0:e.values)==null||u.setcurrentPageIndex(1);return}if(!(i!=""&&(i==null?void 0:i.length)>=1&&(i==null?void 0:i.length)<=3)){(m=e==null?void 0:e.values)==null||m.setsearchValue(""),(v=e==null?void 0:e.values)==null||v.setcurrentPageIndex(1);return}},children:"Search Globally"})]}),t("div",{children:n("p",{className:"text-xs  text-gray-500 font-poppins mt-4",children:[t("strong",{children:"Note : "})," If you don't find your search result in the box, ",t("span",{className:"text-blue-500 capitalize",children:" Search Globally"})," to get result from the server."]})})]})}function X(e){var N,w,P,I,k,L,o;const[y,i]=h.useState("hidden"),c=h.useMemo(()=>e==null?void 0:e.columns,[]),u=h.useMemo(()=>e==null?void 0:e.dataList,[e==null?void 0:e.dataList]);h.useEffect(()=>{var a,l;(a=e==null?void 0:e.values)!=null&&a.pageLength?s((l=e==null?void 0:e.values)==null?void 0:l.pageLength):s(5)},[(N=e==null?void 0:e.values)==null?void 0:N.pageLength]);const{getTableProps:m,getTableBodyProps:v,headerGroups:j,page:z,nextPage:A,previousPage:D,prepareRow:H,pageOptions:O,gotoPage:$,pageCount:q,setPageSize:s,state:C,setGlobalFilter:G}=g.useTable({columns:c,data:u,initialState:{pageIndex:0}},g.useGlobalFilter,g.useSortBy,g.usePagination),{globalFilter:S,pageSize:b}=C,r=()=>{var a,l;return((a=e==null?void 0:e.values)==null?void 0:a.currentPageIndex)!=((l=e==null?void 0:e.values)==null?void 0:l.lastPageIndex)},f=()=>{var a;return((a=e==null?void 0:e.values)==null?void 0:a.currentPageIndex)!=1},F=()=>{var a,l;(a=e==null?void 0:e.values)==null||a.setcurrentPageIndex(d=>d-1),(l=e==null?void 0:e.values)==null||l.setpageLength(b)},T=()=>{var a,l;(a=e==null?void 0:e.values)==null||a.setcurrentPageIndex(d=>d+1),(l=e==null?void 0:e.values)==null||l.setpageLength(b)};return t(R,{children:n("div",{className:"  ",children:[n("div",{className:"grid grid-cols-12  pr-4",children:[t("div",{className:"col-span-12 mx-auto p-4",children:t(B,{filter:S,setFilter:G,values:e==null?void 0:e.values})}),n("div",{className:"col-span-12 mx-auto",children:[t("div",{className:"",children:n("button",{className:"bg-sky-400 px-3 pr-3 text-sm shadow-lg rounded py-1 text-white hover:shadow-2xl hover:bg-green-600 text-center relative",onMouseEnter:()=>i(""),onMouseLeave:()=>i("hidden"),children:[t(V,{data:e==null?void 0:e.dataList,children:"Export"}),t("div",{className:y+" absolute h-full top-3 text-sm left-0 text-center animate-bounce"})]})}),t("div",{className:"",children:e==null?void 0:e.children}),(e==null?void 0:e.assessmentType)&&t("div",{className:"",children:n("div",{className:"flex",children:[t(x,{anchorId:"refresh"}),t("div",{className:`${(w=e==null?void 0:e.values)!=null&&w.refreshStatus?"animate-spin":""} h-6 w-6 cursor-pointer text-green-900 text-xs font-semibold text-center bg-s-200 rounded-full flex-initial ml-4 `,"data-tooltip-content":"Refresh all data",id:"refresh",onClick:()=>{var a,l,d;(a=e==null?void 0:e.values)==null||a.fetchInboxList(1,10,""),(l=e==null?void 0:e.values)==null||l.setcurrentPageIndex(1),(d=e==null?void 0:e.values)==null||d.setsearchValue("")},children:t(Refresh,{})}),t("div",{className:"",children:n("span",{class:"absolute flex h-3 w-3",children:[t("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-sky-400 opacity-75"}),t("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-amber-500"})]})})]})})]})]}),t("div",{className:" overflow-x-auto ",children:n("div",{className:"inline-block min-w-full rounded-lg overflow-hidden mt-2",children:[((P=e==null?void 0:e.values)==null?void 0:P.tittle)=="Shop Rental pay"&&t(E,{dataList:e==null?void 0:e.dataList}),((I=e==null?void 0:e.values)==null?void 0:I.tittle)=="Toll Rental pay"&&t(M,{dataList:e==null?void 0:e.dataList}),n("div",{className:"mt-3 col-span-12 mx-auto w-full",children:[t("div",{className:"",children:n("div",{className:"flex",children:[t("select",{className:"h-10 w-1/2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 mx-2",value:b,onChange:a=>{var l,d;s(Number(a.target.value)),(l=e==null?void 0:e.values)==null||l.setpageLength(a.target.value),(d=e==null?void 0:e.values)==null||d.setcurrentPageIndex(1)},children:[5,10,25,50].map(a=>n("option",{value:a,children:["show ",a]},a))}),n("div",{className:"flex space-x-2",children:[t("input",{className:"border border-gray-400 h-10 rounded-md w-32 text-xs px-2",placeholder:"Go to page",type:"text",onBlur:a=>{var l;return(l=e==null?void 0:e.values)==null?void 0:l.setcurrentPageIndex(a.target.value)}}),t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-8 h-8 bg-indigo-500 text-white p-1 rounded-md mt-1",children:t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zm-7.518-.267A8.25 8.25 0 1120.25 10.5M8.288 14.212A5.25 5.25 0 1117.25 10.5"})})]})]})}),t("div",{className:"  text-center",children:n("span",{children:["page ","",n("strong",{children:[(k=e==null?void 0:e.values)==null?void 0:k.currentPageIndex," of ",(L=e==null?void 0:e.values)==null?void 0:L.lastPageIndex]}),"","  --- ",n("strong",{children:["Total "," ",(o=e==null?void 0:e.values)==null?void 0:o.totalDataCount," records"]})]})}),t(x,{anchorId:"firstPage"}),t(x,{anchorId:"lastPage"}),n("div",{className:" w-full text-right",children:[t("button",{id:"firstPage","data-tooltip-content":"Go to First Page",className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:()=>{var a;return(a=e==null?void 0:e.values)==null?void 0:a.setcurrentPageIndex(1)},disabled:!f(),children:" "}),t("button",{className:(f()?"opacity-100":"opacity-50")+" text-xl hover:bg-sky-300 hover:text-white",onClick:F,disabled:!f(),children:"⬅️"}),t("button",{className:(r()?"opacity-100":"opacity-50")+" text-xl hover:bg-sky-300 hover:text-white",onClick:T,disabled:!r(),children:"➡️"}),t("button",{id:"lastPage","data-tooltip-content":"Go to Last Page",className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:()=>{var a,l;return(l=e==null?void 0:e.values)==null?void 0:l.setcurrentPageIndex((a=e==null?void 0:e.values)==null?void 0:a.lastPageIndex)},disabled:!r()})]})]})]})})]})})}export{X as R};
