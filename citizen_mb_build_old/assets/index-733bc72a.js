import{j as e,F as g,b as t,L as x}from"./index-0e94f450.js";import{T as i,F as u}from"./LoadingButton-41bf7b10.js";import{u as b}from"./formik.esm-3041fe88.js";import{a as v}from"./useCustomQuery-b7ab1a67.js";import{w}from"./waterAndSepticTanker-049fa680.js";import"./ThemeStyle-994f51bc.js";import"./index.esm-7ab12b54.js";import"./ApiHeader2-b363f7b8.js";const f=({data:l})=>e(g,{children:t("div",{className:"bg-white w-full relative rounded-lg pb-2 mb-4 cursor-pointer shadow-lg",children:[t("div",{className:"font-semibold bg-[#838FCE] px-4 py-2 text-white rounded-t-lg text-sm",children:["Water Tanker Details"," "]}),e("div",{className:"w-full rounded-lg p-4 space-b-2",children:t("div",{className:"flex flex-row flex-wrap gap-x-4 gap-y-2 w-full",children:[t("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[e("div",{className:"col-span-6 text-xs text-gray-600",children:"Vehicle No."}),e("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-xs",children:l.vehicle_no})]}),t("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[e("div",{className:"col-span-6 text-xs text-gray-600",children:"Booking No."}),e("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-xs",children:l.booking_no})]}),t("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[e("div",{className:"col-span-6 text-xs text-gray-600",children:"Applicant Name"}),e("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-xs",children:l.applicant_name})]}),t("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[e("div",{className:"col-span-6 text-xs text-gray-600",children:"Delivery Address"}),e("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-xs w-44 truncate",children:l.address})]}),t("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[e("div",{className:"col-span-6 text-xs text-gray-600",children:"Delivery Date & Time"}),t("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-xs",children:[l.delivery_date," ",l.delivery_time]})]}),t("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[e("div",{className:"col-span-6 text-xs text-gray-600",children:"Contact Number"}),e("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-xs",children:l.mobile})]}),t("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[e("div",{className:"col-span-6 text-xs text-gray-600",children:"Booking Date"}),e("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-xs",children:l.booking_date})]}),t("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[e("div",{className:"col-span-6 text-xs text-gray-600",children:"Driver Assigned Date"}),e("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-xs",children:l.assign_date})]}),t("div",{className:"w-full md:w-[40%] grid grid-cols-12",children:[e("div",{className:"col-span-6 text-xs text-gray-600",children:"Status"}),e("div",{className:"col-span-6 font-semibold text-gray-700 2xl:text-base text-xs",children:e("small",{className:`${(l==null?void 0:l.delivery_track_status)==0?"bg-yellow-400":(l==null?void 0:l.delivery_track_status)==2?"bg-green-400":"bg-red-400"} px-2 py-1 text-white text-xs rounded-md`,children:(l==null?void 0:l.delivery_track_status)==0?"Pending":(l==null?void 0:l.delivery_track_status)==2?"Completed":"Cancelled"})})]})]})}),(l==null?void 0:l.delivery_track_status)==0&&t("div",{className:"flex justify-between w-full py-1  text-sm",children:[e(x,{to:"/track-location-water/1",className:"mb-2 mx-2 text-center relative text-white px-2 2xl:px-4 py-[0.3rem] text-xs 2xl:text-sm md:absolute md:bottom-3 2xl:bottom-2 md:right-2 rounded-md bg-green-500 border-green-400 hover:border-green-600 hover:bg-green-600 hover:text-white shadow-sm  cursor-pointer poppins md:mt-0 w-full",children:"View Location"}),e(x,{to:`/water-tanker-detail/${l==null?void 0:l.id}`,className:"mb-2 text-center mx-2 relative text-white px-2 2xl:px-4 py-[0.3rem] text-xs 2xl:text-sm md:absolute md:bottom-3 2xl:bottom-2 md:right-2 rounded-md bg-indigo-500 border-indigo-400 hover:border-indigo-600 hover:bg-indigo-600 hover:text-white shadow-sm  cursor-pointer poppins md:mt-0 w-full",children:"View Details"})]})]})}),N=f;function y({formik:l}){return t("div",{className:"bg-white rounded-2xl shadow-md p-4 mb-4",children:[e("h1",{className:"text-sm font-semibold mb-2",children:"Water Tanker Outbox"}),e("hr",{className:"my-2"}),t("div",{className:"flex flex-wrap -mx-3 mb-2",children:[e("div",{className:"w-full md:w-1/3 px-3 mb-2 md:mb-0",children:e(i,{name:"key",formik:l,placeholder:"Search...",className:"w-full py-1"})}),t("div",{className:"w-full flex gap-4 px-3 mb-2 md:mb-0",children:[e("div",{className:"w-full",children:e(i,{type:"date",label:"From Date",name:"fromDate",formik:l,placeholder:"Enter from date",className:"w-full py-1"})}),e("div",{className:"w-full",children:e(i,{type:"date",label:"Upto Date",name:"uptoDate",formik:l,placeholder:"Enter upto date",className:"w-full py-1"})})]})]}),e("div",{className:"flex justify-end",children:e("button",{className:"bg-blue-500 hover:bg-blue-700 text-white py-1 px-4 rounded text-sm",children:"Search"})})]})}function W(){var a,d,o,c,n,m;const l=b({initialValues:{key:"",fromDate:"",uptoDate:""},onSubmit:r=>{h()}}),s=v({api:w.outbox,config:{key:l.values.key,fromDate:l.values.fromDate,uptoDate:l.values.uptoDate},options:{enabled:!0}}),h=r=>{s.refetch()};return t("div",{className:"p-4",children:[e(u,{formik:l,children:e(y,{formik:l})}),e("div",{className:"border-b-2 border-gray-200 my-4"}),s.isLoading&&e("div",{className:"text-center",children:"Loading..."}),s.isError&&e("div",{className:"text-center text-red-500",children:"Something went wrong"}),s.isSuccess&&((o=(d=(a=s.data)==null?void 0:a.data)==null?void 0:d.data)==null?void 0:o.map((r,p)=>e(N,{data:r},p))),s.isSuccess&&((m=(n=(c=s.data)==null?void 0:c.data)==null?void 0:n.data)==null?void 0:m.length)<=0&&e("div",{className:"text-center mt-32",children:"No data found"})]})}export{W as default};
