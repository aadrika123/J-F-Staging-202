import{j as e}from"../vendor/data-layer-CuYvUO5a.js";import{r as t}from"./router-qp3icywG.js";import{I as n}from"../assets/index-ZLZHxtCL.js";import"../vendor/react-core-HnKmhvXM.js";import"./radix-overlays-D0gjv8DZ.js";import"./radix-forms-BZOWgBNM.js";import"./radix-core-Bbsnxr-s.js";import"../vendor/styling-Cj_bvvWu.js";import"./ui-components-DbfDOA1C.js";import"./utils-Chh2F0W5.js";function o(){const[o,r]=t.useState("en"),[s,a]=t.useState(!1),[i,l]=t.useState(!1),c=t.useRef(null),d=t.useRef(!1),g=t.useRef(!1),m=()=>{if(!g.current&&window.google?.translate){g.current=!0;try{const e=document.getElementById("google_translate_element");e&&(e.innerHTML=""),c.current=new window.google.translate.TranslateElement({pageLanguage:"en",includedLanguages:"hi,en,mr",autoDisplay:!1,layout:0,multilanguagePage:!0},"google_translate_element"),l(!0),setTimeout(()=>{u()},100)}catch(e){}finally{g.current=!1}}},u=()=>{[".goog-te-banner-frame","#goog-gt-tt",".goog-te-balloon-frame","body > .skiptranslate",".goog-te-gadget",".goog-te-ftab",".goog-te-menu-frame"].forEach(e=>{document.querySelectorAll(e).forEach(e=>{e&&(e.style.display="none",e.style.visibility="hidden",e.style.opacity="0")})});const e=document.body;""===e.style.top&&"relative"!==e.style.position||(e.style.top="",e.style.position="")};t.useEffect(()=>{if(d.current)return;if(document.querySelector('script[src*="translate.google.com"]'))return d.current=!0,void(window.google?.translate&&!i&&m());const e=document.createElement("script");return e.src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",e.async=!0,e.defer=!0,window.googleTranslateElementInit=m,e.onload=()=>{d.current=!0},e.onerror=e=>{d.current=!1},document.head.appendChild(e),()=>{e.parentNode&&e.parentNode.removeChild(e)}},[]);const p=e=>{if(i&&e!==o){r(e);try{localStorage.setItem("selectedLanguage",e)}catch(t){}setTimeout(()=>{const t=document.querySelector(".goog-te-combo");if(t&&t.value!==e){t.value=e;const n=new Event("change",{bubbles:!0});t.dispatchEvent(n),setTimeout(()=>{u()},1e3)}},50)}};return t.useEffect(()=>{if(i)try{const e=localStorage.getItem("selectedLanguage");e&&e!==o&&"en"!==e&&(r(e),setTimeout(()=>{const t=document.querySelector(".goog-te-combo");if(t&&t.value!==e){t.value=e;const n=new Event("change",{bubbles:!0});t.dispatchEvent(n),setTimeout(()=>{u()},1e3)}},500))}catch(e){}},[i]),t.useEffect(()=>{if(!s)return;const e=e=>{e.target.closest(".translate-dropdown")||a(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[s]),t.useEffect(()=>{if(!i)return;const e=new MutationObserver(e=>{let t=!1;e.forEach(e=>{"childList"===e.type&&e.addedNodes.forEach(e=>{if(e.nodeType===Node.ELEMENT_NODE){const n=e;(n.classList?.contains("goog-te-banner-frame")||n.classList?.contains("skiptranslate")||"goog-gt-tt"===n.id)&&(t=!0)}})}),t&&setTimeout(u,100)});return e.observe(document.body,{childList:!0,subtree:!0}),()=>e.disconnect()},[i]),e.jsxs(e.Fragment,{children:[e.jsx("style",{children:"\n          .goog-te-banner-frame,\n          .goog-te-menu-frame,\n          .goog-te-ftab,\n          .goog-te-balloon-frame,\n          #goog-gt-tt,\n          .goog-te-gadget,\n          body > .skiptranslate {\n            display: none !important;\n            visibility: hidden !important;\n            opacity: 0 !important;\n            height: 0 !important;\n            width: 0 !important;\n            overflow: hidden !important;\n            pointer-events: none !important;\n          }\n          \n          body {\n            top: 0px !important;\n            position: static !important;\n          }\n          \n          .goog-te-combo {\n            display: none !important;\n          }\n          \n          .goog-te-spinner-pos {\n            display: none !important;\n          }\n\n          .notranslate {\n            transform: none !important;\n          }\n        "}),e.jsxs("div",{className:"flex items-center bg-white rounded-sm shadow-sm mr-2",children:[e.jsx("div",{id:"google_translate_element",style:{display:"none",visibility:"hidden",position:"absolute",left:"-9999px",width:"1px",height:"1px",overflow:"hidden"}}),e.jsxs("div",{className:"relative translate-dropdown",children:[e.jsx("button",{className:"flex items-center justify-center p-1 rounded-md hover:bg-gray-200 transition-colors",onClick:()=>a(!s),"aria-label":"Select Language",type:"button",disabled:!i,children:e.jsx(n,{src:"/images/Translate_logo_01.svg",alt:"Translate",className:"h-8 w-8"})}),s&&e.jsxs("div",{className:"absolute top-12 right-0 bg-white shadow-lg rounded-md p-2 z-50 border border-gray-200 min-w-32",children:[e.jsx("button",{onClick:()=>{p("en"),a(!1)},className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 rounded transition-colors "+("en"===o?"bg-blue-50 text-blue-600":"text-gray-700"),type:"button",children:"English"}),e.jsx("button",{onClick:()=>{p("hi"),a(!1)},className:"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 rounded transition-colors "+("hi"===o?"bg-blue-50 text-blue-600":"text-gray-700"),type:"button",children:"हिन्दी"})]})]})]})]})}export{o as default};
