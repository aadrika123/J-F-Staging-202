import{j as e}from"../vendor/data-layer-CuYvUO5a.js";import{z as r}from"./ui-components-DbfDOA1C.js";import{u as t}from"./useCustomQuery-BUA2qKvq.js";import{r as o,u as n,a}from"../assets/index-ZLZHxtCL.js";import{d as i,R as s}from"./router-qp3icywG.js";import{r as l}from"../vendor/react-core-HnKmhvXM.js";var c,u,d,m,f,b,g={},p={exports:{}};function h(){if(u)return c;u=1;return c="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function x(){if(m)return d;m=1;var e=h();function r(){}function t(){}return t.resetWarningCache=r,d=function(){function o(r,t,o,n,a,i){if(i!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function n(){return o}o.isRequired=o;var a={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:n,element:o,elementType:o,instanceOf:n,node:o,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:t,resetWarningCache:r};return a.PropTypes=a,a}}function y(){return f||(f=1,p.exports=x()()),p.exports}var v=function(){if(b)return g;b=1,Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var e,r,t=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},n=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}();g.confirmAlert=function(e){document.body.classList.add("react-confirm-alert-body-element"),function(){if(document.getElementById("react-confirm-alert-firm-svg"))return;var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"feGaussianBlur");r.setAttribute("stdDeviation","0.3");var t=document.createElementNS(e,"filter");t.setAttribute("id","gaussian-blur"),t.appendChild(r);var o=document.createElementNS(e,"svg");o.setAttribute("id","react-confirm-alert-firm-svg"),o.setAttribute("class","react-confirm-alert-svg"),o.appendChild(t),document.body.appendChild(o)}(),function(e){var r=document.getElementById(e.targetId||p);e.targetId;r||(document.body.children[0].classList.add("react-confirm-alert-blur"),(r=document.createElement("div")).id=p,document.body.appendChild(r)),(f=(0,c.createRoot)(r)).render(i.default.createElement(m,e))}(e)};var a=l(),i=u(a),s=u(y()),c=o();function u(e){return e&&e.__esModule?e:{default:e}}function d(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}var m=(r=e=function(e){function r(){var e,t,o;!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r);for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=o=d(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(a))),o.handleClickButton=function(e){e.onClick&&e.onClick(),o.close()},o.handleClickOverlay=function(e){var r=o.props,t=r.closeOnClickOutside,n=r.onClickOutside,a=e.target===o.overlay;t&&a&&(n(),o.close()),e.stopPropagation()},o.close=function(){var e,r,t=o.props.afterClose;document.body.classList.remove("react-confirm-alert-body-element"),e=o.props,(r=document.getElementById(e.targetId||p))&&f.unmount(r),function(e){var r=document.getElementById("react-confirm-alert-firm-svg");r&&r.parentNode.removeChild(r);document.body.children[0].classList.remove("react-confirm-alert-blur"),e()}(t)},o.keyboard=function(e){var r=o.props,t=r.closeOnEscape,n=r.onKeypressEscape,a=r.onkeyPress,i=r.keyCodeForClose,s=e.keyCode,l=27===s;i.includes(s)&&o.close(),t&&l&&(n(e),o.close()),a&&a()},o.componentDidMount=function(){document.addEventListener("keydown",o.keyboard,!1)},o.componentWillUnmount=function(){document.removeEventListener("keydown",o.keyboard,!1),o.props.willUnmount()},o.renderCustomUI=function(){var e=o.props,r=e.title,t=e.message,n=e.buttons;return(0,e.customUI)({title:r,message:t,buttons:n,onClose:o.close})},d(o,t)}return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(r,e),n(r,[{key:"render",value:function(){var e=this,r=this.props,o=r.title,n=r.message,a=r.buttons,s=r.childrenElement,l=r.customUI,c=r.overlayClassName;return i.default.createElement("div",{className:"react-confirm-alert-overlay "+c,ref:function(r){return e.overlay=r},onClick:this.handleClickOverlay},i.default.createElement("div",{className:"react-confirm-alert"},l?this.renderCustomUI():i.default.createElement("div",{className:"react-confirm-alert-body"},o&&i.default.createElement("h1",null,o),n,s(),i.default.createElement("div",{className:"react-confirm-alert-button-group"},a.map(function(r,o){return i.default.createElement("button",t({key:o,className:r.className},r,{onClick:function(t){return e.handleClickButton(r)}}),r.label)})))))}}]),r}(a.Component),e.propTypes={title:s.default.string,message:s.default.string,buttons:s.default.array.isRequired,childrenElement:s.default.func,customUI:s.default.func,closeOnClickOutside:s.default.bool,closeOnEscape:s.default.bool,keyCodeForClose:s.default.arrayOf(s.default.number),willUnmount:s.default.func,afterClose:s.default.func,onClickOutside:s.default.func,onKeypressEscape:s.default.func,onkeyPress:s.default.func,overlayClassName:s.default.string},e.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},r);g.default=m;var f=null,p="react-confirm-alert";return g}();function w({isMobile:o,setNavToggle:l,isDiscover:c,isExplore:u}){const d=i(),{user:m,updateAction:f,logout:b}=n(),{mutateAsync:g}=t({}),p=async()=>{try{const e=await g({api:a?.ePramanLogin,data:{type:"citizen-page"}});e?.data?.status?(r.success(e?.data?.message),f({codeVerifier:e?.data?.data?.code_verifier,nonce:e?.data?.data?.nonce,url:e?.data?.data?.url}),window.location.href=e?.data?.data?.url):(r.error(e?.data?.message),f({codeVerifier:"",nonce:"",url:""}))}catch(e){}},h=async()=>{((r,t,o)=>{const{confirmText:n="Confirm",cancelText:a="Cancel",type:i="warning"}={},s={warning:{icon:"⚠️",iconBg:"bg-amber-100",iconColor:"text-amber-600",confirmBtn:"bg-amber-500 hover:bg-amber-600 focus:ring-amber-500",border:"border-amber-200"},danger:{icon:"🗑️",iconBg:"bg-red-100",iconColor:"text-red-600",confirmBtn:"bg-red-500 hover:bg-red-600 focus:ring-red-500",border:"border-red-200"},info:{icon:"ℹ️",iconBg:"bg-blue-100",iconColor:"text-blue-600",confirmBtn:"bg-blue-500 hover:bg-blue-600 focus:ring-blue-500",border:"border-blue-200"},success:{icon:"✅",iconBg:"bg-green-100",iconColor:"text-green-600",confirmBtn:"bg-green-500 hover:bg-green-600 focus:ring-green-500",border:"border-green-200"}}[i];v.confirmAlert({customUI:({onClose:i})=>e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 bg-opacity-70 backdrop-blur-xs transition-opacity duration-300",onClick:i}),e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 scale-100 animate-in",children:[e.jsxs("div",{className:"flex flex-col items-center pt-8 pb-4 px-6",children:[e.jsx("div",{className:`w-16 h-16 rounded-full ${s.iconBg} flex items-center justify-center mb-4 transform transition-transform duration-300 hover:scale-110`,children:e.jsx("span",{className:"text-2xl",children:s.icon})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:r}),e.jsx("p",{className:"text-gray-600 text-center leading-relaxed px-2",children:t})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 p-6 pt-4",children:[e.jsx("button",{className:"flex-1 px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transform hover:scale-[1.02] active:scale-[0.98]",onClick:i,children:a}),e.jsx("button",{className:`flex-1 px-6 py-3 ${s.confirmBtn} text-white font-medium rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 transform hover:scale-[1.02] active:scale-[0.98] shadow-lg hover:shadow-xl`,onClick:()=>{o(),i()},children:n})]}),e.jsx("button",{className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500",onClick:i,children:e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),overlayClassName:"react-confirm-alert-overlay-custom"})})("Are you sure","you want to logout?",async()=>{try{window.localStorage.removeItem("menuList"),window.localStorage.removeItem("userName"),window.localStorage.removeItem("roles"),window.localStorage.removeItem("citizen_token"),window.localStorage.removeItem("propertyPopup"),window.localStorage.removeItem("advertPopup"),window.localStorage.removeItem("citizenName"),window.localStorage.removeItem("citizenMobile"),window.localStorage.removeItem("token"),b(),d("/")}catch(e){r.error(function(e){return e instanceof Error?e.message:String(e)}(e))}})};return u?e.jsx("button",{className:"bg-[#99B37C] hover:bg-[#6b8251] rounded-full text-white pt-0.5 pb-0.5 px-2 py-1 pr-4 pl-4 text-sm font-semibold shadow-lg cursor-pointer",onClick:()=>p(),children:"Explore Now"}):c?e.jsxs("button",{className:"flex text-sm md:text-base bg-amber-500 hover:bg-amber-600 hover:shadow-xl px-6 md:px-9 py-2 rounded-full shadow-md text-white",onClick:()=>p(),children:["Discover",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})})]}):m?.userDetails&&o?e.jsxs(s.Fragment,{children:[e.jsx("button",{className:"bg-amber-500 border w-full mb-1 border-white hover:text-gray-300 hover:bg-amber-600 hover:ring-0 hover:border-white focus:bg-amber-500 focus:border-amber-600 py-2 px-4 text-sm inline-block text-center rounded leading-5 text-gray-100 focus:outline-none focus:ring-0 cursor-pointer mr-2",onClick:()=>window.location.href="/citizen/landingDashboard",children:"Dashboard"}),e.jsx("button",{className:"bg-red-500 mb-1 border w-full border-white hover:text-gray-300 hover:bg-red-600 hover:ring-0 hover:border-white focus:bg-red-500 focus:border-red-600 py-2 px-4 text-sm inline-block text-center rounded leading-5 text-gray-100 focus:outline-none focus:ring-0 cursor-pointer mr-2",onClick:()=>{l&&l(!1),h()},children:"Log Out"})]}):!m?.userDetails&&o?e.jsx("button",{className:"cypress_citizen_login py-2 px-4 text-sm w-full mb-1.5 text-center rounded leading-5 text-black border border-white hover:text-white bg-[#B9EBC8] hover:bg-[#87b695] hover:ring-0 hover:border-white focus:bg-white focus:border-white focus:outline-none focus:ring-0 cursor-pointer",onClick:()=>{p()},children:"Citizen Login"}):m?.userDetails&&!o?e.jsxs(s.Fragment,{children:[e.jsx("button",{className:"bg-amber-500 border border-white hover:text-gray-300 hover:bg-amber-600 hover:ring-0 hover:border-white focus:bg-amber-500 focus:border-amber-600 py-2 px-4 text-sm inline-block text-center rounded leading-5 text-gray-100 focus:outline-none focus:ring-0 cursor-pointer mr-2",onClick:()=>window.location.href="/citizen/landingDashboard",children:"Dashboard"}),e.jsx("button",{className:"bg-red-500 border border-white hover:text-gray-300 hover:bg-red-600 hover:ring-0 hover:border-white focus:bg-red-500 focus:border-red-600 py-2 px-4 text-sm inline-block text-center rounded leading-5 text-gray-100 focus:outline-none focus:ring-0 cursor-pointer mr-2",onClick:()=>{h()},children:"Log Out"})]}):m?.userDetails||o?e.jsxs(s.Fragment,{children:[e.jsxs("div",{className:"animate-pulse flex space-x-4",children:[e.jsx("div",{className:"flex-1 py-2 px-4 bg-gray-200 rounded-md"}),e.jsx("div",{className:"flex-1 py-2 px-4 bg-gray-200 rounded-md"})]}),e.jsx("div",{className:"flex-1 py-2 px-4 bg-gray-200 rounded-md"}),e.jsx("div",{className:"flex-1 py-2 px-4 bg-gray-200 rounded-md"}),e.jsx("div",{className:"flex-1 py-2 px-4 bg-gray-200 rounded-md"}),e.jsx("div",{className:"flex-1 py-2 px-4 bg-gray-200 rounded-md"}),e.jsx("div",{className:"flex-1 py-2 px-4 bg-gray-200 rounded-md"})]}):e.jsx("button",{className:"cypress_citizen_login py-2 px-4 text-sm inline-block text-center rounded leading-5 text-black border border-white hover:text-white bg-blue-300 hover:bg-blue-600 hover:ring-0 hover:border-white focus:border-white focus:outline-none focus:ring-0 cursor-pointer mr-2",onClick:()=>{p()},children:"Citizen Login"})}export{w as E};
