import{u as A,j as t,I as Y,B as C,p as M}from"./index-M04LaSJj.js";import{P as L}from"./index-BfcGHy2d.js";import{C as u,I as w}from"./Image-rws4B-UH.js";import{c as B}from"./useCustomQuery-BbKXHB6A.js";import{h as a}from"./moment-BjLXg0w5.js";import{S as P}from"./separator-CoCZ8ToE.js";import{b as S}from"./router-DLL89Qev.js";import"./axios-DmypytPv.js";import"./headlessui-DXpdh5LM.js";function Q(){var o,l,r,i,n,c,x,d;const{user:e}=A(),T=S(),m=new URLSearchParams(T.search).get("receipt_no"),s=B({api:`${M.inReceipt}/${m}`,key:"outReceipt",options:{enabled:!!m}}),k=()=>{var h,f,j,p,N,b,y,_,g,v;return"[C]"+(e==null?void 0:e.ulb_name)+`
[C]Parking
 
Date: `+a((f=(h=s==null?void 0:s.data)==null?void 0:h.data)==null?void 0:f.date).format("DD-MM-YYYY")+`
In-Time:: `+a((p=(j=s==null?void 0:s.data)==null?void 0:j.data)==null?void 0:p.in_time,"HH:mm").format("hh:mm A")+`
Amount: `+((b=(N=s==null?void 0:s.data)==null?void 0:N.data)==null?void 0:b.amount)+`
Incharge ID: `+(e==null?void 0:e.emp_id)+`
Area : `+((_=(y=s==null?void 0:s.data)==null?void 0:y.data)==null?void 0:_.parking_area)||`NA
Receipt: `+((v=(g=s==null?void 0:s.data)==null?void 0:g.data)==null?void 0:v.receipt_no)+`

Thank You for using our service!

*******************************`},I=()=>{window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({Key:"PRINT_FOR_BT_PRINTER",keyData:{charPerLine:32,printTxt:k()}}))};return s!=null&&s.isLoading?t.jsx("div",{className:"flex justify-center items-center h-[700px]",children:t.jsx(Y,{})}):t.jsx(L,{title:"Receipt",children:t.jsx("div",{className:"p-4",children:t.jsx(u,{children:t.jsxs("div",{className:"flex flex-col justify-center items-center py-8 px-10",children:[t.jsx("div",{children:t.jsx(w,{src:(e==null?void 0:e.ulb_logo)??"/assets/image/RMC_LOGO.png",alt:"receipt"})}),t.jsx("div",{className:"flex flex-col md:flex-row",children:t.jsxs("div",{className:"flex flex-col justify-center items-center",children:[t.jsx("div",{className:"flex mt-2 ",children:t.jsx("h2",{className:"text-[#585858] font-bold text-lg text-center",children:e==null?void 0:e.ulb_name})}),t.jsxs("div",{className:"flex flex-row justify-center items-center",children:[t.jsx("h1",{className:"text-md font-bold break-words text-[#1436C3]",children:"Parking Management System"}),t.jsx(w,{src:"/assets/image/bus 1.png",alt:"Bus",className:"ml-2 max-w-full h-5 w-5"})]})]})}),t.jsx(P,{className:"mt-5 mb-5"}),t.jsxs("div",{className:"grid grid-cols-2 gap-x-20 gap-y-2",children:[t.jsx("h1",{className:"text-sm font-semibold text-gray-600 ",children:"Date:"}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:a((l=(o=s==null?void 0:s.data)==null?void 0:o.data)==null?void 0:l.date).format("DD-MM-YYYY")}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"In Time:"}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:a((i=(r=s==null?void 0:s.data)==null?void 0:r.data)==null?void 0:i.in_time,"HH:mm").format("hh:mm A")}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Amount:"}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:(c=(n=s==null?void 0:s.data)==null?void 0:n.data)==null?void 0:c.amount}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Receipt no:"}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:(d=(x=s==null?void 0:s.data)==null?void 0:x.data)==null?void 0:d.receipt_no})]}),t.jsx(P,{className:"mt-5 mb-5"}),t.jsx("div",{className:"flex justify-center w-full",children:t.jsx(C,{size:"sm",onClick:I,children:"Print Receipt"})})]})})})})}export{Q as default};
