import{c as g,j as e,I as N,B as w,u as b,p as Y}from"./index-2S3dvlvG.js";import{b as v,F as _,$ as M,R as y,B as T}from"./switch-Df0UhZca.js";import{b as k}from"./useCustomQuery-w-fCFI_Y.js";import{P as C}from"./index-Cf4WRWsD.js";import{h as c}from"./moment-BjLXg0w5.js";import{r as I}from"./router-DLL89Qev.js";import{C as m,I as p}from"./Image-C6ufnThr.js";import"./axios-DmypytPv.js";import"./headlessui-DXpdh5LM.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=g("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);function F({collectionReportData:s}){var t,n,r,i,a,d,l,x,h,f,j,u;return s.isLoading?e.jsx("div",{className:"flex justify-center items-center h-72",children:e.jsx(N,{})}):e.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsx(m,{className:"flex flex-col justify-center items-center",children:e.jsxs("div",{className:"flex flex-col justify-center items-center p-2",children:[e.jsx(p,{src:"/assets/image/two 1.jpg",alt:"two-wheeler",width:100,height:110}),e.jsx("h2",{className:"text-sm font-bold text-center text-blue-400",children:"Two Wheeler"}),e.jsx("h2",{className:"text-xs font-bold text-center text-gray-500",children:"Total collection"}),e.jsxs("h2",{className:"text-xl font-bold text-center flex justify-center items-center",children:[e.jsx(o,{size:16}),((r=(n=(t=s==null?void 0:s.data)==null?void 0:t.data)==null?void 0:n.data[0])==null?void 0:r.total_two_wheeler_collection)??0]})]})}),e.jsx(m,{className:"flex flex-col justify-center items-center",children:e.jsxs("div",{className:"flex flex-col justify-center items-center p-2",children:[e.jsx(p,{src:"/assets/image/car 1.jpg",alt:"two-wheeler",width:100,height:110}),e.jsx("h2",{className:"text-sm font-bold text-center text-blue-400",children:"Four Wheeler"}),e.jsx("h2",{className:"text-xs font-bold text-center text-gray-500",children:"Total collection"}),e.jsxs("h2",{className:"text-xl font-bold text-center flex justify-center items-center",children:[e.jsx(o,{size:16}),((d=(a=(i=s==null?void 0:s.data)==null?void 0:i.data)==null?void 0:a.data[0])==null?void 0:d.total_four_wheeler_collection)??0]})]})}),e.jsx("div",{className:"col-span-2",children:e.jsxs(m,{className:"w-full p-2",children:[e.jsx("h2",{className:"text-sm font-bold text-center text-gray-500",children:"Total Amount"}),e.jsxs("h2",{className:"text-xl font-bold text-center flex justify-center items-center",children:[e.jsx(o,{size:16}),((h=(x=(l=s==null?void 0:s.data)==null?void 0:l.data)==null?void 0:x.data[0])==null?void 0:h.total_amount)??0]})]})}),((u=(j=(f=s==null?void 0:s.data)==null?void 0:f.data)==null?void 0:j.data[0])==null?void 0:u.total_amount)>0?e.jsx("div",{className:"col-span-2 flex justify-center items-center mt-4",children:e.jsx(w,{size:"sm",onClick:()=>window.print(),children:e.jsx("small",{children:"PRINT RECEIPT"})})}):null]})}function $(){var d;const{user:s}=b(),t=v({defaultValues:{collectionType:"daily",month:c().format("YYYY-MM"),from_date:c().format("YYYY-MM-DD"),to_date:c().format("YYYY-MM-DD")}}),n=()=>{a==null||a.refetch()},{handleSubmit:r,watch:i}=t,a=k({api:(d=Y)==null?void 0:d.inChargeDayWise,key:"inChargeDayWise",config:{incharge_id:s==null?void 0:s.emp_id,from_date:i("from_date"),to_date:i("to_date")},value:[s==null?void 0:s.emp_id],options:{enabled:!!(s!=null&&s.emp_id)}});return I.useEffect(()=>{t.watch("collectionType")==="daily"&&(t.setValue("from_date",c().format("YYYY-MM-DD")),t.setValue("to_date",c().format("YYYY-MM-DD")))},[t.watch("collectionType")]),e.jsx(C,{title:"Collection Report",children:e.jsx("div",{className:"py-4 mx-auto px-2",children:e.jsx("div",{children:e.jsxs("div",{className:"px-5",children:[e.jsxs(_,{methods:t,onSubmit:r(n),children:[e.jsxs("div",{className:"flex justify-between items-baseline gap-6",children:[e.jsxs("div",{className:"flex justify-center items-center gap-1",children:[e.jsx("input",{type:"radio",id:"daily",name:"collectionType",value:"daily",className:"w-4 h-4",onChange:l=>t.setValue("collectionType",l.target.value),checked:t.watch("collectionType")==="daily"}),e.jsx("h1",{className:"text-gray-800 text-sm font-semibold",children:"Daily Collection"})]}),e.jsxs("div",{className:"flex justify-center items-center gap-1",children:[e.jsx("input",{type:"radio",id:"monthly",name:"collectionType",value:"monthly",className:"w-4 h-4",onChange:l=>t.setValue("collectionType",l.target.value),checked:t.watch("collectionType")==="monthly"}),e.jsx("h1",{className:"text-gray-800 text-sm font-semibold",children:"Monthly Collection"})]})]}),e.jsx(M,{className:"w-full h-[0.1px] bg-gray-200 my-3"}),e.jsxs("div",{className:"grid grid-cols-1 gap-0 w-full mt-1",children:[e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{children:e.jsx(y,{disabled:t.watch("collectionType")==="daily",className:"w-full h-10 border border-gray-300 rounded-lg",name:"from_date",placeholder:"DD/MM/YYYY",type:"date"})}),e.jsx("div",{children:e.jsx(y,{disabled:t.watch("collectionType")==="daily",className:"w-full h-10 border border-gray-300 rounded-lg",name:"to_date",placeholder:"DD/MM/YYYY",type:"date"})})]})}),e.jsx("div",{className:"flex justify-center w-full mt-4",children:e.jsx(T,{type:"submit",size:"sm",className:"w-full",isLoading:a==null?void 0:a.isFetching,children:"Submit"})})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(F,{collectionReportData:a})})]})})})})}export{$ as default};
