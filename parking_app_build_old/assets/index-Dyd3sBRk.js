import{j as e,u as h,a as p,_ as d}from"./index-BDoYIjO4.js";import{o as g,L as j}from"./router-DLL89Qev.js";import{u as f,C as y,I as w,E as N,a as v,b,F,R as L,B as E}from"./switch-DMSIQRb1.js";import{o as S,c as P,a as x}from"./yup-Df_fpbrr.js";import{u as k}from"./useCustomQuery-CtWv0FlW.js";import{P as C}from"./index-8-BkpR6w.js";import"./axios-DmypytPv.js";import"./headlessui-DXpdh5LM.js";function R(a){return a instanceof Error?a.message:String(a)}function $(){return e.jsxs("div",{className:"px-6 lg:px-0 mx-auto max-w-sm py-6",children:[e.jsx("div",{className:"flex justify-center"}),e.jsx("h1",{className:"text-xl font-bold text-center mt-4 text-[#2563EB]",children:"Parking Management System"}),e.jsx("p",{className:"text-center mt-2 text-muted-foreground",children:"Login to your account"})]})}function I({name:a,label:o,inputSize:t,...c}){const{control:m}=f(),[r,l]=g.useState(!1);return e.jsx(y,{name:a,control:m,render:({field:{ref:i,...s},fieldState:{error:n}})=>e.jsxs(e.Fragment,{children:[e.jsxs("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:o,children:[o," ",n&&o&&e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(w,{...s,value:typeof s.value=="number"&&s.value===0?"":s.value,ref:i,className:`mt-1 ${n?"border-red-400":null}
              ${t==="small"&&"h-8"||t==="medium"&&"h-10"||t==="large"&&"h-12"||"h-9"}`,type:r?"text":"password",...c}),e.jsx("button",{style:{backgroundColor:"none"},type:"button",className:"absolute right-3 top-4",onClick:()=>l(u=>!u),children:r?e.jsx(N,{width:20,height:20}):e.jsx(v,{width:20,height:20})})]}),n&&e.jsx("span",{className:"text-red-400 text-xs",children:n==null?void 0:n.message})]})})}const A=P({email:x().required(),password:x().min(3)});function B(){const a=k({}),{login:o}=h(),t=b({defaultValues:{email:"",password:""},resolver:S(A)}),c=async m=>{var r,l,i;try{const s=await a.mutateAsync({api:p.login,data:{...m,type:(window.ReactNativeWebView,"mobile")}});(r=s==null?void 0:s.data)!=null&&r.status?(await o(s),d.success((l=s==null?void 0:s.data)==null?void 0:l.message)):d.error((i=s==null?void 0:s.data)==null?void 0:i.message)}catch(s){d.error(R(s.message))}};return e.jsx(F,{methods:t,onSubmit:t.handleSubmit(c),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(L,{className:"rounded-xl py-6 px-5 w-full bg-background",name:"email",type:"email",inputValidation:["removeSpace"],placeholder:"Enter your Email"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(I,{className:"rounded-xl py-6 px-5 w-full bg-background",name:"password",placeholder:"Enter your password"})}),e.jsx("div",{children:e.jsx(E,{type:"submit",isLoading:t.formState.isSubmitting,className:"w-full rounded-xl py-6 px-4 mt-2 shadow-none",variant:"outline",children:"Login"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("hr",{className:"flex-1"}),e.jsx("span",{children:"or"}),e.jsx("hr",{className:"flex-1"})]}),e.jsx("div",{className:"text-center",children:e.jsx(j,{to:"/auth/forgot-password",children:e.jsx("span",{className:"text-sm text-primary",children:"Forgot password?"})})})]})})}function D(){return e.jsx(C,{title:"Login",children:e.jsxs("div",{className:"flex flex-col w-full justify-center h-screen px-6 lg:px-0 mx-auto max-w-sm",children:[e.jsx($,{}),e.jsx(B,{})]})})}export{D as default};
