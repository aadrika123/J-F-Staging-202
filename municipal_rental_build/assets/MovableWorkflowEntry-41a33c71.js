import{r as x,c as N,b as I,u as z,d as D,e as k,Q as d,j as o,f as C,A as L,P as B,B as V,n as r,a as H}from"./index-571ec2a1.js";function U(s){const{api_movableZoneSubmit:p,api_movableApplicationFullDetailById:m}=L(),[A,h]=x.useState(!1),[f,u]=x.useState(),[b,v]=x.useState();console.log("applicationid",s.applicationId),console.log("workflowData",s.workflowData);const _=N({zone:I().required("This is required field")}),w={applicationId:s==null?void 0:s.applicationId,zone:""},l=z({initialValues:w,onSubmit:t=>{console.log("form values",t),v(t),y(t)},validationSchema:_}),y=t=>{i(!0),D.post(`${p}`,t,k()).then(function(a){console.log("==2 details by id response...",a.data.status),a.data.status?(u(a.data.status),g(t.applicationId),n("Zone Updated Successfully","success")):(console.log("response.data.status",a.data.message),n("Update Failed","notice")),i(!1)}).catch(function(a){i(!1),console.log("==2 details by id error...",a)})},g=t=>{i(!0);const a={applicationId:t};D.post(`${m}`,a,k()).then(function(c){console.log("==2 details by id response...",c.data),c.data.status?(u(c.data.data.zone),n("Application Details Fetched Successfully","success")):(console.log("response.data.status",c.data.message),n("Failed to fetch application details","error")),i(!1)}).catch(function(c){i(!1),console.log("==2 details by id error...",c),n("Failed to fetch application details","error")})};console.log("selected zone status",f),console.log("selected zone value",b);const i=t=>{h(t)},n=(t,a)=>{d.dismiss(),a=="escalated"&&d.success(t),a=="success"&&d.success(t),a=="de-escalated"&&d.warn(t),a=="notice"&&d.warn(t),a=="error"&&d.error(t)};return o("div",{className:"w-full  h-screen",children:o("form",{onSubmit:l.handleSubmit,children:o("div",{className:"grid grid-cols-1 w-full text-center",children:C("div",{className:"w-full",children:[o("h1",{className:"bg-red-100 px-4 py-1.5 rounded-sm shadow-sm text-sm",children:"ðŸ‘‰Update zone for this application.ðŸ‘ˆ"}),C("select",{className:"px-2 py-1.5 border rounded w-1/3 mx-auto my-4",name:"zone",value:l.values.zone,onChange:l.handleChange,children:[o("option",{value:"",children:"Select a Zone"}),o("option",{value:1,children:"A"}),o("option",{value:2,children:"B"}),o("option",{value:3,children:"C"})]}),o("p",{children:l.touched.zone&&l.errors.zone?l.errors.zone:null}),o("button",{type:"submit",className:"px-2 py-1 rounded w-1/3 mx-auto  bg-indigo-500 hover:bg-indigo-600",children:"Submit"})]})})})})}function j(){const{api_postDepartmental:s,api_getDepartmentalData:p,api_fieldVerificationList:m}=H(),{api_workflowInfo:A,api_movableInboxList:h,api_movableOutboxList:f,api_movableApplicationFullDetailById:u,api_movableEscalateApplication:b,api_movableIndependentComment:v,api_movableSpecialboxList:_,api_movablePostNextLevel:w,api_movableViewDocuments:l,api_movableUploadDocuments:y,api_movableVerifyDocument:g,api_movableApprovedReject:i,api_movableBTC:n,api_movableBTCList:t,api_uploadVehicleDocumentShow:a}=L();return o(B,{workflowData:{api:{api_inboxList:{method:"post",url:h},api_outboxList:{method:"post",url:f},api_specialList:{method:"post",url:_},apt_btcList:{method:"post",url:t},api_fieldVerificationList:{method:"post",url:m},api_details:{method:"post",url:u},api_workflowInfo:{method:"post",url:A},api_independentComment:{method:"post",url:v},api_sendLevel:{method:"post",url:w},api_escalate:{method:"post",url:b},api_btc:{method:"post",url:n},api_approveReject:{method:"post",url:i},api_postDepartmentalData:{method:"post",url:s},api_getDepartmentalData:{method:"post",url:p},api_uploadDocumentShow:{method:"post",url:a},api_uploadDocument:{method:"post",url:y},api_verifyDocuments:{method:"post",url:g},api_documentList:{method:"post",url:l},documentBaseUrl:V},workflow:{workflowName:"Movable Workflow",workflowId:19,moduleId:28,fullDetailsUrl:"/advertisement/movableApplicationDetail"},tableColumns:[{Header:"#",Cell:({row:e})=>o("div",{className:"pr-2",children:e.index+1})},{Header:"Application No.",accessor:"application_no",Cell:e=>r(e==null?void 0:e.value)},{Header:"Applicant Name",accessor:"applicant",Cell:e=>r(e==null?void 0:e.value)},{Header:"Entity Name",accessor:"entity_name",Cell:e=>r(e==null?void 0:e.value)},{Header:"Applied Date",accessor:"application_date",Cell:e=>r(e==null?void 0:e.value)},{Header:"Application Type",accessor:"application_type",Cell:({cell:e})=>o("div",{className:" rounded-full shadow-lg h-7 mx-auto w-7 font-semibold text-center py-1 text-sm px-1 -ml-1 "+(e.row.values.application_type=="New Apply"?"bg-sky-200 text-sky-900 ":"")+(e.row.values.application_type=="Renew"?"bg-indigo-200 text-indigo-900 ":""),children:Array.from(e.row.values.application_type)[0]}),Cell:e=>r(e==null?void 0:e.value)}],customTabs:{label:"Select Zone",tabComponent:(e,S)=>o(U,{applicationId:e,workflowData:S})}}})}export{j as default};
