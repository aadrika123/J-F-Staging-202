import{I as b,l as i,a9 as y,ai as f,v,W as w,j as e,D as A,k as s,o as S,aj as L,a5 as P,q as B}from"./index-f803ac98.js";import{Q as F}from"./QrCode-3f5c9ac0.js";const W=()=>{b("Water Demand Bill Receipt");const[l,o]=i.useState(null),[x,a]=i.useState(!1),t=i.useRef(),h=y.useReactToPrint({content:()=>t.current}),[N]=f(),c=N.get("consumerNo"),{consumerId:d}=v();console.log("consumer id...",d);const{api_WaterBillReceipt:p,header:g}=w(),u=()=>{a(!0),B.post(p,{consumerNo:c},g).then(r=>{var n,m;(n=r==null?void 0:r.data)!=null&&n.status?(o((m=r==null?void 0:r.data)==null?void 0:m.data),a(!1),console.log("Data Found",r)):(a(!1),console.log("No Data Found"))}).catch(r=>{a(!1),console.log("Exception while getting receipt bill",r)})};return i.useEffect(()=>{c&&u()},[c]),x?e(A,{}):l?s(S,{children:[e("div",{className:"px-4 md:px-0 flex justify-end mb-4",children:s("button",{onClick:h,className:"pl-4 pr-6 py-1 bg-sky-400 text-white font-medium text-xs leading-tight uppercase rounded hover:bg-sky-500 focus:outline-none focus:ring-0 transition duration-150 ease-in-out",children:[e(L,{className:"inline text-lg mr-1"}),"print"]})}),e("div",{className:"font-poppins",ref:t,children:e("div",{id:"printableArea",className:"p-4",children:e("div",{className:"font-tahoma",children:s("div",{className:"border-2 mt-2 mb-12 border-dashed border-gray-600 bg-white p-3 sm:p-6 w-full max-w-[250mm] h-auto mx-auto container pb-8 relative overflow-x-hidden",children:[s("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12",children:[e("div",{className:"col-span-full",children:e("img",{src:l.ulbLogo||"/placeholder.svg",alt:"ULB Logo",className:"h-8 sm:h-10 md:h-12 mx-auto"})}),e("div",{className:"absolute inset-0 flex justify-center items-center pointer-events-none",children:e("img",{src:(l==null?void 0:l.state_logo)||"/placeholder.svg",alt:"State Logo",className:"w-[10rem] h-[10rem] sm:w-[12rem] sm:h-[12rem] md:w-[16rem] md:h-[16rem] mt-10 sm:mt-20 opacity-20 rounded-full border"})})]}),e("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 p-2",children:e("div",{className:"col-span-full",children:e("h1",{className:"font-bold text-lg sm:text-xl md:text-2xl text-center uppercase",children:(l==null?void 0:l.ulbName)||"N/A"})})}),e("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 p-2",children:e("div",{className:"col-span-full mx-auto",children:s("h1",{className:"font-semibold text-sm sm:text-base text-center text-gray-800 border border-gray-700 w-full max-w-[20rem] mx-auto uppercase px-3 py-1",children:["water user charge ",e("br",{})," BILL"]})})}),e("div",{className:"w-full p-2 mt-2",children:s("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[s("div",{className:"",children:[s("div",{className:"flex p-1 text-xs sm:text-sm",children:[e("h1",{className:"flex text-gray-900 font-semibold",children:"Bill No. :"}),e("h1",{className:"flex pl-2",children:(l==null?void 0:l.billNumber)||"N/A"})]}),s("div",{className:"flex p-1 text-xs sm:text-sm",children:[e("h1",{className:"flex text-gray-900 font-semibold whitespace-nowrap",children:"Department/Section :"}),e("h1",{className:"flex pl-2",children:(l==null?void 0:l.departmentSection)||"N/A"})]}),s("div",{className:"flex p-1 text-xs sm:text-sm",children:[e("h1",{className:"flex text-gray-900 font-semibold whitespace-nowrap",children:"Account Description :"}),e("h1",{className:"flex pl-2",children:(l==null?void 0:l.description)||"N/A"})]}),(l==null?void 0:l.holdingNo)&&s("div",{className:"flex p-1 text-xs sm:text-sm",children:[e("h1",{className:"flex text-gray-900 font-semibold",children:"Holding No. :"}),e("h1",{className:"flex pl-2",children:l==null?void 0:l.holdingNo})]}),(l==null?void 0:l.safNo)&&s("div",{className:"flex p-1 text-xs sm:text-sm",children:[e("h1",{className:"flex text-gray-900 font-semibold",children:"SAF No. :"}),e("h1",{className:"flex pl-2",children:l==null?void 0:l.safNo})]})]}),s("div",{className:"",children:[s("div",{className:"flex p-1 text-xs sm:text-sm",children:[e("h1",{className:"flex text-gray-900 font-semibold",children:"Date :"}),e("h1",{className:"flex pl-2",children:(l==null?void 0:l.date)||"N/A"})]}),s("div",{className:"flex p-1 text-xs sm:text-sm",children:[e("h1",{className:"flex text-gray-900 font-semibold",children:"Ward No. :"}),e("h1",{className:"flex pl-2",children:(l==null?void 0:l.wardNo)||"N/A"})]}),s("div",{className:"flex p-1 text-xs sm:text-sm",children:[e("h1",{className:"flex text-gray-900 font-semibold",children:"Mobile No. :"}),e("h1",{className:"flex pl-2",children:(l==null?void 0:l.customerMobile)||"N/A"})]})]})]})}),e("div",{className:"w-full p-2 mt-2",children:e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:s("div",{className:"",children:[s("div",{className:"flex p-1 text-xs sm:text-sm",children:[e("h1",{className:"text-gray-900 font-semibold whitespace-nowrap",children:"Consumer Name Mr/Mrs :"}),e("h1",{className:"pl-2",children:(l==null?void 0:l.customerName)||"N/A"})]}),s("div",{className:"flex p-1 text-xs sm:text-sm",children:[e("h1",{className:"flex text-gray-900 font-semibold whitespace-nowrap",children:"Consumer No. :"}),e("h1",{className:"flex pl-2",children:(l==null?void 0:l.consumerNo)||"N/A"})]}),s("div",{className:"flex p-1 text-xs sm:text-sm",children:[e("h1",{className:"flex text-gray-900 font-semibold whitespace-nowrap",children:"Address :"}),e("h1",{className:"flex pl-2 text-xs mt-0.5",children:(l==null?void 0:l.address)||"N/A"})]})]})})}),e("div",{className:"grid grid-cols-1 md:grid-cols-12 xl:grid-cols-12 p-2 -mt-1",children:e("div",{className:"col-span-full",children:e("h1",{className:"font-bold text-sm text-left",children:"WATER USER CHARGE BILL DETAILS"})})}),e("div",{children:s("table",{className:"w-full border border-gray-500 text-xs",children:[e("thead",{children:s("tr",{className:"border border-gray-500 text-sm font-bold text-center",children:[e("td",{colSpan:2,className:"border-r border-gray-500 py-1",children:e("h1",{children:"Description"})}),e("td",{colSpan:1,className:"py-1",children:e("h1",{children:"Amount"})})]})}),s("tbody",{children:[s("tr",{className:"border border-gray-500 text-xs",children:[e("td",{colSpan:2,className:"border-r border-gray-500 py-1",children:e("h1",{className:"text-left ml-2",children:"Demand period"})}),e("td",{colSpan:1,className:"py-1",children:s("h1",{className:"text-right mr-2",children:["From ",(l==null?void 0:l.paidFrom)||"N/A"," To ",(l==null?void 0:l.paidUpto)||"N/A"]})})]}),s("tr",{className:"border border-gray-500 text-xs",children:[e("td",{colSpan:2,className:"border-r border-gray-500 py-1",children:e("h1",{className:"text-left ml-2",children:"Bill Amount"})}),e("td",{colSpan:1,className:"py-1",children:s("h1",{className:"text-right mr-2",children:["₹ ",(l==null?void 0:l.billAmount)||"0"]})})]}),s("tr",{className:"border border-gray-500 text-xs",children:[e("td",{colSpan:2,className:"border-r border-gray-500 py-1",children:e("h1",{className:"text-left ml-2",children:"Advance"})}),e("td",{colSpan:1,className:"py-1",children:s("h1",{className:"text-right mr-2",children:["₹ ",(l==null?void 0:l.advanceAmount)||"0"]})})]}),s("tr",{className:"border border-gray-500 text-xs",children:[e("td",{colSpan:2,className:"border-r border-gray-500 py-1",children:e("h1",{className:"text-left ml-2",children:"Fine"})}),e("td",{colSpan:1,className:"py-1",children:s("h1",{className:"text-right mr-2",children:["₹ ",(l==null?void 0:l.penaltyAmount)||"0"]})})]}),s("tr",{className:"border border-gray-500 text-xs",children:[e("td",{colSpan:2,className:"border-r border-gray-500 py-1",children:e("h1",{className:"text-left ml-2",children:"Payable Amount"})}),e("td",{colSpan:1,className:"py-1",children:s("h1",{className:"text-right mr-2",children:["₹ ",(l==null?void 0:l.totalPayableAmount)||(l==null?void 0:l.billAmount)||"0"]})})]}),s("tr",{className:"border border-gray-500 text-xs",children:[e("td",{colSpan:2,className:"py-1",children:e("h1",{className:"text-left ml-2",children:"Amount in words:"})}),e("td",{colSpan:1,className:"py-1",children:e("h1",{className:"text-right mr-2",children:l!=null&&l.paidAmtInWords?`${l.paidAmtInWords} Only`:"N/A"})})]})]})]})}),e("div",{className:"w-full mt-2 px-2",children:s("div",{className:"",children:[e("div",{className:"flex",children:e("h1",{className:"flex text-gray-900 text-xs",children:(l==null?void 0:l.website)&&`For Details Please Visit : ${l.website}`})}),e("div",{className:"flex",children:e("h1",{className:"flex text-gray-900 text-xs",children:(l==null?void 0:l.contactNumber)&&`Or Call us at ${l.contactNumber}`})}),e("div",{children:e(F,{url:`/waterDemandPrintReceipt-direct/${d}`,size:"48"})})]})}),e("div",{className:"text-center font-bold text-sm mt-1",children:"Please Note : - This is not a payment receipt"}),e("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 p-2 mt-1",children:e("div",{className:"col-span-full",children:e("h1",{className:"font-semibold text-xs text-center px-2",children:"**This is a computer-generated bill and it does not require a physical signature.**"})})}),e("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12",children:e("div",{className:"col-span-full",children:e("img",{src:P,alt:"Swachh Bharat Logo",className:"w-24 mx-auto"})})})]})})})})]}):e("div",{className:"flex justify-center items-center h-64",children:e("p",{className:"text-gray-500",children:"No data available"})})};export{W as default};
