import{u as M,r as c,d as m,A as g,j as r,F as p,b as t,Q as b}from"./index-a5fcf8e9.js";import{u as Q}from"./formik.esm-87560db8.js";import{c as G,a as n}from"./index.esm-de8323ef.js";import{T as J}from"./ThemeStyle-994f51bc.js";import{R as K}from"./RentalApiList-ef8d1e90.js";import{A as X}from"./ApiHeader2-b363f7b8.js";function me(){const{saveButtonColor:Z,inputStyle:o,labelStyle:a,headingStyle:ee,titleStyle:q,addButtonColor:le,formStyle:re,titleColor:te}=J(),{api_UlbCircleList:P,api_locationByCircleList:F,api_addShops:v,api_getConstructionType:L}=K(),T=M();c.useState();const[B,h]=c.useState(!1),[H,se]=c.useState();c.useState(""),c.useState(!1),c.useState("");const[ie,S]=c.useState(""),[A,O]=c.useState(""),[I,V]=c.useState(""),[f,D]=c.useState();c.useState();const[d,R]=c.useState(),[x,_]=c.useState(),j=G({circle:n().required("This field is required"),market:n().required("This field is required"),allottee:n().required("This field is required"),address:n().required("This field is required"),rate:n().required("This field is required"),arrear:n().required("This field is required"),lastPayDt:n().required("This field is required"),lastPayAmt:n().required("This field is required"),allottedLength:n().required("This field is required"),allottedBreadth:n().required("This field is required"),allottedHeight:n().required("This field is required"),area:n().required("This field is required"),presentLength:n().required("This field is required"),presentBreadth:n().required("This field is required"),presentHeight:n().required("This field is required"),noOfFloors:n().required("This field is required"),presentOccupier:n().required("This field is required"),tradeLicense:n().required("This field is required"),construction:n().required("This field is required"),electricity:n().required("This field is required"),water:n().required("This field is required"),contactNo:n().required("This field is required"),longitude:n().required("This field is required"),latitude:n().required("This field is required"),photo1Path:n().required("This field is required"),photo2Path:n().required("This field is required"),remarks:n().required("This field is required")}),w=(l,s)=>{b.dismiss(),s=="success"&&b.success(l),s=="error"&&b.error(l)},e=Q({initialValues:{circle:"",market:"",allottee:"",address:"",rate:"",arrear:"",lastPayDt:"",lastPayAmt:"",allottedLength:"",allottedBreadth:"",allottedHeight:"",area:"",presentLength:"",presentBreadth:"",presentHeight:"",noOfFloors:"",presentOccupier:"",tradeLicense:"",construction:"",electricity:"",water:"",contactNo:"",longitude:"",latitude:"",photo1Path:"",photo2Path:"",remarks:""},enableReinitialize:!0,onSubmit:l=>{console.log("shop data",l),U(l)},validationSchema:j}),N=(l,s)=>{console.log("name ,fileData ",l,s),S(s),l=="photo1Path"?e.setFieldValue("photo1Path",s):e.setFieldValue("photo2Path",s);const i=new FileReader;i.onloadend=()=>{l=="photo1Path"?O(i.result):V(i.result)},i.readAsDataURL(s)};console.log("form values",e.values);const U=l=>{console.log("data in form",l);let s,i;s=v,i={circleId:l==null?void 0:l.circle,marketId:l==null?void 0:l.market,allottee:l==null?void 0:l.allottee,address:l==null?void 0:l.address,rate:l==null?void 0:l.rate,arrear:l==null?void 0:l.arrear,lastPayDt:l==null?void 0:l.lastPayDt,lastPayAmt:l==null?void 0:l.lastPayAmt,allottedLength:l==null?void 0:l.allottedLength,allottedBreadth:l==null?void 0:l.allottedBreadth,allottedHeight:l==null?void 0:l.allottedHeight,area:l==null?void 0:l.area,presentLength:l==null?void 0:l.presentLength,presentBreadth:l==null?void 0:l.presentBreadth,presentHeight:l==null?void 0:l.presentHeight,noOfFloors:l==null?void 0:l.noOfFloors,presentOccupier:l==null?void 0:l.presentOccupier,tradeLicense:l==null?void 0:l.tradeLicense,construction:l==null?void 0:l.construction,electricity:l==null?void 0:l.electricity,water:l==null?void 0:l.water,contactNo:l==null?void 0:l.contactNo,longitude:l==null?void 0:l.longitude,latitude:l==null?void 0:l.latitude,photo1Path:l==null?void 0:l.photo1Path,photo2Path:l==null?void 0:l.photo2Path,remarks:l==null?void 0:l.circle},console.log("request body",i),console.log("url shop add",v),m.post(`${s}`,i,X()).then(function(u){var k,y,$,C;console.log("response after data submitted",(k=u==null?void 0:u.data)==null?void 0:k.message),((y=u==null?void 0:u.data)==null?void 0:y.status)===!0?(w("submitted successfully","success"),T(`/submitScreen/shop/${(C=($=u==null?void 0:u.data)==null?void 0:$.data)==null?void 0:C.shopNo}`)):w("Failed to submit","error")}).catch(function(u){console.log("errorrr.... ",u)})};console.log("list details",H);const Y=l=>{console.log("target name",l.target.name),console.log("target value",l.target.value),console.log("values of circle",l.target.value);let s=l.target.name,i=l.target.value;s=="photo1Path"&&N(s,l.target.files[0]),s=="photo2Path"&&N(s,l.target.files[0]),console.log("values 123",i),s=="circle"&&z(i),s=="allottee"&&e.setFieldValue("allottee",allowCharacterInput(i,e.values.allottee,50)),s=="rate"&&e.setFieldValue("rate",allowFloatInput(i,e.values.rate,10)),s=="arrear"&&e.setFieldValue("arrear",allowFloatInput(i,e.values.arrear,10)),s=="allottedLength"&&e.setFieldValue("allottedLength",allowFloatInput(i,e.values.allottedLength,10)),s=="allottedBreadth"&&e.setFieldValue("allottedBreadth",allowFloatInput(i,e.values.allottedBreadth,10)),s=="allottedHeight"&&e.setFieldValue("allottedHeight",allowFloatInput(i,e.values.allottedHeight,10)),s=="presentLength"&&e.setFieldValue("presentLength",allowFloatInput(i,e.values.presentLength,10)),s=="presentBreadth"&&e.setFieldValue("presentBreadth",allowFloatInput(i,e.values.presentBreadth,10)),s=="presentHeight"&&e.setFieldValue("presentHeight",allowFloatInput(i,e.values.presentHeight,10)),s=="rate"&&e.setFieldValue("rate",allowFloatInput(i,e.values.rate,10)),s=="rate"&&e.setFieldValue("rate",allowFloatInput(i,e.values.rate,10)),s=="contactNo"&&e.setFieldValue("contactNo",allowNumberInput(i,e.values.contactNo,10))},E=()=>{m.post(P,{},g()).then(l=>{console.log("circle list 1",l.data),D(l.data.data),h(!1)}).catch(l=>{console.log(l),h(!1)})};c.useEffect(()=>{E(),W(),h(!0)},[]);const W=()=>{m.post(L,{},g()).then(l=>{console.log("construction type",l.data),_(l.data.data),h(!1)}).catch(l=>{console.log(l),h(!1)})},z=l=>{const s={circleId:l};m.post(F,s,g()).then(i=>{console.log("location list",i.data),i.data.status&&R(i.data.data)}).catch(i=>{console.log(i)})};return console.log("location data...",d),B?r(p,{children:r("div",{className:"min-h-screen"})}):r(p,{children:r("div",{className:"bg-[#eff2f0] ",children:r("form",{onSubmit:e.handleSubmit,onChange:Y,encType:"multipart/form-data",children:t("div",{className:" container mx-auto p-4",children:[t("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 p-4 border-b",children:[t("div",{className:"col-span-6 flex space-x-3",children:[r("img",{src:"https://cdn-icons-png.flaticon.com/128/2981/2981313.png",className:"h-10 -mt-2"}),r("h1",{className:`${q}`,children:"Add Shops"})]}),r("div",{className:"col-span-6 flex space-x-3 justify-end"})]}),t("div",{className:"bg-[#fdfdfd]  rounded-2xl shadow-md p-2",children:[t("div",{className:"p-2",children:[t("div",{class:"valid-form flex flex-wrap flex-row -mx-4",children:[t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${a} inline-block mb-2 `,children:"Circle"}),t("select",{...e.getFieldProps("circle"),className:`${o} inline-block w-full relative`,children:[r("option",{selected:!0,children:"select"}),r(p,{children:f==null?void 0:f.map(l=>r("option",{value:l==null?void 0:l.id,children:l==null?void 0:l.circle_name}))})]}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.circle&&e.errors.circle?e.errors.circle:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${a} inline-block mb-2 `,children:"Market"}),t("select",{...e.getFieldProps("market"),className:`${o} inline-block w-full relative`,children:[r("option",{selected:!0,children:"select"}),r(p,{children:d==null?void 0:d.map(l=>r("option",{value:l==null?void 0:l.id,children:l==null?void 0:l.market_name}))})]}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.market&&e.errors.market?e.errors.market:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${a} inline-block mb-2`,children:"Allottee"}),r("input",{type:"text",name:"allottee",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.allottee}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.allottee&&e.errors.allottee?e.errors.allottee:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${a} inline-block mb-2 `,children:"Contact no."}),r("input",{type:"text",name:"contactNo",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.contactNo}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.contactNo&&e.errors.contactNo?e.errors.contactNo:null})]})]}),t("div",{class:"valid-form flex flex-wrap flex-row -mx-4",children:[t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${a} inline-block mb-2 `,children:"Address"}),r("input",{type:"text",name:"address",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.address}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.address&&e.errors.address?e.errors.address:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${a} inline-block mb-2 `,children:"Rate"}),r("input",{type:"text",name:"rate",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.rate}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.rate&&e.errors.rate?e.errors.rate:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${a} inline-block mb-2`,children:"Last payment date"}),r("input",{type:"date",name:"lastPayDt",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.lastPayDt}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.lastPayDt&&e.errors.lastPayDt?e.errors.lastPayDt:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${a} inline-block mb-2`,children:"Last payment amount"}),r("input",{type:"text",name:"lastPayAmt",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.lastPayAmt}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.lastPayAmt&&e.errors.lastPayAmt?e.errors.lastPayAmt:null})]})]}),t("div",{class:"valid-form flex flex-wrap flex-row -mx-4",children:[t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${a} inline-block mb-2`,children:"Arrear"}),r("input",{type:"text",name:"arrear",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.arrear}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.arrear&&e.errors.arrear?e.errors.arrear:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${a} inline-block mb-2`,children:"Allotted Length"}),r("input",{type:"text",name:"allottedLength",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.allottedLength}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.allottedLength&&e.errors.allottedLength?e.errors.allottedLength:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${a} inline-block mb-2 `,children:"Allotted Breadth"}),r("input",{type:"text",name:"allottedBreadth",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.allottedBreadth}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.allottedBreadth&&e.errors.allottedBreadth?e.errors.allottedBreadth:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${a} inline-block mb-2 `,children:"Allotted Height"}),r("input",{type:"text",name:"allottedHeight",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.allottedHeight}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.allottedHeight&&e.errors.allottedHeight?e.errors.allottedHeight:null})]})]}),t("div",{class:"valid-form flex flex-wrap flex-row -mx-4",children:[t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${a} inline-block mb-2`,children:"Area"}),r("input",{type:"text",name:"area",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.area}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.area&&e.errors.area?e.errors.area:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${a} inline-block mb-2`,children:"Present Length"}),r("input",{type:"text",name:"presentLength",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.presentLength}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.presentLength&&e.errors.presentLength?e.errors.presentLength:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${a} inline-block mb-2 `,children:"Present Breadth"}),r("input",{type:"text",name:"presentBreadth",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.presentBreadth}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.presentBreadth&&e.errors.presentBreadth?e.errors.presentBreadth:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${a} inline-block mb-2 `,children:"Present Height"}),r("input",{type:"text",name:"presentHeight",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.presentHeight}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.presentHeight&&e.errors.presentHeight?e.errors.presentHeight:null})]})]}),t("div",{class:"valid-form flex flex-wrap flex-row -mx-4",children:[t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${a} inline-block mb-2`,children:"No. Of Floors"}),r("input",{type:"text",name:"noOfFloors",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.noOfFloors}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.noOfFloors&&e.errors.noOfFloors?e.errors.noOfFloors:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${a} inline-block mb-2`,children:"Present Occupier"}),r("input",{type:"text",name:"presentOccupier",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.presentOccupier}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.presentOccupier&&e.errors.presentOccupier?e.errors.presentOccupier:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${a} inline-block mb-2 `,children:"Trade license no."}),r("input",{type:"text",name:"tradeLicense",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.tradeLicense}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.tradeLicense&&e.errors.tradeLicense?e.errors.tradeLicense:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${a} inline-block mb-2 `,children:"Construction"}),t("select",{...e.getFieldProps("construction"),className:`${o} inline-block w-full relative`,children:[r("option",{selected:!0,children:"select"}),x==null?void 0:x.map(l=>r("option",{value:l==null?void 0:l.id,children:l==null?void 0:l.construction_type}))]}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.construction&&e.errors.construction?e.errors.construction:null})]})]}),t("div",{class:"valid-form flex flex-wrap flex-row -mx-4",children:[t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${a} inline-block mb-2`,children:"Electricity"}),t("select",{...e.getFieldProps("electricity"),className:`${o} inline-block w-full relative`,children:[r("option",{selected:!0,children:"select"}),r("option",{value:"Yes",children:"Yes"}),r("option",{value:"No",children:"No"})]}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.electricity&&e.errors.electricity?e.errors.electricity:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${a} inline-block mb-2`,children:"Water"}),t("select",{...e.getFieldProps("water"),className:`${o} inline-block w-full relative`,children:[r("option",{selected:!0,children:"select"}),r("option",{value:"Yes",children:"Yes"}),r("option",{value:"No",children:"No"})]}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.water&&e.errors.water?e.errors.water:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${a} inline-block mb-2`,children:"Longitude"}),r("input",{type:"text",name:"longitude",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.longitude}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.longitude&&e.errors.longitude?e.errors.longitude:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("h1",{className:`${a} inline-block mb-2`,children:"Latitude"}),r("input",{type:"text",name:"latitude",className:`${o} inline-block w-full relative`,onChange:e.handleChange,value:e.values.latitude}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.latitude&&e.errors.latitude?e.errors.latitude:null})]})]}),t("div",{class:"valid-form flex flex-wrap flex-row -mx-4",children:[t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${a} inline-block mb-2 `,children:"Photo1 path"}),r("input",{type:"file",name:"photo1Path",className:`${o} inline-block w-full relative`,onChange:e.handleChange}),r("img",{src:`${A}`,alt:"Upload img",className:"h-20"}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.photo1Path&&e.errors.photo1Path?e.errors.photo1Path:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-1/4 mb-4",children:[r("label",{className:`${a} inline-block mb-2 `,children:"Photo2 path"}),r("input",{type:"file",name:"photo2Path",className:`${o} inline-block w-full relative`,onChange:e.handleChange}),r("img",{src:`${I}`,alt:"Upload img",className:"h-20"}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.photo2Path&&e.errors.photo2Path?e.errors.photo2Path:null})]}),t("div",{class:"form-group flex-shrink max-w-full px-4 w-full md:w-2/4 mb-4",children:[r("h1",{className:`${a} inline-block mb-2`,children:"Remarks"}),r("textarea",{name:"remarks",onChange:e.handleChange,value:e.values.remarks,className:"border  p-2 w-full h-24",placeholder:"Write your remark..."}),r("p",{className:"text-red-500 text-xs absolute",children:e.touched.remarks&&e.errors.remarks?e.errors.remarks:null})]})]})]}),r("div",{className:"pb-8",children:r("button",{type:"submit",className:"bg-[#6AB783] px-7 py-2 text-white font-semibold rounded leading-5 shadow-lg w-full",children:"Save"})})]})]})})})})}export{me as default};
