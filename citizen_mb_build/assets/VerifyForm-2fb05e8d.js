import{r as d,j as a,F as i,b as t,d as Ue,A as Be,P as pe,k as Ze,M as Ea,R as La,u as Va,f as Pa,c as Ua}from"./index-7d6593b7.js";import Ba from"./CommonLoader-1a2f177d.js";import{c as We,a as G,d as qe,e as Pe,f as qa}from"./index.esm-c431fa8d.js";import{u as He}from"./formik.esm-b76b3672.js";import{g as De,i as $,a as Xe}from"./PowerupFunctions-c5e50f78.js";import{a as Wa}from"./index.esm-894fb140.js";import{T as Ha}from"./index.esm-4a1949ee.js";/* empty css                */import{I as Oa}from"./full.esm-e0fc4aaa.js";import"./GeoIndex-90a657fd.js";import Ra from"./ForwardScreen-80ecc5a1.js";import{u as Ma}from"./useSetTitle-7980425a.js";import"./BeatLoader-c7e18ce2.js";import"./hoist-non-react-statics.cjs-1b1be12d.js";import"./ApiHeader2-b363f7b8.js";import"./useCustomGeoLocation-7c8319ec.js";import"./resizeImage-f1558408.js";import"./Hourglass-7c698521.js";const Ia=e=>{var B,Z,p,z,W,k,l;d.useEffect(()=>{window.scrollTo(0,0)},[]);const[y,_]=d.useState([]),[v,F]=d.useState([]),[L,c]=d.useState(),[f,q]=d.useState(!1),[C,s]=d.useState(),[E,x]=d.useState("translate-y-0 top-[30px]"),h=d.useRef(null),D=d.useRef(null),J=d.useRef(null),m=d.useRef(null),b=We({floorNo:G().required("Select floor no.").max(50,"Enter maximum 50 characters"),useType:G().required("Select use type"),occupancyType:G().required("Select occupancy type"),constructionType:G().required("Select construction type"),buildupArea:G().required("Enter builtup Area"),dateFrom:qe().max(De(),"not valid").required("Select from date")}),N=He({initialValues:{floorNo:"",useType:"",occupancyType:"",constructionType:"",buildupArea:"",dateFrom:"",dateUpto:""},onSubmit:(r,w)=>{if(f){Q(),w();return}let n=[...y,r];_([...y,r]),console.log("tempfloor list before add.....",n);let g=[...v,L];console.log("tempfloor preview list before add.....",g),F([...v,L]),I()},validationSchema:b});d.useEffect(()=>{(y==null?void 0:y.length)==0&&(e==null?void 0:e.safType)!="re"&&(e==null?void 0:e.safType)!="mu"&&(e==null?void 0:e.safType)!="bo-edit"&&x("translate-y-0 top-[100px]")},[]),d.useEffect(()=>{Y()},[e==null?void 0:e.preData]);const Y=()=>{if(console.log("inside feed floor dat.."),(e==null?void 0:e.preData.length)!=0){console.log("inside lenght >0..");let r=e==null?void 0:e.preData.map(n=>({floorNo:n==null?void 0:n.floorNo,useType:n==null?void 0:n.useType,occupancyType:n==null?void 0:n.occupancyType,constructionType:n==null?void 0:n.constructionType,buildupArea:n==null?void 0:n.buildupArea,dateFrom:n==null?void 0:n.dateFrom,dateUpto:n==null?void 0:n.dateUpto})),w=e==null?void 0:e.preData.map(n=>({floorNo:n==null?void 0:n.floorNo,useType:n==null?void 0:n.useType,occupancyType:n==null?void 0:n.occupancyType,constructionType:n==null?void 0:n.constructionType,buildupArea:n==null?void 0:n.buildupArea,dateFrom:n==null?void 0:n.dateFrom,dateUpto:n==null?void 0:n.dateUpto}));console.log("owner make...",r),_(r),F(w)}},Q=()=>{let r=[...y];r[C]=N.values;let w=[...v];w[C].floorNo=h.current.options[h.current.selectedIndex].innerHTML,w[C].useType=D.current.options[D.current.selectedIndex].innerHTML,w[C].occupancyType=J.current.options[J.current.selectedIndex].innerHTML,w[C].constructionType=m.current.options[m.current.selectedIndex].innerHTML,w[C].buildupArea=N.values.buildupArea,w[C].dateFrom=N.values.dateFrom,w[C].dateUpto=N.values.dateUpto,_(r),F(w),q(!1),I()},I=()=>{console.log("inside toggelg form"),x(E==="translate-y-0 top-[30px]"?"-translate-y-full -top-[400px]":"translate-y-0 top-[30px]")};console.log("floor list ",y);const K=r=>{_(w=>w.filter((n,g)=>g!=r)),F(w=>w.filter((n,g)=>g!=r))};d.useEffect(()=>{},[y,v]);const j=r=>{q(!0),s(r);let w=[...y];N.resetForm(),N.initialValues.floorNo=w[r].floorNo,N.initialValues.useType=w[r].useType,N.initialValues.occupancyType=w[r].occupancyType,N.initialValues.constructionType=w[r].constructionType,N.initialValues.buildupArea=w[r].buildupArea,N.initialValues.dateFrom=w[r].dateFrom,N.initialValues.dateUpto=w[r].dateUpto,I()},ae=()=>{console.log("inside checkmin floor"),e.collectData("addFloor",y),e.next()},X=r=>{let w=r.target.name,n=r.target.value;w=="buildupArea"&&N.setFieldValue("buildupArea",Xe(n,N.values.buildupArea,20)),r.target.type=="select-one"?c({...L,[w]:r.target[r.target.selectedIndex].text}):c({...L,[w]:n})};return d.useEffect(()=>{I()},[]),a(i,{children:t("div",{children:[a("div",{className:`${E!=="-translate-y-full -top-[400px]"?"fixed top-0 left-0 w-full h-full bg-black opacity-50 z-50":""}`}),a("div",{className:`${E} fixed transition-all block md:w-full w-[90%] top-0 z-50`,children:a("form",{onSubmit:N.handleSubmit,onChange:X,children:a("div",{className:"grid grid-cols-12",children:t("div",{className:"col-span-12 grid grid-cols-12 bg-white relative shadow-xl rounded-lg",children:[a("button",{type:"button",onClick:()=>{q(!1),I()},children:a(Ha,{className:"absolute top-0 right-0 text-red-500 text-3xl hover:scale-125"})}),t("div",{className:"grid col-span-12 grid-cols-12 rounded-md bg-indigo-50 p-4",children:[t("div",{className:"form-group col-span-12 mb-3 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold ",children:["Floor No",a("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),t("select",{ref:h,...N.getFieldProps("floorNo"),className:"cypress_floor_no form-control block w-full px-3 py-1.5 text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md","aria-describedby":"emailHelp",children:[a("option",{children:"SELECT"}),(B=e==null?void 0:e.floorList)==null?void 0:B.map(r=>a("option",{value:r.id,children:r.floor_name},`floorName${r.id}`))]}),a("span",{className:"text-red-600 absolute text-xs",children:N.touched.floorNo&&N.errors.floorNo?N.errors.floorNo:null})]}),t("div",{className:"form-group col-span-12 mb-3 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Usage Type",a("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),t("select",{ref:D,...N.getFieldProps("useType"),className:"cypress_usage_type form-control block w-full px-3 py-1.5 text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md",children:[a("option",{children:"SELECT"}),(Z=e==null?void 0:e.usageList)==null?void 0:Z.map(r=>a("option",{value:r.id,children:r.usage_type},`usageType${r.id}`))]}),a("span",{className:"text-red-600 absolute text-xs",children:N.touched.useType&&N.errors.useType?N.errors.useType:null})]}),t("div",{className:"form-group col-span-12 mb-3 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Occupancy Type",a("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),t("select",{ref:J,...N.getFieldProps("occupancyType"),className:"cypress_occupancy_type form-control block w-full px-3 py-1.5 text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md",children:[a("option",{children:"SELECT"}),(p=e==null?void 0:e.occupancyList)==null?void 0:p.map(r=>a("option",{value:r.id,children:r.occupancy_type},`OccupancyType${r.id}`))]}),a("span",{className:"text-red-600 absolute text-xs",children:N.touched.occupancyType&&N.errors.occupancyType?N.errors.occupancyType:null})]}),t("div",{className:"form-group col-span-12 mb-3 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Construction Type",a("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),t("select",{ref:m,...N.getFieldProps("constructionType"),className:"cypress_construction_type form-control block w-full px-3 py-1.5 text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md",placeholder:"Enter guardian name",children:[a("option",{children:"SELECT"}),(z=e==null?void 0:e.constructionList)==null?void 0:z.map(r=>a("option",{value:r.id,children:r.construction_type},`constructionType${r.id}`))]}),a("span",{className:"text-red-600 absolute text-xs",children:N.touched.constructionType&&N.errors.constructionType?N.errors.constructionType:null})]}),t("div",{className:"form-group col-span-12 mb-3 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Built Up Area (in Sq. Ft)"," ",a("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),a("input",{...N.getFieldProps("buildupArea"),type:"text",className:"cypress_builtup_area form-control block w-full px-3 py-1.5 text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none shadow-md"}),a("span",{className:"text-red-600 absolute text-xs",children:N.touched.buildupArea&&N.errors.buildupArea?N.errors.buildupArea:null})]}),t("div",{className:"form-group col-span-12 mb-3 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[" ","Date From",a("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),a("input",{...N.getFieldProps("dateFrom"),type:"date",max:De(),className:"cypress_construction_date_from form-control block w-full px-3 py-1.5 text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md",placeholder:"Enter dateFrom no"}),a("span",{className:"text-red-600 absolute text-xs",children:N.touched.dateFrom&&N.errors.dateFrom?N.errors.dateFrom:null})]}),(((W=e==null?void 0:e.basicData)==null?void 0:W.assessment_type)=="Mutation"||((k=e==null?void 0:e.basicData)==null?void 0:k.assessment_type)=="Reassessment")&&t("div",{className:"form-group col-span-12 mb-3 md:px-4",children:[t("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[" ","Date Upto",a("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),a("input",{...N.getFieldProps("dateUpto"),type:"date",max:De(),className:"cypress_construction_date_from form-control block w-full px-3 py-1.5 text-sm  font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none cursor-pointer shadow-md",placeholder:"Enter dateFrom no"}),a("span",{className:"text-red-600 absolute text-xs",children:N.touched.dateUpto&&N.errors.dateUpto?N.errors.dateUpto:null})]}),a("div",{className:"col-span-12 text-center mt-4",children:a("button",{type:"submit",className:"px-4 py-1.5 mr-4 text-sm text-white rounded-sm shadow-md bg-green-500 hover:bg-green-600 focus:bg-green-600",children:f?"Update":"Add"})})]})]})})})}),t("div",{className:"border border-[#838FCE]  text-[#838FCE] uppercase text-md py-1 rounded-md p-2",children:[a("div",{className:" w-full md:py-4 md:px-0 md:pb-0 md:pt-0  md:w-full mx-auto overflow-x-auto",children:t("div",{className:" mb-4 rounded-md",children:[a("h1",{className:"text-center font-medium  text-[#838FCE] uppercase py-1",children:a("span",{children:"Add Floor"})}),a("div",{className:"w-full h-[1px] bg-[#838FCE]"}),y==null?void 0:y.map((r,w)=>{var n,g,A,P,ie,H;return a(d.Fragment,{children:t("div",{className:`${E=="translate-y-0 top-[100px]"?"hidden":"block"}  my-2 mx-1 rounded-md  shadow-md`,children:[t("div",{className:"text-white rounded-t-md bg-[#838FCE] px-2 py-1 font-semibold flex flex-row justify-between items-center",children:[a("span",{className:"text-sm",children:(n=e==null?void 0:e.floorList)==null?void 0:n.map((S,ee)=>a(d.Fragment,{children:(S==null?void 0:S.id)==r.floorNo&&(S==null?void 0:S.floor_name)},ee))}),t("span",{className:"flex gap-2 py-1",children:[a("button",{className:"text-xs font-normal px-3 py-1 rounded-md bg-green-500 hover:bg-green-600 focus:bg-green-600",onClick:()=>j(w),children:"Edit"}),a("button",{className:"text-xs font-normal px-3 py-1 rounded-md bg-red-500 hover:bg-red-600 focus:bg-red-600",onClick:()=>K(w),children:"Delete"})]})]}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 text-xs mr-1",children:"Usage Type"}),a("span",{className:"col-span-6 font-medium",children:(g=e==null?void 0:e.usageList)==null?void 0:g.map(S=>a(i,{children:(S==null?void 0:S.id)==r.useType&&(S==null?void 0:S.usage_type)}))})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 text-xs mr-1",children:"Occupancy Type"}),a("span",{className:"col-span-6 font-medium ",children:(A=e==null?void 0:e.occupancyList)==null?void 0:A.map(S=>a(i,{children:(S==null?void 0:S.id)==r.occupancyType&&(S==null?void 0:S.occupancy_type)}))})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 text-xs mr-1",children:"Construction Type"}),a("span",{className:"col-span-6 font-medium",children:(P=e==null?void 0:e.constructionList)==null?void 0:P.map(S=>a(i,{children:(S==null?void 0:S.id)==r.constructionType&&(S==null?void 0:S.construction_type)}))})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 text-xs mr-1",children:"Built Up Area (in Sq. Ft.)"}),a("span",{className:"col-span-6 font-medium",children:(r==null?void 0:r.buildupArea)==""?"N/A":r==null?void 0:r.buildupArea})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 text-xs mr-1",children:"Date From"}),a("span",{className:"col-span-6 font-medium",children:(r==null?void 0:r.dateFrom)==""?"N/A":$(r==null?void 0:r.dateFrom)})]}),(((ie=e==null?void 0:e.basicData)==null?void 0:ie.assessment_type)=="Mutation"||((H=e==null?void 0:e.basicData)==null?void 0:H.assessment_type)=="Reassessment")&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 text-xs mr-1",children:"Date Upto"}),a("span",{className:"col-span-6 font-medium",children:(r==null?void 0:r.dateUpto)==""?"N/A":$(r==null?void 0:r.dateUpto)})]})]})]})},w)})]})}),t("div",{className:"w-full flex justify-between m-2",children:[a("div",{onClick:e==null?void 0:e.back,className:"flex items-center px-4 py-1 text-sm text-center text-white rounded-md shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600 cursor-pointer",children:"Back"}),!((l=e==null?void 0:e.basicData)!=null&&l.assessment_type)=="Bifurcation"&&t("button",{onClick:I,type:"button",className:"px-4 py-1.5 mr-4 text-sm text-white rounded-md shadow-md bg-green-500 hover:bg-green-600 focus:bg-green-600",children:["Add Floor"," ",a(Wa,{className:" hidden md:inline font-semibold text-sm md:text-lg"})]}),a("button",{onClick:ae,className:"px-4 py-1.5 mr-4 text-sm text-white rounded-md shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600",children:"Save & Next"})]})]})]})})},Ya=e=>{var K,j,ae,X,B,Z,p,z,W,k,l,r,w,n,g,A,P,ie,H,S,ee,te,me,ce,oe,ge,fe,Ne,be,xe,ye,ue,ve,Se,_e,we,Ce,Te,V,o,T;d.useEffect(()=>{window.scrollTo(0,0)},[]);const[y,_]=d.useState(!1),[v,F]=d.useState(!1);d.useState(!1);const[L,c]=d.useState(!1),[f,q]=d.useState(!1),[C,s]=d.useState(!1),[E,x]=d.useState(!1),[h,D]=d.useState(),{api_newWardByOldWard:J}=pe(),m=We({oldWardNo:G().when([],{is:()=>y==!1,then:()=>G().required("required field !!!")}),newWardNo:G().when([],{is:()=>v==!1,then:()=>G().required("required field !!!")}),propertyType:G().when([],{is:()=>f==!1,then:()=>G().required("required field !!!")}),areaOfPlot:Pe().when([],{is:()=>C==!1,then:()=>Pe().typeError("must be number").required("required field !!!")}),roadType:Pe().when([],{is:()=>E==!1,then:()=>Pe().typeError("must be number").required("required field !!!")})}),b=He({initialValues:{oldWardNo:(K=e==null?void 0:e.preData)==null?void 0:K.oldWardNo,newWardNo:(j=e==null?void 0:e.preData)==null?void 0:j.newWardNo,propertyType:(ae=e==null?void 0:e.preData)==null?void 0:ae.propertyType,landOccupationDate:(X=e==null?void 0:e.preData)==null?void 0:X.landOccupationDate,areaOfPlot:(B=e==null?void 0:e.preData)==null?void 0:B.areaOfPlot,roadType:(Z=e==null?void 0:e.preData)==null?void 0:Z.roadType},enableReinitialize:!0,onSubmit:u=>{console.log("submitting values => ",u),e==null||e.propType(u.propertyType),e.collectData("basic",u)},validationSchema:m}),N=u=>{var le,se,he,re,U,ne;const O=u.target.name,R=u.target.value;console.log(O,R),O=="oldWardNoCheck"&&(i,R=="true"?(_(!0),b.setFieldValue("oldWardNo",(le=e==null?void 0:e.applicationData)==null?void 0:le.ward_mstr_id)):_(!1)),O=="newWardNoCheck"&&(i,R=="true"?(F(!0),b.setFieldValue("newWardNo",(se=e==null?void 0:e.applicationData)==null?void 0:se.new_ward_mstr_id)):F(!1)),O=="propertyTypeCheck"&&(i,R=="true"?(q(!0),b.setFieldValue("propertyType",(he=e==null?void 0:e.applicationData)==null?void 0:he.prop_type_mstr_id)):q(!1)),O=="landDatecheck"&&(i,R=="true"?(c(!0),b.setFieldValue("landOccupationDate",(re=e==null?void 0:e.applicationData)==null?void 0:re.land_occupation_date)):c(!1)),O=="areaOfPlotCheck"&&(i,R=="true"?(s(!0),b.setFieldValue("areaOfPlot",(U=e==null?void 0:e.applicationData)==null?void 0:U.area_of_plot)):s(!1)),O=="roadTypeCheck"&&(i,R=="true"?(x(!0),b.setFieldValue("roadType",(ne=e==null?void 0:e.applicationData)==null?void 0:ne.road_width)):x(!1))},Y=u=>{const{name:O,value:R}=u.target;O=="areaOfPlot"&&b.setFieldValue("areaOfPlot",Xe(R,b.values.areaOfPlot,20)),O=="roadType"&&b.setFieldValue("roadType",Xe(R,b.values.roadType,20))};d.useEffect(()=>{var u;Q((u=e==null?void 0:e.applicationData)==null?void 0:u.ward_mstr_id)},[]);const Q=u=>{var R;let O={oldWardMstrId:u,ulbId:(R=e==null?void 0:e.applicationData)==null?void 0:R.ulb_id};console.log("before fetch wardby old ward...",O),Ue.post(J,O,Be()).then(function(le){console.log("wardlist by oldward list ....",le.data.data),D(le.data.data)}).catch(function(le){console.log("errorrr.... ",le)})};console.log("type => ",b.errors);const I=()=>{var u,O,R,le,se,he,re,U,ne,de,Ae;if(((u=e==null?void 0:e.applicationData)==null?void 0:u.assessment_type)=="Bifurcation"){if(((O=e==null?void 0:e.applicationData)==null?void 0:O.prop_type_mstr_id)==2)return(le=(R=e==null?void 0:e.propertyType)==null?void 0:R.filter(M=>(M==null?void 0:M.id)==2||(M==null?void 0:M.id)==4))==null?void 0:le.map(M=>M);if(((se=e==null?void 0:e.applicationData)==null?void 0:se.prop_type_mstr_id)==4)return(re=(he=e==null?void 0:e.propertyType)==null?void 0:he.filter(M=>(M==null?void 0:M.id)==4))==null?void 0:re.map(M=>M);if(((U=e==null?void 0:e.applicationData)==null?void 0:U.prop_type_mstr_id)==3)return(de=(ne=e==null?void 0:e.propertyType)==null?void 0:ne.filter(M=>(M==null?void 0:M.id)==3))==null?void 0:de.map(M=>M)}return(Ae=e==null?void 0:e.propertyType)==null?void 0:Ae.map(M=>M)};return a(i,{children:t("form",{className:"border-1 border-[#838FCE] mb-4 animate__animated animate__fadeInRight animate__faster rounded-md border shadow-md p-1",onChange:u=>(Y(u),b.handleChange(u)),onSubmit:b.handleSubmit,children:[a("h1",{className:"text-center py-1 font-semibold  text-black uppercase text-sm rounded-md",children:"BASIC DETAILS"}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 font-medium text-sm py-1.5 rounded-t-md",children:"Old Ward No."}),t("div",{className:"py-2 pl-2 pr-4",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((p=e==null?void 0:e.applicationData)==null?void 0:p.old_ward_no)==""?"N/A":(z=e==null?void 0:e.applicationData)==null?void 0:z.old_ward_no})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((W=e==null?void 0:e.tcData)==null?void 0:W.old_ward_no)==""?"N/A":(k=e==null?void 0:e.tcData)==null?void 0:k.old_ward_no})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:N,children:[t("span",{className:"flex gap-1 items-center",children:[a("input",{type:"radio",name:"oldWardNoCheck",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check 1 ",className:"text-xs",children:"Correct"})]}),t("span",{className:"flex gap-1 items-center",children:[a("input",{disabled:((l=e==null?void 0:e.applicationData)==null?void 0:l.assessment_type)=="Bifurcation",type:"radio",name:"oldWardNoCheck",required:!0,id:"check2",value:!1}),a("label",{htmlFor:"check 2",className:"text-xs",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"oldWardNo",onChange:u=>Q(u.target.value),disabled:y,value:y?(r=e==null?void 0:e.applicationData)==null?void 0:r.ward_mstr_id:b.values.oldWardNo,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),(w=e==null?void 0:e.wardList)==null?void 0:w.map(u=>a(i,{children:a("option",{value:u==null?void 0:u.id,children:u==null?void 0:u.ward_name})}))]}),a("span",{children:b.touched.oldWardNo&&b.errors.oldWardNo&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:b.errors.oldWardNo})})})]})]})]})]}),t("div",{className:" my-2 mx-1 rounded-md shadow-lg ",children:[a("div",{className:"text-white bg-[#838FCE] px-2 font-medium text-sm py-1.5 rounded-t-md",children:"New Ward No."}),t("div",{className:"py-2 pl-2 pr-4",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((n=e==null?void 0:e.applicationData)==null?void 0:n.new_ward_no)==""?"N/A":(g=e==null?void 0:e.applicationData)==null?void 0:g.new_ward_no})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((A=e==null?void 0:e.tcData)==null?void 0:A.new_ward_no)==""?"N/A":(P=e==null?void 0:e.tcData)==null?void 0:P.new_ward_no})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:N,children:[t("span",{className:"flex gap-1 items-center",children:[a("input",{type:"radio",name:"newWardNoCheck",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check 1",className:"text-xs",children:"Correct"})]}),t("span",{className:"flex gap-1 items-center",children:[a("input",{type:"radio",name:"newWardNoCheck",required:!0,id:"check2",value:!1,disabled:((ie=e==null?void 0:e.applicationData)==null?void 0:ie.assessment_type)=="Bifurcation"}),a("label",{htmlFor:"check 2",className:"text-xs",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"newWardNo",disabled:v||((H=e==null?void 0:e.applicationData)==null?void 0:H.assessment_type)=="Bifurcation",value:v?(S=e==null?void 0:e.applicationData)==null?void 0:S.new_ward_mstr_id:b.values.newWardNo,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),h==null?void 0:h.map(u=>a(i,{children:a("option",{value:u==null?void 0:u.new_ward_mstr_id,children:u==null?void 0:u.ward_name})}))]}),a("span",{children:b.touched.newWardNo&&b.errors.newWardNo&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:b.errors.newWardNo})})})]})]})]})]}),t("div",{className:" my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:"Property Type"}),t("div",{className:"py-2 pl-2 pr-4",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((ee=e==null?void 0:e.applicationData)==null?void 0:ee.property_type)==""?"N/A":(te=e==null?void 0:e.applicationData)==null?void 0:te.property_type})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((me=e==null?void 0:e.tcData)==null?void 0:me.property_type)==""?"N/A":(ce=e==null?void 0:e.tcData)==null?void 0:ce.property_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:N,children:[t("span",{className:"flex gap-1 items-center",children:[a("input",{type:"radio",name:"propertyTypeCheck",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check 1",className:"text-xs",children:"Correct"})]}),t("span",{className:"flex gap-1 items-center",children:[a("input",{type:"radio",name:"propertyTypeCheck",required:!0,id:"check2",value:!1}),a("label",{htmlFor:"check 2",className:"text-xs",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"propertyType",disabled:f,value:f?(oe=e==null?void 0:e.applicationData)==null?void 0:oe.prop_type_mstr_id:b.values.propertyType,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),(ge=I())==null?void 0:ge.map(u=>a(i,{children:a("option",{value:u==null?void 0:u.id,children:u==null?void 0:u.property_type})}))]}),a("span",{children:b.touched.propertyType&&b.errors.propertyType&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:b.errors.propertyType})})})]})]})]})]}),t("div",{className:" my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:"Area Of Plot (in decimal)"}),t("div",{className:"py-2 pl-2 pr-4",children:[((fe=e==null?void 0:e.applicationData)==null?void 0:fe.bifurcated_from_plot_area)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Bifurcated from"}),a("span",{className:"col-span-6",children:((Ne=e==null?void 0:e.applicationData)==null?void 0:Ne.bifurcated_from_plot_area)==""?"N/A":(be=e==null?void 0:e.applicationData)==null?void 0:be.bifurcated_from_plot_area})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((xe=e==null?void 0:e.applicationData)==null?void 0:xe.area_of_plot)==""?"N/A":(ye=e==null?void 0:e.applicationData)==null?void 0:ye.area_of_plot})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((ue=e==null?void 0:e.tcData)==null?void 0:ue.area_of_plot)==""?"N/A":(ve=e==null?void 0:e.tcData)==null?void 0:ve.area_of_plot})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:N,children:[t("span",{className:"flex gap-1 items-center",children:[a("input",{type:"radio",name:"areaOfPlotCheck",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check 1",className:"text-xs",children:"Correct"})]}),t("span",{className:"flex gap-1 items-center",children:[a("input",{type:"radio",name:"areaOfPlotCheck",required:!0,id:"check2",value:!1}),a("label",{htmlFor:"check 2",className:"text-xs",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification s"}),t("span",{className:"col-span-6",children:[a("input",{onChange:Y,type:"number",step:"0.01",min:"0",max:parseFloat((Se=e==null?void 0:e.applicationData)==null?void 0:Se.bifurcated_from_plot_area),name:"areaOfPlot",disabled:C,value:C?(_e=e==null?void 0:e.applicationData)==null?void 0:_e.area_of_plot:b.values.areaOfPlot,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400"}),a("span",{children:b.touched.areaOfPlot&&b.errors.areaOfPlot&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:b.errors.areaOfPlot})})})]})]})]})]}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] pl-2 pr-5 py-1.5 font-medium text-sm rounded-t-md",children:"Road Width"}),t("div",{className:"py-2 pl-2 pr-4",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((we=e==null?void 0:e.applicationData)==null?void 0:we.road_width)==""?"N/A":(Ce=e==null?void 0:e.applicationData)==null?void 0:Ce.road_width})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((Te=e==null?void 0:e.tcData)==null?void 0:Te.road_width)==""?"N/A":(V=e==null?void 0:e.tcData)==null?void 0:V.road_width})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:N,children:[t("span",{className:"flex gap-1 items-center",children:[a("input",{type:"radio",name:"roadTypeCheck",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check 1",className:"text-xs",children:"Correct"})]}),t("span",{className:"flex gap-1 items-center",children:[a("input",{disabled:((o=e==null?void 0:e.applicationData)==null?void 0:o.assessment_type)=="Bifurcation",type:"radio",name:"roadTypeCheck",required:!0,id:"check2",value:!1}),a("label",{htmlFor:"check 2",className:"text-xs",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[a("input",{onChange:Y,type:"text",name:"roadType",disabled:E,value:E?(T=e==null?void 0:e.applicationData)==null?void 0:T.road_width:b.values.roadType,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400"}),a("span",{children:b.touched.roadType&&b.errors.roadType&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:b.errors.roadType})})})]})]})]})]}),a("div",{className:"w-full text-center my-2",children:a("button",{type:"submit",className:"px-4 py-1.5 mr-4 text-sm text-white rounded-md shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600",children:"Save & Next"})})]})})},ja=e=>{var Y,Q,I,K,j,ae,X,B,Z,p,z,W,k,l,r,w,n,g,A,P,ie,H,S,ee,te,me,ce,oe,ge,fe,Ne,be,xe,ye,ue,ve,Se,_e,we,Ce,Te,V,o,T,u,O,R,le,se,he,re;d.useEffect(()=>{window.scrollTo(0,0)},[]);const[y,_]=d.useState(!1),[v,F]=d.useState(!1),[L,c]=d.useState(!1),[f,q]=d.useState(!1),[C,s]=d.useState(!1),[E,x]=d.useState(!1),[h,D]=d.useState(null);d.useEffect(()=>{var ne;const U=Array.isArray(e==null?void 0:e.tcData)&&((ne=e==null?void 0:e.tcData)==null?void 0:ne.filter(de=>{var Ae;return(de==null?void 0:de.saf_floor_id)===((Ae=e==null?void 0:e.data)==null?void 0:Ae.id)}));console.log("filtered tc data => ",U[0]),D(U[0])},[e==null?void 0:e.tcData]);const J=We({useType:G().when([],{is:()=>y==!1,then:()=>G().required("required field !!!")}),occupancyType:G().when([],{is:()=>v==!1,then:()=>G().required("required field !!!")}),constructionType:G().when([],{is:()=>L==!1,then:()=>G().required("required field !!!")}),buildupArea:Pe().when([],{is:()=>f==!1,then:()=>Pe().typeError("must be number").required("required field !!!")}),dateFrom:qe().when([],{is:()=>C==!1,then:()=>qe().max(De(),"not valid").required("required field !!!")}),dateUpto:qe().when([],{is:()=>E==!1,then:()=>qe().max(De(),"not valid").min(qa("dateFrom"),"not valid").required("required field !!!")})}),m=He({initialValues:{id:(Y=e==null?void 0:e.data)==null?void 0:Y.id,floorId:(Q=e==null?void 0:e.data)==null?void 0:Q.id,floorNo:(I=e==null?void 0:e.data)==null?void 0:I.floor_mstr_id,useType:(K=e==null?void 0:e.preData)==null?void 0:K.useType,occupancyType:(j=e==null?void 0:e.preData)==null?void 0:j.occupancyType,constructionType:(ae=e==null?void 0:e.preData)==null?void 0:ae.constructionType,buildupArea:(X=e==null?void 0:e.preData)==null?void 0:X.buildupArea,dateFrom:(B=e==null?void 0:e.preData)==null?void 0:B.dateFrom,dateUpto:(Z=e==null?void 0:e.preData)==null?void 0:Z.dateUpto},enableReinitialize:!0,onSubmit:U=>{console.log("sending values => ",U),e==null||e.next(),e==null||e.collectData(U)},validationSchema:J}),b=U=>{var Ae,M,Fe,Ee,Ie,Le;const ne=U.target.name,de=U.target.value;ne=="useTypeStatus"&&(i,de=="true"?(_(!0),m.setFieldValue("useType",(Ae=e==null?void 0:e.data)==null?void 0:Ae.usage_type_mstr_id)):_(!1)),ne=="occupancyTypeStatus"&&(i,de=="true"?(F(!0),m.setFieldValue("occupancyType",(M=e==null?void 0:e.data)==null?void 0:M.occupancy_type_mstr_id)):F(!1)),ne=="constructionTypeStatus"&&(i,de=="true"?(c(!0),m.setFieldValue("constructionType",(Fe=e==null?void 0:e.data)==null?void 0:Fe.const_type_mstr_id)):c(!1)),ne=="buildupAreaStatus"&&(i,de=="true"?(q(!0),m.setFieldValue("buildupArea",(Ee=e==null?void 0:e.data)==null?void 0:Ee.builtup_area)):q(!1)),ne=="dateFromStatus"&&(i,de=="true"?(s(!0),m.setFieldValue("dateFrom",(Ie=e==null?void 0:e.data)==null?void 0:Ie.date_from)):s(!1)),ne=="dateUptoStatus"&&(i,de=="true"?(x(!0),m.setFieldValue("dateUpto",(Le=e==null?void 0:e.data)==null?void 0:Le.date_upto)):x(!1))},N=U=>{const{name:ne,value:de}=U.target;ne=="buildupArea"&&m.setFieldValue("buildupArea",Xe(de,m.values.buildupArea,20))};return a(i,{children:t("form",{className:"border-1 border-[#838FCE] mb-4 animate__animated animate__fadeInRight animate__faster rounded-md border shadow-md p-1",onChange:U=>(N(U),m.handleChange(U)),onSubmit:m.handleSubmit,children:[a("h1",{className:"text-center py-1 font-semibold text-black uppercase text-md rounded-md",children:(p=e==null?void 0:e.data)==null?void 0:p.floor_name}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:"Usage Types"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((z=e==null?void 0:e.data)==null?void 0:z.usage_type)==""?"N/A":(W=e==null?void 0:e.data)==null?void 0:W.usage_type})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(h==null?void 0:h.usage_type)==""?"N/A":h==null?void 0:h.usage_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:b,children:[t("span",{className:"flex gap-1 items-center",children:[a("input",{type:"radio",name:"useTypeStatus",required:!0,id:"check1",checked:((k=e==null?void 0:e.preData)==null?void 0:k.useTypeStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",className:"text-xs",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",disabled:((l=e==null?void 0:e.basicData)==null?void 0:l.assessment_type)=="Bifurcation",name:"useTypeStatus",required:!0,id:"check2",value:!1,checked:((r=e==null?void 0:e.preData)==null?void 0:r.useTypeStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",className:"text-xs",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"useType",disabled:y,value:y?(w=e==null?void 0:e.data)==null?void 0:w.usage_type_mstr_id:m.values.useType,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),(n=e==null?void 0:e.usageList)==null?void 0:n.map(U=>a("option",{value:U.id,children:U.usage_type}))]}),a("span",{children:m.touched.useType&&m.errors.useType&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.useType})})})]})]})]})]}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:"Occupancy Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((g=e==null?void 0:e.data)==null?void 0:g.occupancy_type)==""?"N/A":(A=e==null?void 0:e.data)==null?void 0:A.occupancy_type})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(h==null?void 0:h.occupancy_type)==""?"N/A":h==null?void 0:h.occupancy_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:b,children:[t("span",{className:"flex gap-1 items-center",children:[a("input",{type:"radio",name:"occupancyTypeStatus",required:!0,id:"check1",checked:((P=e==null?void 0:e.preData)==null?void 0:P.occupancyTypeStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",className:"text-xs",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{disabled:((ie=e==null?void 0:e.basicData)==null?void 0:ie.assessment_type)=="Bifurcation",type:"radio",name:"occupancyTypeStatus",required:!0,id:"check2",value:!1,checked:((H=e==null?void 0:e.preData)==null?void 0:H.occupancyTypeStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",className:"text-xs",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"occupancyType",disabled:v,value:v?(S=e==null?void 0:e.data)==null?void 0:S.occupancy_type_mstr_id:m.values.occupancyType,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),(ee=e==null?void 0:e.occupancyList)==null?void 0:ee.map(U=>a("option",{value:U.id,children:U.occupancy_type}))]}),a("span",{children:m.touched.occupancyType&&m.errors.occupancyType&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.occupancyType})})})]})]})]})]}),t("div",{className:" my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:"Construction Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((te=e==null?void 0:e.data)==null?void 0:te.construction_type)==""?"N/A":(me=e==null?void 0:e.data)==null?void 0:me.construction_type})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(h==null?void 0:h.construction_type)==""?"N/A":h==null?void 0:h.construction_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:b,children:[t("span",{className:"flex gap-1 items-center",children:[a("input",{type:"radio",name:"constructionTypeStatus",required:!0,id:"check1",checked:((ce=e==null?void 0:e.preData)==null?void 0:ce.constructionTypeStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",className:"text-xs",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{disabled:((oe=e==null?void 0:e.basicData)==null?void 0:oe.assessment_type)=="Bifurcation",type:"radio",name:"constructionTypeStatus",required:!0,id:"check2",value:!1,checked:((ge=e==null?void 0:e.preData)==null?void 0:ge.constructionTypeStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",className:"text-xs",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"constructionType",disabled:L,value:L?(fe=e==null?void 0:e.data)==null?void 0:fe.const_type_mstr_id:m.values.constructionType,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),(Ne=e==null?void 0:e.constructionList)==null?void 0:Ne.map(U=>a("option",{value:U.id,children:U.construction_type}))]}),a("span",{children:m.touched.constructionType&&m.errors.constructionType&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.constructionType})})})]})]})]})]}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:"Built Up Area"}),t("div",{className:"px-2 py-2",children:[((be=e==null?void 0:e.data)==null?void 0:be.bifurcated_from_buildup_area)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Bifurcated from"}),a("span",{className:"col-span-6",children:((xe=e==null?void 0:e.data)==null?void 0:xe.bifurcated_from_buildup_area)==""?"N/A":(ye=e==null?void 0:e.data)==null?void 0:ye.bifurcated_from_buildup_area})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((ue=e==null?void 0:e.data)==null?void 0:ue.builtup_area)==""?"N/A":(ve=e==null?void 0:e.data)==null?void 0:ve.builtup_area})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(h==null?void 0:h.builtup_area)==""?"N/A":h==null?void 0:h.builtup_area})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:b,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"buildupAreaStatus",required:!0,id:"check1",checked:((Se=e==null?void 0:e.preData)==null?void 0:Se.buildupAreaStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",className:"text-xs",children:"Correct"})]}),t("span",{className:"flex gap-1 items-center",children:[a("input",{type:"radio",name:"buildupAreaStatus",required:!0,id:"check2",value:!1,checked:((_e=e==null?void 0:e.preData)==null?void 0:_e.buildupAreaStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",className:"text-xs",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[a("input",{onChange:N,type:"text",name:"buildupArea",disabled:f,value:f?(we=e==null?void 0:e.data)==null?void 0:we.builtup_area:m.values.buildupArea,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400"}),a("span",{children:m.touched.buildupArea&&m.errors.buildupArea&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.buildupArea})})})]})]})]})]}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:"Date From"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((Ce=e==null?void 0:e.data)==null?void 0:Ce.date_from)==""?"N/A":$((Te=e==null?void 0:e.data)==null?void 0:Te.date_from)})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(h==null?void 0:h.date_from)==""?"N/A":$(h==null?void 0:h.date_from)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:b,children:[t("span",{className:"flex gap-1 items-center",children:[a("input",{type:"radio",name:"dateFromStatus",required:!0,id:"check1",checked:((V=e==null?void 0:e.preData)==null?void 0:V.dateFromStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",className:"text-xs",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",disabled:((o=e==null?void 0:e.basicData)==null?void 0:o.assessment_type)=="Bifurcation",name:"dateFromStatus",required:!0,id:"check2",value:!1,checked:((T=e==null?void 0:e.preData)==null?void 0:T.dateFromStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",className:"text-xs",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[a("input",{type:"date",max:De(),name:"dateFrom",disabled:C,value:C?(u=e==null?void 0:e.data)==null?void 0:u.date_from:m.values.dateFrom,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400"}),a("span",{children:m.touched.dateFrom&&m.errors.dateFrom&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.dateFrom})})})]})]})]})]}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:"Date Upto"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((O=e==null?void 0:e.data)==null?void 0:O.date_upto)==""?"N/A":$((R=e==null?void 0:e.data)==null?void 0:R.date_upto)})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(h==null?void 0:h.date_upto)==""?"N/A":$(h==null?void 0:h.date_upto)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:b,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"dateUptoStatus",required:!0,id:"check1",checked:((le=e==null?void 0:e.preData)==null?void 0:le.dateUptoStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",className:"text-xs",children:"Correct"})]}),t("span",{className:"flex gap-1 items-center",children:[a("input",{type:"radio",name:"dateUptoStatus",required:!0,id:"check2",value:!1,disabled:((se=e==null?void 0:e.basicData)==null?void 0:se.assessment_type)=="Bifurcation",checked:((he=e==null?void 0:e.preData)==null?void 0:he.dateUptoStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",className:"text-xs",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[a("input",{type:"date",max:De(),name:"dateUpto",disabled:E,value:E?(re=e==null?void 0:e.data)==null?void 0:re.date_upto:m.values.dateUpto,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400"}),a("span",{children:m.touched.dateUpto&&m.errors.dateUpto&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.dateUpto})})})]})]})]})]}),t("div",{className:"w-full flex justify-between m-2",children:[a("div",{onClick:e==null?void 0:e.back,className:"px-4 py-1.5 text-sm text-white rounded-md shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600 cursor-pointer",children:"Back"}),a("button",{type:"submit",className:"px-4 py-1.5 mr-4 text-sm text-white rounded-md shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600",children:"Save & Next"})]})]})})},za=e=>{var Y,Q,I,K,j,ae,X,B,Z,p,z,W,k,l,r,w,n,g,A,P,ie,H,S,ee,te,me,ce,oe,ge,fe,Ne,be,xe,ye,ue,ve,Se,_e,we,Ce,Te,V;d.useEffect(()=>{window.scrollTo(0,0)},[]);const[y,_]=d.useState(!1),[v,F]=d.useState(!1),[L,c]=d.useState(!1),[f,q]=d.useState(!1),[C,s]=d.useState(!1),[E,x]=d.useState(!1),[h,D]=d.useState(!1),J=We({useType:G().when([],{is:()=>y==!1&&h,then:()=>G().required("required field !!!")}),occupancyType:G().when([],{is:()=>v==!1&&h,then:()=>G().required("required field !!!")}),constructionType:G().when([],{is:()=>L==!1&&h,then:()=>G().required("required field !!!")}),buildupArea:Pe().when([],{is:()=>f==!1&&h,then:()=>Pe().typeError("must be number").required("required field !!!")}),dateFrom:qe().when([],{is:()=>C==!1&&h,then:()=>qe().max(De(),"not valid").required("required field !!!")}),dateUpto:qe().when([],{is:()=>E==!1&&h,then:()=>qe().max(De(),"not valid").min(qa("dateFrom"),"not valid").required("required field !!!")})}),m=He({initialValues:{id:(Y=e==null?void 0:e.data)==null?void 0:Y.id,floorNo:(Q=e==null?void 0:e.data)==null?void 0:Q.floor_mstr_id,useType:(I=e==null?void 0:e.preData)==null?void 0:I.useType,occupancyType:(K=e==null?void 0:e.preData)==null?void 0:K.occupancyType,constructionType:(j=e==null?void 0:e.preData)==null?void 0:j.constructionType,buildupArea:(ae=e==null?void 0:e.preData)==null?void 0:ae.buildupArea,dateFrom:(X=e==null?void 0:e.preData)==null?void 0:X.dateFrom,dateUpto:(B=e==null?void 0:e.preData)==null?void 0:B.dateUpto},enableReinitialize:!0,onSubmit:o=>{console.log("sending values => ",o),e==null||e.next(),e==null||e.collectData(o)},validationSchema:J}),b=o=>{var O,R,le,se,he,re;const T=o.target.name,u=o.target.value;T=="useTypeStatus"&&(i,u=="true"?(_(!0),m.setFieldValue("useType",(O=e==null?void 0:e.data)==null?void 0:O.usage_type_mstr_id)):_(!1)),T=="occupancyTypeStatus"&&(i,u=="true"?(F(!0),m.setFieldValue("occupancyType",(R=e==null?void 0:e.data)==null?void 0:R.occupancy_type_mstr_id)):F(!1)),T=="constructionTypeStatus"&&(i,u=="true"?(c(!0),m.setFieldValue("constructionType",(le=e==null?void 0:e.data)==null?void 0:le.const_type_mstr_id)):c(!1)),T=="buildupAreaStatus"&&(i,u=="true"?(q(!0),m.setFieldValue("buildupArea",(se=e==null?void 0:e.data)==null?void 0:se.builtup_area)):q(!1)),T=="dateFromStatus"&&(i,u=="true"?(s(!0),m.setFieldValue("dateFrom",(he=e==null?void 0:e.data)==null?void 0:he.date_from)):s(!1)),T=="dateUptoStatus"&&(i,u=="true"?(x(!0),m.setFieldValue("dateUpto",(re=e==null?void 0:e.data)==null?void 0:re.date_upto)):x(!1)),T=="isTcAdded"&&(i,u=="true"?(D(!0),m.setFieldValue("isTcAdded",u)):(D(!1),m.setFieldValue("isTcAdded",u)))},N=o=>{const{name:T,value:u}=o.target;console.log(T,u),T=="buildupArea"&&m.setFieldValue("buildupArea",Xe(u,m.values.buildupArea,20))};return a(i,{children:t("form",{className:"border-1 border-[#838FCE] mb-4 animate__animated animate__fadeInRight animate__faster rounded-md border shadow-md p-1",onChange:o=>(N(o),m.handleChange(o)),onSubmit:m.handleSubmit,children:[t("div",{className:"px-4 py-2 flex gap-6",children:[t("span",{className:"text-red-500 font-semibold text-sm",children:["Is this floor exist ?"," "]}),t("span",{className:"flex gap-4 items-center",onClick:b,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"isTcAdded",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check1",children:"Yes"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"isTcAdded",required:!0,id:"check2",value:!1}),a("label",{htmlFor:"check2",children:"No"})]})]})]}),a("h1",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:(Z=e==null?void 0:e.data)==null?void 0:Z.floor_name}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:"Usage Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((p=e==null?void 0:e.data)==null?void 0:p.usage_type)==""?"N/A":(z=e==null?void 0:e.data)==null?void 0:z.usage_type})]}),h&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:b,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"useTypeStatus",required:h,id:"check1",checked:((W=e==null?void 0:e.preData)==null?void 0:W.useTypeStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"useTypeStatus",required:h,id:"check2",value:!1,checked:((k=e==null?void 0:e.preData)==null?void 0:k.useTypeStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"useType",disabled:y,value:y?(l=e==null?void 0:e.data)==null?void 0:l.usage_type_mstr_id:m.values.useType,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),(r=e==null?void 0:e.usageList)==null?void 0:r.map(o=>a("option",{value:o.id,children:o.usage_type}))]}),a("span",{children:m.touched.useType&&m.errors.useType&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.useType})})})]})]})]})]})]}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:"Occupancy Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((w=e==null?void 0:e.data)==null?void 0:w.occupancy_type)==""?"N/A":(n=e==null?void 0:e.data)==null?void 0:n.occupancy_type})]}),h&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:b,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"occupancyTypeStatus",required:h,id:"check1",checked:((g=e==null?void 0:e.preData)==null?void 0:g.occupancyTypeStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"occupancyTypeStatus",required:h,id:"check2",value:!1,checked:((A=e==null?void 0:e.preData)==null?void 0:A.occupancyTypeStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"occupancyType",disabled:v,value:v?(P=e==null?void 0:e.data)==null?void 0:P.occupancy_type_mstr_id:m.values.occupancyType,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),(ie=e==null?void 0:e.occupancyList)==null?void 0:ie.map(o=>a("option",{value:o.id,children:o.occupancy_type}))]}),a("span",{children:m.touched.occupancyType&&m.errors.occupancyType&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.occupancyType})})})]})]})]})]})]}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:"Construction Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((H=e==null?void 0:e.data)==null?void 0:H.construction_type)==""?"N/A":(S=e==null?void 0:e.data)==null?void 0:S.construction_type})]}),h&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:b,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"constructionTypeStatus",required:h,id:"check1",checked:((ee=e==null?void 0:e.preData)==null?void 0:ee.constructionTypeStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"constructionTypeStatus",required:h,id:"check2",value:!1,checked:((te=e==null?void 0:e.preData)==null?void 0:te.constructionTypeStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"constructionType",disabled:L,value:L?(me=e==null?void 0:e.data)==null?void 0:me.const_type_mstr_id:m.values.constructionType,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),(ce=e==null?void 0:e.constructionList)==null?void 0:ce.map(o=>a("option",{value:o.id,children:o.construction_type}))]}),a("span",{children:m.touched.constructionType&&m.errors.constructionType&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.constructionType})})})]})]})]})]})]}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:"Built Up Area"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((oe=e==null?void 0:e.data)==null?void 0:oe.builtup_area)==""?"N/A":(ge=e==null?void 0:e.data)==null?void 0:ge.builtup_area})]}),h&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:b,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"buildupAreaStatus",required:h,id:"check1",checked:((fe=e==null?void 0:e.preData)==null?void 0:fe.buildupAreaStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"buildupAreaStatus",required:h,id:"check2",value:!1,checked:((Ne=e==null?void 0:e.preData)==null?void 0:Ne.buildupAreaStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[a("input",{type:"text",name:"buildupArea",disabled:f,value:f?(be=e==null?void 0:e.data)==null?void 0:be.builtup_area:m.values.buildupArea,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400"}),a("span",{children:m.touched.buildupArea&&m.errors.buildupArea&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.buildupArea})})})]})]})]})]})]}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:"Date From"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((xe=e==null?void 0:e.data)==null?void 0:xe.date_from)==""?"N/A":$((ye=e==null?void 0:e.data)==null?void 0:ye.date_from)})]}),h&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:b,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"dateFromStatus",required:h,id:"check1",checked:((ue=e==null?void 0:e.preData)==null?void 0:ue.dateFromStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"dateFromStatus",required:h,id:"check2",value:!1,checked:((ve=e==null?void 0:e.preData)==null?void 0:ve.dateFromStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[a("input",{type:"date",max:De(),name:"dateFrom",disabled:C,value:C?(Se=e==null?void 0:e.data)==null?void 0:Se.date_from:m.values.dateFrom,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400"}),a("span",{children:m.touched.dateFrom&&m.errors.dateFrom&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.dateFrom})})})]})]})]})]})]}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:"Date Upto"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((_e=e==null?void 0:e.data)==null?void 0:_e.date_upto)==""?"N/A":$((we=e==null?void 0:e.data)==null?void 0:we.date_upto)})]}),h&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:b,children:[t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"dateUptoStatus",required:h,id:"check1",checked:((Ce=e==null?void 0:e.preData)==null?void 0:Ce.dateUptoStatus)=="true"?!0:null,value:!0}),a("label",{htmlFor:"check 1",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"dateUptoStatus",required:h,id:"check2",value:!1,checked:((Te=e==null?void 0:e.preData)==null?void 0:Te.dateUptoStatus)=="false"?!0:null}),a("label",{htmlFor:"check 2",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[a("input",{type:"date",max:De(),name:"dateUpto",disabled:E,value:E?(V=e==null?void 0:e.data)==null?void 0:V.date_upto:m.values.dateUpto,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400"}),a("span",{children:m.touched.dateUpto&&m.errors.dateUpto&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:m.errors.dateUpto})})})]})]})]})]})]}),t("div",{className:"w-full flex justify-between m-2",children:[a("div",{onClick:e==null?void 0:e.back,className:"px-4 py-1.5 text-sm text-white rounded-md shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600 cursor-pointer",children:"Back"}),a("button",{type:"submit",className:"px-4 py-1.5 mr-4 text-sm text-white rounded-md shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600",children:"Save & Next"})]})]})})},$a=e=>{var W,k,l,r,w;const{roleName:y}=d.useContext(Ze);d.useEffect(()=>{window.scrollTo(0,0)},[]);const[_,v]=d.useState(0),[F,L]=d.useState(-1),[c,f]=d.useState(!1),[q,C]=d.useState(!1),[s,E]=d.useState([]),[x,h]=d.useState([]),[D,J]=d.useState([]),[m,b]=d.useState([]),[N,Y]=d.useState([]),[Q,I]=d.useState(0);console.log("incoming data => ",e==null?void 0:e.tcNewData,F),console.log("floor length => ",(W=e==null?void 0:e.applicationData)==null?void 0:W.length);const K=()=>{var n,g;console.log("floor indexx => ",_),_<((n=e==null?void 0:e.applicationData)==null?void 0:n.length)&&(v(_+1),f(!1),I(A=>A+1)),_==((g=e==null?void 0:e.applicationData)==null?void 0:g.length)-1&&(y=="tc"?f(!0):(f(!1),L(0)),I(A=>A+1))},j=()=>{_!=0&&(v(_-1),f(!1),I(n=>n+1)),_==0&&(e==null||e.back(),f(!1),I(n=>n+1))},ae=()=>{f(!1),C(!0),I(n=>n+1)},X=()=>{C(!1),f(!1),v(0),L(0),I(n=>n+1)},B=n=>{var g,A;console.log("floor2 indexx => ",_),F<((g=e==null?void 0:e.tcNewData)==null?void 0:g.length)&&(L(F+1),f(!1),I(P=>P+1)),F==((A=e==null?void 0:e.tcNewData)==null?void 0:A.length)-1&&(ae(),I(P=>P+1))},Z=()=>{F!=0&&(L(F-1),I(n=>n+1)),F==0&&(v(0),L(-1),f(!1),C(!1),I(n=>n+1))},p=n=>{const g=s.findIndex(A=>A.id===n.id);if(g!==-1){const A=[...s];A[g]=n,E(A),console.log("updated floor list.....",A)}else{const A=[...s,n];E(A),console.log("updated floor list.....",A)}},z=n=>{if((n==null?void 0:n.isTcAdded)=="false"||(n==null?void 0:n.isTcAdded)==!1)return;const g=x.findIndex(A=>A.id===n.id);if(g!==-1){const A=[...x];A[g]=n,h(A),console.log("updated floor list.....",A)}else{const A=[...x,n];h(A),console.log("updated floor list.....",A)}};return d.useEffect(()=>{var n,g;_==((n=e==null?void 0:e.applicationData)==null?void 0:n.length)&&(e==null||e.collectData("floor",s)),F==((g=e==null?void 0:e.tcNewData)==null?void 0:g.length)&&(e==null||e.collectData("floor2",x))},[_,F]),d.useEffect(()=>{e!=null&&e.isVacant&&((e==null?void 0:e.propType)!="4"||(e==null?void 0:e.propType)!=4)&&(y=="tc"&&(f(!0),C(!1)),y=="utc"&&!(e!=null&&e.tcApply)&&(f(!1),C(!0)))},[e==null?void 0:e.propType]),d.useEffect(()=>{var n,g,A,P,ie,H,S,ee,te;((n=e==null?void 0:e.preData)==null?void 0:n.floor)!=null&&((A=(g=e==null?void 0:e.preData)==null?void 0:g.floor)==null?void 0:A.length)>0&&J((P=e==null?void 0:e.preData)==null?void 0:P.floor),b((ie=e==null?void 0:e.preData)==null?void 0:ie.floor2),((H=e==null?void 0:e.preData)==null?void 0:H.addFloor)!=null&&((ee=(S=e==null?void 0:e.preData)==null?void 0:S.addFloor)==null?void 0:ee.length)>0&&Y((te=e==null?void 0:e.preData)==null?void 0:te.addFloor)},[e==null?void 0:e.preData]),console.log("tc data => ",e==null?void 0:e.tcExistingData),localStorage.getItem("roles"),t(i,{children:[q&&y=="utc"&&a(Ia,{basicData:e==null?void 0:e.basicData,usageList:e==null?void 0:e.usageType,occupancyList:e==null?void 0:e.occupancyType,constructionList:e==null?void 0:e.constructionList,floorList:e==null?void 0:e.floorList,next:()=>e.next(),back:()=>X(),preData:N,collectData:(n,g)=>{e==null||e.collectData(n,g),I(A=>A+1)}}),c&&y=="tc"&&a(Ia,{basicData:e==null?void 0:e.basicData,usageList:e==null?void 0:e.usageType,occupancyList:e==null?void 0:e.occupancyType,constructionList:e==null?void 0:e.constructionList,floorList:e==null?void 0:e.floorList,next:()=>e.next(),back:()=>j(),preData:N,collectData:(n,g)=>{e==null||e.collectData(n,g),I(A=>A+1)}}),!c&&!q&&y=="utc"&&F>=0&&a(i,{children:(e==null?void 0:e.tcNewData)!=null&&((k=e==null?void 0:e.tcNewData)==null?void 0:k.length)>0?t(i,{children:[a("div",{className:"text-sm font-semibold text-center",children:"This Floor Added By Agency TC"}),(l=e==null?void 0:e.tcNewData)==null?void 0:l.map((n,g)=>a(i,{children:g==F&&a(za,{data:n,preData:m!=null&&m[g],index:g,next:()=>B(),back:Z,usageList:e==null?void 0:e.usageType,occupancyList:e==null?void 0:e.occupancyType,constructionList:e==null?void 0:e.constructionList,floorList:e==null?void 0:e.floorList,collectData:z})}))]}):t(i,{children:[a("div",{className:"text-sm font-semibold text-center text-red-600",children:"No extra floor added by agency tc"}),t("div",{className:"w-full flex justify-between m-2",children:[a("div",{onClick:()=>Z(),className:"px-4 py-1.5 text-sm text-white rounded-sm shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600 cursor-pointer",children:"Back"}),a("button",{onClick:()=>ae(),className:"px-4 py-1.5 mr-4 text-sm text-white rounded-sm shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600",children:"Save & Next"})]})]})}),!c&&F==-1&&!(e!=null&&e.isVacant)&&((e==null?void 0:e.propType)!="4"||(e==null?void 0:e.propType)!=4)&&((r=e==null?void 0:e.applicationData)==null?void 0:r.length)>0&&((w=e==null?void 0:e.applicationData)==null?void 0:w.map((n,g)=>a(i,{children:g==_&&a(ja,{tcApply:e==null?void 0:e.tcApply,basicData:e==null?void 0:e.basicData,utc:e==null?void 0:e.utc,tcData:(e==null?void 0:e.tcExistingData)!=null&&(e==null?void 0:e.tcExistingData),data:n,preData:D,index:g,next:K,back:j,usageList:e==null?void 0:e.usageType,occupancyList:e==null?void 0:e.occupancyType,constructionList:e==null?void 0:e.constructionList,floorList:e==null?void 0:e.floorList,collectData:p})})))]})},Qa=e=>{var C;d.useContext(Ze);const[y,_]=d.useState(!1),[v,F]=d.useState(""),L=()=>_(!1),c=()=>{};d.useEffect(()=>{window.scrollTo(0,0)},[]);const f=We({remarks:G().required("required field !!!")}),q=He({initialValues:{remarks:(C=e==null?void 0:e.preData)==null?void 0:C.remarks},enableReinitialize:!0,onSubmit:s=>{e.collectData("remarks",s),e.next()},validationSchema:f});return localStorage.getItem("roles"),t(i,{children:[t("form",{className:" mb-4 animate__animated animate__fadeInRight animate__faster rounded-md",onChange:q.handleChange,onSubmit:q.handleSubmit,children:[a("h1",{className:"text-center py-1 font-medium border bg-[#838FCE] border-[#838FCE] text-white uppercase text-base rounded-t-md",children:"Remarks"}),a("div",{className:"rounded-md",children:a("textarea",{name:"remarks",value:q.values.remarks,id:"",rows:"3",className:"w-full px-2 py-1 shadow-md rounded-md",placeholder:"Enter your remarks here..."})}),a("div",{className:"mx-2",children:q.touched.remarks&&q.errors.remarks&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:q.errors.remarks})})})]}),t("div",{className:"w-full flex justify-between m-2",children:[a("div",{onClick:e==null?void 0:e.back,className:"px-4 py-1.5 text-sm text-white rounded-md shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600 cursor-pointer",children:"Back"}),a("button",{onClick:q.handleSubmit,type:"submit",className:"px-4 py-1.5 mr-4 text-sm text-white rounded-md shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600",children:"Next & Preview"})]}),a(Ea,{isOpen:y,onAfterOpen:c,className:"z-20 h-screen w-screen backdrop-blur-sm flex flex-row justify-center items-center overflow-auto",contentLabel:"Example Modal",children:t("div",{className:" animate__animated animate__zoomIn animate__faster relative rounded-lg shadow-xl border-2 border-gray-50 px-0",style:{width:"95vw",height:"80vh"},children:[a("div",{className:"absolute top-2 z-40 bg-red-200 hover:bg-red-300 right-2 rounded-full p-2 cursor-pointer",onClick:L,children:a(Oa,{fontSize:10})}),a("div",{className:"w-full h-full flex items-center justify-center",children:a("img",{src:v,alt:"",srcSet:""})})]})})]})},Ga=e=>{var y,_,v,F,L,c,f,q,C,s,E,x,h,D,J,m,b,N,Y,Q,I,K,j,ae,X,B,Z,p,z,W;return a(i,{children:t("div",{className:"border-[#838FCE] mb-4 animate__animated animate__fadeInRight animate__faster rounded-md border shadow-md p-1",children:[a("h1",{className:"text-center p-1 font-semibold uppercase text-base rounded-md",children:"BASIC DETAILS (Preview)"}),t("div",{className:"my-2 mx-1 shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1 font-medium text-base rounded-t-md",children:"Old Ward No."}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((y=e==null?void 0:e.applicationData)==null?void 0:y.old_ward_no)==""?"N/A":(_=e==null?void 0:e.applicationData)==null?void 0:_.old_ward_no})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((v=e==null?void 0:e.tcData)==null?void 0:v.old_ward_no)==""?"N/A":(F=e==null?void 0:e.tcData)==null?void 0:F.old_ward_no})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:((L=e==null?void 0:e.data)==null?void 0:L.oldWardNoCheck)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(c=e==null?void 0:e.wardList)==null?void 0:c.map(k=>{var l;return a(i,{children:(k==null?void 0:k.id)==((l=e==null?void 0:e.data)==null?void 0:l.oldWardNo)&&(k==null?void 0:k.ward_name)})})})]})]})]}),t("div",{className:"my-2 mx-1 shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1 font-medium text-base rounded-t-md",children:"New Ward No."}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((f=e==null?void 0:e.applicationData)==null?void 0:f.new_ward_no)==""?"N/A":(q=e==null?void 0:e.applicationData)==null?void 0:q.new_ward_no})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((C=e==null?void 0:e.tcData)==null?void 0:C.new_ward_no)==""?"N/A":(s=e==null?void 0:e.tcData)==null?void 0:s.new_ward_no})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:((E=e==null?void 0:e.data)==null?void 0:E.newWardNoCheck)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(x=e==null?void 0:e.wardList)==null?void 0:x.map(k=>{var l;return a(i,{children:(k==null?void 0:k.id)==((l=e==null?void 0:e.data)==null?void 0:l.newWardNo)&&(k==null?void 0:k.ward_name)})})})]})]})]}),t("div",{className:" my-2 mx-1 shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1 font-medium text-base rounded-t-md",children:"Property Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((h=e==null?void 0:e.applicationData)==null?void 0:h.property_type)==""?"N/A":(D=e==null?void 0:e.applicationData)==null?void 0:D.property_type})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((J=e==null?void 0:e.tcData)==null?void 0:J.property_type)==""?"N/A":(m=e==null?void 0:e.tcData)==null?void 0:m.property_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:((b=e==null?void 0:e.data)==null?void 0:b.propertyTypeCheck)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(N=e==null?void 0:e.propertyList)==null?void 0:N.map(k=>{var l;return a(i,{children:(k==null?void 0:k.id)==((l=e==null?void 0:e.data)==null?void 0:l.propertyType)&&(k==null?void 0:k.property_type)})})})]})]})]}),t("div",{className:"my-2 mx-1 shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1 font-medium text-base rounded-t-md",children:"Area Of Plot (in decimal)"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((Y=e==null?void 0:e.applicationData)==null?void 0:Y.area_of_plot)==""?"N/A":(Q=e==null?void 0:e.applicationData)==null?void 0:Q.area_of_plot})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((I=e==null?void 0:e.tcData)==null?void 0:I.area_of_plot)==""?"N/A":(K=e==null?void 0:e.tcData)==null?void 0:K.area_of_plot})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),((j=e==null?void 0:e.data)==null?void 0:j.areaOfPlotCheck)=="true"?"Correct":"Incorrect",a("span",{className:"col-span-6 flex gap-2"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(ae=e==null?void 0:e.data)==null?void 0:ae.areaOfPlot})]})]})]}),t("div",{className:" my-2 mx-1 shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1 font-medium text-base rounded-t-md",children:"Road Width"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((X=e==null?void 0:e.applicationData)==null?void 0:X.road_width)==""?"N/A":(B=e==null?void 0:e.applicationData)==null?void 0:B.road_width})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((Z=e==null?void 0:e.tcData)==null?void 0:Z.road_width)==""?"N/A":(p=e==null?void 0:e.tcData)==null?void 0:p.road_width})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:((z=e==null?void 0:e.data)==null?void 0:z.roadTypeCheck)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(W=e==null?void 0:e.data)==null?void 0:W.roadType})]})]})]})]})})},Ja=e=>{var y,_,v,F,L,c,f,q,C,s,E,x,h,D,J,m,b,N,Y,Q,I,K,j,ae,X,B,Z,p,z,W,k,l,r,w,n,g,A,P,ie,H,S,ee,te,me,ce,oe,ge,fe,Ne,be,xe,ye,ue;return console.log("extra ============>>>>>>>>",e==null?void 0:e.data),a(i,{children:t("div",{className:"border-[#838FCE] mb-4 animate__animated animate__fadeInRight animate__faster rounded-md border shadow-md p-1",children:[a("h1",{className:"text-center py-1 font-semibold uppercase text-sm rounded-md",children:"Extra Detatils (Preview)"}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1 font-medium text-base rounded-t-md",children:"Is Hoarding Board(s) ?"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:(y=e==null?void 0:e.applicationData)!=null&&y.is_hoarding_board?"Yes":"No"})]}),((_=e==null?void 0:e.applicationData)==null?void 0:_.is_hoarding_board)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Installation Date of Hoarding Board(s)"}),a("span",{className:"col-span-6",children:$((v=e==null?void 0:e.applicationData)==null?void 0:v.hoarding_installation_date)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(F=e==null?void 0:e.applicationData)==null?void 0:F.hoarding_area})]})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(L=e==null?void 0:e.tcData)!=null&&L.is_hoarding_board?"Yes":"No"})]}),((c=e==null?void 0:e.tcData)==null?void 0:c.is_hoarding_board)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Installation Date of Hoarding Board(s)"}),a("span",{className:"col-span-6",children:$((f=e==null?void 0:e.tcData)==null?void 0:f.hoarding_installation_date)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(q=e==null?void 0:e.tcData)==null?void 0:q.hoarding_area})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:((C=e==null?void 0:e.data)==null?void 0:C.hoardingCheck)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(s=e==null?void 0:e.data)!=null&&s.waterHarvesting?"Yes":"No"})]}),(((E=e==null?void 0:e.data)==null?void 0:E.hoardingBoard)=="true"||((x=e==null?void 0:e.data)==null?void 0:x.hoardingBoard))&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Installation Date of Hoarding Board(s) :"}),a("span",{className:"col-span-6",children:$((h=e==null?void 0:e.data)==null?void 0:h.hoardingInstallation)})]}),t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(D=e==null?void 0:e.data)==null?void 0:D.hoardingArea})]})]})]})]}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1 font-medium text-base rounded-t-md",children:"Is Mobile Tower ?"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:(J=e==null?void 0:e.applicationData)!=null&&J.is_mobile_tower?"Yes":"No"})]}),((m=e==null?void 0:e.applicationData)==null?void 0:m.is_mobile_tower)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Installation Date of Mobile Tower(s)"}),a("span",{className:"col-span-6",children:$((b=e==null?void 0:e.applicationData)==null?void 0:b.tower_installation_date)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(N=e==null?void 0:e.applicationData)==null?void 0:N.tower_area})]})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(Y=e==null?void 0:e.tcData)!=null&&Y.is_mobile_tower?"Yes":"No"})]}),((Q=e==null?void 0:e.tcData)==null?void 0:Q.is_mobile_tower)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Installation Date of Mobile Tower(s)"}),a("span",{className:"col-span-6",children:$((I=e==null?void 0:e.tcData)==null?void 0:I.tower_installation_date)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(K=e==null?void 0:e.tcData)==null?void 0:K.tower_area})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:((j=e==null?void 0:e.data)==null?void 0:j.mobileCheck)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(ae=e==null?void 0:e.data)!=null&&ae.mobileTower?"Yes":"No"})]}),(((X=e==null?void 0:e.data)==null?void 0:X.mobileTower)=="true"||((B=e==null?void 0:e.data)==null?void 0:B.mobileTower))&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Installation Date of Mobile Tower(s)"}),a("span",{className:"col-span-6",children:$((Z=e==null?void 0:e.data)==null?void 0:Z.mobileInstallation)})]}),t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(p=e==null?void 0:e.data)==null?void 0:p.mobileArea})]})]})]})]}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1 font-medium text-base rounded-t-md",children:"Is Petrol Pump ?"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:(z=e==null?void 0:e.applicationData)!=null&&z.is_petrol_pump?"Yes":"No"})]}),((W=e==null?void 0:e.applicationData)==null?void 0:W.is_petrol_pump)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Completion Date of Petrol Pump"}),a("span",{className:"col-span-6",children:$((k=e==null?void 0:e.applicationData)==null?void 0:k.petrol_pump_completion_date)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Underground Area (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(l=e==null?void 0:e.applicationData)==null?void 0:l.under_ground_area})]})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(r=e==null?void 0:e.tcData)!=null&&r.is_petrol_pump?"Yes":"No"})]}),((w=e==null?void 0:e.tcData)==null?void 0:w.is_petrol_pump)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Completion Date of Petrol Pump"}),a("span",{className:"col-span-6",children:$((n=e==null?void 0:e.tcData)==null?void 0:n.petrol_pump_completion_date)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Underground Area (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(g=e==null?void 0:e.tcData)==null?void 0:g.under_ground_area})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:((A=e==null?void 0:e.data)==null?void 0:A.petrolCheck)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(P=e==null?void 0:e.data)!=null&&P.petrolPump?"Yes":"No"})]}),(((ie=e==null?void 0:e.data)==null?void 0:ie.petrolPump)=="true"||((H=e==null?void 0:e.data)==null?void 0:H.petrolPump))&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Completion Date of Petrol Pump"}),a("span",{className:"col-span-6",children:$((S=e==null?void 0:e.data)==null?void 0:S.petrolCompletion)})]}),t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Total Underground Area (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(ee=e==null?void 0:e.data)==null?void 0:ee.petrolArea})]})]})]})]}),t("div",{className:" my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1 font-medium text-base rounded-t-md",children:"Is Rain Water Harvesting ?"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:(te=e==null?void 0:e.applicationData)!=null&&te.is_water_harvesting?"Yes":"No"})]}),((me=e==null?void 0:e.applicationData)==null?void 0:me.is_water_harvesting)&&a(i,{children:t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Construction Date"}),a("span",{className:"col-span-6",children:$((ce=e==null?void 0:e.applicationData)==null?void 0:ce.rwh_date_from)})]})}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(oe=e==null?void 0:e.tcData)!=null&&oe.is_water_harvesting?"Yes":"No"})]}),((ge=e==null?void 0:e.tcData)==null?void 0:ge.is_water_harvesting)&&a(i,{children:t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Construction Date"}),a("span",{className:"col-span-6",children:$((fe=e==null?void 0:e.tcData)==null?void 0:fe.rwh_date_from)})]})})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:((Ne=e==null?void 0:e.data)==null?void 0:Ne.waterCheck)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(be=e==null?void 0:e.data)!=null&&be.waterHarvesting?"Yes":"No"})]}),(((xe=e==null?void 0:e.data)==null?void 0:xe.waterHarvesting)=="true"||((ye=e==null?void 0:e.data)==null?void 0:ye.waterHarvesting))&&a(i,{children:t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Construction Date"}),a("span",{className:"col-span-6",children:$((ue=e==null?void 0:e.data)==null?void 0:ue.waterHarvestingDate)})]})})]})]})]})})},Ka=e=>{var y,_,v,F,L;return console.log("gettting in floor ",e==null?void 0:e.data,e==null?void 0:e.addFloor),console.log("app data => ",(y=e==null?void 0:e.applicationData)==null?void 0:y.floors),t(i,{children:[(_=e==null?void 0:e.data)==null?void 0:_.map((c,f)=>{var q,C,s,E,x,h,D,J,m,b,N,Y,Q,I,K,j,ae,X,B,Z,p,z,W,k,l,r,w,n,g,A,P,ie,H,S,ee,te,me,ce,oe,ge,fe,Ne,be,xe,ye,ue,ve,Se,_e,we,Ce,Te;return a(i,{children:t("div",{className:"border-[#838FCE] mb-4 animate__animated animate__fadeInRight animate__faster rounded-md border shadow-md p-1",children:[a("h1",{className:"text-center font-semibold py-1 uppercase text-base rounded-md",children:t("span",{children:[" ",(q=e==null?void 0:e.floorList)==null?void 0:q.map((V,o)=>a(d.Fragment,{children:(V==null?void 0:V.id)==c.floorNo&&(V==null?void 0:V.floor_name)},o))," ","(Preview)"]})}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1 font-medium text-base rounded-t-md",children:"Usage Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((s=(C=e==null?void 0:e.applicationData)==null?void 0:C.floors[f])==null?void 0:s.usage_type)==""?"N/A":(x=(E=e==null?void 0:e.applicationData)==null?void 0:E.floors[f])==null?void 0:x.usage_type})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((D=(h=e==null?void 0:e.tcData)==null?void 0:h.existingFloors[f])==null?void 0:D.usage_type)==""?"N/A":(m=(J=e==null?void 0:e.tcData)==null?void 0:J.existingFloors[f])==null?void 0:m.usage_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(c==null?void 0:c.useTypeStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(b=e==null?void 0:e.usageList)==null?void 0:b.map(V=>a(i,{children:(V==null?void 0:V.id)==c.useType&&(V==null?void 0:V.usage_type)}))})]})]})]}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1 font-medium text-base rounded-t-md",children:"Occupancy Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((Y=(N=e==null?void 0:e.applicationData)==null?void 0:N.floors[f])==null?void 0:Y.occupancy_type)==""?"N/A":(I=(Q=e==null?void 0:e.applicationData)==null?void 0:Q.floors[f])==null?void 0:I.occupancy_type})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((j=(K=e==null?void 0:e.tcData)==null?void 0:K.existingFloors[f])==null?void 0:j.occupancy_type)==""?"N/A":(X=(ae=e==null?void 0:e.tcData)==null?void 0:ae.existingFloors[f])==null?void 0:X.occupancy_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(c==null?void 0:c.occupancyTypeStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(B=e==null?void 0:e.occupancyList)==null?void 0:B.map(V=>a(i,{children:(V==null?void 0:V.id)==c.occupancyType&&(V==null?void 0:V.occupancy_type)}))})]})]})]}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1 font-medium text-base rounded-t-md",children:"Construction Type"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((p=(Z=e==null?void 0:e.applicationData)==null?void 0:Z.floors[f])==null?void 0:p.construction_type)==""?"N/A":(W=(z=e==null?void 0:e.applicationData)==null?void 0:z.floors[f])==null?void 0:W.construction_type})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((l=(k=e==null?void 0:e.tcData)==null?void 0:k.existingFloors[f])==null?void 0:l.construction_type)==""?"N/A":(w=(r=e==null?void 0:e.tcData)==null?void 0:r.existingFloors[f])==null?void 0:w.construction_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(c==null?void 0:c.constructionTypeStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(n=e==null?void 0:e.constructionList)==null?void 0:n.map(V=>a(i,{children:(V==null?void 0:V.id)==c.constructionType&&(V==null?void 0:V.construction_type)}))})]})]})]}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1 font-medium text-base rounded-t-md",children:"Built Up Area"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((A=(g=e==null?void 0:e.applicationData)==null?void 0:g.floors[f])==null?void 0:A.builtup_area)==""?"N/A":(ie=(P=e==null?void 0:e.applicationData)==null?void 0:P.floors[f])==null?void 0:ie.builtup_area})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((S=(H=e==null?void 0:e.tcData)==null?void 0:H.existingFloors[f])==null?void 0:S.builtup_area)==""?"N/A":(te=(ee=e==null?void 0:e.tcData)==null?void 0:ee.existingFloors[f])==null?void 0:te.builtup_area})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(c==null?void 0:c.buildupAreaStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(c==null?void 0:c.buildupArea)==""?"N/A":c==null?void 0:c.buildupArea})]})]})]}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1 font-medium text-base rounded-t-md",children:"Date From"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((ce=(me=e==null?void 0:e.applicationData)==null?void 0:me.floors[f])==null?void 0:ce.date_from)==""?"N/A":$((ge=(oe=e==null?void 0:e.applicationData)==null?void 0:oe.floors[f])==null?void 0:ge.date_from)})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((Ne=(fe=e==null?void 0:e.tcData)==null?void 0:fe.existingFloors[f])==null?void 0:Ne.date_from)==""?"N/A":$((xe=(be=e==null?void 0:e.tcData)==null?void 0:be.existingFloors[f])==null?void 0:xe.date_from)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(c==null?void 0:c.dateFromStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(c==null?void 0:c.dateFrom)==""?"N/A":$(c==null?void 0:c.dateFrom)})]})]})]}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1 font-medium text-base rounded-t-md",children:"Date Upto"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:((ue=(ye=e==null?void 0:e.applicationData)==null?void 0:ye.floors[f])==null?void 0:ue.date_upto)==""?"N/A":$((Se=(ve=e==null?void 0:e.applicationData)==null?void 0:ve.floors[f])==null?void 0:Se.date_upto)})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((we=(_e=e==null?void 0:e.tcData)==null?void 0:_e.existingFloors[f])==null?void 0:we.date_upto)==""?"N/A":$((Te=(Ce=e==null?void 0:e.tcData)==null?void 0:Ce.existingFloors[f])==null?void 0:Te.date_upto)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(c==null?void 0:c.dateUptoStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(c==null?void 0:c.dateUpto)==""?"N/A":$(c==null?void 0:c.dateUpto)})]})]})]})]},f)})}),(v=e==null?void 0:e.data2)==null?void 0:v.map((c,f)=>{var q,C,s,E,x,h,D,J,m,b,N,Y,Q,I,K,j,ae,X,B,Z,p,z,W,k,l,r,w,n;return a(i,{children:t("div",{className:"border-[#838FCE] mb-4 animate__animated animate__fadeInRight animate__faster rounded-md border shadow-md p-1",children:[a("h1",{className:"text-center font-semibold uppercase text-lg",children:t("span",{children:[" ",(q=e==null?void 0:e.floorList)==null?void 0:q.map(g=>a(i,{children:(g==null?void 0:g.id)==c.floorNo&&(g==null?void 0:g.floor_name)}))," ",a("span",{className:"text-xs",children:"(Added By Agency TC)"}),"(Preview)"]})}),t("div",{className:"my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Usage Type"}),t("div",{className:"px-2 py-2",children:[!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((s=(C=e==null?void 0:e.tcData)==null?void 0:C.newFloors[f])==null?void 0:s.usage_type)==""?"N/A":(x=(E=e==null?void 0:e.tcData)==null?void 0:E.newFloors[f])==null?void 0:x.usage_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(c==null?void 0:c.useTypeStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(h=e==null?void 0:e.usageList)==null?void 0:h.map(g=>a(i,{children:(g==null?void 0:g.id)==c.useType&&(g==null?void 0:g.usage_type)}))})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Occupancy Type"}),t("div",{className:"px-2 py-2",children:[!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((J=(D=e==null?void 0:e.tcData)==null?void 0:D.newFloors[f])==null?void 0:J.occupancy_type)==""?"N/A":(b=(m=e==null?void 0:e.tcData)==null?void 0:m.newFloors[f])==null?void 0:b.occupancy_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(c==null?void 0:c.occupancyTypeStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(N=e==null?void 0:e.occupancyList)==null?void 0:N.map(g=>a(i,{children:(g==null?void 0:g.id)==c.occupancyType&&(g==null?void 0:g.occupancy_type)}))})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Construction Type"}),t("div",{className:"px-2 py-2",children:[!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((Q=(Y=e==null?void 0:e.tcData)==null?void 0:Y.newFloors[f])==null?void 0:Q.construction_type)==""?"N/A":(K=(I=e==null?void 0:e.tcData)==null?void 0:I.newFloors[f])==null?void 0:K.construction_type})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(c==null?void 0:c.constructionTypeStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(j=e==null?void 0:e.constructionList)==null?void 0:j.map(g=>a(i,{children:(g==null?void 0:g.id)==c.constructionType&&(g==null?void 0:g.construction_type)}))})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Built Up Area"}),t("div",{className:"px-2 py-2",children:[!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((X=(ae=e==null?void 0:e.tcData)==null?void 0:ae.newFloors[f])==null?void 0:X.builtup_area)==""?"N/A":(Z=(B=e==null?void 0:e.tcData)==null?void 0:B.newFloors[f])==null?void 0:Z.builtup_area})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(c==null?void 0:c.buildupAreaStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(c==null?void 0:c.buildupArea)==""?"N/A":c==null?void 0:c.buildupArea})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Date From"}),t("div",{className:"px-2 py-2",children:[!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((z=(p=e==null?void 0:e.tcData)==null?void 0:p.newFloors[f])==null?void 0:z.date_from)==""?"N/A":$((k=(W=e==null?void 0:e.tcData)==null?void 0:W.newFloors[f])==null?void 0:k.date_from)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(c==null?void 0:c.dateFromStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(c==null?void 0:c.dateFrom)==""?"N/A":$(c==null?void 0:c.dateFrom)})]})]})]}),t("div",{className:"bg-indigo-50 border-2 border-indigo-500 my-2 mx-1",children:[a("div",{className:"text-white bg-indigo-500 px-2 font-semibold",children:"Date Upto"}),t("div",{className:"px-2 py-2",children:[!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:((r=(l=e==null?void 0:e.tcData)==null?void 0:l.newFloors[f])==null?void 0:r.date_upto)==""?"N/A":$((n=(w=e==null?void 0:e.tcData)==null?void 0:w.newFloors[f])==null?void 0:n.date_upto)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),a("span",{className:"col-span-6 flex gap-2",children:(c==null?void 0:c.dateUptoStatus)=="true"?"Correct":"Incorrect"})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),a("span",{className:"col-span-6",children:(c==null?void 0:c.dateUpto)==""?"N/A":$(c==null?void 0:c.dateUpto)})]})]})]})]})})}),((F=e==null?void 0:e.addFloor)==null?void 0:F.length)>0&&a(i,{children:t("div",{className:"border-[#838FCE] mb-4 animate__animated animate__fadeInRight animate__faster rounded-md border shadow-md p-1",children:[a("h1",{className:"text-center py-1 font-semibold uppercase text-sm rounded-md",children:a("span",{children:" Floor Added (Preview)"})}),(L=e==null?void 0:e.addFloor)==null?void 0:L.map((c,f)=>{var q,C,s,E;return a(i,{children:t("div",{className:"my-2 mx-1 rounded-md shadow-md",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1 font-medium text-base rounded-t-md",children:t("span",{children:[" ",(q=e==null?void 0:e.floorList)==null?void 0:q.map(x=>a(i,{children:(x==null?void 0:x.id)==c.floorNo&&(x==null?void 0:x.floor_name)}))]})}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Usage Type"}),a("span",{className:"col-span-6",children:(c==null?void 0:c.useType)==""?"N/A":a(i,{children:(C=e==null?void 0:e.usageList)==null?void 0:C.map(x=>a(i,{children:(x==null?void 0:x.id)==c.useType&&(x==null?void 0:x.usage_type)}))})})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Occupancy Type"}),a("span",{className:"col-span-6",children:(c==null?void 0:c.occupancyType)==""?"N/A":a(i,{children:(s=e==null?void 0:e.occupancyList)==null?void 0:s.map(x=>a(i,{children:(x==null?void 0:x.id)==c.occupancyType&&(x==null?void 0:x.occupancy_type)}))})})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Construction Type"}),a("span",{className:"col-span-6",children:(c==null?void 0:c.constructionType)==""?"N/A":a(i,{children:(E=e==null?void 0:e.constructionList)==null?void 0:E.map(x=>a(i,{children:(x==null?void 0:x.id)==c.constructionType&&(x==null?void 0:x.construction_type)}))})})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Built Up Area (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(c==null?void 0:c.buildupArea)==""?"N/A":c==null?void 0:c.buildupArea})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Date From"}),a("span",{className:"col-span-6",children:(c==null?void 0:c.dateFrom)==""?"N/A":$(c==null?void 0:c.dateFrom)})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Date Upto"}),a("span",{className:"col-span-6",children:(c==null?void 0:c.dateUpto)==""?"N/A":$(c==null?void 0:c.dateUpto)})]})]})]})})})]})})]})},Xa=e=>{var y,_,v,F,L,c,f;return d.useContext(Ze),d.useEffect(()=>{window.scrollTo(0,0)},[]),console.log("all data",e==null?void 0:e.allData),localStorage.getItem("roles"),t(i,{children:[t("div",{className:"animate__animated animate__fadeInRight animate__faster",children:[a(Ga,{tcApply:e==null?void 0:e.tcApply,isVacant:e==null?void 0:e.isVacant,propType:e==null?void 0:e.propType,utc:e==null?void 0:e.utc,tcData:e==null?void 0:e.tcData,data:(y=e==null?void 0:e.allData)==null?void 0:y.basic,applicationData:e==null?void 0:e.applicationData,wardList:e==null?void 0:e.wardList,propertyList:e==null?void 0:e.propertyList,roadList:e==null?void 0:e.roadList,zoneList:e==null?void 0:e.zoneList}),a(Ka,{tcApply:e==null?void 0:e.tcApply,utc:e==null?void 0:e.utc,tcData:e==null?void 0:e.tcData,data:(_=e==null?void 0:e.allData)==null?void 0:_.floor,data2:(v=e==null?void 0:e.allData)==null?void 0:v.floor2,addFloor:(F=e==null?void 0:e.allData)==null?void 0:F.addFloor,applicationData:e==null?void 0:e.applicationData,usageList:e==null?void 0:e.usageList,occupancyList:e==null?void 0:e.occupancyList,constructionList:e==null?void 0:e.constructionList,floorList:e==null?void 0:e.floorList}),a(Ja,{tcApply:e==null?void 0:e.tcApply,utc:e==null?void 0:e.utc,tcData:e==null?void 0:e.tcData,data:(L=e==null?void 0:e.allData)==null?void 0:L.extra,applicationData:e==null?void 0:e.applicationData}),t("div",{className:"mb-4",children:[a("h1",{className:"text-center py-1 font-semibold bg-[#838FCE] border border-[#838FCE] text-white uppercase text-sm rounded-t-md",children:"Remarks (Preview)"}),a("div",{className:"p-2 py-4 shadow-md rounded-b-md border shadow-blue-500/50",children:a("span",{children:(f=(c=e==null?void 0:e.allData)==null?void 0:c.remarks)==null?void 0:f.remarks})})]})]}),t("div",{className:"w-full flex justify-between m-2",children:[a("div",{onClick:e==null?void 0:e.back,className:"px-4 py-1.5 text-sm text-white rounded-md shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600 cursor-pointer",children:"Back"}),a("button",{onClick:e==null?void 0:e.next,className:"px-4 py-1.5 mr-4 text-sm text-white rounded-md shadow-md bg-green-500 hover:bg-green-600 focus:bg-green-600",children:"Submit"})]})]})},Za=e=>{var x,h,D,J,m,b,N,Y,Q,I,K,j,ae,X,B,Z,p,z,W,k,l,r,w,n,g,A,P,ie,H,S,ee,te,me,ce,oe,ge,fe,Ne,be,xe,ye,ue,ve,Se,_e,we,Ce,Te,V,o,T,u,O,R,le,se,he,re,U,ne,de,Ae,M,Fe,Ee;d.useEffect(()=>{window.scrollTo(0,0)},[]);const[y,_]=d.useState(!1),[v,F]=d.useState(!1),[L,c]=d.useState(!1),[f,q]=d.useState(!1),C=We({hoardingBoard:G().when([],{is:()=>y==!1,then:()=>G().required("required field !!!")}),mobileTower:G().when([],{is:()=>v==!1,then:()=>G().required("required field !!!")}),petrolPump:G().when([],{is:()=>L==!1,then:()=>G().required("required field !!!")}),waterHarvesting:G().when([],{is:()=>f==!1,then:()=>G().required("required field !!!")})}),s=He({initialValues:{hoardingBoard:(x=e==null?void 0:e.preData)==null?void 0:x.hoardingBoard,hoardingInstallation:(h=e==null?void 0:e.preData)==null?void 0:h.hoardingInstallation,hoardingArea:(D=e==null?void 0:e.preData)==null?void 0:D.hoardingArea,mobileTower:(J=e==null?void 0:e.preData)==null?void 0:J.mobileTower,mobileInstallation:(m=e==null?void 0:e.preData)==null?void 0:m.mobileInstallation,mobileArea:(b=e==null?void 0:e.preData)==null?void 0:b.mobileArea,petrolPump:(N=e==null?void 0:e.preData)==null?void 0:N.petrolPump,petrolCompletion:(Y=e==null?void 0:e.preData)==null?void 0:Y.petrolCompletion,waterHarvesting:(Q=e==null?void 0:e.preData)==null?void 0:Q.waterHarvesting,waterHarvestingDate:(I=e==null?void 0:e.preData)==null?void 0:I.waterHarvestingDate,petrolArea:(K=e==null?void 0:e.preData)==null?void 0:K.petrolArea},enableReinitialize:!0,onSubmit:Ie=>{console.log("submitting values => ",Ie),e.collectData("extra",Ie),e.next()},validationSchema:C}),E=Ie=>{var Oe,Re,Me,Ye,je,ze,$e,Qe,Ge,Je,Ke;const Le=Ie.target.name,Ve=Ie.target.value;console.log(Le,Ve),Le=="hoardingCheck"&&(i,Ve=="true"?(_(!0),s.setFieldValue("hoardingBoard",(Oe=e==null?void 0:e.applicationData)==null?void 0:Oe.is_hoarding_board),s.setFieldValue("hoardingInstallation",(Re=e==null?void 0:e.applicationData)==null?void 0:Re.hoarding_installation_date),s.setFieldValue("hoardingArea",(Me=e==null?void 0:e.applicationData)==null?void 0:Me.hoarding_area)):_(!1)),Le=="mobileCheck"&&(i,Ve=="true"?(F(!0),s.setFieldValue("mobileTower",(Ye=e==null?void 0:e.applicationData)==null?void 0:Ye.is_mobile_tower),s.setFieldValue("mobileInstallation",(je=e==null?void 0:e.applicationData)==null?void 0:je.tower_installation_date),s.setFieldValue("mobileArea",(ze=e==null?void 0:e.applicationData)==null?void 0:ze.tower_area)):F(!1)),Le=="petrolCheck"&&(i,Ve=="true"?(c(!0),s.setFieldValue("petrolPump",($e=e==null?void 0:e.applicationData)==null?void 0:$e.is_petrol_pump),s.setFieldValue("petrolCompletion",(Qe=e==null?void 0:e.applicationData)==null?void 0:Qe.petrol_pump_completion_date),s.setFieldValue("petrolArea",(Ge=e==null?void 0:e.applicationData)==null?void 0:Ge.under_ground_area)):c(!1)),Le=="waterCheck"&&(i,Ve=="true"?(q(!0),s.setFieldValue("waterHarvesting",(Je=e==null?void 0:e.applicationData)==null?void 0:Je.is_water_harvesting),s.setFieldValue("waterHarvestingDate",(Ke=e==null?void 0:e.applicationData)==null?void 0:Ke.rwh_date_from)):q(!1))};return a(i,{children:t("form",{className:"border-[#838FCE] mb-4 animate__animated animate__fadeInRight animate__faster rounded-md border shadow-md p-1",onChange:s.handleChange,onSubmit:s.handleSubmit,children:[a("h1",{className:"text-center py-1 font-semibold text-black uppercase rounded-md",children:"Extra Detatils"}),t("div",{className:" my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:"Is Hoarding Board(s) ?"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:(j=e==null?void 0:e.applicationData)!=null&&j.is_hoarding_board?"Yes":"No"})]}),((ae=e==null?void 0:e.applicationData)==null?void 0:ae.is_hoarding_board)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Installation Date of Hoarding Board(s)"}),a("span",{className:"col-span-6",children:(X=e==null?void 0:e.applicationData)==null?void 0:X.hoarding_installation_date})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(B=e==null?void 0:e.applicationData)==null?void 0:B.hoarding_area})]})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(Z=e==null?void 0:e.tcData)!=null&&Z.is_hoarding_board?"Yes":"No"})]}),((p=e==null?void 0:e.tcData)==null?void 0:p.is_hoarding_board)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Installation Date of Hoarding Board(s)"}),a("span",{className:"col-span-6",children:(z=e==null?void 0:e.tcData)==null?void 0:z.hoarding_installation_date})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(W=e==null?void 0:e.tcData)==null?void 0:W.hoarding_area})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:E,children:[t("span",{className:"flex gap-1 items-center",children:[a("input",{type:"radio",name:"hoardingCheck",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check 1",className:"text-xs",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"hoardingCheck",required:!0,id:"check2",value:!1,disabled:((k=e==null?void 0:e.applicationData)==null?void 0:k.assessment_type)=="Bifurcation"}),a("label",{htmlFor:"check 2",className:"text-xs",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"hoardingBoard",disabled:y,value:y?(l=e==null?void 0:e.applicationData)==null?void 0:l.is_hoarding_board:s.values.hoardingBoard,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),a("option",{value:"true",children:"Yes"}),a("option",{value:"false",children:"No"})]}),a("span",{children:s.touched.hoardingBoard&&s.errors.hoardingBoard&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.hoardingBoard})})})]})]}),(s.values.hoardingBoard=="true"||s.values.hoardingBoard==!0)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold text-xs",children:"Installation Date of Hoarding Board(s)"}),t("span",{className:"col-span-6",children:[a("input",{name:"hoardingInstallation",type:"date",max:De(),disabled:y||((r=e==null?void 0:e.applicationData)==null?void 0:r.assessment_type)=="Bifurcation",value:y?(w=e==null?void 0:e.applicationData)==null?void 0:w.hoarding_installation_date:s.values.hoardingInstallation,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400"}),a("span",{children:s.touched.hoardingInstallation&&s.errors.hoardingInstallation&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.hoardingInstallation})})})]})]}),t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold text-xs",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),t("span",{className:"col-span-6",children:[a("input",{name:"hoardingArea",type:"number",disabled:y||((n=e==null?void 0:e.applicationData)==null?void 0:n.assessment_type)=="Bifurcation",value:y?(g=e==null?void 0:e.applicationData)==null?void 0:g.hoarding_area:s.values.hoardingArea,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400"}),a("span",{children:s.touched.hoardingArea&&s.errors.hoardingArea&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.hoardingArea})})})]})]})]})]})]}),t("div",{className:" my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:"Is Mobile Tower ?"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:(A=e==null?void 0:e.applicationData)!=null&&A.is_mobile_tower?"Yes":"No"})]}),((P=e==null?void 0:e.applicationData)==null?void 0:P.is_mobile_tower)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Installation Date of Mobile Tower(s)"}),a("span",{className:"col-span-6",children:(ie=e==null?void 0:e.applicationData)==null?void 0:ie.tower_installation_date})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(H=e==null?void 0:e.applicationData)==null?void 0:H.tower_area})]})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(S=e==null?void 0:e.tcData)!=null&&S.is_mobile_tower?"Yes":"No"})]}),((ee=e==null?void 0:e.tcData)==null?void 0:ee.is_mobile_tower)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Installation Date of Mobile Tower(s)"}),a("span",{className:"col-span-6",children:(te=e==null?void 0:e.tcData)==null?void 0:te.tower_installation_date})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(me=e==null?void 0:e.tcData)==null?void 0:me.tower_area})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2",onClick:E,children:[t("span",{className:"flex gap-1 items-center",children:[a("input",{type:"radio",name:"mobileCheck",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check 1",className:"text-xs",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"mobileCheck",required:!0,id:"check2",value:!1,disabled:((ce=e==null?void 0:e.applicationData)==null?void 0:ce.assessment_type)=="Bifurcation"}),a("label",{htmlFor:"check 2",className:"text-xs",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"mobileTower",disabled:v,value:v?(oe=e==null?void 0:e.applicationData)==null?void 0:oe.is_mobile_tower:s.values.mobileTower,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),a("option",{value:"true",children:"Yes"}),a("option",{value:"false",children:"No"})]}),a("span",{children:s.touched.mobileTower&&s.errors.mobileTower&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.mobileTower})})})]})]}),(s.values.mobileTower=="true"||s.values.mobileTower==!0)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold text-xs",children:"Installation Date of Mobile Tower(s)"}),t("span",{className:"col-span-6",children:[a("input",{name:"mobileInstallation",type:"date",max:De(),disabled:v||((ge=e==null?void 0:e.applicationData)==null?void 0:ge.assessment_type)=="Bifurcation",value:v?(fe=e==null?void 0:e.applicationData)==null?void 0:fe.tower_installation_date:s.values.mobileInstallation,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400"}),a("span",{children:s.touched.mobileInstallation&&s.errors.mobileInstallation&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.mobileInstallation})})})]})]}),t("div",{className:"grid grid-cols-12 text-xs my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Total Floor Area of Roof / Land (in Sq. Ft.)"}),t("span",{className:"col-span-6",children:[a("input",{name:"mobileArea",type:"number",disabled:v||((Ne=e==null?void 0:e.applicationData)==null?void 0:Ne.assessment_type)=="Bifurcation",value:v?(be=e==null?void 0:e.applicationData)==null?void 0:be.tower_area:s.values.mobileArea,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400"}),a("span",{children:s.touched.mobileArea&&s.errors.mobileArea&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.mobileArea})})})]})]})]})]})]}),t("div",{className:" my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:"Is Petrol Pump ?"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:(xe=e==null?void 0:e.applicationData)!=null&&xe.is_petrol_pump?"Yes":"No"})]}),((ye=e==null?void 0:e.applicationData)==null?void 0:ye.is_petrol_pump)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Completion Date of Petrol Pump"}),a("span",{className:"col-span-6",children:(ue=e==null?void 0:e.applicationData)==null?void 0:ue.petrol_pump_completion_date})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Underground Area (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(ve=e==null?void 0:e.applicationData)==null?void 0:ve.under_ground_area})]})]}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(Se=e==null?void 0:e.tcData)!=null&&Se.is_petrol_pump?"Yes":"No"})]}),((_e=e==null?void 0:e.tcData)==null?void 0:_e.is_petrol_pump)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Completion Date of Petrol Pump"}),a("span",{className:"col-span-6",children:(we=e==null?void 0:e.tcData)==null?void 0:we.petrol_pump_completion_date})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Total Underground Area (in Sq. Ft.)"}),a("span",{className:"col-span-6",children:(Ce=e==null?void 0:e.tcData)==null?void 0:Ce.under_ground_area})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2 items-center",onClick:E,children:[t("span",{className:"flex gap-1 ",children:[a("input",{type:"radio",name:"petrolCheck",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check 1",className:"text-xs",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"petrolCheck",required:!0,disabled:((Te=e==null?void 0:e.applicationData)==null?void 0:Te.assessment_type)=="Bifurcation",id:"check2",value:!1}),a("label",{htmlFor:"check 2",className:"text-xs",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"petrolPump",disabled:L||((V=e==null?void 0:e.applicationData)==null?void 0:V.assessment_type)=="Bifurcation",value:L?(o=e==null?void 0:e.applicationData)==null?void 0:o.is_petrol_pump:s.values.petrolPump,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),a("option",{value:"true",children:"Yes"}),a("option",{value:"false",children:"No"})]}),a("span",{children:s.touched.petrolPump&&s.errors.petrolPump&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.petrolPump})})})]})]}),(s.values.petrolPump=="true"||s.values.petrolPump==!0)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold text-xs",children:"Completion Date of Petrol Pump"}),t("span",{className:"col-span-6",children:[a("input",{name:"petrolCompletion",type:"date",max:De(),disabled:L||((T=e==null?void 0:e.applicationData)==null?void 0:T.assessment_type)=="Bifurcation",value:L?(u=e==null?void 0:e.applicationData)==null?void 0:u.petrol_pump_completion_date:s.values.petrolCompletion,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400"}),a("span",{children:s.touched.petrolCompletion&&s.errors.petrolCompletion&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.petrolCompletion})})})]})]}),t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold text-xs",children:"Total Underground Area (in Sq. Ft.)"}),t("span",{className:"col-span-6",children:[a("input",{name:"petrolArea",type:"number",disabled:L||((O=e==null?void 0:e.applicationData)==null?void 0:O.assessment_type)=="Bifurcation",value:L?(R=e==null?void 0:e.applicationData)==null?void 0:R.under_ground_area:s.values.petrolArea,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400"}),a("span",{children:s.touched.petrolArea&&s.errors.petrolArea&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.petrolArea})})})]})]})]})]})]}),t("div",{className:"my-2 mx-1 rounded-md shadow-lg",children:[a("div",{className:"text-white bg-[#838FCE] px-2 py-1.5 font-medium text-sm rounded-t-md",children:"Is Rain Water Harvesting ?"}),t("div",{className:"px-2 py-2",children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Self Assessed"}),a("span",{className:"col-span-6",children:(le=e==null?void 0:e.applicationData)!=null&&le.is_water_harvesting?"Yes":"No"})]}),((se=e==null?void 0:e.applicationData)==null?void 0:se.is_water_harvesting)&&a(i,{children:t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Construction Date"}),a("span",{className:"col-span-6",children:(he=e==null?void 0:e.applicationData)==null?void 0:he.rwh_date_from})]})}),!(e!=null&&e.tcApply)&&(e==null?void 0:e.utc)&&t(i,{children:[t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Agency TC"}),a("span",{className:"col-span-6",children:(re=e==null?void 0:e.tcData)!=null&&re.is_water_harvesting?"Yes":"No"})]}),((U=e==null?void 0:e.tcData)==null?void 0:U.is_water_harvesting)&&a(i,{children:t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:" col-span-6 font-semibold",children:"Construction Date"}),a("span",{className:"col-span-6",children:(ne=e==null?void 0:e.tcData)==null?void 0:ne.rwh_date_from})]})})]}),t("div",{className:"grid grid-cols-12 text-sm pb-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Check"}),t("span",{className:"col-span-6 flex gap-2 items-center",onClick:E,children:[t("span",{className:"flex gap-1 ",children:[a("input",{type:"radio",name:"waterCheck",required:!0,id:"check1",value:!0}),a("label",{htmlFor:"check 1",className:"text-xs",children:"Correct"})]}),t("span",{className:"flex gap-1",children:[a("input",{type:"radio",name:"waterCheck",required:!0,id:"check2",value:!1,disabled:((de=e==null?void 0:e.applicationData)==null?void 0:de.assessment_type)=="Bifurcation"}),a("label",{htmlFor:"check 2",className:"text-xs",children:"Incorrect"})]})]})]}),t("div",{className:"grid grid-cols-12 text-sm",children:[a("span",{className:"col-span-6 font-semibold",children:"Verification"}),t("span",{className:"col-span-6",children:[t("select",{name:"waterHarvesting",disabled:f||((Ae=e==null?void 0:e.applicationData)==null?void 0:Ae.assessment_type)=="Bifurcation",value:f?(M=e==null?void 0:e.applicationData)==null?void 0:M.is_water_harvesting:s.values.waterHarvesting,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400",children:[a("option",{value:"",children:"--Select--"}),a("option",{value:"true",children:"Yes"}),a("option",{value:"false",children:"No"})]}),a("span",{children:s.touched.waterHarvesting&&s.errors.waterHarvesting&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.waterHarvesting})})})]})]}),(s.values.waterHarvesting=="true"||s.values.waterHarvesting==!0)&&a(i,{children:t("div",{className:"grid grid-cols-12 text-sm my-2",children:[a("span",{className:"col-span-6 font-semibold",children:"Construction Date"}),t("span",{className:"col-span-6",children:[a("input",{name:"waterHarvestingDate",type:"date",max:De(),disabled:f||((Fe=e==null?void 0:e.applicationData)==null?void 0:Fe.assessment_type)=="Bifurcation",value:f?(Ee=e==null?void 0:e.applicationData)==null?void 0:Ee.rwh_date_from:s.values.waterHarvestingDate,className:"bg-white px-2 py-1 w-full rounded-md shadow-sm border-[1px] border-gray-400"}),a("span",{children:s.touched.waterHarvestingDate&&s.errors.waterHarvestingDate&&a(i,{children:a("span",{className:"text-red-600 text-xs",children:s.errors.waterHarvestingDate})})})]})]})})]})]}),t("div",{className:"w-full flex justify-between m-2",children:[a("div",{onClick:e==null?void 0:e.back,className:"px-4 py-1.5 text-sm text-white rounded-md shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600 cursor-pointer",children:"Back"}),a("button",{type:"submit",className:"px-4 py-1.5 mr-4 text-sm text-white rounded-md shadow-md bg-indigo-500 hover:bg-indigo-600 focus:bg-indigo-600",children:"Save & Next"})]})]})})},pa=e=>{var Te,V;const{notify:y,roleName:_}=La.useContext(Ze),v=Va(),[F,L]=d.useState(),[c,f]=d.useState(),[q,C]=d.useState(),[s,E]=d.useState(),[x,h]=d.useState(),[D,J]=d.useState(),[m,b]=d.useState(),[N,Y]=d.useState(),[Q,I]=d.useState(),[K,j]=d.useState(!1),[ae,X]=d.useState(!1),[B,Z]=d.useState(""),[p,z]=d.useState(!1),[W,k]=d.useState(!1);d.useState(),d.useState(),d.useState(),d.useState(),d.useState();const[l,r]=d.useState({floor:[],floor2:[],addFloor:[]});d.useState();const[w,n]=d.useState(""),[g,A]=d.useState(!1),[P,ie]=d.useState(!1),[H,S]=d.useState([]),[ee,te]=d.useState(1),[me,ce]=d.useState(!1),{api_getSafMasterData:oe,post_SiteVerification:ge,api_wardByUlb:fe,api_zoneByUlb:Ne,getTcData:be}=pe();d.useEffect(()=>{var o,T;((o=e==null?void 0:e.applicationData)==null?void 0:o.applied_by)=="TC"&&k(!0),ce(!0),xe(),ye((T=e==null?void 0:e.applicationData)==null?void 0:T.ulb_id)},[e==null?void 0:e.applicationData]);const xe=()=>{Ue.get(oe,Be()).then(o=>{var T,u,O,R,le,se,he,re,U,ne,de,Ae,M,Fe;console.log("getting master list => ",o),ce(!1),f((u=(T=o==null?void 0:o.data)==null?void 0:T.data)==null?void 0:u.property_type),C((R=(O=o==null?void 0:o.data)==null?void 0:O.data)==null?void 0:R.ownership_types),E((se=(le=o==null?void 0:o.data)==null?void 0:le.data)==null?void 0:se.usage_type),h((re=(he=o==null?void 0:o.data)==null?void 0:he.data)==null?void 0:re.occupancy_type),J((ne=(U=o==null?void 0:o.data)==null?void 0:U.data)==null?void 0:ne.road_type),b((Ae=(de=o==null?void 0:o.data)==null?void 0:de.data)==null?void 0:Ae.floor_type),Y((Fe=(M=o==null?void 0:o.data)==null?void 0:M.data)==null?void 0:Fe.construction_type)}).catch(o=>{console.log("getting master list error  => ",o),ce(!1)})},ye=o=>{Ue.post(fe,{ulbId:o},Be()).then(T=>{var u;console.log("ward by ulb list => ",T),L((u=T==null?void 0:T.data)==null?void 0:u.data)}).catch(T=>{console.log("error getting dependent list => ",T)}).finally(()=>ce(!1)),Ue.post(Ne,{ulbId:o},Be()).then(T=>{var u;console.log("zone by ulb list => ",T),I((u=T==null?void 0:T.data)==null?void 0:u.data)}).catch(T=>{console.log("error getting dependent list => ",T)}).finally(()=>ce(!1))},ue=o=>{if(o==1&&P){te(T=>T+2);return}if(o==1&&B=="4"){te(T=>T+2);return}te(o+1)},ve=o=>{if(console.log("getting prop type => ",B),o==3&&P||B=="4"||B==4){te(T=>T-2);return}te(o-1)},Se=o=>{if(Z(o),console.log("getting prop type => ",B),o=="4"||o==4){te(T=>T+2);return}te(T=>T+1)};d.useEffect(()=>{window.scrollTo(0,0)},[ee]);const _e=(o,T)=>{r(u=>({...u,[o]:T}))};console.log("allformdata => ",l);const we=()=>{var O,R,le,se,he,re,U,ne,de,Ae,M,Fe,Ee,Ie,Le,Ve,Oe,Re,Me,Ye,je,ze,$e,Qe,Ge,Je,Ke,ea,aa,ta,la,ca,ia,na,da,sa,ma,ua,ha,ra,oa,ga,fa,Na,ba,xa,ya,va,_a,wa,Ta,Aa,Sa;if(_!="tc"&&_!="utc"){y("You don't have permission to verify !!!","error");return}ce(!0);let o;_=="tc"&&(((O=l==null?void 0:l.basic)==null?void 0:O.propertyType)==4&&(o=""),P&&((R=l==null?void 0:l.basic)==null?void 0:R.propertyType)!=4&&o==(l==null?void 0:l.addFloor),!P&&((le=l==null?void 0:l.basic)==null?void 0:le.propertyType)!=4&&(o=(se=l==null?void 0:l.floor)==null?void 0:se.concat(l==null?void 0:l.addFloor))),_=="utc"&&(((he=l==null?void 0:l.basic)==null?void 0:he.propertyType)==4&&(o=""),P&&((re=l==null?void 0:l.basic)==null?void 0:re.propertyType)!=4&&o==(l==null?void 0:l.addFloor),!P&&((U=l==null?void 0:l.basic)==null?void 0:U.propertyType)!=4&&(o=(de=(ne=l==null?void 0:l.floor)==null?void 0:ne.concat(l==null?void 0:l.addFloor))==null?void 0:de.concat(l==null?void 0:l.floor2)));let T={safId:(Ae=e==null?void 0:e.applicationData)==null?void 0:Ae.id,wardId:(M=l==null?void 0:l.basic)==null?void 0:M.oldWardNo,newWardId:(Fe=l==null?void 0:l.basic)==null?void 0:Fe.newWardNo,propertyType:(Ee=l==null?void 0:l.basic)==null?void 0:Ee.propertyType,landOccupationDate:(Ie=l==null?void 0:l.basic)==null?void 0:Ie.landOccupationDate,areaOfPlot:(Le=l==null?void 0:l.basic)==null?void 0:Le.areaOfPlot,roadWidth:(Ve=l==null?void 0:l.basic)==null?void 0:Ve.roadType,isHoardingBoard:((Oe=l==null?void 0:l.extra)==null?void 0:Oe.hoardingBoard)=="true"||((Re=l==null?void 0:l.extra)==null?void 0:Re.hoardingBoard)==!0?1:0,hoardingBoard:{area:(Me=l==null?void 0:l.extra)==null?void 0:Me.hoardingArea,dateFrom:(Ye=l==null?void 0:l.extra)==null?void 0:Ye.hoardingInstallation},isMobileTower:((je=l==null?void 0:l.extra)==null?void 0:je.mobileTower)=="true"||((ze=l==null?void 0:l.extra)==null?void 0:ze.mobileTower)==!0?1:0,mobileTower:{area:($e=l==null?void 0:l.extra)==null?void 0:$e.mobileArea,dateFrom:(Qe=l==null?void 0:l.extra)==null?void 0:Qe.mobileInstallation},isPetrolPump:((Ge=l==null?void 0:l.extra)==null?void 0:Ge.petrolPump)=="true"||((Je=l==null?void 0:l.extra)==null?void 0:Je.petrolPump)==!0?1:0,petrolPump:{area:(Ke=l==null?void 0:l.extra)==null?void 0:Ke.petrolArea,dateFrom:(ea=l==null?void 0:l.extra)==null?void 0:ea.petrolCompletion},isWaterHarvesting:((aa=l==null?void 0:l.extra)==null?void 0:aa.waterHarvesting)=="true"||((ta=l==null?void 0:l.extra)==null?void 0:ta.waterHarvesting)==!0?1:0,rwhDateFrom:(la=l==null?void 0:l.extra)==null?void 0:la.waterHarvestingDate,floor:o},u={safId:(ca=e==null?void 0:e.applicationData)==null?void 0:ca.id,wardId:(ia=l==null?void 0:l.basic)==null?void 0:ia.oldWardNo,newWardId:(na=l==null?void 0:l.basic)==null?void 0:na.newWardNo,propertyType:(da=l==null?void 0:l.basic)==null?void 0:da.propertyType,landOccupationDate:(sa=l==null?void 0:l.basic)==null?void 0:sa.landOccupationDate,areaOfPlot:(ma=l==null?void 0:l.basic)==null?void 0:ma.areaOfPlot,roadWidth:(ua=l==null?void 0:l.basic)==null?void 0:ua.roadType,isHoardingBoard:((ha=l==null?void 0:l.extra)==null?void 0:ha.hoardingBoard)=="true"||((ra=l==null?void 0:l.extra)==null?void 0:ra.hoardingBoard)==!0?1:0,hoardingBoard:{area:(oa=l==null?void 0:l.extra)==null?void 0:oa.hoardingArea,dateFrom:(ga=l==null?void 0:l.extra)==null?void 0:ga.hoardingInstallation},isMobileTower:((fa=l==null?void 0:l.extra)==null?void 0:fa.mobileTower)=="true"||((Na=l==null?void 0:l.extra)==null?void 0:Na.mobileTower)==!0?1:0,mobileTower:{area:(ba=l==null?void 0:l.extra)==null?void 0:ba.mobileArea,dateFrom:(xa=l==null?void 0:l.extra)==null?void 0:xa.mobileInstallation},isPetrolPump:((ya=l==null?void 0:l.extra)==null?void 0:ya.petrolPump)=="true"||((va=l==null?void 0:l.extra)==null?void 0:va.petrolPump)==!0?1:0,petrolPump:{area:(_a=l==null?void 0:l.extra)==null?void 0:_a.petrolArea,dateFrom:(wa=l==null?void 0:l.extra)==null?void 0:wa.petrolCompletion},isWaterHarvesting:((Ta=l==null?void 0:l.extra)==null?void 0:Ta.waterHarvesting)=="true"||((Aa=l==null?void 0:l.extra)==null?void 0:Aa.waterHarvesting)==!0?1:0,rwhDateFrom:(Sa=l==null?void 0:l.extra)==null?void 0:Sa.waterHarvestingDate,floor:o};console.log("request body for saf verification => ",_=="utc"?u:T),Ue.post(ge,_=="utc"?u:T,Be()).then(ke=>{var Ca,Da,ka,Fa;((Ca=ke==null?void 0:ke.data)==null?void 0:Ca.status)==!0&&(console.log("success => ",ke),y("Data Submitted Successfully !!!","success"),ce(!1),v("/geoTagging/"+((Da=e==null?void 0:e.applicationData)==null?void 0:Da.id)+"/saf/false",{replace:!0}),j(!0)),((ka=ke==null?void 0:ke.data)==null?void 0:ka.status)==!1&&(console.log("error => ",ke),y((Fa=ke==null?void 0:ke.data)==null?void 0:Fa.message,"error"),ce(!1),_=="utc"&&n("false"),_=="utc"&&X("false"))}).catch(ke=>{console.log("error",ke),y(ke,"error"),ce(!1),_=="utc"&&n("false"),_=="utc"&&X("false")})};d.useEffect(()=>{var o;_=="utc"&&A(!0),((o=e==null?void 0:e.applicationData)==null?void 0:o.prop_type_mstr_id)==4?ie(!0):ie(!1)},[]),console.log("pre data => ",l),Pa(),localStorage.getItem("roles");const Ce=()=>{we()};return d.useEffect(()=>{var o,T;W||(_=="utc"&&z(!0),_=="utc"&&((o=e==null?void 0:e.applicationData)==null?void 0:o.id)!=null&&Ue.post(be,{safId:(T=e==null?void 0:e.applicationData)==null?void 0:T.id},Be()).then(u=>{var O,R,le,se;((O=u==null?void 0:u.data)==null?void 0:O.status)==!0&&(console.log("getting tc data => ",u),S((R=u==null?void 0:u.data)==null?void 0:R.data),z(!1)),((le=u==null?void 0:u.data)==null?void 0:le.status)==!1&&(z(!1),v("/search/property"),y((se=u==null?void 0:u.data)==null?void 0:se.message,"error"))}).catch(u=>{console.log("error getting tc data => ",u),v("/search/property"),y("Something went wrong !!!","error"),z(!1)}).finally(()=>{var u;return console.log("body",(u=e==null?void 0:e.applicationData)==null?void 0:u.id)}))},[e==null?void 0:e.applicationData]),t(i,{children:[(me||p)&&a(Ba,{}),a(Ra,{roleName:_,openScreen:ae,id:(Te=e==null?void 0:e.applicationData)==null?void 0:Te.id,closePopUp:()=>X(!1),canSubmit:w,navigation:()=>we(),type:"saf"}),!me&&!p&&t("div",{className:"w-full",children:[t("div",{className:"flex justify-between",children:[ee!=6&&!me&&t("div",{className:"text-xs mb-1",children:["Step: ",ee,"/5"]}),W&&a("div",{className:"text-xs text-green-600 font-semibold",children:"Applied By Agency TC"})]}),a("div",{className:`${ee==1?"visible":"hidden"}`,children:a(Ya,{tcApply:W,propType:o=>Se(o),isVacant:P,basicData:e==null?void 0:e.applicationData,utc:g,tcData:H,applicationData:e==null?void 0:e.applicationData,wardList:F,zoneList:Q,propertyType:c,roadList:D,collectData:_e})}),a("div",{className:ee==2?"visible":"hidden",children:a($a,{tcApply:W,propType:B,isVacant:P,utc:g,tcExistingData:H==null?void 0:H.existingFloors,tcNewData:H==null?void 0:H.newFloors,applicationData:(V=e==null?void 0:e.applicationData)==null?void 0:V.floors,basicData:e==null?void 0:e.applicationData,usageType:s,occupancyType:x,constructionList:N,floorList:m,next:()=>ue(2),back:()=>ve(2),collectData:_e,preData:l})}),a("div",{className:ee==3?"visible":"hidden",children:a(Za,{tcApply:W,utc:g,tcData:H,applicationData:e==null?void 0:e.applicationData,next:()=>ue(3),back:()=>ve(3),collectData:_e})}),a("div",{className:ee==4?"visible":"hidden",children:a(Qa,{utc:g,tcData:H==null?void 0:H.geoTagging,next:()=>ue(4),back:()=>ve(4),collectData:_e})}),a("div",{className:ee==5&&!me?"visible":"hidden",children:a(Xa,{tcApply:W,isVacant:P,propType:B,utc:g,tcData:H,next:()=>Ce(),back:()=>ve(5),allData:l,applicationData:e==null?void 0:e.applicationData,wardList:F,zoneList:Q,propertyList:c,roadList:D,usageList:s,occupancyList:x,constructionList:N,floorList:m})})]})]})},xt=e=>{const{notify:y,roleName:_}=La.useContext(Ze);Ma("SAF Verification");const[v,F]=d.useState(),[L,c]=d.useState(!1);d.useState(!1);const[f,q]=d.useState(!1);d.useState(!1);const[C,s]=d.useState(!1),{api_getStaticSafDetails:E}=pe(),{id:x}=Ua();d.useEffect(()=>{setTimeout(()=>{c(!1)},1e4),c(!0),h()},[]);const h=()=>{Ue.post(E,{applicationId:x},Be()).then(D=>{var J,m,b,N,Y,Q,I,K,j;console.log("getting application data => ",D),c(!1),F((J=D==null?void 0:D.data)==null?void 0:J.data),_=="tc"&&((b=(m=D==null?void 0:D.data)==null?void 0:m.data)!=null&&b.is_agency_verified)&&(q(!0),(Y=(N=D==null?void 0:D.data)==null?void 0:N.data)!=null&&Y.is_field_verified&&!((I=(Q=D==null?void 0:D.data)==null?void 0:Q.data)!=null&&I.is_geo_tagged)?s(!0):s(!1)),_=="utc"&&((j=(K=D==null?void 0:D.data)==null?void 0:K.data)!=null&&j.is_field_verified)&&q(!0)}).catch(D=>{console.log("getting application data error => ",D),c(!1)})};return a(i,{children:!L&&v!=null&&t("div",{className:"w-full overflow-auto",children:[t("h1",{className:" text-center font-semibold text-base border-b-2 border-gray-700 mx-4",children:["Field Verification ",a("br",{}),"Self Assessment"," "]}),t("div",{className:"p-4 flex flex-col gap-y-4",children:[t("div",{className:"w-full items-center justify-center px-4 shadow-sm flex md:flex-row flex-col flex-wrap gap-2 md:justify-evenly bg-indigo-50 py-4 rounded-md text-sm",children:[t("span",{className:"grid grid-cols-12 w-full text-sm gap-1",children:[a("span",{className:"col-span-6 text-xs",children:"Application No.:"})," ",a("span",{className:"font-medium text-sm col-span-6",children:v==null?void 0:v.saf_no})]}),t("span",{className:"grid grid-cols-12 w-full text-sm  gap-1",children:[a("span",{className:"col-span-6 text-xs",children:"Application Type:"})," ",a("span",{className:"font-medium text-sm col-span-6",children:v==null?void 0:v.assessment_type})]}),t("span",{className:"grid grid-cols-12 w-full text-sm  gap-1",children:[a("span",{className:"col-span-6 text-xs",children:"Property Type:"})," ",a("span",{className:"font-medium text-sm col-span-6",children:v==null?void 0:v.property_type})]}),t("span",{className:"grid grid-cols-12 w-full text-sm  gap-1",children:[a("span",{className:"col-span-6 text-xs",children:"Apply Date:"})," ",a("span",{className:"font-medium text-sm col-span-6",children:$(v==null?void 0:v.application_date)})]})]}),a(pa,{applicationData:v})]})]})})};export{xt as default};
