import{c as Pe,u as Le,r as o,a as h,b as s,F as Re,j as e,l as m}from"./index-0e94f450.js";import{h as x}from"./moment-db06c914.js";import{u as We}from"./formik.esm-3041fe88.js";import{c as ke,a as t}from"./index.esm-53d0ef34.js";import{W as Qe}from"./WaterApiList-dfcbb003.js";import Ee from"./CommonLoader-bddb49c4.js";import"./BeatLoader-10dd928d.js";const $e="/assets/Map_North_new-0c3c7d28.png",je="/assets/Map_South_new-9e678356.png";function Ge(){var S,_,T,A,C,q,z,I,M,P,L,R,W,k,Q,E,$,j,B,Y,H,U,V,J,O,G,K,X,Z,D,F,ee,ie,se,re,ne,de,ae,te,le,oe,ce,pe,he,me;const{id:c}=Pe(),N=Le(),ye=x(new Date).format("DD-MM-YYYY"),{api_getPendingApplicationDetails:ue,api_waterMasterData:xe,api_waterSiteInspectionSaveData:Ne,api_waterInspectionDetails:fe,api_waterCancelSiteInspection:be,header:p}=Qe(),[i,ve]=o.useState(),[we,g]=o.useState(!1),[y,f]=o.useState(),[d,Se]=o.useState(),[b,v]=o.useState(!1),[w,u]=o.useState(!1),[a,_e]=o.useState(),Te=ke({propertyType:t().required("This is a required field !"),areaSqFt:t().required("This is a required field !"),distributionPipelineType:t().required("This is a required field !"),pipelineSize:t().required("This is a required field !"),pipelineType:t().required("This is a required field !"),regularization:t().required("This is a required field !"),diameter:t().required("This is a required field !"),pipeQuality:t().required("This is a required field !"),feruleSize:t().required("This is a required field !"),roadType:t().required("This is a required field !"),category:t().required("This is a required field !"),applicationId:t().required("This is a required field !")}),n=We({enableReinitialize:!0,initialValues:{propertyType:"",areaSqFt:"",distributionPipelineType:"",pipelineSize:"",pipelineType:"",regularization:"",diameter:"",pipeQuality:"",feruleSize:"",roadType:"",category:"",applicationId:c},onSubmit:r=>{Ae(r)},validationSchema:Te}),Ae=r=>{v(!1),u(!1);const l={propertyTypeId:r.propertyType,areaSqft:r.areaSqFt,pipelineTypeId:r.distributionPipelineType,pipelineSize:r.pipelineSize,pipelineSizeType:r.pipelineType,connectionTypeId:r.regularization,diameter:r.diameter,pipeQuality:r.pipeQuality,feruleSize:r.feruleSize,roadType:r.roadType,category:r.category,tsmap:y,applicationId:r.applicationId};h.post(Ne,l,p).then(ge=>{ge.data.status?v("Site Inspection Done."):u("Error While Data Saving.")}).catch(ge=>{u("Exception : While Data Saving.")})},Ce=r=>{r.target.name,r.target.value},qe=()=>{g(!0),h.post(`${ue}`,{applicationId:c},p).then(function(r){ve(r.data.data),g(!1)}).catch(function(r){g(!1)})},ze=()=>{h.post(`${xe}`,{},p).then(r=>{Se(r.data.data)}).catch(r=>{})},Ie=()=>{h.post(fe,{applicationId:c},p).then(r=>{_e(r.data.data)}).catch(r=>{})};o.useEffect(()=>{ze(),qe(),Ie()},[c]);const Me=()=>{h.post(be,{applicationId:c},p).then(r=>{N(-1)}).catch(r=>{})};return s(Re,{children:[we&&e(Ee,{}),e("div",{className:"grid grid-cols-1 md:grid-cols-12 lg:grid-cols-12 gap-2 container mx-auto w-full",children:e("div",{className:"col-span-12 rounded-lg p-4",children:s("form",{onSubmit:n.handleSubmit,onChange:Ce,children:[s("div",{className:"p-4",children:[s("h1",{className:"px-1 font-semibold font-serif  text-gray-500",children:[e(m,{className:"inline"}),"Scheduled Site Inspection Details"]}),e("div",{className:" bg-indigo-500 rounded-lg shadow-xl p-4",children:s("div",{className:"space-y-2 font-semibold",children:[s("p",{className:"text-sm text-white",children:[e("span",{className:"",children:"Inspection Date :"})," ",e("span",{className:"text-gray-100 font-semibold text-xl",children:a!=null&&a.inspectionDate?x(a==null?void 0:a.inspectionDate).format("DD-MMM-yy"):"N/A"})]}),s("p",{className:"text-sm text-white",children:[e("span",{className:"",children:"Inspection Time :"})," ",e("span",{className:"text-gray-100 font-semibold text-xl",children:a!=null&&a.inspectionTime?x(a==null?void 0:a.inspectionTime,"h:mm:ss A").format("HH:mm A"):"N/A"})]}),e("p",{className:"flex flex-row-reverse",children:e("button",{type:"button",onClick:Me,className:"bg-red-700 hover:bg-red-600 text-sm font-normal px-2 py-1 text-gray-300",children:"Cancel Inspection"})})]})})]}),s("div",{className:"p-4",children:[s("div",{className:"",children:[s("h1",{className:"px-1 font-semibold font-serif  text-gray-500",children:[e(m,{className:"inline"})," Basic Details"]}),e("div",{className:"py-6 mt-2 bg-white rounded-lg shadow-xl p-4",children:s("div",{className:" space-y-3 pl-4 ",children:[s("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:(S=i==null?void 0:i.applicationDetails)!=null&&S.ulb_name?(_=i==null?void 0:i.applicationDetails)==null?void 0:_.ulb_name:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"ULB Name"})]}),s("div",{className:"flex-1",children:[e("div",{className:"font-semibold text-lg",children:(T=i==null?void 0:i.applicationDetails)!=null&&T.ward_name?(A=i==null?void 0:i.applicationDetails)==null?void 0:A.ward_name:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Ward No"})]}),s("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:(C=i==null?void 0:i.applicationDetails)!=null&&C.application_no?(q=i==null?void 0:i.applicationDetails)==null?void 0:q.application_no:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Application No"})]}),s("div",{className:"flex-1",children:[e("div",{className:"font-semibold text-md",children:(z=i==null?void 0:i.applicationDetails)!=null&&z.owner_char_type?(I=i==null?void 0:i.applicationDetails)==null?void 0:I.owner_char_type:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Ownership Type"})]}),s("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:(M=i==null?void 0:i.applicationDetails)!=null&&M.property_type?(P=i==null?void 0:i.applicationDetails)==null?void 0:P.property_type:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Property Type"})]}),s("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:(L=i==null?void 0:i.applicationDetails)!=null&&L.pipeline_type?(R=i==null?void 0:i.applicationDetails)==null?void 0:R.pipeline_type:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Pipeline Type"})]})]})})]}),s("h1",{className:"px-1 font-semibold font-serif mt-10 text-gray-500",children:[e(m,{className:"inline"})," Property Address & Details"]}),s("div",{className:"py-6 mt-2 bg-white rounded-lg shadow-xl p-4",children:[s("div",{className:"space-y-5 pl-4 ",children:[s("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:(W=i==null?void 0:i.applicationDetails)!=null&&W.connection_through?(k=i==null?void 0:i.applicationDetails)==null?void 0:k.connection_through:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Connection Through"})]}),(i==null?void 0:i.connection_through)=="SAF"?s("div",{className:"flex-1",children:[e("div",{className:"font-semibold text-md",children:(Q=i==null?void 0:i.applicationDetails)!=null&&Q.saf_no?(E=i==null?void 0:i.applicationDetails)==null?void 0:E.saf_no:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"SAF No"})]}):s("div",{className:"flex-1",children:[e("div",{className:"font-semibold text-md",children:($=i==null?void 0:i.applicationDetails)!=null&&$.holding_no?(j=i==null?void 0:i.applicationDetails)==null?void 0:j.holding_no:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Holding No"})]}),s("div",{className:"flex-1",children:[e("div",{className:"font-semibold text-md",children:(B=i==null?void 0:i.applicationDetails)!=null&&B.connection_type?(Y=i==null?void 0:i.applicationDetails)==null?void 0:Y.connection_type:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Connection Type"})]}),s("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:(H=i==null?void 0:i.applicationDetails)!=null&&H.area_sqft?(U=i==null?void 0:i.applicationDetails)==null?void 0:U.area_sqft:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Area (Sqft.)"})]}),s("div",{className:"flex-1",children:[e("div",{className:"font-bold text-sm",children:(V=i==null?void 0:i.applicationDetails)!=null&&V.category?(J=i==null?void 0:i.applicationDetails)==null?void 0:J.category:"N/A"}),e("div",{className:"text-gray-500 text-xs",children:"Category"})]})]}),e("div",{className:"flex space-x-10  pl-4 mt-4",children:s("div",{className:"flex-1",children:[s("div",{className:"font-bold text-sm",children:[(O=i==null?void 0:i.applicationDetails)!=null&&O.address?(G=i==null?void 0:i.applicationDetails)==null?void 0:G.address:"N/A"," ",", ",(K=i==null?void 0:i.applicationDetails)==null?void 0:K.prop_state]}),e("div",{className:"text-gray-500 text-xs",children:"Property Address"})]})})]}),s("div",{className:"mt-10",children:[s("h1",{className:"px-1 font-semibold font-serif  text-gray-500",children:[e(m,{className:"inline"})," Select TS Map"]}),e("div",{className:"py-6 mt-2 bg-white rounded-lg shadow-xl",children:s("div",{className:"flex space-x-5 pl-4 ",children:[e("div",{onClick:()=>f(0),className:` ${y==0?"border-2 border-indigo-500":"border-2 border-gray-200"}  p-5 cursor-pointer`,children:s("div",{className:"flex-1",children:[e("img",{className:"w-60",src:$e,alt:"",srcset:""}),e("div",{className:"font-semibold text-sm",children:"Map Without Road Cutting"}),e("div",{className:"text-gray-500 text-xs",children:"Map Without Road Cutting"})]})}),e("div",{onClick:()=>f(1),className:` ${y==1?"border-2 border-indigo-500":"border-2 border-gray-200"}  p-5 cursor-pointer`,children:s("div",{className:"flex-1",children:[e("img",{className:"w-60",src:je,alt:"",srcset:""}),e("div",{className:"font-semibold text-sm",children:"Map With Road Cutting"}),e("div",{className:"text-gray-500 text-xs",children:"Map With Road Cutting"})]})})]})})]}),s("div",{className:"mt-10 border rounded shadow-lg p-2",children:[s("h1",{className:"px-1 font-semibold font-serif text-gray-500",children:[e(m,{className:"inline"}),"Verification Report"]}),s("div",{className:"space-y-3 text-sm",children:[s("div",{className:"grid grid-cols-12",children:[e("div",{className:"col-span-1",children:"01."}),e("div",{className:"col-span-4",children:"Property Type"}),e("div",{className:"col-span-3",children:(X=i==null?void 0:i.applicationDetails)!=null&&X.property_type?(Z=i==null?void 0:i.applicationDetails)==null?void 0:Z.property_type:"N/A"}),e("div",{className:"col-span-4",children:s("div",{children:[s("select",{name:"propertyType",onChange:n.handleChange,className:"cursor-pointer w-full px-1 py-1 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e("option",{value:"",children:"Select"}),(D=d==null?void 0:d.water_property_type_mstr)==null?void 0:D.map((r,l)=>e("option",{value:r.id,children:r.property_type}))]}),e("p",{className:"text-red-500 text-xs",children:n.touched.propertyType&&n.errors.propertyType?n.errors.propertyType:null})]})})]}),s("div",{className:"grid grid-cols-12",children:[e("div",{className:"col-span-1",children:"02."}),e("div",{className:"col-span-4",children:"Total Area in Sq.Ft."}),e("div",{className:"col-span-3",children:(F=i==null?void 0:i.applicationDetails)!=null&&F.area_sqft?(ee=i==null?void 0:i.applicationDetails)==null?void 0:ee.area_sqft:"N/A"}),e("div",{className:"col-span-4",children:s("div",{children:[e("input",{type:"text",name:"areaSqFt",onChange:n.handleChange,className:"cursor-pointer w-full px-1 py-1 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e("p",{className:"text-red-500 text-xs",children:n.touched.areaSqFt&&n.errors.areaSqFt?n.errors.areaSqFt:null})]})})]}),s("div",{className:"grid grid-cols-12",children:[e("div",{className:"col-span-1",children:"03."}),e("div",{className:"col-span-4",children:"Distribution Pipeline Report"}),e("div",{className:"col-span-3",children:(ie=i==null?void 0:i.applicationDetails)!=null&&ie.pipeline_type?(se=i==null?void 0:i.applicationDetails)==null?void 0:se.pipeline_type:"N/A"}),e("div",{className:"col-span-4",children:s("div",{children:[s("select",{name:"distributionPipelineType",onChange:n.handleChange,className:"cursor-pointer w-full px-1 py-1 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e("option",{value:"",children:"Select"}),(re=d==null?void 0:d.water_param_pipeline_type)==null?void 0:re.map((r,l)=>e("option",{value:r.id,children:r.pipeline_type}))]}),e("p",{className:"text-red-500 text-xs",children:n.touched.distributionPipelineType&&n.errors.distributionPipelineType?n.errors.distributionPipelineType:null})]})})]}),s("div",{className:"grid grid-cols-12",children:[e("div",{className:"col-span-1",children:"04."}),e("div",{className:"col-span-4",children:"Distribution Pipeline Size (In MM)"}),e("div",{className:"col-span-3",children:"N/A"}),e("div",{className:"col-span-4",children:s("div",{children:[e("input",{type:"text",name:"pipelineSize",onChange:n.handleChange,className:"cursor-pointer w-full px-1 py-1 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e("p",{className:"text-red-500 text-xs",children:n.touched.pipelineSize&&n.errors.pipelineSize?n.errors.pipelineSize:null})]})})]}),s("div",{className:"grid grid-cols-12",children:[e("div",{className:"col-span-1",children:"05."}),e("div",{className:"col-span-4",children:"Distribution Pipeline Size Type"}),e("div",{className:"col-span-3",children:"N/A"}),e("div",{className:"col-span-4",children:s("div",{children:[s("select",{name:"pipelineType",onChange:n.handleChange,className:"cursor-pointer w-full px-1 py-1 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e("option",{value:"",children:"Select"}),(ne=d==null?void 0:d.pipeline_size_type)==null?void 0:ne.map((r,l)=>e("option",{value:r,children:r}))]}),e("p",{className:"text-red-500 text-xs",children:n.touched.pipelineType&&n.errors.pipelineType?n.errors.pipelineType:null})]})})]}),s("div",{className:"grid grid-cols-12",children:[e("div",{className:"col-span-1",children:"06."}),e("div",{className:"col-span-4",children:"Is Application Comes Under Regularization"}),e("div",{className:"col-span-3",children:(de=i==null?void 0:i.applicationDetails)!=null&&de.connection_type?(ae=i==null?void 0:i.applicationDetails)==null?void 0:ae.connection_type:"N/A"}),e("div",{className:"col-span-4",children:s("div",{children:[s("select",{name:"regularization",onChange:n.handleChange,className:"cursor-pointer w-full px-1 py-1 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e("option",{value:"",children:"Select"}),(te=d==null?void 0:d.water_connection_type_mstr)==null?void 0:te.map((r,l)=>e("option",{value:r.id,children:r.connection_type}))]}),e("p",{className:"text-red-500 text-xs",children:n.touched.regularization&&n.errors.regularization?n.errors.regularization:null})]})})]}),s("div",{className:"grid grid-cols-12",children:[e("div",{className:"col-span-1",children:"07."}),e("div",{className:"col-span-4",children:"Permissible Pipe Diameter"}),e("div",{className:"col-span-3",children:"N/A"}),e("div",{className:"col-span-4",children:s("div",{children:[s("select",{name:"diameter",onChange:n.handleChange,className:"cursor-pointer w-full px-1 py-1 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e("option",{value:"",children:"Select"}),(le=d==null?void 0:d.pipe_diameter)==null?void 0:le.map((r,l)=>e("option",{value:r,children:r}))]}),e("p",{className:"text-red-500 text-xs",children:n.touched.diameter&&n.errors.diameter?n.errors.diameter:null})]})})]}),s("div",{className:"grid grid-cols-12",children:[e("div",{className:"col-span-1",children:"08."}),e("div",{className:"col-span-4",children:"Permissible Pipe Quality"}),e("div",{className:"col-span-3",children:"N/A"}),e("div",{className:"col-span-4",children:s("div",{children:[s("select",{name:"pipeQuality",onChange:n.handleChange,className:"cursor-pointer w-full px-1 py-1 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e("option",{value:"",children:"Select"}),(oe=d==null?void 0:d.pipe_quality)==null?void 0:oe.map((r,l)=>e("option",{value:r,children:r}))]}),e("p",{className:"text-red-500 text-xs",children:n.touched.pipeQuality&&n.errors.pipeQuality?n.errors.pipeQuality:null})]})})]}),s("div",{className:"grid grid-cols-12",children:[e("div",{className:"col-span-1",children:"09."}),e("div",{className:"col-span-4",children:"Permissible Ferrule Size"}),e("div",{className:"col-span-3",children:"N/A"}),e("div",{className:"col-span-4",children:s("div",{children:[s("select",{name:"feruleSize",onChange:n.handleChange,className:"cursor-pointer w-full px-1 py-1 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e("option",{value:"",children:"Select"}),(ce=d==null?void 0:d.ferule_size)==null?void 0:ce.map((r,l)=>e("option",{value:r,children:r}))]}),e("p",{className:"text-red-500 text-xs",children:n.touched.feruleSize&&n.errors.feruleSize?n.errors.feruleSize:null})]})})]}),s("div",{className:"grid grid-cols-12",children:[e("div",{className:"col-span-1",children:"10."}),e("div",{className:"col-span-4",children:"Road Type"}),e("div",{className:"col-span-3",children:"N/A"}),e("div",{className:"col-span-4",children:s("div",{children:[s("select",{name:"roadType",onChange:n.handleChange,className:"cursor-pointer w-full px-1 py-1 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e("option",{value:"",children:"Select"}),(pe=d==null?void 0:d.road_type)==null?void 0:pe.map((r,l)=>e("option",{value:r,children:r}))]}),e("p",{className:"text-red-500 text-xs",children:n.touched.roadType&&n.errors.roadType?n.errors.roadType:null})]})})]}),s("div",{className:"grid grid-cols-12",children:[e("div",{className:"col-span-1",children:"11."}),e("div",{className:"col-span-4",children:"Applicant Category"}),e("div",{className:"col-span-3",children:(he=i==null?void 0:i.applicationDetails)!=null&&he.category?(me=i==null?void 0:i.applicationDetails)==null?void 0:me.category:"N/A"}),e("div",{className:"col-span-4",children:s("div",{children:[s("select",{name:"category",onChange:n.handleChange,className:"cursor-pointer w-full px-1 py-1 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e("option",{value:"",children:"Select"}),e("option",{value:"APL",children:"APL"}),e("option",{value:"BPL",children:"BPL"})]}),e("p",{className:"text-red-500 text-xs",children:n.touched.category&&n.errors.category?n.errors.category:null})]})})]})]})]}),e("div",{children:e("p",{className:"py-5",children:"I, .............................. being a Municipal PLI/JE, inspected the site for the provision of water supply system indicate above. I certify that this inspection was done within the guidelines established by RMC and was completed in a through and completed manner. I recommend this for technical approval."})}),e("div",{className:"pb-5",children:s("p",{className:"float-left",children:["Date of Inspection :"," ",e("span",{className:"font-semibold",children:ye})]})})]}),b&&s("div",{className:"text-center mb-3 font-semibold text-base border mx-5",children:[" ",e("p",{className:"text-green-700",children:b})," "]}),w&&s("div",{className:"text-center mb-3 font-semibold text-base border mx-5",children:[" ",e("p",{className:"text-red-700",children:w})," "]}),s("div",{className:"flex justify-center space-x-3  mt-5",children:[e("button",{type:"button",onClick:()=>N(-1),className:"px-3 py-2 bg-red-700 hover:bg-red-800 text-white rounded",children:"Cancel"}),e("button",{type:"submit",className:"px-5 py-2 bg-indigo-700 hover:bg-indigo-800 text-white rounded",children:"Save"}),e("button",{type:"button",className:"px-5 py-2 bg-sky-700 hover:bg-sky-800 text-white rounded",children:"Print"})]})]})})}),e("div",{className:"w-full h-10"})]})}export{Ge as default};
