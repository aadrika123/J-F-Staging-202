import{u as se,r as l,k as U,j as e,m as T,_ as $,B as W}from"./index-BmeoZZEY.js";import{a as ke}from"./index-SAZFuh9a.js";import{C as te,d as le,b as ge,a as Ee,c as Ae}from"./card-c4RkJ5g4.js";import{S as G,a as ne,T as de,b as ce,c as z,d as p,e as re,f as D}from"./Spinner-4sc5lOHC.js";import{a as Q,o as Z,F as ie,S as Ne,B as je,c as X,b as R,e as Te}from"./SelectField-BLy3NYwY.js";import"./input-DWtIC-JA.js";import{L as Re}from"./label-ia4FNNml.js";import{F as xe,a as Fe,b as me}from"./index-DPe2pUPS.js";import{P as oe,D as ye,a as ve,b as Se}from"./dialog-CyAESRfE.js";import{R as ee}from"./RHFTextField-D1wRDtpD.js";import{g as ae}from"./services-KQnp_8oA.js";import{D as he}from"./index-DnFf-vHQ.js";import{T as we,a as Me,b as _e,c as Ce,d as Ve,e as pe,f as fe,g as be}from"./tabs-DqKIr6eL.js";import{X as Ie}from"./x-CJujqhVs.js";import"./createLucideIcon-B_N-hozg.js";const De=X().shape({menuName:R().required("menu name is required"),serial:R(),route:R(),parentId:R(),isSidebar:Te()});function $e({open:s,setOpen:A,title:O,edit:d,setEdit:o,menuMasterList:L,moduleList:y,id:i,paginatedMenuList:x,menuId:N,editData:r}){var m,k,C,M,P,B;const w=se({}),j=Q({defaultValues:{menuName:"",serial:"",route:"",isSidebar:!1},resolver:Z(De)}),{reset:v}=j;l.useEffect(()=>{s&&v(d&&i?r?{menuName:r.menu_string||"",serial:r.serial||"",route:r.route||"",parentId:r.parent_id||""}:{menuName:"",serial:"",route:"",parentId:""}:{menuName:"",serial:"",route:"",parentId:""})},[s,d,i,v,r]);const u=async h=>{var V,f,_,g,t;try{const S=d&&i?{...h,moduleId:i,id:N}:{...h,moduleId:i},n=d?(V=T)==null?void 0:V.editMenuDetailsByModule:(f=T)==null?void 0:f.addMenuByModule,a=await w.mutateAsync({api:n,data:S});(_=a==null?void 0:a.data)!=null&&_.status?($.success((g=a==null?void 0:a.data)==null?void 0:g.message),A(!1),o(!1),L.refetch(),c.refetch()):$.error((t=a==null?void 0:a.data)==null?void 0:t.message)}catch(S){$.error(ae(S))}};console.log("paginatedMenuList",x),console.log("paginatedMenuList",i),console.log("paginatedMenuList",N);const c=U({api:(m=T)==null?void 0:m.parentMenuList,key:"parentMenuListByModule",config:{moduleId:String(i)},options:{enabled:!0}}),I=U({api:(k=T)==null?void 0:k.workFlowByModule,key:"getWorkFlowByModule",config:{moduleId:String(i)},options:{enabled:!0}});return console.log(r),e.jsx(he,{open:s,setOpen:A,title:O,setEdit:o,edit:d,children:e.jsx(ie,{methods:j,onSubmit:j.handleSubmit(u),children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(Ne,{label:"Parent Menu Name",name:"parentId",data:((M=(C=c==null?void 0:c.data)==null?void 0:C.data)==null?void 0:M.map(h=>({label:String(h==null?void 0:h.menu_string),value:String(h==null?void 0:h.id)})))||[]})}),e.jsx("div",{children:e.jsx(ee,{label:"Menu Name",name:"menuName",placeholder:"Enter menu name"})}),e.jsx("div",{children:e.jsx(ee,{label:"Menu Route",name:"route",placeholder:"Enter menu url "})}),e.jsx("div",{children:e.jsx(ee,{label:"Serial No.",name:"serial",placeholder:"Enter Serial No."})}),e.jsx("div",{children:e.jsx(Ne,{label:e.jsxs(e.Fragment,{children:["Workflow"," ",e.jsx("span",{className:"text-sm",children:"(select module to get workflow list)"})]}),name:"workflowId",data:((B=(P=I==null?void 0:I.data)==null?void 0:P.data)==null?void 0:B.map(h=>({label:String(h==null?void 0:h.workflow_name),value:String(h==null?void 0:h.id)})))||[]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"isSidebar",...j.register("isSidebar"),defaultChecked:!1}),e.jsx("label",{htmlFor:"isSidebar",children:"Is Sidebar Show"})]}),e.jsx(G,{}),e.jsx("div",{children:e.jsx(je,{isLoading:j.formState.isSubmitting,type:"submit",className:"h-11 w-full rounded-xl",children:d?"Update":"Submit"})})]})})})}function Oe({id:s,mid:A}){var f,_,g,t,S,n,a,q;const[O,d]=l.useState(1),[o,L]=l.useState(10),[y,i]=l.useState(!1),[x,N]=l.useState(!1),[r,w]=l.useState(null),[j,v]=l.useState(null),u=se({}),c=U({api:(f=T)==null?void 0:f.getMenuMasterList,key:"menuMasterList",options:{enabled:!0}}),I=U({api:(_=T)==null?void 0:_.getMenuDetailsByModule,key:"getMenuDetailsForEdit",config:{menuId:String(j)},value:[j],options:{enabled:!!j}});U({api:(g=T)==null?void 0:g.serviceList,key:"serviceMasterList",config:{moduleId:s},options:{enabled:!!s}});const m=U({api:(t=T)==null?void 0:t.getMenuRoleList,key:"menuRoleList",options:{enabled:!0}}),k=((n=(S=c==null?void 0:c.data)==null?void 0:S.data)==null?void 0:n.filter(b=>(b==null?void 0:b.module_id)==s))??[],C=k.slice((O-1)*o,O*o),M=b=>d(b),P=b=>{L(b),d(1)},B=b=>{v(b),N(!0),i(!0)},h=U({api:(a=T)==null?void 0:a.parentMenuList,key:"parentMenuListByModule",config:{moduleId:String(s)},options:{enabled:!0}}),V=async()=>{var b,H,K,J;try{const F=await u.mutateAsync({api:(b=T)==null?void 0:b.deleteMenu,data:{id:r}});(H=F==null?void 0:F.data)!=null&&H.status?($.success((K=F==null?void 0:F.data)==null?void 0:K.message),i(!1),N(!1),w(null),c.refetch(),m.refetch(),h.refetch()):($.error((J=F==null?void 0:F.data)==null?void 0:J.message),w(null))}catch(F){console.error("Error deleting menu:",F),alert("An error occurred while deleting the menu. Please try again.")}};return e.jsx("main",{className:"grid items-start",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx(W,{type:"button",className:"flex items-center gap-2",onClick:()=>{v(null),N(!1),i(!0)},children:"Add Menu List"})}),e.jsx($e,{open:y,setOpen:i,title:x?"Edit Menu":"Add Menu",id:A,edit:x,setEdit:N,paginatedMenuList:C,refetch:c==null?void 0:c.refetch,menuMasterList:c,menuId:j,editData:(q=I==null?void 0:I.data)==null?void 0:q.data}),r&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 h-screen ",children:e.jsxs("div",{className:"bg-white py-6 px-8 w-[30%] rounded-lg shadow-lg",children:[e.jsx("div",{className:"flex justify-center items-center text-lg font-medium mb-4",children:"Are you sure you want to delete?"}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mt-2",children:[e.jsx(W,{variant:"destructive",size:"sm",onClick:()=>V(),children:"Yes"}),e.jsx(W,{variant:"outline",size:"sm",onClick:()=>w(null),children:"No"})]})]})}),e.jsx(te,{children:e.jsx(le,{children:c.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(ne,{})}):c.isError?e.jsx("div",{className:"text-center text-red-500",children:"Failed to load menu list. Please try again."}):e.jsxs(e.Fragment,{children:[e.jsxs(de,{children:[e.jsx(ce,{children:e.jsxs(z,{children:[e.jsx(p,{children:"#"}),e.jsx(p,{children:"Parent Menu"}),e.jsx(p,{children:"Menu"}),e.jsx(p,{children:"Path"}),e.jsx(p,{children:"Serial"}),e.jsx(p,{children:"SideBar"}),e.jsx(p,{children:"Actions"})]})}),e.jsx(re,{children:C==null?void 0:C.map((b,H)=>e.jsxs(z,{children:[e.jsx(D,{children:O*o-o+H+1}),e.jsx(D,{children:b.parentName||"#"}),e.jsx(D,{children:b.menu_string}),e.jsx(D,{children:b.route}),e.jsx(D,{children:b.serial}),e.jsx(D,{children:b.is_sidebar?"Yes":"No"}),e.jsxs(D,{children:[e.jsxs(W,{variant:"secondary",onClick:()=>B(b.id),children:[e.jsx(xe,{})," Edit"]}),e.jsx(W,{className:"ml-2",variant:"secondary",onClick:()=>w(b.id),children:e.jsx(Fe,{})})]})]},b.id))})]}),e.jsx(G,{className:"my-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(oe,{currentPage:O,totalItems:k.length,itemsPerPage:o,onPageChange:M,onItemsPerPageChange:P})})]})})})]})})}const qe=X().shape({serviceName:R().required("menu name is required"),path:R().required("path is required")});function Be({open:s,setOpen:A,title:O,edit:d,setEdit:o,serviceList:L,id:y,paginatedMenuList:i,moduleId:x}){const N=se({}),r=Q({defaultValues:{serviceName:""},resolver:Z(qe)}),{reset:w}=r;l.useEffect(()=>{var v,u;if(s)if(d&&y){const c=(u=(v=L==null?void 0:L.data)==null?void 0:v.data)==null?void 0:u.find(I=>I.id==y);c&&w({serviceName:c.service_name||"",path:c.path||""})}else w({serviceName:"",path:""})},[s,d,y,w]);const j=async v=>{var u,c,I,m,k;try{const C=d?(u=T)==null?void 0:u.updateServiceByModule:(c=T)==null?void 0:c.addServiceByModule,M=d?{...v,id:y}:{...v,moduleId:x},P=await N.mutateAsync({api:C,data:M});(I=P==null?void 0:P.data)!=null&&I.status?($.success((m=P==null?void 0:P.data)==null?void 0:m.message),A(!1),o(!1),L.refetch()):$.error((k=P==null?void 0:P.data)==null?void 0:k.message)}catch(C){$.error(ae(C))}};return console.log("paginatedMenuList",y),console.log(x),e.jsx(he,{open:s,setOpen:A,title:O,setEdit:o,edit:d,children:e.jsx(ie,{methods:r,onSubmit:r.handleSubmit(j),children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(ee,{label:"Service Name",name:"serviceName",placeholder:"Enter menu name"})}),e.jsx("div",{children:e.jsx(ee,{label:"service Path",name:"path",placeholder:"Enter path"})}),e.jsx(G,{}),e.jsx("div",{children:e.jsx(je,{isLoading:r.formState.isSubmitting,type:"submit",className:"h-11 w-full rounded-xl",children:"Submit"})})]})})})}const Ue=X().shape({ulbId:R(),moduleId:R(),complaintRefNo:R()});function We(s){var f,_,g;const[A,O]=l.useState(1),[d,o]=l.useState(10),[L,y]=l.useState(!1),[i,x]=l.useState(""),[N,r]=l.useState(!1),[w,j]=l.useState(!1),[v,u]=l.useState(null),{moduleId:c}=s,[I,m]=l.useState(1),[k,C]=l.useState(10),M=100,P=t=>{m(t)},B=t=>{C(t),m(1)};console.log(s==null?void 0:s.id,"props id"),console.log(c,"props id"),Q({resolver:Z(Ue),defaultValues:{ulbId:"",moduleId:"",complaintTypeId:"",priorityId:"",targetTypeId:"",complaintSourceTypeId:"",fDate:"",toDate:"",complaintRefNo:""}});const h=U({api:(f=T)==null?void 0:f.serviceList,key:"serviceMasterList",config:{moduleId:s==null?void 0:s.mId},options:{enabled:!!(s!=null&&s.mId)}});console.log("the servicemId",s==null?void 0:s.mId);const V=t=>{u(t),j(!0)};return e.jsx("main",{className:"grid items-start",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[e.jsx("div",{children:e.jsx("div",{className:"flex justify-end ",children:e.jsx(W,{type:"button",className:"flex items-center gap-2",onClick:()=>{x(""),r(!1),y(!0)},children:"Add Service List"})})}),e.jsx(Be,{open:L,setOpen:y,title:N?"Edit Service":"Add Service",id:i,edit:N,setEdit:r,moduleId:s==null?void 0:s.id,serviceList:h}),e.jsx(te,{children:e.jsx(le,{children:h.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(ne,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(de,{children:[e.jsx(ce,{children:e.jsxs(z,{children:[e.jsx(p,{className:"",children:"#"}),e.jsx(p,{className:"",children:"Service Name"}),e.jsx(p,{className:"",children:"Service Path"}),e.jsx(p,{className:"",children:"Actions"})]})}),e.jsx(re,{children:(g=(_=h==null?void 0:h.data)==null?void 0:_.data)==null?void 0:g.map((t,S)=>e.jsxs(z,{children:[e.jsx(D,{children:A*d-d+S+1}),e.jsx(D,{children:t==null?void 0:t.service_name}),e.jsx(D,{children:t==null?void 0:t.path}),e.jsxs(D,{children:[e.jsxs(W,{variant:"secondary",onClick:()=>{x(t==null?void 0:t.id),r(!0),y(!0)},children:[e.jsx(xe,{})," Edit"]}),e.jsxs(W,{onClick:()=>V(t),className:"ml-2",variant:"secondary",children:[e.jsx(me,{})," View"]})]})]},t==null?void 0:t.id))})]}),e.jsx(G,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(oe,{currentPage:I,totalItems:M,itemsPerPage:k,onPageChange:P,onItemsPerPageChange:B})})]})})})]})})}const He=X().shape({module_name:R().required("module name is required"),module_id:R().required("Module ID is required"),module_url:R().required("Module URL is required")});function ze({open:s,setOpen:A,title:O,edit:d,setEdit:o,serviceList:L,moduleList:y,id:i}){const x=se({}),N=Q({defaultValues:{module_name:"",module_id:"",module_url:""},resolver:Z(He)}),{reset:r}=N;l.useEffect(()=>{var j,v;if(s)if(d&&i){const u=(v=(j=y==null?void 0:y.data)==null?void 0:j.data)==null?void 0:v.find(c=>c.id==i);u&&r({module_name:u.module_name||"",module_id:u.id||"",module_url:u.url||""})}else r({module_name:"",module_id:"",module_url:""})},[s,d,i,y,r]);const w=async j=>{var v,u,c;try{const I=d?"EditModuleList":"AddmoduleList",m=await x.mutateAsync({api:I,data:j});(v=m==null?void 0:m.data)!=null&&v.success?($.success((u=m==null?void 0:m.data)==null?void 0:u.message),A(!1),o(!1),L.refetch()):$.error((c=m==null?void 0:m.data)==null?void 0:c.message)}catch(I){$.error(ae(I))}};return e.jsx(he,{open:s,setOpen:A,title:O,setEdit:o,edit:d,children:e.jsx(ie,{methods:N,onSubmit:N.handleSubmit(w),children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(ee,{label:"Module Name",name:"module_name",placeholder:"Enter module name"})}),e.jsx("div",{children:e.jsx(ee,{label:"Module ID",name:"module_id",placeholder:"Enter module id "})}),e.jsx("div",{children:e.jsx(ee,{label:"Module URL",name:"module_url",placeholder:"Enter module url "})}),e.jsx(G,{}),e.jsx("div",{children:e.jsx(je,{isLoading:N.formState.isSubmitting,type:"submit",className:"h-11 w-full rounded-xl",children:"Submit"})})]})})})}const Ke=X().shape({menuRoleName:R().required("menu name is required")});function Ye({open:s,setOpen:A,title:O,edit:d,setEdit:o,id:L,menuRoleList:y,moduleId:i}){const x=se({}),N=Q({defaultValues:{menuRoleName:""},resolver:Z(Ke)}),{reset:r}=N;console.log(i,"id"),l.useEffect(()=>{var j,v;if(s)if(d&&L){const u=(v=(j=y==null?void 0:y.data)==null?void 0:j.data)==null?void 0:v.find(c=>c.id===L);u&&r({menuRoleName:u.menu_role_name||""})}else r({menuRoleName:""})},[s,d,L,y,r]);const w=async j=>{var v,u,c,I,m;try{const k=d?(v=T)==null?void 0:v.editMenuList:(u=T)==null?void 0:u.addMenuList,C=d&&L?{...j,id:L}:{...j,moduleId:i},M=await x.mutateAsync({api:k,data:C});(c=M==null?void 0:M.data)!=null&&c.status?($.success((I=M==null?void 0:M.data)==null?void 0:I.message),A(!1),o(!1),y.refetch()):$.error((m=M==null?void 0:M.data)==null?void 0:m.message)}catch(k){$.error(ae(k))}};return e.jsx(he,{open:s,setOpen:A,title:O,setEdit:o,edit:d,children:e.jsx(ie,{methods:N,onSubmit:N.handleSubmit(w),children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsx("div",{children:e.jsx(ee,{label:"Service Name",name:"menuRoleName",placeholder:"Enter menu name"})}),e.jsx(G,{}),e.jsx("div",{children:e.jsx(je,{isLoading:N.formState.isSubmitting,type:"submit",className:"h-11 w-full rounded-xl",children:"Submit"})})]})})})}const Xe=X().shape({service_name:R().required("menu name is required")});function Ge({open:s,setOpen:A,title:O,edit:d,setEdit:o,serviceList:L,moduleList:y,id:i,menuRoleList:x,moduleId:N,menuRoleId:r,moduleName:w}){var C,M,P,B,h,V;const j=se({}),v=se({}),u=Q({defaultValues:{service_name:""},resolver:Z(Xe)}),{reset:c}=u;console.log(N,"id"),l.useEffect(()=>{var f,_;if(s)if(d&&i){const g=(_=(f=x==null?void 0:x.data)==null?void 0:f.data)==null?void 0:_.find(t=>t.id===i);g&&c({service_name:g.menu_role_name||""})}else c({service_name:""})},[s,d,i,x,c]);const I=async f=>{var _,g,t;try{const S=d?"EditModuleList":"AddmoduleList",n=d&&i?{...f,moduleId:i}:{...f,moduleId:N},a=await j.mutateAsync({api:S,data:n});(_=a==null?void 0:a.data)!=null&&_.success?($.success((g=a==null?void 0:a.data)==null?void 0:g.message),A(!1),o(!1),L.refetch()):$.error((t=a==null?void 0:a.data)==null?void 0:t.message)}catch(S){$.error(ae(S))}},m=U({api:(C=T)==null?void 0:C.getPermitedMenuList,key:"permitedMenuList",config:{menuRoleId:r,moduleId:N},options:{enabled:!0}}),k=async(f,_,g)=>{var t,S,n,a;console.log(g);try{const q={isSuspended:g,menuId:f,menuRoleId:r},b=await v.mutateAsync({api:(t=T)==null?void 0:t.addRemoveMenuPermission,data:q});(S=b==null?void 0:b.data)!=null&&S.status?($.success(((n=b==null?void 0:b.data)==null?void 0:n.message)||"Permission updated successfully"),m.refetch()):$.error(((a=b==null?void 0:b.data)==null?void 0:a.message)||"Failed to update permission")}catch(q){$.error(ae(q))}};return console.log(w),console.log((P=(M=m==null?void 0:m.data)==null?void 0:M.data)==null?void 0:P[w],"permitedMenuList"),e.jsx(he,{open:s,setOpen:A,title:O,setEdit:o,edit:d,children:e.jsx(ie,{methods:u,onSubmit:u.handleSubmit(I),children:e.jsx("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Sl."}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Menu Name"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Permission"})]})}),e.jsx("tbody",{children:((V=(h=(B=m==null?void 0:m.data)==null?void 0:B.data)==null?void 0:h[w])==null?void 0:V.map((f,_)=>e.jsxs("tr",{className:"hover:bg-gray-100",children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:_+1}),e.jsx("td",{className:`border border-gray-300 px-4 py-2 ${f.is_suspended?"text-black":"text-green-600"}`,children:f.menu_string}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:f.is_suspended?e.jsx("button",{className:"text-green-600 bg-green-200 hover:bg-green-100 px-2 py-1 rounded-md text-xs font-bold",onClick:()=>k(f.id,f.menu_role_id,!f.is_suspended),children:"Add"}):e.jsx("button",{className:"text-red-600  bg-red-200 hover:bg-red-100 px-2 py-1 rounded-md text-xs font-bold",onClick:()=>k(f.id,f.menu_role_id,!f.is_suspended),children:"Remove"})})]},f.id)))||e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center py-4",children:"No data available"})})})]})})})})})}X().shape({ulbId:R(),moduleId:R(),complaintRefNo:R()});function Je(s){var f,_,g,t,S,n;const[A,O]=l.useState(1),[d,o]=l.useState(10),[L,y]=l.useState(!1),[i,x]=l.useState(""),[N,r]=l.useState(!1),[w,j]=l.useState(!1),[v,u]=l.useState(null),[c,I]=l.useState(1),[m,k]=l.useState(10),C=100,M=a=>{I(a)},P=a=>{k(a),I(1)},B=U({api:(f=T)==null?void 0:f.getMenuMasterList,key:"menuMasterList",options:{enabled:!0}}),h=U({api:(_=T)==null?void 0:_.getPermitedMenuList,key:"permitedMenuList",config:{menuRoleId:s==null?void 0:s.id,moduleId:s==null?void 0:s.moduleId},options:{enabled:!0}}),V=a=>{u(a),j(!0)};return console.log(s==null?void 0:s.moduleName),e.jsx("main",{className:"grid items-start ",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[e.jsx("div",{children:e.jsx("div",{className:"flex justify-end ",children:e.jsx(W,{type:"button",className:"flex items-center gap-2",onClick:()=>{x(""),r(!1),y(!0)},children:"Add More Menu Permission"})})}),e.jsx(Ge,{open:L,setOpen:y,title:N?"Edit Menu":"Add Menu",id:i,edit:N,setEdit:r,moduleId:s==null?void 0:s.moduleId,menuRoleId:s==null?void 0:s.id,moduleName:s==null?void 0:s.moduleName}),e.jsx(te,{className:"",children:e.jsx(le,{children:B.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(ne,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(de,{children:[e.jsx(ce,{children:e.jsxs(z,{children:[e.jsx(p,{className:"",children:"#"}),e.jsx(p,{className:"",children:"Menu"}),e.jsx(p,{className:"",children:"Actions"})]})}),e.jsx(re,{children:(n=(S=(t=(g=h==null?void 0:h.data)==null?void 0:g.data)==null?void 0:t[s==null?void 0:s.moduleName])==null?void 0:S.filter(a=>(a==null?void 0:a.menu_role_id)==(s==null?void 0:s.id)))==null?void 0:n.map((a,q)=>e.jsxs(z,{children:[e.jsx(D,{children:A*d-d+q+1}),e.jsx(D,{children:a==null?void 0:a.menu_string}),e.jsxs(D,{children:[e.jsxs(W,{variant:"secondary",onClick:()=>{x(a==null?void 0:a.id),r(!0),y(!0)},children:[e.jsx(xe,{})," Edit"]}),e.jsxs(W,{onClick:()=>V(a),className:"ml-2",variant:"secondary",children:[e.jsx(me,{})," View"]})]})]},a==null?void 0:a.id))})]}),e.jsx(G,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(oe,{currentPage:c,totalItems:C,itemsPerPage:m,onPageChange:M,onItemsPerPageChange:P})})]})})})]})})}const Qe=X().shape({ulbId:R(),moduleId:R(),complaintRefNo:R()});function Ze(s){var g,t,S;const[A,O]=l.useState(1),[d,o]=l.useState(10),[L,y]=l.useState(!1),[i,x]=l.useState(""),[N,r]=l.useState(!1);l.useState(!1),l.useState(null);const[w,j]=l.useState(!1),[v,u]=l.useState(!1),[c,I]=l.useState(1),[m,k]=l.useState(10),C=100,{moduleId:M}=s,P=n=>{I(n)},B=n=>{k(n),I(1)};console.log(s==null?void 0:s.moduleId,"props id"),console.log(M,"props id"),Q({resolver:Z(Qe),defaultValues:{ulbId:"",moduleId:"",complaintTypeId:"",priorityId:"",targetTypeId:"",complaintSourceTypeId:"",fDate:"",toDate:"",complaintRefNo:""}});const h=U({api:(g=T)==null?void 0:g.serviceList,key:"serviceMasterList",config:{moduleId:s==null?void 0:s.mId},options:{enabled:!0}}),V=U({api:(t=T)==null?void 0:t.getMenuRoleList,key:"menuRoleList",options:{enabled:!0}});console.log(i);const _=(((S=V==null?void 0:V.data)==null?void 0:S.data.filter(n=>(n==null?void 0:n.module_id)==(s==null?void 0:s.moduleId)))||[]).slice((c-1)*m,c*m);return console.log("the service maste rlist..",s==null?void 0:s.moduleName),e.jsx("main",{className:"grid items-start ",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2 ",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-end ",children:e.jsx(W,{type:"button",className:"flex items-center gap-2",onClick:()=>{x(""),r(!1),y(!0)},children:"Add Role List"})}),e.jsx(Ye,{open:L,setOpen:y,title:N?"Edit Role":"Add Role",id:i,edit:N,setEdit:r,menuRoleList:V,moduleId:s==null?void 0:s.moduleId})]}),e.jsxs(ye,{open:v,children:[e.jsx(ve,{}),e.jsxs(Se,{className:"sm:max-w-[1200px] h-[700px] max-h-[700px] overflow-scroll",children:[e.jsx(ge,{className:" text-xl text-gray-500 font-bold flex justify-between",children:e.jsxs("div",{children:["Module : ",e.jsx("span",{className:"font-bold text-lg text-yellow-500",children:s==null?void 0:s.moduleName})]})}),e.jsxs(ge,{className:" text-xl text-gray-500 font-bold flex justify-between",children:[e.jsxs("div",{children:["Role : ",e.jsx("span",{className:"font-bold text-lg text-yellow-500",children:w==null?void 0:w.menu_role_name})]}),e.jsx("div",{children:e.jsx("span",{children:e.jsx(Ie,{className:"cursor-pointer hover:bg-red-100 rounded-lg inline",onClick:()=>u(!1)})})})]}),e.jsxs(we,{defaultValue:"MENULIST",className:"w-full",children:[e.jsx("div",{className:"py-4 flex justify-between",children:e.jsx(Me,{className:"grid w-auto grid-cols-2",children:e.jsx(_e,{className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-white rounded-lg px-2",value:"MENULIST",children:"Permitted Menu List"})})}),e.jsx(Ce,{value:"MENULIST",children:e.jsx(Je,{moduleId:s==null?void 0:s.moduleId,id:i,moduleName:s==null?void 0:s.moduleName})})]})]})]}),e.jsx(te,{children:e.jsx(le,{children:h.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(ne,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(de,{children:[e.jsx(ce,{children:e.jsxs(z,{children:[e.jsx(p,{className:"",children:"#"}),e.jsx(p,{className:"",children:"Role Name"}),e.jsx(p,{className:"",children:"Actions"})]})}),e.jsx(re,{children:_.map((n,a)=>e.jsxs(z,{children:[e.jsx(D,{children:A*d-d+a+1}),e.jsx(D,{children:n==null?void 0:n.menu_role_name}),e.jsxs(D,{children:[e.jsxs(W,{variant:"secondary",onClick:()=>{x(n==null?void 0:n.id),r(!0),y(!0)},children:[e.jsx(xe,{})," Edit"]}),e.jsxs(W,{onClick:()=>{j(n),u(!0),x(n==null?void 0:n.id)},className:"ml-2",variant:"secondary",children:[e.jsx(me,{})," View"]})]})]},n==null?void 0:n.id))})]}),e.jsx(G,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(oe,{currentPage:c,totalItems:C,itemsPerPage:m,onPageChange:P,onItemsPerPageChange:B})})]})})})]})})}const es=X().shape({service_name:R().required("menu name is required")});function ss({open:s,setOpen:A,title:O,edit:d,setEdit:o,serviceList:L,moduleList:y,id:i,menuRoleList:x,moduleId:N,menuRoleId:r,moduleName:w,roleId:j,apiId:v}){var _,g,t,S,n;const[u,c]=l.useState(""),I=se({}),m=se({}),k=Q({defaultValues:{service_name:""},resolver:Z(es)}),{reset:C}=k;l.useEffect(()=>{var a,q;if(s){if(d&&i){const b=(q=(a=x==null?void 0:x.data)==null?void 0:a.data)==null?void 0:q.find(H=>H.id===i);b&&C({service_name:b.menu_role_name||""})}else C({service_name:""});c("")}},[s,d,i,x,C]);const M=async a=>{var q,b,H;try{const K=d?"EditModuleList":"AddmoduleList",J=d&&i?{...a,moduleId:i}:{...a,moduleId:N},F=await I.mutateAsync({api:K,data:J});(q=F==null?void 0:F.data)!=null&&q.success?($.success((b=F==null?void 0:F.data)==null?void 0:b.message),A(!1),o(!1),L.refetch()):$.error((H=F==null?void 0:F.data)==null?void 0:H.message)}catch(K){$.error(ae(K))}},P=U({api:(_=T)==null?void 0:_.getPermitedApiList,key:"permitedApiList",config:{roleId:r,moduleId:N},options:{enabled:!0}}),B=async(a,q,b)=>{var H,K,J,F;console.log(b);try{const ue={isSuspended:b,apiId:a,roleId:r,moduleId:N},Y=await m.mutateAsync({api:(H=T)==null?void 0:H.addRemoveApiPermission,data:ue});(K=Y==null?void 0:Y.data)!=null&&K.status?($.success(((J=Y==null?void 0:Y.data)==null?void 0:J.message)||"Permission updated successfully"),P.refetch()):$.error(((F=Y==null?void 0:Y.data)==null?void 0:F.message)||"Failed to update permission")}catch(ue){$.error(ae(ue))}},h=((t=(g=P==null?void 0:P.data)==null?void 0:g.data)==null?void 0:t.filter(a=>{var q;return(q=a.end_point)==null?void 0:q.toLowerCase().includes(u.toLowerCase())}))||[],V=a=>{c(a.target.value)},f=()=>{c("")};return console.log(w),e.jsx(he,{open:s,setOpen:A,title:O,setEdit:o,edit:d,children:e.jsx(ie,{methods:k,onSubmit:k.handleSubmit(M),children:e.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",placeholder:"Search API endpoints...",value:u,onChange:V,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),u&&e.jsx("button",{onClick:f,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",type:"button",children:"✕"})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[h.length," of ",((n=(S=P==null?void 0:P.data)==null?void 0:S.data)==null?void 0:n.length)||0," endpoints"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table-auto w-full border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Sl."}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Api End Point"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Restrict"})]})}),e.jsx("tbody",{children:h.length>0?h.map((a,q)=>e.jsxs("tr",{className:"hover:bg-gray-100",children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:q+1}),e.jsx("td",{className:`border border-gray-300 px-4 py-2 ${a.is_suspended?"text-black":"text-green-600"}`,children:u?e.jsx("span",{dangerouslySetInnerHTML:{__html:a.end_point.replace(new RegExp(`(${u})`,"gi"),'<mark class="bg-yellow-200">$1</mark>')}}):a.end_point}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:a.is_suspended?e.jsx("button",{className:"text-green-600 bg-green-200 hover:bg-green-100 px-2 py-1 rounded-md text-xs font-bold",onClick:()=>B(a.id,a.menu_role_id,!a.is_suspended),children:"Add"}):e.jsx("button",{className:"text-red-600 bg-red-200 hover:bg-red-100 px-2 py-1 rounded-md text-xs font-bold",onClick:()=>B(a.id,a.menu_role_id,!a.is_suspended),children:"Remove"})})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"text-center py-4",children:u?`No API endpoints found matching "${u}"`:"No data available"})})})]})})]})})})}X().shape({ulbId:R(),moduleId:R(),complaintRefNo:R()});function as(s){var f,_,g,t,S;const[A,O]=l.useState(1),[d,o]=l.useState(10),[L,y]=l.useState(!1),[i,x]=l.useState(""),[N,r]=l.useState(!1),[w,j]=l.useState(!1),[v,u]=l.useState(null),[c,I]=l.useState(1),[m,k]=l.useState(10),C=100,M=n=>{I(n)},P=n=>{k(n),I(1)},B=U({api:(f=T)==null?void 0:f.getMenuMasterList,key:"menuMasterList",options:{enabled:!0}}),h=U({api:(_=T)==null?void 0:_.getPermitedApiList,key:"permitedApiList",config:{roleId:s==null?void 0:s.id,moduleId:s==null?void 0:s.moduleId},options:{enabled:!0}}),V=n=>{u(n),j(!0)};return console.log(s==null?void 0:s.moduleName),e.jsx("main",{className:"grid items-start ",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[e.jsx("div",{children:e.jsx("div",{className:"flex justify-end ",children:e.jsx(W,{type:"button",className:"flex items-center gap-2",onClick:()=>{x(""),r(!1),y(!0)},children:"Add More Restrict API"})})}),e.jsx(ss,{open:L,setOpen:y,title:N?"Edit Menu":"Restrict Api",id:i,edit:N,setEdit:r,moduleId:s==null?void 0:s.moduleId,menuRoleId:s==null?void 0:s.id,moduleName:s==null?void 0:s.moduleName}),e.jsx(te,{className:"",children:e.jsx(le,{children:B.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(ne,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(de,{children:[e.jsx(ce,{children:e.jsxs(z,{children:[e.jsx(p,{className:"",children:"#"}),e.jsx(p,{className:"",children:"Api end point"}),e.jsx(p,{className:"",children:"Actions"})]})}),e.jsx(re,{children:(S=(t=(g=h==null?void 0:h.data)==null?void 0:g.data)==null?void 0:t.filter(n=>(n==null?void 0:n.is_suspended)===!1))==null?void 0:S.map((n,a)=>e.jsxs(z,{children:[e.jsx(D,{children:A*d-d+a+1}),e.jsx(D,{children:n==null?void 0:n.end_point}),e.jsxs(D,{children:[e.jsxs(W,{variant:"secondary",onClick:()=>{x(n==null?void 0:n.id),r(!0),y(!0)},children:[e.jsx(xe,{})," Edit"]}),e.jsxs(W,{onClick:()=>V(n),className:"ml-2",variant:"secondary",children:[e.jsx(me,{})," View"]})]})]},n==null?void 0:n.id))})]}),e.jsx(G,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(oe,{currentPage:c,totalItems:C,itemsPerPage:m,onPageChange:M,onItemsPerPageChange:P})})]})})})]})})}const ts=X().shape({ulbId:R(),moduleId:R(),complaintRefNo:R()});function ls(s){var f,_,g;const[A,O]=l.useState(1),[d,o]=l.useState(10),[L,y]=l.useState(!1),[i,x]=l.useState(""),[N,r]=l.useState(!1);l.useState(!1),l.useState(null);const[w,j]=l.useState(!1),[v,u]=l.useState(!1),[c,I]=l.useState(1),[m,k]=l.useState(10),C=100,{moduleId:M}=s,P=t=>{I(t)},B=t=>{k(t),I(1)};console.log(s==null?void 0:s.moduleId,"props id"),console.log(M,"props id"),Q({resolver:Z(ts),defaultValues:{ulbId:"",moduleId:"",complaintTypeId:"",priorityId:"",targetTypeId:"",complaintSourceTypeId:"",fDate:"",toDate:"",complaintRefNo:""}});const h=U({api:(f=T)==null?void 0:f.serviceList,key:"serviceMasterList",config:{moduleId:s==null?void 0:s.mId},options:{enabled:!0}}),V=U({api:(_=T)==null?void 0:_.getWorkFlowList,key:"workFlowList",config:{moduleId:s==null?void 0:s.moduleId},options:{enabled:!0}});return console.log("the service maste rlist..",s==null?void 0:s.moduleName),e.jsx("main",{className:"grid items-start ",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2 ",children:[e.jsx("div",{children:e.jsx("div",{className:"flex justify-end "})}),e.jsxs(ye,{open:v,children:[e.jsx(ve,{}),e.jsxs(Se,{className:"sm:max-w-[1200px] h-[700px] max-h-[700px] overflow-scroll",children:[e.jsx(ge,{className:" text-xl text-gray-500 font-bold flex justify-between",children:e.jsxs("div",{children:["Module : ",e.jsx("span",{className:"font-bold text-lg text-yellow-500",children:s==null?void 0:s.moduleName})]})}),e.jsxs(ge,{className:" text-xl text-gray-500 font-bold flex justify-between",children:[e.jsxs("div",{children:["Work Flow Role : ",e.jsx("span",{className:"font-bold text-lg text-yellow-500",children:w==null?void 0:w.role_name})]}),e.jsx("div",{children:e.jsx("span",{children:e.jsx(Ie,{className:"cursor-pointer hover:bg-red-100 rounded-lg inline",onClick:()=>u(!1)})})})]}),e.jsxs(we,{defaultValue:"MENULIST",className:"w-full",children:[e.jsx("div",{className:"py-4 flex justify-between",children:e.jsx(Me,{className:"grid w-auto grid-cols-2",children:e.jsx(_e,{className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-white rounded-lg px-2",value:"MENULIST",children:"Restricted  API List"})})}),e.jsx(Ce,{value:"MENULIST",children:e.jsx(as,{moduleId:s==null?void 0:s.moduleId,id:i,moduleName:s==null?void 0:s.moduleName})})]})]})]}),e.jsx(te,{children:e.jsx(le,{children:h.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(ne,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(de,{children:[e.jsx(ce,{children:e.jsxs(z,{children:[e.jsx(p,{className:"",children:"#"}),e.jsx(p,{className:"",children:"Workflow Name"}),e.jsx(p,{className:"",children:"Actions"})]})}),e.jsx(re,{children:(g=V==null?void 0:V.data)==null?void 0:g.data.map((t,S)=>e.jsxs(z,{children:[e.jsx(D,{children:A*d-d+S+1}),e.jsx(D,{children:t==null?void 0:t.role_name}),e.jsxs(D,{children:[e.jsxs(W,{variant:"secondary",onClick:()=>{x(t==null?void 0:t.id),r(!0),y(!0)},children:[e.jsx(xe,{})," Edit"]}),e.jsxs(W,{onClick:()=>{j(t),u(!0),x(t==null?void 0:t.id)},className:"ml-2",variant:"secondary",children:[e.jsx(me,{})," View"]})]})]},t==null?void 0:t.id))})]}),e.jsx(G,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(oe,{currentPage:c,totalItems:C,itemsPerPage:m,onPageChange:P,onItemsPerPageChange:B})})]})})})]})})}const ns=X().shape({ulbId:R(),moduleId:R(),complaintRefNo:R()});function ds(){var a,q,b,H,K,J,F,ue,Y,Pe;const[s,A]=l.useState(1),[O,d]=l.useState(10),[o,L]=l.useState(!1),[y,i]=l.useState(!1),[x,N]=l.useState(""),[r,w]=l.useState(""),[j,v]=l.useState(!1),[u,c]=l.useState(""),[I,m]=l.useState(1),[k,C]=l.useState(10),[M,P]=l.useState(!1),B=100,h=E=>{m(E)},V=E=>{C(E),m(1)},f=Q({resolver:Z(ns),defaultValues:{ulbId:"",moduleId:"",complaintTypeId:"",priorityId:"",targetTypeId:"",complaintSourceTypeId:"",fDate:"",toDate:"",complaintRefNo:""}}),_=async E=>{console.log(E==null?void 0:E.moduleId),c(E.moduleId)},g=U({api:(a=T)==null?void 0:a.userManagementModuleList,key:"moduleMasterList",options:{enabled:!0}}),t=U({api:(q=T)==null?void 0:q.getMenuRoleList,key:"menuRoleList",options:{enabled:!0}}),S=U({api:(b=T)==null?void 0:b.serviceList,key:"serviceMasterList",config:{moduleId:x},options:{enabled:!!x}});console.log(o==null?void 0:o.id,"id");const n=(K=(H=g==null?void 0:g.data)==null?void 0:H.data)==null?void 0:K.filter(E=>E.id==u);return console.log(n),console.log((J=g==null?void 0:g.data)==null?void 0:J.data),e.jsx("main",{className:"grid items-start",children:e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[e.jsxs(ye,{open:M,children:[e.jsx(ve,{}),e.jsxs(Se,{className:"sm:max-w-[1200px] h-auto max-h-[700px]  overflow-scroll",children:[e.jsxs(ge,{className:"mt-4 text-xl text-gray-500 font-bold flex justify-between",children:[e.jsxs("div",{children:["Module : ",e.jsx("span",{className:"font-bold text-lg text-yellow-500",children:o==null?void 0:o.module_name})]}),e.jsx("div",{children:e.jsx("span",{children:e.jsx(Ie,{className:"cursor-pointer hover:bg-red-100 rounded-lg inline",onClick:()=>P(!1)})})})]}),e.jsxs(Ve,{defaultValue:"MENULIST",className:"w-full",children:[e.jsx("div",{className:"py-4 flex justify-between",children:e.jsxs(pe,{className:"grid w-auto grid-cols-4",children:[e.jsx(fe,{className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-white",value:"MENULIST",children:"Menu List Master"}),e.jsx(fe,{className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-white",value:"SERVICE_LIST",children:"Service List Master"}),e.jsx(fe,{className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-white",value:"ROLE_LIST",children:"Role List Master"}),e.jsx(fe,{className:"data-[state=active]:bg-yellow-400 data-[state=active]:text-white",value:"WORKFLOW_LIST",children:"WorkFlow Role List Master"})]})}),e.jsx(be,{value:"MENULIST",children:e.jsx(Oe,{id:x,mid:o==null?void 0:o.id,setEdit:v,setOpen:i,edit:j,refetch:S==null?void 0:S.refetch,serviceList:S,moduleName:r,moduleId:o==null?void 0:o.id,menuRoleList:t})}),e.jsx(be,{value:"SERVICE_LIST",children:e.jsx(We,{id:x,setEdit:v,setOpen:i,edit:j,refetch:S==null?void 0:S.refetch,serviceList:S,moduleId:o==null?void 0:o.id,moduleName:r,mId:x})}),e.jsx(be,{value:"ROLE_LIST",children:e.jsx(Ze,{id:x,setEdit:v,setOpen:i,edit:j,refetch:t==null?void 0:t.refetch,serviceList:t,moduleId:o==null?void 0:o.id,moduleName:r,mId:x})}),e.jsx(be,{value:"WORKFLOW_LIST",children:e.jsx(ls,{id:x,setEdit:v,setOpen:i,edit:j,refetch:t==null?void 0:t.refetch,serviceList:t,moduleId:o==null?void 0:o.id,moduleName:r,mId:x})})]})]})]}),e.jsxs(te,{children:[e.jsx(ie,{methods:f,onSubmit:f.handleSubmit(_),children:e.jsxs("div",{className:"grid grid-cols-4 gap-x-2 gap-y-4 bg-background px-10 pt-4",children:[e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"moduleId",children:"Module name"}),e.jsx(Ne,{className:"cursor-pointer bg-background",name:"moduleId",data:((ue=(F=g.data)==null?void 0:F.data)==null?void 0:ue.map(E=>({value:E==null?void 0:E.id,label:E==null?void 0:E.module_name})))??[]})]}),e.jsx("div",{className:"mt-6 flex justify-start",children:e.jsx(je,{variant:"secondary",isLoading:f.formState.isSubmitting,type:"submit",className:"float-right w-auto px-10",children:"Search"})}),e.jsx("div",{className:"mt-6 flex justify-end "}),e.jsx(ze,{open:y,setOpen:i,title:j?"Edit Module":"Add Module",id:x,edit:j,setEdit:v,serviceList:S,moduleList:g})]})}),e.jsx(Ee,{className:"px-7",children:e.jsx(Ae,{})}),e.jsx(le,{children:S.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(ne,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(de,{children:[e.jsx(ce,{children:e.jsxs(z,{children:[e.jsx(p,{className:"",children:"#"}),e.jsx(p,{className:"",children:"Module"}),e.jsx(p,{className:"",children:"Actions"})]})}),e.jsx(re,{children:(Pe=(n==null?void 0:n.length)>0?n:(Y=g==null?void 0:g.data)==null?void 0:Y.data)==null?void 0:Pe.map((E,Le)=>e.jsxs(z,{children:[e.jsx(D,{children:s*O-O+Le+1}),e.jsx(D,{children:E==null?void 0:E.module_name}),e.jsx(D,{children:e.jsxs(W,{variant:"secondary",onClick:()=>{N(E==null?void 0:E.id),w(E==null?void 0:E.module_name),L(E),P(!0)},className:"ml-2",children:[e.jsx(me,{})," View"]})})]},E==null?void 0:E.id))})]}),e.jsx(G,{className:"mb-2 mt-4"}),e.jsx("div",{className:"flex w-full justify-end",children:e.jsx(oe,{currentPage:I,totalItems:B,itemsPerPage:k,onPageChange:h,onItemsPerPageChange:V})})]})})]})]})})}function Ss(){return e.jsx(ke,{title:"Module List (master)",subTitle:"Control all Module here",children:e.jsx("div",{children:e.jsx(ds,{})})})}export{Ss as default};
