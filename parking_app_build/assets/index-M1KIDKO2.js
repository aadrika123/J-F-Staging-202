import{c as p,j as e,I as N,B as w,u as b,p as v}from"./index-CJanrnS1.js";import{b as Y,F as _,$ as T,R as m,B as M}from"./switch-03ThOzMD.js";import{b as k,P as C}from"./index-CbF4Q5F8.js";import{h as n}from"./moment-BjLXg0w5.js";import"./router-DLL89Qev.js";import{C as o,I as g}from"./Image-CdTn_lQm.js";import"./axios-DmypytPv.js";import"./headlessui-DXpdh5LM.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=p("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);function I({collectionReportData:s}){var t,c,r,l,a,d,i,x,f,j,y,u;return s.isLoading?e.jsx("div",{className:"flex justify-center items-center h-72",children:e.jsx(N,{})}):e.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsx(o,{className:"flex flex-col justify-center items-center",children:e.jsxs("div",{className:"flex flex-col justify-center items-center p-2",children:[e.jsx(g,{src:"/assets/image/two 1.jpg",alt:"two-wheeler",width:100,height:110}),e.jsx("h2",{className:"text-sm font-bold text-center text-blue-400",children:"Two Wheeler"}),e.jsx("h2",{className:"text-xs font-bold text-center text-gray-500",children:"Total collection"}),e.jsxs("h2",{className:"text-xl font-bold text-center flex justify-center items-center",children:[e.jsx(h,{size:16}),((r=(c=(t=s==null?void 0:s.data)==null?void 0:t.data)==null?void 0:c.data[0])==null?void 0:r.total_two_wheeler_collection)??0]})]})}),e.jsx(o,{className:"flex flex-col justify-center items-center",children:e.jsxs("div",{className:"flex flex-col justify-center items-center p-2",children:[e.jsx(g,{src:"/assets/image/car 1.jpg",alt:"two-wheeler",width:100,height:110}),e.jsx("h2",{className:"text-sm font-bold text-center text-blue-400",children:"Four Wheeler"}),e.jsx("h2",{className:"text-xs font-bold text-center text-gray-500",children:"Total collection"}),e.jsxs("h2",{className:"text-xl font-bold text-center flex justify-center items-center",children:[e.jsx(h,{size:16}),((d=(a=(l=s==null?void 0:s.data)==null?void 0:l.data)==null?void 0:a.data[0])==null?void 0:d.total_four_wheeler_collection)??0]})]})}),e.jsx("div",{className:"col-span-2",children:e.jsxs(o,{className:"w-full p-2",children:[e.jsx("h2",{className:"text-sm font-bold text-center text-gray-500",children:"Total Amount"}),e.jsxs("h2",{className:"text-xl font-bold text-center flex justify-center items-center",children:[e.jsx(h,{size:16}),((f=(x=(i=s==null?void 0:s.data)==null?void 0:i.data)==null?void 0:x.data[0])==null?void 0:f.total_amount)??0]})]})}),((u=(y=(j=s==null?void 0:s.data)==null?void 0:j.data)==null?void 0:y.data[0])==null?void 0:u.total_amount)>0?e.jsx("div",{className:"col-span-2 flex justify-center items-center mt-4",children:e.jsx(w,{size:"sm",onClick:()=>window.print(),children:e.jsx("small",{children:"PRINT RECEIPT"})})}):null]})}function $(){var d;const{user:s}=b(),t=Y({defaultValues:{collectionType:"daily",month:n().format("YYYY-MM"),from_date:n().format("YYYY-MM-DD"),to_date:n().format("YYYY-MM-DD")}}),c=()=>{a==null||a.refetch()},{handleSubmit:r,watch:l}=t,a=k({api:(d=v)==null?void 0:d.inChargeDayWise,key:"inChargeDayWise",config:{...t.watch().collectionType==="daily"&&{incharge_id:s==null?void 0:s.emp_id,from_date:l("from_date"),to_date:l("to_date")},...t.watch().collectionType==="monthly"&&{incharge_id:s==null?void 0:s.emp_id,month:n(l("month")).format("MM"),year:n(l("month")).format("YYYY")}},value:[s==null?void 0:s.emp_id],options:{enabled:!!(s!=null&&s.emp_id)}});return e.jsx(C,{title:"Collection Report",children:e.jsx("div",{className:"py-4 mx-auto px-2",children:e.jsx("div",{children:e.jsxs("div",{className:"px-5",children:[e.jsxs(_,{methods:t,onSubmit:r(c),children:[e.jsxs("div",{className:"flex justify-between items-baseline gap-6",children:[e.jsxs("div",{className:"flex justify-center items-center gap-1",children:[e.jsx("input",{type:"radio",id:"daily",name:"collectionType",value:"daily",className:"w-4 h-4",onChange:i=>t.setValue("collectionType",i.target.value),checked:t.watch("collectionType")==="daily"}),e.jsx("h1",{className:"text-gray-800 text-sm font-semibold",children:"Daily Collection"})]}),e.jsxs("div",{className:"flex justify-center items-center gap-1",children:[e.jsx("input",{type:"radio",id:"monthly",name:"collectionType",value:"monthly",className:"w-4 h-4",onChange:i=>t.setValue("collectionType",i.target.value),checked:t.watch("collectionType")==="monthly"}),e.jsx("h1",{className:"text-gray-800 text-sm font-semibold",children:"Monthly Collection"})]})]}),e.jsx(T,{className:"w-full h-[0.1px] bg-gray-200 my-3"}),e.jsxs("div",{className:"grid grid-cols-1 gap-0 w-full mt-1",children:[e.jsxs("div",{children:[t.watch("collectionType")==="daily"&&e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{children:e.jsx(m,{className:"w-full h-10 border border-gray-300 rounded-lg",name:"from_date",placeholder:"DD/MM/YYYY",type:"date"})}),e.jsx("div",{children:e.jsx(m,{className:"w-full h-10 border border-gray-300 rounded-lg",name:"to_date",placeholder:"DD/MM/YYYY",type:"date"})})]}),t.watch("collectionType")==="monthly"&&e.jsx(m,{className:"w-full h-10 border border-gray-300 rounded-lg",name:"month",type:"month"})]}),e.jsx("div",{className:"flex justify-center w-full mt-4",children:e.jsx(M,{type:"submit",size:"sm",className:"w-full",isLoading:a==null?void 0:a.isFetching,children:"Submit"})})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(I,{collectionReportData:a})})]})})})})}export{$ as default};
