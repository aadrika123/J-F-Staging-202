import{u as Y,j as t,I as C,B as M,p as L}from"./index-BLDGBe5Q.js";import{P as u}from"./index-Jyprznmc.js";import{C as B,I as w}from"./Image-B7ZBmgTL.js";import{c as S}from"./useCustomQuery-8xe5R9yP.js";import{h as a}from"./moment-BjLXg0w5.js";import{S as P}from"./separator-Dl8zsliE.js";import{b as H}from"./router-DLL89Qev.js";import"./axios-DmypytPv.js";import"./headlessui-DXpdh5LM.js";function X(){var o,r,l,i,n,c,x,d,h,f;const{user:e}=Y(),T=H(),m=new URLSearchParams(T.search).get("receipt_no"),s=S({api:`${L.inReceipt}/${m}`,key:"outReceipt",options:{enabled:!!m}}),k=((r=(o=s==null?void 0:s.data)==null?void 0:o.data)==null?void 0:r.parking_area)??"NA",A=()=>{var j,p,N,b,y,g,_,v;return"[C]"+(e==null?void 0:e.ulb_name)+`
[C]Parking
*******************************
 
Receipt no: `+((p=(j=s==null?void 0:s.data)==null?void 0:j.data)==null?void 0:p.receipt_no)+`
Date: `+a((b=(N=s==null?void 0:s.data)==null?void 0:N.data)==null?void 0:b.date).format("DD-MM-YYYY")+`
In-Time:: `+a((g=(y=s==null?void 0:s.data)==null?void 0:y.data)==null?void 0:g.in_time,"HH:mm").format("hh:mm A")+`
Amount: `+((v=(_=s==null?void 0:s.data)==null?void 0:_.data)==null?void 0:v.amount)+`
Incharge ID: `+(e==null?void 0:e.emp_id)+`
Area : `+k+`

Thank You for using our service!

*******************************`},I=()=>{window.ReactNativeWebView&&window.ReactNativeWebView.postMessage(JSON.stringify({Key:"PRINT_FOR_BT_PRINTER",keyData:{charPerLine:32,printTxt:A()}}))};return s!=null&&s.isLoading?t.jsx("div",{className:"flex justify-center items-center h-[700px]",children:t.jsx(C,{})}):t.jsx(u,{title:"Receipt",children:t.jsx("div",{className:"p-4",children:t.jsx(B,{children:t.jsxs("div",{className:"flex flex-col justify-center items-center py-8 px-10",children:[t.jsx("div",{children:t.jsx(w,{src:(e==null?void 0:e.ulb_logo)??"/assets/image/RMC_LOGO.png",alt:"receipt"})}),t.jsx("div",{className:"flex flex-col md:flex-row",children:t.jsxs("div",{className:"flex flex-col justify-center items-center",children:[t.jsx("div",{className:"flex mt-2 ",children:t.jsx("h2",{className:"text-[#585858] font-bold text-lg text-center",children:e==null?void 0:e.ulb_name})}),t.jsxs("div",{className:"flex flex-row justify-center items-center",children:[t.jsx("h1",{className:"text-md font-bold break-words text-[#1436C3]",children:"Parking Management System"}),t.jsx(w,{src:"/assets/image/bus 1.png",alt:"Bus",className:"ml-2 max-w-full h-5 w-5"})]})]})}),t.jsx(P,{className:"mt-5 mb-5"}),t.jsxs("div",{className:"grid grid-cols-2 gap-x-20 gap-y-2",children:[t.jsx("h1",{className:"text-sm font-semibold text-gray-600 ",children:"Date:"}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:a((i=(l=s==null?void 0:s.data)==null?void 0:l.data)==null?void 0:i.date).format("DD-MM-YYYY")}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"In Time:"}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:a((c=(n=s==null?void 0:s.data)==null?void 0:n.data)==null?void 0:c.in_time,"HH:mm").format("hh:mm A")}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Amount:"}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:(d=(x=s==null?void 0:s.data)==null?void 0:x.data)==null?void 0:d.amount}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:"Receipt no:"}),t.jsx("h1",{className:"text-sm font-semibold text-gray-600",children:(f=(h=s==null?void 0:s.data)==null?void 0:h.data)==null?void 0:f.receipt_no})]}),t.jsx(P,{className:"mt-5 mb-5"}),t.jsx("div",{className:"flex justify-center w-full",children:t.jsx(M,{size:"sm",onClick:I,children:"Print Receipt"})})]})})})})}export{X as default};
