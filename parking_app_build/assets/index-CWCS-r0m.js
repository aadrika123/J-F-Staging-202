import{c as u,j as e,I as y,u as p,p as g}from"./index-BLDGBe5Q.js";import{b as N,F as w,$ as b,R as f,B as Y}from"./switch-6rPIsdF2.js";import{b as v}from"./useCustomQuery-8xe5R9yP.js";import{P as _}from"./index-Jyprznmc.js";import{h as d}from"./moment-BjLXg0w5.js";import{r as M}from"./router-DLL89Qev.js";import{C as o,I as j}from"./Image-B7ZBmgTL.js";import"./axios-DmypytPv.js";import"./headlessui-DXpdh5LM.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m=u("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);function T({collectionReportData:t}){var s,r,n,i,a,c,l,x,h;return t.isLoading?e.jsx("div",{className:"flex justify-center items-center h-72",children:e.jsx(y,{})}):e.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[e.jsx(o,{className:"flex flex-col justify-center items-center",children:e.jsxs("div",{className:"flex flex-col justify-center items-center p-2",children:[e.jsx(j,{src:"/assets/image/two 1.jpg",alt:"two-wheeler",width:100,height:110}),e.jsx("h2",{className:"text-sm font-bold text-center text-blue-400",children:"Two Wheeler"}),e.jsx("h2",{className:"text-xs font-bold text-center text-gray-500",children:"Total collection"}),e.jsxs("h2",{className:"text-xl font-bold text-center flex justify-center items-center",children:[e.jsx(m,{size:16}),((n=(r=(s=t==null?void 0:t.data)==null?void 0:s.data)==null?void 0:r.data[0])==null?void 0:n.total_two_wheeler_collection)??0]})]})}),e.jsx(o,{className:"flex flex-col justify-center items-center",children:e.jsxs("div",{className:"flex flex-col justify-center items-center p-2",children:[e.jsx(j,{src:"/assets/image/car 1.jpg",alt:"two-wheeler",width:100,height:110}),e.jsx("h2",{className:"text-sm font-bold text-center text-blue-400",children:"Four Wheeler"}),e.jsx("h2",{className:"text-xs font-bold text-center text-gray-500",children:"Total collection"}),e.jsxs("h2",{className:"text-xl font-bold text-center flex justify-center items-center",children:[e.jsx(m,{size:16}),((c=(a=(i=t==null?void 0:t.data)==null?void 0:i.data)==null?void 0:a.data[0])==null?void 0:c.total_four_wheeler_collection)??0]})]})}),e.jsx("div",{className:"col-span-2",children:e.jsxs(o,{className:"w-full p-2",children:[e.jsx("h2",{className:"text-sm font-bold text-center text-gray-500",children:"Total Amount"}),e.jsxs("h2",{className:"text-xl font-bold text-center flex justify-center items-center",children:[e.jsx(m,{size:16}),((h=(x=(l=t==null?void 0:t.data)==null?void 0:l.data)==null?void 0:x.data[0])==null?void 0:h.total_amount)??0]})]})})]})}function S(){var c;const{user:t}=p(),s=N({defaultValues:{collectionType:"daily",month:d().format("YYYY-MM"),from_date:d().format("YYYY-MM-DD"),to_date:d().format("YYYY-MM-DD")}}),r=()=>{a==null||a.refetch()},{handleSubmit:n,watch:i}=s,a=v({api:(c=g)==null?void 0:c.inChargeDayWise,key:"inChargeDayWise",config:{incharge_id:t==null?void 0:t.emp_id,from_date:i("from_date"),to_date:i("to_date")},value:[t==null?void 0:t.emp_id],options:{enabled:!!(t!=null&&t.emp_id)}});return M.useEffect(()=>{s.watch("collectionType")==="daily"&&(s.setValue("from_date",d().format("YYYY-MM-DD")),s.setValue("to_date",d().format("YYYY-MM-DD")))},[s.watch("collectionType")]),e.jsx(_,{title:"Collection Report",children:e.jsx("div",{className:"py-4 mx-auto px-2",children:e.jsx("div",{children:e.jsxs("div",{className:"px-5",children:[e.jsxs(w,{methods:s,onSubmit:n(r),children:[e.jsxs("div",{className:"flex justify-between items-baseline gap-6",children:[e.jsxs("div",{className:"flex justify-center items-center gap-1",children:[e.jsx("input",{type:"radio",id:"daily",name:"collectionType",value:"daily",className:"w-4 h-4",onChange:l=>s.setValue("collectionType",l.target.value),checked:s.watch("collectionType")==="daily"}),e.jsx("h1",{className:"text-gray-800 text-sm font-semibold",children:"Daily Collection"})]}),e.jsxs("div",{className:"flex justify-center items-center gap-1",children:[e.jsx("input",{type:"radio",id:"monthly",name:"collectionType",value:"monthly",className:"w-4 h-4",onChange:l=>s.setValue("collectionType",l.target.value),checked:s.watch("collectionType")==="monthly"}),e.jsx("h1",{className:"text-gray-800 text-sm font-semibold",children:"Monthly Collection"})]})]}),e.jsx(b,{className:"w-full h-[0.1px] bg-gray-200 my-3"}),e.jsxs("div",{className:"grid grid-cols-1 gap-0 w-full mt-1",children:[e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{children:e.jsx(f,{disabled:s.watch("collectionType")==="daily",className:"w-full h-10 border border-gray-300 rounded-lg",name:"from_date",placeholder:"DD/MM/YYYY",type:"date"})}),e.jsx("div",{children:e.jsx(f,{disabled:s.watch("collectionType")==="daily",className:"w-full h-10 border border-gray-300 rounded-lg",name:"to_date",placeholder:"DD/MM/YYYY",type:"date"})})]})}),e.jsx("div",{className:"flex justify-center w-full mt-4",children:e.jsx(Y,{type:"submit",size:"sm",className:"w-full",isLoading:a==null?void 0:a.isFetching,children:"Submit"})})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(T,{collectionReportData:a})})]})})})})}export{S as default};
