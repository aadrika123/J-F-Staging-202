import{j as e,c as u,P as j,b}from"./index-IsWPsZnr.js";import{h as g,d as h}from"./router-FGqGJA6w.js";import{r as n}from"./tailwind-tCHD1pCF.js";import{u as N,F as y,T as m,S as f}from"./TextArea-zT3GImMl.js";import{b as v}from"./useCustomQuery-D8BRNTo5.js";import{S}from"./index-37NaWw_J.js";import"./moment-I12WB224.js";import"./reactQuery-FJqsWYpp.js";import"./reactQueryDevtools-6dm9iask.js";import"./axios-HRLWQzqE.js";import"./reactIcons-e-z9r7Pm.js";import"./reactLazyLoadImageComponent-iRaVQCNa.js";import"./headlessui-KSSrLZ1r.js";function D({data:s}){const o=g();return e.jsx(e.Fragment,{children:s==null?void 0:s.map((a,r)=>e.jsx(n.Card,{className:"mt-4",children:e.jsxs(n.CardBody,{children:[e.jsxs("h1",{className:"text-sm font-semibold text-blue-gray-500 mt-2",children:["Sno : ",r+1]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Challan No"}),e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Name"}),e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Date:"}),e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Amount:"}),e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Type:"}),e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Violation Section:"}),e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Violation Place"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.challan_no)||"NA"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.full_name)||"NA"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.challan_date)||"NA"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.total_amount)||"NA"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.challan_type)||"NA"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.violation_section)||"NA"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.violation_place)||"NA"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("h1",{className:"text-xs font-semibold text-blue-gray-500 mt-2",children:"Violation Name:"}),e.jsx("p",{className:"text-xs  text-blue-gray-500 mt-2",children:(a==null?void 0:a.violation_name)||"NA"})]})]}),e.jsx("div",{className:"border-t border-gray-200 my-4"}),e.jsx("div",{className:"flex justify-between mt-4",children:e.jsx("button",{className:"text-xs w-full bg-blue-800 text-white py-1.5 rounded-md",onClick:()=>{o("/fines-app/challan-receipt/".concat(a.challan_id))},children:"View Challan"})})]})},r))})}function E(){var c,x,i,d;const[s,o]=h.useState(1),[a,r]=h.useState(10),t=N({initialValues:{fromDate:new Date().toISOString().split("T")[0],uptoDate:new Date().toISOString().split("T")[0],type:"mobile",challanType:"",perPage:a,page:s},onSubmit:async _=>{p()}}),l=v({api:u.api_challan_report,config:{fromDate:t.values.fromDate,uptoDate:t.values.uptoDate,challanType:t.values.challanType,type:t.values.type,page:s,perPage:a},value:[s,a],options:{enabled:!0}}),p=()=>{l.refetch()};return e.jsx(j,{title:"Challan Report",children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"",children:e.jsx("h1",{className:"text-base font-semibold text-blue-gray-500",children:"Challan Report"})}),e.jsx(n.Card,{className:"mt-2",children:e.jsx(n.CardBody,{children:e.jsxs(y,{formik:t,children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(m,{name:"fromDate",label:"From Date",type:"date"})}),e.jsx("div",{children:e.jsx(m,{name:"uptoDate",label:"Upto Date",type:"date"})}),e.jsx("div",{className:"col-span-2",children:e.jsxs(f,{name:"challanType",formik:t,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"On Spot",children:"On Spot"}),e.jsx("option",{value:"Verification",children:"Verification"})]})})]}),e.jsx("div",{className:"border-t border-gray-200 mb-4"}),e.jsx("div",{className:"flex justify-end ",children:e.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 text-xs",children:"Search"})})]})})}),e.jsx("div",{className:"mt-4",children:l.isLoading?e.jsx(b,{}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between",children:e.jsx(S,{page:s,setPage:o,perPage:a,setPerPage:r,noOfPage:(x=(c=l==null?void 0:l.data)==null?void 0:c.data)==null?void 0:x.last_page})}),e.jsx(D,{data:((d=(i=l.data)==null?void 0:i.data)==null?void 0:d.data)||[]})]})})]})})}export{E as default};
