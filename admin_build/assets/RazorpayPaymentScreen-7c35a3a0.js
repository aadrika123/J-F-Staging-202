import{a as n,a6 as d}from"./index-28e798bd.js";const{verifyPaymentStatus:i}=d();let l=window.localStorage.getItem("token");console.log("token at basic details is post method...",l);const c={headers:{Authorization:`Bearer ${l}`,Accept:"application/json"}};async function m(o,r){let e;var s={key:"rzp_test_3MPOKRI8WOd54p",amount:o.amount,currency:"INR",image:"http://192.168.0.16:822/RMCDMC/public/assets/img/logo1.png",name:"JUDCO Corp.",description:"This is used for Testing Purpose",order_id:o.orderId,handler:async function(a){p(a),console.log("All response",a),console.log("Payment ID",a.razorpay_payment_id),e="data from handle: payment success",r({status:!0,message:"Payment Success",data:a})},prefill:{name:o.name,email:o.email,contact:o.mobile},modal:{ondismiss:function(a){console.log("Payment Cancel BY user",a)},onfailed:function(a){console.log("Payment Failed Response modal",a)}},notes:{ulbId:o.ulbId||0,departmentId:o.departmentId||0,applicationId:o.applicationId||0,workflowId:o.workflowId||0,userId:o.userId||0,name:o.name||0,email:o.email||0,contact:o.mobile||0},theme:{color:"#3399cc"}},t=new window.Razorpay(s);return t.on("payment.failed",function(a){console.log("Failed Response",a),y(a),r({status:!1,message:"Payment Failed",data:a})}),t.open(),e}const p=o=>{const r={razorpayOrderId:o.razorpay_order_id,razorpayPaymentId:o.razorpay_payment_id,razorpaySignature:o.razorpay_signature};n.post(i,r,c).then(e=>{console.log("2nd API Data saved ",e)}).catch(e=>{console.log("Error when inserting 2 api data ",e)})},y=o=>{const r={razorpayOrderId:o.error.metadata.order_id,razorpayPaymentId:o.error.metadata.payment_id,reason:o.error.reason,source:o.error.source,step:o.error.step,code:o.error.code,description:o.error.description};return n.post(i,r,c).then(e=>{console.log("2nd API Filed Data saved ",e)}).catch(e=>{console.log("Error when inserting 2 api Failed data ",e)}),m};export{m as R};
