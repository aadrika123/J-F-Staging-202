import{r as o,a9 as Y,d as O,e as $,f as q,R as A,m as _,a as v,w as P,j as e,M as D,aa as L,ab as ae,L as K,s as te,ac as Q,p as T,N as z,T as re,U as le,c as Z,ad as ne,z as oe,b as ie}from"./index-28e798bd.js";import{u as F}from"./useQuery-ec8ec185.js";import{B as E,T as X,a as B}from"./Box-a6535f77.js";import{T as ee}from"./Typography-902272c4.js";import{c as de}from"./index.esm-78653050.js";import{d as ce}from"./index.esm-57236a7d.js";import{F as me,N as ue,a as pe,L as xe}from"./NavigateNext-a536cd09.js";import{S as se}from"./Switch-59bc821e.js";import{c as he}from"./index.esm-68e42516.js";import{e as be}from"./index.esm-f9b3db75.js";import"./useThemeProps-0fc4be64.js";import"./createSvgIcon-9580f4f7.js";import"./SwitchBase-ca124ac3.js";import"./useFormControl-3329960a.js";const ge={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function fe(s){const[t,p]=o.useState(),{ulbListApi:i}=Y(),h=O({roleName:$().required("This is a required field !")}),a=q({initialValues:{roleName:""},onSubmit:g=>{m(g)},validationSchema:h}),f=g=>a.values.roleName=g.target.value,[d,b]=A.useState(!1),y=_(),m=g=>{console.log("Data to be saved",g);const n={roleName:g.roleName};v.post(P+"/api/crud/roles/save-role",n,y).then(l=>(console.log("Role saved successfully",l),c())).catch(l=>(console.log("Failed to save the Role",l),c()))};o.useEffect(()=>{s.openAddNewRoleModal>0&&b(!0)},[s.openAddNewRoleModal]);function u(){}function c(){b(!1),s.refetchListOfRoles()}return o.useEffect(()=>{v.get(i).then(function(g){p(g.data)}).catch(function(g){console.log("Error",g)})},[]),e.jsx("div",{className:"",children:e.jsx(D,{isOpen:d,onAfterOpen:u,onRequestClose:c,style:ge,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-300 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-xl font-semibold",children:["Add New Role"," "]}),e.jsxs("p",{onClick:c,className:"float-right cursor-pointer rounded-full bg-sky-200 hover:bg-gray-200 mx-3",children:[" ",e.jsx(L,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:a.handleSubmit,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Role Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"roleName",onChange:f,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.roleName&&a.errors.roleName?a.errors.roleName:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"border border-green-400 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm py-1 text-base font-semibold px-3 m-3",children:[" ","Submit"," "]})})]})})]})})})}const je={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Ne(s){const[t,p]=A.useState(!1);_();const i=f=>{console.log("ID to be deleted",f);const d={id:f};v.delete(P+"/api/crud/roles/delete-role",d,ae()).then(b=>(console.log("Role Deleted successfully",b),a())).catch(b=>(console.log("Failed to Deleted the Role",b),a()))};o.useEffect(()=>{s.openDeleteModal>0&&p(!0)},[s.openDeleteModal]);function h(){}function a(){p(!1),s.refetchListOfRoles()}return e.jsx("div",{className:"",children:e.jsx(D,{isOpen:t,onAfterOpen:h,onRequestClose:a,style:je,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-300 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-xl font-semibold",children:["Are you sure to Delete ? ",s.deleteRoleId," "]}),e.jsxs("p",{onClick:a,className:"float-right cursor-pointer rounded-full bg-sky-200 hover:bg-gray-200 mx-3",children:[" ",e.jsx(L,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsxs("div",{className:"flex justify-center",children:[e.jsxs("button",{onClick:()=>i(s.deleteRoleId),className:"border border-red-400 bg-red-600 hover:bg-red-500 text-white hover:text-black shadow-lg rounded-sm py-1 text-base font-semibold px-3 m-3",children:[" ","Yes, Delete"," "]}),e.jsxs("button",{onClick:a,className:"border border-green-400 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm py-1 text-base font-semibold px-3 m-3",children:[" ","Cancel"," "]})]})]})})})}const ye={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function we(s){var c,g,n;let t=(c=s==null?void 0:s.editRoleId)==null?void 0:c.id,p=(g=s==null?void 0:s.editRoleId)==null?void 0:g.role_name,i=(n=s==null?void 0:s.editRoleId)==null?void 0:n.is_suspended;const h=O({roleName:$().required("This is a required field !"),roleStatus:$().required("This is a required field !")}),a=q({enableReinitialize:!0,initialValues:{roleName:p,roleStatus:i},onSubmit:l=>{y(l)},validationSchema:h}),[f,d]=A.useState(!1),b=_(),y=l=>{console.log("Data to be Update",l),console.log("roleId=======",t);const j={id:t,roleName:l.roleName,isSuspended:l.roleStatus};v.put(P+"/api/crud/roles/edit-role",j,b).then(r=>(console.log("Role Update successfully",r),u())).catch(r=>(console.log("Failed to Update the Role",r),u()))};o.useEffect(()=>{s.openModelForEdit>0&&d(!0)},[s.openModelForEdit]);function m(){}function u(){d(!1),s.refetchListOfRoles()}return e.jsx("div",{className:"",children:e.jsx(D,{isOpen:f,onAfterOpen:m,onRequestClose:u,style:ye,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-300 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-xl font-semibold",children:["Edit Role : ",t," "]}),e.jsxs("p",{onClick:u,className:"float-right cursor-pointer rounded-full bg-sky-200 hover:bg-gray-200 mx-3",children:[" ",e.jsx(L,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:a.handleSubmit,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Role Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"roleName",onChange:a.handleChange,value:a.values.roleName,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.roleName&&a.errors.roleName?a.errors.roleName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Status",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"roleStatus",onChange:a.handleChange,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{children:"Select"}),e.jsx("option",{selected:!i,value:"0",children:"Active"}),e.jsx("option",{selected:i,value:"1",children:"Suspended"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.roleStatus&&a.errors.roleStatus?a.errors.roleStatus:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"border border-green-400 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm py-1 text-base font-semibold px-3 m-3",children:[" ","Submit"," "]})})]})})]})})})}function ve(s){const[t,p]=o.useState(0),[i,h]=o.useState(0),[a,f]=o.useState(0),[d,b]=o.useState(),[y,m]=o.useState(),u=M=>{h(R=>R+1),b(M)},c=M=>{f(R=>R+1),m(M),console.log("id to be edit is",M)};console.log("editRoleId",y),o.useEffect(()=>{r()},[s.refetchList]);const g=_(),n=[{Header:"#",Cell:({row:M})=>e.jsx("div",{className:"pr-2",children:M.index+1})},{Header:"Role Name",accessor:"role_name"},{Header:"Created at",accessor:"created_at",Cell:({value:M})=>Q(new Date(M),"dd/MM/yyyy")},{Header:"Status",accessor:"is_suspended",Cell:M=>e.jsxs("p",{children:[M.value==!0&&e.jsx("p",{className:"bg-red-400 text-white font-semibold text-center px-1 py-0.5 rounded-md",children:"Suspended"}),M.value==!1&&e.jsx("p",{className:"bg-green-400 text-white font-semibold text-center px-1 py-0.5 rounded-md",children:"Active"})]})},{Header:"Action",accessor:"id",Cell:({cell:M})=>e.jsxs("div",{children:[e.jsx("button",{onClick:()=>c(M.row.values),className:"bg-sky-200 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white text-black",children:"Edit"}),e.jsx("button",{onClick:()=>u(M.row.values.id),className:"bg-red-300 mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white text-black",children:"Delete"})]})}],{isLoading:l,data:j,refetch:r,isError:w,error:C}=F("get-all-roleserew-query",()=>v.get(P+"/api/crud/roles/get-all-roles",g));return e.jsxs(e.Fragment,{children:[e.jsx(fe,{openAddNewRoleModal:t,refetchListOfRoles:r}),e.jsx(we,{openModelForEdit:a,editRoleId:y,refetchListOfRoles:r}),e.jsx(Ne,{openDeleteModal:i,deleteRoleId:d,refetchListOfRoles:r}),l&&e.jsx("h1",{children:"Looading ..."}),!l&&e.jsx(K,{assessmentType:!1,columns:n,dataList:j==null?void 0:j.data.data,children:e.jsxs("button",{onClick:()=>p(t+1),className:"float-right bg-green-500 px-3 py-1 rounded-sm shadow-lg hover:shadow-xl hover:bg-green-800 hover:text-white text-white flex items-center",children:[e.jsx(te,{})," Add Role"]})})]})}function J(s){const{children:t,value:p,index:i,...h}=s;return e.jsx("div",{role:"tabpanel",hidden:p!==i,id:`simple-tabpanel-${i}`,"aria-labelledby":`simple-tab-${i}`,...h,children:p===i&&e.jsx(E,{sx:{p:3},children:e.jsx(ee,{children:t})})})}J.propTypes={children:T.node,index:T.number.isRequired,value:T.number.isRequired};function Me(s){return{id:`simple-tab-${s}`,"aria-controls":`simple-tabpanel-${s}`}}function Se(){const[s,t]=o.useState(0),[p,i]=o.useState(""),[h,a]=o.useState("Details"),[f,d]=o.useState(!1),[b,y]=o.useState(0),m=(l,j)=>{t(j)},u=()=>{a("Add"),d(l=>l+1)},c=l=>{a("View"),d(j=>j+1),i(l)},g=l=>{a("Edit"),d(j=>j+1),i(l)},n=l=>{a("Delete"),d(j=>j+1),i(l)};return e.jsx(e.Fragment,{children:e.jsxs(E,{sx:{width:"100%"},children:[e.jsx(E,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsx(X,{value:s,onChange:m,"aria-label":"basic tabs example",children:e.jsx(B,{label:"List",...Me(0)})})}),e.jsx(J,{value:s,index:0,children:e.jsx(ve,{add:u,view:c,edit:g,delete:n,refetchList:b})}),e.jsx(J,{value:s,index:1})]})})}function ke({searchText:s,filter:t,setFilter:p}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"my-2 flex",children:[e.jsxs("p",{className:"mx-2 font-semibold",children:[" Search ",s," : "]}),e.jsx("input",{className:"border-2 border-gray-600 px-2 bg-gray-200 rounded-sm",type:"text",value:t||"",onChange:i=>p(i.target.value)})]})})}function G({searchText:s,fun:t,columns:p,data:i,...h}){const[a,f]=o.useState("hidden"),{getTableProps:d,getTableBodyProps:b,headerGroups:y,prepareRow:m,page:u,canPreviousPage:c,canNextPage:g,pageOptions:n,pageCount:l,gotoPage:j,nextPage:r,previousPage:w,setGlobalFilter:C,setPageSize:M,state:{pageIndex:R,pageSize:x,selectedRowIds:N,globalFilter:I}}=z.useTable({columns:p,data:i,initialState:{pageIndex:0}},z.useGlobalFilter,z.useSortBy,z.usePagination);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"overflow-hidden",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-initial",children:e.jsx(ke,{searchText:s,filter:I,setFilter:C})}),e.jsx("div",{className:"ml-2",children:e.jsxs("button",{className:"bg-sky-400 px-3 my-2 pr-3  shadow-lg rounded py-1 text-white hover:shadow-2xl hover:bg-green-600 text-center relative",onMouseEnter:()=>f(""),onMouseLeave:()=>f("hidden"),children:[e.jsx(re,{data:i,children:" Export"}),e.jsx("div",{className:a+" absolute h-full top-3 text-sm left-0 text-center animate-bounce",children:e.jsx(le,{})})]})})]}),e.jsxs("table",{...d(),className:"min-w-full leading-normal",children:[e.jsx("thead",{className:"font-bold text-center text-sm bg-green-300",children:y.map(S=>e.jsx("tr",{className:"",...S.getHeaderGroupProps(),children:S.headers.map(k=>e.jsx("th",{className:"px-2 py-3 border-b border-gray-200 text-gray-800 text-xs uppercase text-left",...k.getHeaderProps(k.getSortByToggleProps()),children:e.jsxs("div",{className:"flex",children:[e.jsxs("span",{children:[" ",k.render("Header")]}),e.jsxs("span",{className:"mt-0.5 mx-2",children:[" ",!k.isSorted&&e.jsx(ce,{size:14})," "]}),e.jsx("span",{children:k.isSorted?k.isSortedDesc?" ðŸ”½":" ðŸ”¼":""})]})}))}))}),e.jsx("tbody",{...b(),children:u.map((S,k)=>(m(S),e.jsx("tr",{className:"",...S.getRowProps(),children:S.cells.map(U=>e.jsx("td",{style:{backgroundColor:S.isSelected?"#b6fcc0":"",color:S.isSelected?"#000000":""},className:"px-2 py-2 bg-green-50 text-left leading-4 text-sm text-gray-700 tracking-wider border-b",...U.getCellProps(),children:U.render("Cell")}))})))})]})]}),e.jsxs("div",{className:"pagination grid grid-cols-12 mt-5 px-5",children:[e.jsxs("div",{className:"col-span-4",children:[e.jsxs("button",{className:"hover:bg-gray-300 cursor-pointer",onClick:()=>j(0),disabled:!c,children:[" ",e.jsx(me,{})," "]})," ","  ",e.jsxs("button",{className:"hover:bg-gray-300 cursor-pointer",onClick:()=>w(),disabled:!c,children:[e.jsx(ue,{})," "]})," ",e.jsx("button",{className:"hover:bg-gray-300 cursor-pointer",onClick:()=>r(),disabled:!g,children:e.jsx(pe,{})})," "," ",e.jsx("button",{className:"hover:bg-gray-300 cursor-pointer",onClick:()=>j(l-1),disabled:!g,children:e.jsx(xe,{})})," "," "]}),e.jsx("div",{className:"col-span-4 justify-self-center",children:e.jsxs("span",{children:["Page"," ",e.jsxs("strong",{children:[R+1," of ",n.length]})," "]})}),e.jsx("div",{className:"col-span-4 justify-self-end",children:e.jsx("select",{className:"h-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm focus:ring-blue-500 focus:border-blue-500 block p-2.5 ",value:x,onChange:S=>{M(Number(S.target.value))},children:[5,10,20,30,40,50].map(S=>e.jsxs("option",{value:S,children:["Show ",S]},S))})})]})]})}function _e(){let s=P;return{header:_(),api_ulbList:`${s}/api/get-all-ulb`,api_getSafHoldingDetails:`${s}/api/water/search-holding-saf`,api_getPendingApplicationDetails:`${s}/api/water/application/get-by-id`,api_waterApprovedApplicationDetails:`${s}/api/water/consumer/get-listed-details`,api_waterConsumerPaymentHistory:`${s}/api/water/consumer/get-payment-history`,api_getProfileDetails:`${s}/api/my-profile-details`,api_NewWaterConnection:`${s}/api/water/application/apply-new-connection`,api_WaterGetDetailsById:`${s}/api/water/admin/application/get-details-by-id`,api_WaterListDetailsById:`${s}/api/water/admin/application/list-details-by-date`,api_paymentReceipt:`${s}/api/water/admin/application/generate-payment-receipt`,api_waterListDemand:`${s}/api/water/consumer/list-demand`,api_waterSiteInspectionList:`${s}/api/water/admin/search-application`,api_waterMasterData:`${s}/api/water/master/get-listed-details`,api_waterSiteInspectionSaveData:`${s}/api/water/site-verification/save-site-details`,api_waterPayConnectionCharges:`${s}/api/water/application/payment/offline/pay-connection-charge`,api_waterApplicationPaymentHistory:`${s}/api/water/application/payment/get-payment-history`,api_waterInspectionSaveDate:`${s}/api/water/admin/application/save-inspection-date`,api_waterInspectionDetails:`${s}/api/water/admin/application/site-inspection-details`,api_waterCancelSiteInspection:`${s}/api/water/admin/application/cancel-inspection-scheduling`,api_waterGenerateDemand:`${s}/api/water/admin/consumer/generate-demand`,api_saveConnectionMeter:`${s}/api/water/admin/consumer/save-connection-meter`,api_consumerGetMeterList:`${s}/api/water/admin/consumer/get-meter-list`,api_waterInbox:`${s}/api/water/inbox`,api_waterOutbox:`${s}/api/water/outbox`,api_waterSpecialInbox:`${s}/api/water/special-inbox`,api_waterPendingApplicationById:`${s}/api/water/workflow/application/get-by-id`,api_waterPostMessage:`${s}/api/water/comment-independent`,api_waterPostNextLevel:`${s}/api/water/post-next-level`,api_waterEsclate:`${s}/api/water/escalate`,api_waterApproveRejectApplication:`${s}/api/water/application/approval-rejection`,api_waterVerifyDoc:`${s}/api/workflow/document/verify-reject`,api_waterDocList:`${s}/api/water/get-upload-documents`,api_waterListFieldVerifyInbox:`${s}/api/water/field-verified-inbox`,api_waterBtcListInbox:`${s}/api/water/btc-inbox`,api_backToCitizen:`${s}/api/water/back-to-citizen`,api_waterPostCustomData:`${s}/api/post-custom-data`,api_waterGetCustomDataTab:`${s}/api/get-all-custom-tab-data`,api_waterListDocToUpload:`${s}/api/water/workflow/get-doc-list`,api_waterSearchConsumer:`${s}/api/water/search-consumer`,api_waterSearchActiveApplication:`${s}/api/water/application/search`,api_waterUploadDocument:`${s}/api/water/upload-document`,api_menuMasterDelete:`${s}/api/crud/menu/delete-menues`,api_addNewMenu:`${s}/api/crud/menu/add-new-menues`,api_listParentSetial:`${s}/api/menu-roles/list-parent-serial`,api_getChildrenNode:`${s}/api/sub-menu/get-children-node`,api_getRolesByid:`${s}/api/workflow/role-user-maps/get-roles-by-id`,api_updateUserRoles:`${s}/api/workflows/role-user-maps/update-user-roles`,api_getMenuById:`${s}/api/menu/get-menu-by-id`,api_getAllMenu:`${s}/api/crud/menu/get-all-menues`,api_updateMenu:`${s}/api/crud/menu/update-menues`,api_listofEmployees:`${s}/api/list-employees`,api_listUnverifiedCashVerification:`${s}/api/payment/list-cash-verification`,api_listVerifiedCashVerification:`${s}/api/payment/verified-cash-verification`,api_tcCollection:`${s}/api/payment/tc-collections`,api_cashVerification:`${s}/api/payment/verify-cash`}}function Ce(s){const{notify:t}=o.useContext(Z),p=_(),{api_getRolesByid:i,api_updateUserRoles:h}=_e(),a=(n,l,j)=>{const r={userId:s.btnId,roleId:n,status:l};v.post(h,r,p).then(function(w){w.data.status?(t(w.data.message,"success"),console.log("Data Update Sussussfull",w.data.message),u()):(console.log("Data Not Update..",w),u())}).catch(function(w){console.log("Failed to update Data",w)})},f=(n,l)=>{a(n,l)},d=(n,l)=>{a(n,1)},b=[{Header:"Sl.",Cell:({row:n})=>e.jsx("div",{className:"px-1",children:n.index+1})},{Header:"All Roles",accessor:"role_name"},{Header:"",accessor:"role_id"},{Header:"Modify",accessor:"can_modify",Cell:n=>e.jsx("div",{children:e.jsxs("label",{className:"inline-flex relative items-center mr-5 cursor-pointer",children:[e.jsx("input",{onChange:l=>d(n.cell.row.values.id,l.target.checked),type:"checkbox",value:n.cell.row.values.id,id:"green-toggle",className:"sr-only peer",checked:n.value}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer dark:bg-gray-700 peer-focus:ring-4 peer-focus:ring-green-300 dark:peer-focus:ring-green-800 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600"})]})})},{Header:"Permission",accessor:"permission_status",Cell:n=>e.jsx("div",{className:"",children:e.jsx(se,{checked:n.value,onChange:l=>f(n.cell.row.values.role_id,l.target.checked),value:n.cell.row.values.role_id,inputProps:{"aria-label":"controlled"}})})}],{isLoading:y,data:m,refetch:u,isError:c,error:g}=F("ManageUserRoleByID",()=>v.post(i,{userId:s.btnId},p));return e.jsx(e.Fragment,{children:e.jsx("div",{className:"border bg-white mb-20",children:e.jsx("div",{children:e.jsx("div",{children:!y&&e.jsx(G,{searchText:"User",columns:b,data:m==null?void 0:m.data.data})})})})})}const Re="/assets/userImage-40c38d37.jpg";function $e(s){return e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsx("div",{className:"container mx-auto mb-8 p-3  border",children:e.jsxs("div",{className:"md:flex no-wrap md:-mx-2",children:[e.jsx("div",{className:"w-full md:w-3/12 md:mx-2",children:e.jsxs("div",{className:"bg-white p-3 border shadow-lg border-green-400",children:[e.jsx("div",{className:"image overflow-hidden",children:e.jsx("img",{className:"h-auto w-full mx-auto rounded-md shadow-md",src:Re,alt:""})}),e.jsx("div",{className:"bg-sky-300 text-center shadow-lg cursor-pointer my-2 text-sm font-semibold rounded-sm",children:"Upload New"}),e.jsx("h1",{className:"text-gray-900 font-bold text-xl leading-8",children:s.userName}),e.jsxs("ul",{className:"bg-gray-100 text-gray-600 hover:text-gray-700 hover:shadow py-2 px-3 mt-3 divide-y rounded shadow-sm",children:[e.jsxs("li",{className:"flex items-center py-3",children:[e.jsx("span",{children:"Status"}),e.jsx("span",{className:"ml-auto",children:e.jsx("span",{className:"bg-green-500 py-1 px-2 rounded text-white text-sm",children:"Active"})})]}),e.jsxs("li",{className:"items-center text-center",children:[e.jsx("p",{className:"bg-sky-200 rounded-md",children:"Member since"}),e.jsx("p",{className:"mt-1 font-extralight",children:"Nov 07, 2016"})]})]})]})}),e.jsxs("div",{className:"w-full md:w-9/12 mx-2 h-64",children:[e.jsxs("div",{className:"bg-white p-3 shadow-sm rounded-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2 font-semibold text-gray-900 leading-8",children:[e.jsx("span",{clas:"text-green-500",children:e.jsx("svg",{className:"h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("span",{className:"tracking-wide",children:"About"})]}),e.jsx("div",{className:"text-gray-700",children:e.jsxs("div",{className:"grid md:grid-cols-2 text-sm",children:[e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"First Name"}),e.jsx("div",{className:"px-4 py-2",children:s.userName})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Last Name"}),e.jsx("div",{className:"px-4 py-2",children:"Doe"})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Gender"}),e.jsx("div",{className:"px-4 py-2",children:"Female"})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Contact No."}),e.jsx("div",{className:"px-4 py-2",children:"+11 998001001"})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Current Address"}),e.jsx("div",{className:"px-4 py-2",children:"Beech Creek, PA, Pennsylvania"})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Permanant Address"}),e.jsx("div",{className:"px-4 py-2",children:"Arlington Heights, IL, Illinois"})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Email."}),e.jsx("div",{className:"px-4 py-2",children:e.jsx("a",{className:"text-blue-800",href:"mailto:jane@example.com",children:"jane@example.com"})})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("div",{className:"px-4 py-2 font-semibold",children:"Birthday"}),e.jsx("div",{className:"px-4 py-2",children:"Feb 06, 1998"})]})]})}),e.jsx("div",{className:"flex justify-center my-2",children:e.jsx("button",{className:"bg-red-400 hover:bg-red-500 px-3 py-1 rounded-sm shadow-md font-semibold text-black",children:"Deactivate"})})]}),e.jsx("div",{className:"my-4"}),e.jsx("div",{className:"bg-white p-3 shadow-sm rounded-sm",children:e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 font-semibold text-gray-900 leading-8 mb-3",children:[e.jsx("span",{clas:"text-green-500",children:e.jsx("svg",{className:"h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("span",{className:"tracking-wide",children:"IP Address"})]}),e.jsx("ul",{className:"list-inside space-y-2",children:e.jsxs("li",{children:[e.jsx("div",{className:"text-teal-600",children:"203.129.217.58"}),e.jsx("div",{className:"text-gray-500 text-xs",children:"March 2020 - Now"})]})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 font-semibold text-gray-900 leading-8 mb-3",children:[e.jsx("span",{clas:"text-green-500",children:e.jsxs("svg",{className:"h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{fill:"#fff",d:"M12 14l9-5-9-5-9 5 9 5z"}),e.jsx("path",{fill:"#fff",d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),e.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"})]})}),e.jsx("span",{className:"tracking-wide",children:"Login Date/Time"})]}),e.jsx("ul",{className:"list-inside space-y-2",children:e.jsxs("li",{children:[e.jsx("div",{className:"text-teal-600",children:"2022-08-25 06:52:18"}),e.jsx("div",{className:"text-gray-500 text-xs",children:"March 2020 - Now"})]})})]})]})})]})]})})})})}function Pe(s){const{notify:t}=o.useContext(Z),[p,i]=o.useState(!1),h=c=>{const{value:g,checked:n}=c.target;console.log(`CheckBOx: ${g} is ${n}`),f(g,n)},a=_(),f=(c,g)=>{i(!0),v({method:"post",url:P+"/api/ward/masters/ward-user",data:{userID:s.btnId,ulbWardID:c,status:g},headers:_()}).then(function(n){n.data.status?(t(n.data.message,"success"),console.log("Data Update Sussussfull",n.data.message),y(),i(!1)):(console.log("Data Not Update..",n),y())}).catch(function(n){console.log("Failed to update Data",n)})},{isLoading:d,data:b,refetch:y,isError:m,error:u}=F("UserWardPage-fetchAPi",()=>v.get(P+`/api/ward/masters/ward-user/${s.btnId}`,a));return o.useEffect(()=>{localStorage.setItem("items",JSON.stringify(b))},[b]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"border-1 shadow-2xl ",children:e.jsxs("div",{className:"mb-12 border bg-gray-100",children:[e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsxs("div",{className:"col-start-2 h-10 w-40 py-2 px-4 my-3 bg-blue-300 flex justify-self-start border shadow-md",children:[e.jsx("input",{type:"checkbox",className:"h-5 w-5",name:"",id:""})," ",e.jsx("p",{className:"ml-2 font-semibold",children:" Select All"})]}),e.jsx("div",{className:"col-start-10",children:e.jsx("button",{className:"h-10 w-40 py-2 px-4 my-3 bg-green-400 hover:bg-green-500 hover:rounded-md text-center font-semibold border-black shadow-md",children:"Save"})})]}),e.jsx("div",{className:"grid grid-cols-5 mb-2",children:b&&(b==null?void 0:b.data.data.map((c,g)=>e.jsx("div",{className:"col-span-1 ",children:e.jsx("div",{className:`flex border shadow-2xl px-2 py-1 mt-2 bg-${c.status==!0?"yellow-200":"white"} mx-2 cursor-pointer hover:animate-pulse border-1 border-${c.status==!0?"black":"gray-500"}`,children:e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-2",children:e.jsx("input",{className:"mr-3",type:"checkbox",name:"ward",checked:c.status,onChange:h,value:c.ulb_ward_id})}),e.jsx("div",{className:"col-span-8 ml-2",children:e.jsxs("p",{className:"font-semibold",children:["Ward ",c.ward_name]})}),e.jsx("div",{className:"col-span-2",children:e.jsx("p",{className:"font-semibold mt-1",children:c.status==!0&&e.jsx(he,{color:"blue"})})})]})})})))}),e.jsx("div",{children:e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{className:"h-10 w-40 py-2 px-4 my-3 bg-green-400 hover:bg-green-500 hover:rounded-md text-center font-semibold border-black shadow-md",children:"Save"})})})]})})})}function Ie(s){return e.jsx(e.Fragment,{children:e.jsxs("div",{children:["UserMenuPermission ",e.jsx("br",{}),"user id ",s.btnId," ",e.jsx("br",{}),"user name ",s.userName]})})}function H(s){const{children:t,value:p,index:i,...h}=s;return e.jsx("div",{role:"tabpanel",hidden:p!==i,id:`simple-tabpanel-${i}`,"aria-labelledby":`simple-tab-${i}`,...h,children:p===i&&e.jsx(E,{sx:{p:0},children:e.jsx(ee,{children:t})})})}H.propTypes={children:T.node,index:T.number.isRequired,value:T.number.isRequired};function W(s){return{id:`simple-tab-${s}`,"aria-controls":`simple-tabpanel-${s}`}}function Ae(s){const[t,p]=o.useState(0),[i,h]=o.useState("Role"),a=(f,d)=>{p(d)};return o.useEffect(()=>{t===0?h("Role"):t===1?h("Profile"):t===2?h("Ward"):t===3&&h("Menu")},[t]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border shadow-lg bg-green-50",children:e.jsx("div",{className:"p-2 bg-green-400 shadow-md",children:e.jsxs("div",{className:"grid grid-cols-2 ",children:[e.jsxs("div",{className:"col-span-1",children:[" ",e.jsx("span",{children:"Manage User"})," ",e.jsxs("span",{className:"text-xl font-semibold",children:[" ",s.userName,"'s"]})," ",e.jsx("span",{className:"font-semibold",children:i})]}),e.jsx("div",{className:"col-span-1 justify-self-end",children:e.jsxs("button",{onClick:s.handleBackBtn,className:"bg-blue-600 hover:bg-blue-500 font-semibold text-white px-5 pl-2 py-1 shadow-lg rounded",children:[e.jsx("span",{className:"inline-block",children:e.jsx(de,{})})," Back"]})})]})})}),e.jsxs(E,{sx:{width:"100%"},children:[e.jsx(E,{sx:{borderBottom:1,borderColor:"divider"},children:e.jsxs(X,{value:t,onChange:a,"aria-label":"basic tabs example",children:[e.jsx(B,{label:"Mange Role",...W(0)}),e.jsx(B,{label:"View Profile",...W(1)}),e.jsx(B,{label:"Ward Permission",...W(2)}),e.jsx(B,{label:"Menu Permission",...W(3)})]})}),e.jsx(H,{value:t,index:0,children:e.jsx(Ce,{btnId:s.btnId,userName:s.userName})}),e.jsx(H,{value:t,index:1,children:e.jsx($e,{btnId:s.btnId,userName:s.userName})}),e.jsx(H,{value:t,index:2,children:e.jsx(Pe,{btnId:s.btnId})}),e.jsx(H,{value:t,index:3,children:e.jsx(Ie,{btnId:s.btnId,userName:s.userName})})]})]})}const De={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Le(s){const[t,p]=o.useState(),{ulbListApi:i}=Y(),h=O({userName:$().required("This is a required field !"),email:$().required("This is a required field !"),userType:$().required("This is a required field !"),phone:$().required("This is a required field !").min(10,"Must be exactly 10 digit").max(10,"Must be exactly 10 digit"),password:$().required("This is a required field !").min(8,"Password must be 8 characters long").matches(/[0-9]/,"Password requires a number").matches(/[a-z]/,"Password requires a lowercase letter").matches(/[A-Z]/,"Password requires an uppercase letter").matches(/[^\w]/,"Password requires a symbol")}),a=q({initialValues:{userName:"",email:"",phone:"",userType:"",password:""},onSubmit:r=>{alert(JSON.stringify(r,null,2)),n(r)},validationSchema:h}),f=r=>a.values.userName=r.target.value,d=r=>a.values.email=r.target.value,b=r=>a.values.phone=r.target.value,y=r=>a.values.userType=r.target.value,m=r=>a.values.password=r.target.value,[u,c]=A.useState(!1),g=_(),n=r=>{console.log("Data to be saved",r);const w={name:r.userName,mobile:r.phone,email:r.email,userType:r.userType,password:r.password};v.post(P+"/api/authorised-register",w,g).then(C=>(console.log("Menu saved successfully",C),j())).catch(C=>(console.log("Failed to save the menu",C),j()))};o.useEffect(()=>{s.openAddNewUserModel>0&&c(!0)},[s.openAddNewUserModel]);function l(){}function j(){c(!1),s.refetchListOfUsers()}return o.useEffect(()=>{v.get(i).then(function(r){p(r.data)}).catch(function(r){console.log("Error",r)})},[]),e.jsx("div",{className:"",children:e.jsx(D,{isOpen:u,onAfterOpen:l,onRequestClose:j,style:De,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-300 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"flow-root",children:[e.jsxs("p",{className:"float-left text-center text-xl font-semibold",children:["Add New User"," "]}),e.jsxs("p",{onClick:j,className:"float-right cursor-pointer rounded-full bg-sky-200 hover:bg-gray-200 mx-3",children:[" ",e.jsx(L,{size:25})," "]})]}),e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10"}),e.jsx("div",{className:"col-span-2"})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:a.handleSubmit,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["User Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"userName",onChange:f,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.userName&&a.errors.userName?a.errors.userName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["User Type",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{type:"text",name:"userType",onChange:y,className:"w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{children:"Select"}),e.jsx("option",{value:"Employee",children:"Employee"}),e.jsx("option",{value:"JSK",children:"JSK"}),e.jsx("option",{value:"Admin",children:"Admin"}),e.jsx("option",{value:"Pseudo",children:"Pseudo"})]}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.userType&&a.errors.userType?a.errors.userType:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Enter Contact",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",name:"phone",onChange:b,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.phone&&a.errors.phone?a.errors.phone:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Enter Email",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",name:"email",onChange:d,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.email&&a.errors.email?a.errors.email:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Password",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",name:"password",onChange:m,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:a.touched.password&&a.errors.password?a.errors.password:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"border border-green-400 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm py-1 text-base font-semibold px-3 m-3",children:[" ","Submit"," "]})})]})})]})})})}function Ue(s){const[t,p]=o.useState(0),i=_(),h=()=>{console.log("openAddNewPopup Called"),p(t+1)},a=[{Header:"Sl.",Cell:({row:c})=>e.jsx("div",{className:"px-1",children:c.index+1})},{Header:"User Name",accessor:"user_name"},{Header:"Mobile",accessor:"mobile"},{Header:"Email",accessor:"email"},{Header:"Assigned Roles",accessor:"role_name",Cell:c=>c.value?e.jsx("div",{className:"bg-blue-200 rounded-lg p-2",children:c.value}):e.jsx("div",{className:"bg-red-100 rounded-lg p-2 text-center",children:"Roles Not Assigned"})},{Header:"Status",accessor:"suspended",Cell:c=>e.jsxs("p",{children:[c.value==!1&&e.jsx("p",{className:"bg-green-600 text-white font-semibold text-center px-1 py-0.5 rounded-md",children:"Active"}),c.value==!0&&e.jsx("p",{className:"bg-red-600 text-white font-semibold text-center px-1 py-0.5 rounded-md",children:"Banned"})]})},{Header:"Action",accessor:"id",Cell:({cell:c})=>e.jsx("div",{children:e.jsx("button",{onClick:()=>s.allActionBtn(c.row.values.id,c.row.values.user_name),className:"my-0.5 bg-blue-600 hover:bg-blue-400 py-2 px-3 text-white rounded-sm mx-1",children:"Action"})})}],f=()=>{u()},{isLoading:d,data:b,isError:y,error:m,refetch:u}=F("get-allUSers-UserPermisonList-Query",()=>v.get(P+"/api/get-all-users",i));return e.jsxs(e.Fragment,{children:[e.jsx(Le,{openAddNewUserModel:t,refetchListOfUsers:f}),e.jsxs("div",{className:"border mt-0 mx-1 pb-10 bg-white mb-20",children:[e.jsx("div",{className:"p-2 bg-green-400 shadow-lg",children:e.jsxs("div",{className:"grid grid-cols-2 ",children:[e.jsx("div",{className:"col-span-1 text-xl font-semibold",children:"List of All Users"}),e.jsx("div",{className:"col-span-1 justify-self-end",children:e.jsxs("button",{onClick:h,className:"bg-blue-600 hover:bg-blue-500 font-semibold text-white px-5 pl-2 py-1 shadow-lg rounded",children:[e.jsx("span",{className:"inline-block hover:animate-bounce",children:e.jsx(be,{fill:"white",size:12,className:"mt-1"})})," ","Add New User"]})})]})}),e.jsx("div",{children:e.jsx("div",{children:!d&&e.jsx(G,{searchText:"User",columns:a,data:b==null?void 0:b.data.data})})})]})]})}function Te(){const[s,t]=o.useState(!0),[p,i]=o.useState(!1),[h,a]=o.useState(!1),[f,d]=o.useState(),[b,y]=o.useState(),m=()=>{i(!0),t(!1),a(!1)},u=n=>{d(n),t(!1),i(!1),a(!1)},c=()=>{t(!0),i(!1),a(!1)},g=(n,l)=>{console.log("Received ID and Username ",n," ",l),d(n),y(l),t(!1),i(!1),a(!0)};return e.jsxs(e.Fragment,{children:[s&&e.jsx(Ue,{viewBtn:u,addNewPermission:m,allActionBtn:g}),h&&e.jsx(Ae,{handleBackBtn:c,btnId:f,userName:b})]})}const Ee={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};function Oe(s){var g,n;const[t,p]=o.useState(),[i,h]=o.useState(0),[a,f]=A.useState(!1),d=_();o.useEffect(()=>{s.openPopUpState>0&&f(!0),c()},[s.openPopUpState]);function b(){}function y(){f(!1)}const m=(l,j)=>{console.log("isPermission - Menu Id : ",l,"Role Id : ",s.roleId,"Status : ",j);const r={roleId:s.roleId,menuId:l,status:j};v.post(P+"/api/menu-roles/update-menu-by-role",r,d).then(w=>console.log("Role Permission Updated Successfully",w),c()).catch(w=>console.log("ERROR : Role Permission ",w),c())},u=[{Header:"Sl.",Cell:({row:l})=>e.jsx("div",{className:"px-1",children:l.index+1})},{Header:"Menu Name",accessor:"menu_string"},{Header:"Test",accessor:"menu_id"},{Header:"Permission",accessor:"permission_status",Cell:l=>e.jsx("div",{className:"",children:e.jsx(se,{checked:l.value,onChange:j=>m(l.cell.row.values.menu_id,j.target.checked),value:l.cell.row.values.menu_id,inputProps:{"aria-label":"controlled"}})})}],c=()=>{h(i+1)};return o.useEffect(()=>{(s==null?void 0:s.roleId)>0&&v.post(P+"/api/menu-roles/get-menu-by-roles",{roleId:s==null?void 0:s.roleId},d).then(l=>(console.log("Fetched roles of Id",s==null?void 0:s.roleId,l),p(l))).catch(l=>console.log("Fetched roles of Id",s==null?void 0:s.roleId,l))},[i]),console.log("Menu role given to",s==null?void 0:s.roleId,t),e.jsx("div",{className:"",children:e.jsx(D,{isOpen:a,onAfterOpen:b,onRequestClose:y,style:Ee,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-white shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("p",{className:"flex flex-row-reverse",children:[" ",e.jsxs("span",{onClick:y,className:"cursor-pointer rounded-full hover:bg-gray-400",children:[" ",e.jsx(L,{size:25})," "]})," "]}),e.jsxs("p",{className:"text-center text-xl",children:["Menu Permission For :"," ",e.jsx("span",{className:"font-semibold",children:s.roleName})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{className:"text-center"}),e.jsx("div",{children:e.jsx("div",{children:(g=t==null?void 0:t.data)!=null&&g.data?e.jsx(K,{searchText:"Menu",columns:u,data:(n=t==null?void 0:t.data)==null?void 0:n.data}):"No Data Found"})})]})})})}function Fe(s){const[t,p]=o.useState(null),[i,h]=o.useState(),[a,f]=o.useState(),d=_(),b=(n,l)=>{console.log("Role Id and Name",n,l),h(n),f(l),p(t+1)},y=[{Header:"Sl.",Cell:({row:n})=>e.jsx("div",{className:"px-1",children:n.index+1})},{Header:"Role List",accessor:"role_name"},{Header:"Role Desc",accessor:"role_description"},{Header:"Created At",accessor:"created_at",Cell:({value:n})=>Q(new Date(n),"dd/MM/yyyy")},{Header:"Action",accessor:"id",Cell:({cell:n})=>e.jsxs("button",{onClick:()=>b(n.row.values.id,n.row.values.role_name),className:"bg-sky-600 hover:bg-sky-400 hover:text-black py-1.5 px-3 text-white rounded-sm mx-1",children:["Assign Menu To Roles"," "]})}],{isLoading:m,data:u,isError:c,error:g}=F("master-GetROles-UlbrOLESD--",()=>{try{return v.get(P+"/api/crud/roles/get-all-roles",d)}catch(n){console.log("Error api not avalivale",n)}});return e.jsxs(e.Fragment,{children:[e.jsx(Oe,{roleId:i,roleName:a,openPopUpState:t}),e.jsxs("div",{className:"border mt-0 mx-0 px-1 pt-1 pb-10 bg-white mb-20",children:[e.jsx("div",{className:"p-2 bg-green-400 shadow-lg",children:e.jsx("div",{className:"grid grid-cols-2 ",children:e.jsx("div",{className:"col-span-1 text-xl font-semibold",children:"Role Based Menu Permission"})})}),e.jsx("div",{children:e.jsx("div",{children:!m||u?e.jsx(G,{searchText:"Roles",columns:y,data:u==null?void 0:u.data.data}):"No Data Found"})})]})]})}function V(){let s=P;return{header:_(),api_ulbList:`${s}/api/get-all-ulb`,api_getSafHoldingDetails:`${s}/api/water/search-holding-saf`,api_getPendingApplicationDetails:`${s}/api/water/application/get-by-id`,api_waterApprovedApplicationDetails:`${s}/api/water/consumer/get-listed-details`,api_waterConsumerPaymentHistory:`${s}/api/water/consumer/get-payment-history`,api_getProfileDetails:`${s}/api/my-profile-details`,api_NewWaterConnection:`${s}/api/water/application/apply-new-connection`,api_WaterGetDetailsById:`${s}/api/water/admin/application/get-details-by-id`,api_WaterListDetailsById:`${s}/api/water/admin/application/list-details-by-date`,api_paymentReceipt:`${s}/api/water/admin/application/generate-payment-receipt`,api_waterListDemand:`${s}/api/water/consumer/list-demand`,api_waterSiteInspectionList:`${s}/api/water/admin/search-application`,api_waterMasterData:`${s}/api/water/master/get-listed-details`,api_waterSiteInspectionSaveData:`${s}/api/water/site-verification/save-site-details`,api_waterPayConnectionCharges:`${s}/api/water/application/payment/offline/pay-connection-charge`,api_waterApplicationPaymentHistory:`${s}/api/water/application/payment/get-payment-history`,api_waterInspectionSaveDate:`${s}/api/water/admin/application/save-inspection-date`,api_waterInspectionDetails:`${s}/api/water/admin/application/site-inspection-details`,api_waterCancelSiteInspection:`${s}/api/water/admin/application/cancel-inspection-scheduling`,api_waterGenerateDemand:`${s}/api/water/admin/consumer/generate-demand`,api_saveConnectionMeter:`${s}/api/water/admin/consumer/save-connection-meter`,api_consumerGetMeterList:`${s}/api/water/admin/consumer/get-meter-list`,api_waterInbox:`${s}/api/water/inbox`,api_waterOutbox:`${s}/api/water/outbox`,api_waterSpecialInbox:`${s}/api/water/special-inbox`,api_waterPendingApplicationById:`${s}/api/water/workflow/application/get-by-id`,api_waterPostMessage:`${s}/api/water/comment-independent`,api_waterPostNextLevel:`${s}/api/water/post-next-level`,api_waterEsclate:`${s}/api/water/escalate`,api_waterApproveRejectApplication:`${s}/api/water/application/approval-rejection`,api_waterVerifyDoc:`${s}/api/workflow/document/verify-reject`,api_waterDocList:`${s}/api/water/get-upload-documents`,api_waterListFieldVerifyInbox:`${s}/api/water/field-verified-inbox`,api_waterBtcListInbox:`${s}/api/water/btc-inbox`,api_backToCitizen:`${s}/api/water/back-to-citizen`,api_waterPostCustomData:`${s}/api/post-custom-data`,api_waterGetCustomDataTab:`${s}/api/get-all-custom-tab-data`,api_waterListDocToUpload:`${s}/api/water/workflow/get-doc-list`,api_waterSearchConsumer:`${s}/api/water/search-consumer`,api_waterSearchActiveApplication:`${s}/api/water/application/search`,api_waterUploadDocument:`${s}/api/water/upload-document`,api_menuMasterDelete:`${s}/api/crud/menu/delete-menues`,api_addNewMenu:`${s}/api/crud/menu/add-new-menues`,api_listParentSetial:`${s}/api/menu-roles/list-parent-serial`,api_getChildrenNode:`${s}/api/sub-menu/get-children-node`,api_getRolesByid:`${s}/api/workflow/role-user-maps/get-roles-by-id`,api_updateUserRoles:`${s}/api/workflows/role-user-maps/update-user-roles`,api_getMenuById:`${s}/api/menu/get-menu-by-id`,api_getAllMenu:`${s}/api/crud/menu/get-all-menues`,api_updateMenu:`${s}/api/crud/menu/update-menues`,api_listofEmployees:`${s}/api/list-employees`,api_listUnverifiedCashVerification:`${s}/api/payment/list-cash-verification`,api_listVerifiedCashVerification:`${s}/api/payment/verified-cash-verification`,api_tcCollection:`${s}/api/payment/tc-collections`,api_cashVerification:`${s}/api/payment/verify-cash`}}const Be={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}},He=O({menuName:$().required("This is a required field !")});function qe(s){const{api_addNewMenu:t,api_listParentSetial:p,api_getChildrenNode:i}=V(),[h,a]=o.useState(),[f,d]=o.useState(),[b,y]=o.useState(),m=q({initialValues:{parentMenuName:"",childMenuName:"",menuName:"",menuRoute:"",serialNo:""},onSubmit:x=>{C(x),console.log("This is record",x)},validationSchema:He}),u=x=>{m.values.parentMenuName=x.target.value,y(x.target.value)},c=x=>m.values.childMenuName=x.target.value,g=x=>m.values.menuName=x.target.value,n=x=>m.values.menuRoute=x.target.value,l=x=>m.values.serialNo=x.target.value,[j,r]=A.useState(!1),w=_(),C=x=>{console.log("Data to be saved",x),x.childMenuName?x.childMenuName:x.parentMenuName;const N={menuName:x.menuName,topLevel:"",subLevel:"",parentSerial:x.childMenuName?x.childMenuName:x.parentMenuName,serial:"",icon:"",route:x.menuRoute,description:"",serial:x.serialNo};console.log("final payload ==",N),v.post(t,N,w).then(I=>(console.log("Menu saved successfully",I),R())).catch(I=>(console.log("Failed to save the menu",I),R()))};o.useEffect(()=>{v.post(p,{},w).then(x=>{a(x.data.data)}).catch(x=>console.log("Error while getting ",x))},[]),o.useEffect(()=>{v.post(i,{id:b},w).then(x=>{d(x.data.data)}).catch(x=>console.log("Error while getting chiild menu ",x))},[b]),o.useEffect(()=>{s.openAddPopupScreen>0&&r(!0)},[s.openAddPopupScreen]);function M(){}function R(){r(!1),s.refetchMasterMenuList()}return e.jsx("div",{className:"",children:e.jsx(D,{isOpen:j,onAfterOpen:M,onRequestClose:R,style:Be,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-200 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10",children:e.jsx("p",{className:"text-center text-xl",children:"Create New Menu"})}),e.jsx("div",{className:"col-span-2",children:e.jsxs("p",{onClick:R,className:"cursor-pointer rounded-full hover:bg-gray-200 mx-3",children:[" ",e.jsx(L,{size:25})," "]})})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("form",{onSubmit:m.handleSubmit,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Menu Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"menuName",onChange:g,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:m.touched.menuName&&m.errors.menuName?m.errors.menuName:null})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Under Menu Name"}),e.jsxs("select",{name:"parentMenuName",onChange:u,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),h==null?void 0:h.map(x=>e.jsx("option",{value:x.id,children:x.menu_string}))]}),e.jsxs("p",{className:"text-red-500 text-xs",children:[" ",m.touched.parentMenuName&&m.errors.parentMenuName?m.errors.parentMenuName:null]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Under Sub-Menu Name"}),e.jsxs("select",{name:"childMenuName",onChange:c,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),f==null?void 0:f.map(x=>e.jsx("option",{value:x.id,children:x.menu_string}))]}),e.jsxs("p",{className:"text-red-500 text-xs",children:[" ",m.touched.childMenuName&&m.errors.childMenuName?m.errors.childMenuName:null]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Serial No."}),e.jsx("input",{type:"text",name:"serialNo",onChange:l,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:m.touched.serialNo&&m.errors.serialNo?m.errors.serialNo:null})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Menu Route"}),e.jsx("input",{type:"text",name:"menuRoute",onChange:n,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:m.touched.menuRoute&&m.errors.menuRoute?m.errors.menuRoute:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"submit",className:"border border-green-600 bg-green-600 hover:bg-green-500 text-white hover:text-black shadow-lg rounded-sm py-1 text-base font-semibold px-3 m-3",children:[" ","Create Menu"]})})]})})]})})})}const Ve={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}};O({parentMenuName:$().required("This is a required field !"),menuName:$().required("This is a required field !"),menuRoute:$().required("This is a required field !")});function ze(s){let t=s==null?void 0:s.dataToBeDeleted;const[p,i]=A.useState(!1),{api_menuMasterDelete:h,header:a}=V();o.useEffect(()=>{s.openDeletePopUp>0&&i(!0)},[s.openDeletePopUp]);function f(){}function d(){i(!1),s.refetchMasterMenuList()}const b=y=>{v.post(h,{id:y.id},a).then(m=>{console.log("Menu Delted",m),s.refetchMasterMenuList(),d()}).catch(m=>console.log("Error while Data Deleting",m))};return e.jsx("div",{className:"",children:e.jsx(D,{isOpen:p,onAfterOpen:f,onRequestClose:d,style:Ve,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-200 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{className:"grid grid-cols-12",children:[e.jsx("div",{className:"col-span-10",children:e.jsx("p",{className:"text-center text-xl",children:"Do You Want to delete menu ?"})}),e.jsx("div",{className:"col-span-2",children:e.jsxs("p",{onClick:d,className:"cursor-pointer rounded-full hover:bg-gray-200 mx-3",children:[" ",e.jsx(L,{size:25})," "]})})]}),e.jsxs("div",{children:[e.jsxs("p",{children:["Menu Name = ",t==null?void 0:t.menu_string]}),e.jsxs("p",{children:["Parent Name = ",t==null?void 0:t.parentName]}),e.jsxs("p",{children:["Route = ",t==null?void 0:t.route]})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsxs("div",{className:"flex justify-center",children:[e.jsx("button",{onClick:()=>b(t),className:"rounded text-white bg-red-600 hover:bg-red-500 shadow py-2 text-base px-3 m-3",children:"Yes, Delete"}),e.jsx("button",{onClick:d,className:"rounded bg-green-500 hover:bg-green-400 shadow py-2 text-base px-3 m-3",children:"Cancel"})]})]})})})}const We={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",background:"transparent",border:"none"}},Ge=O({menuName:$().required("This is a required field !")});function Je(s){const{api_updateMenu:t,api_listParentSetial:p,api_getChildrenNode:i,api_getMenuById:h}=V(),[a,f]=o.useState(),[d,b]=o.useState(),[y,m]=o.useState(),[u,c]=o.useState(),[g,n]=o.useState(!1),l=s.dataTobeEdited,j=_();o.useEffect(()=>{n(!0),v.post(h,{menuId:l==null?void 0:l.id},j).then(N=>{n(!1),console.log("Data to be in edit form",N),c(N.data.data)}).catch(N=>{n(!1),console.log("Exception while getling data for edit",N)})},[l]);const r=q({enableReinitialize:!0,initialValues:{parentMenuName:u==null?void 0:u.parent_serial,childMenuName:"",menuName:u==null?void 0:u.menu_string,menuRoute:u==null?void 0:u.route,serialNo:u==null?void 0:u.serialNo},onSubmit:N=>{M(N)},validationSchema:Ge}),[w,C]=A.useState(!1),M=N=>{console.log("Data to update",N);const I={id:l==null?void 0:l.id,menuName:N.menuName,route:N.menuRoute,parentSerial:N.childMenuName?N.childMenuName:N.parentMenuName,serial:N.serialNo};console.log("final payload ==",I),v.post(t,I,j).then(S=>(console.log("Menu saved successfully",S),x())).catch(S=>(console.log("Failed to save the menu",S),x()))};o.useEffect(()=>{v.post(p,{},j).then(N=>{f(N.data.data)}).catch(N=>console.log("Error while getting ",N))},[]),o.useEffect(()=>{v.post(i,{id:y},j).then(N=>{b(N.data.data)}).catch(N=>console.log("Error while getting chiild menu ",N))},[y]),o.useEffect(()=>{s.openEditPopUp>0&&C(!0)},[s.openEditPopUp]);function R(){}function x(){C(!1),s.refetchMasterMenuList()}return e.jsx("div",{className:"",children:e.jsx(D,{isOpen:w,onAfterOpen:R,onRequestClose:x,style:We,contentLabel:"Example Modal",children:e.jsxs("div",{className:"bg-sky-200 shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsxs("div",{children:[e.jsx("div",{className:"float-right",children:e.jsx("p",{onClick:x,className:"cursor-pointer rounded-full hover:bg-gray-200",children:e.jsx(L,{size:25})})}),e.jsxs("p",{className:"text-center text-lg font-semibold",children:["Edit Menu - ",e.jsx("span",{children:l==null?void 0:l.menu_string})]})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),g?e.jsx("div",{className:"flex justify-center",children:e.jsx(ne,{height:"80",width:"80",radius:"9",color:"#1263e6",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClassName:"",visible:!0})}):e.jsx("div",{children:e.jsxs("form",{onSubmit:r.handleSubmit,children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Menu Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{value:r.values.menuName,type:"text",name:"menuName",onChange:r.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.menuName&&r.errors.menuName?r.errors.menuName:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Under Menu Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),u&&e.jsxs("select",{defaultValue:u==null?void 0:u.parent_serial,name:"parentMenuName",onChange:r.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"0",children:"None"}),a==null?void 0:a.map(N=>e.jsx("option",{value:N.id,children:N.menu_string}))]}),e.jsxs("p",{className:"text-red-500 text-xs",children:[" ",r.touched.parentMenuName&&r.errors.parentMenuName?r.errors.parentMenuName:null]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Under Sub-Menu Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{name:"childMenuName",onChange:r.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),d==null?void 0:d.map(N=>e.jsx("option",{value:N.id,children:N.menu_string}))]}),e.jsxs("p",{className:"text-red-500 text-xs",children:[" ",r.touched.childMenuName&&r.errors.childMenuName?r.errors.childMenuName:null]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Serial No.",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{value:r.values.serialNo,type:"text",name:"serialNo",onChange:r.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.serialNo&&r.errors.serialNo?r.errors.serialNo:null})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Menu Route",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{value:r.values.menuRoute,type:"text",name:"menuRoute",onChange:r.handleChange,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("p",{className:"text-red-500 text-xs",children:r.touched.menuRoute&&r.errors.menuRoute?r.errors.menuRoute:null})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"submit",className:"border border-indigo-900 hover:border-red-400 bg-indigo-600 hover:bg-indigo-800 text-white shadow-lg rounded-sm py-1 text-base font-normal px-3 m-3",children:"Update Menu"})})]})})]})})})}function Qe(s){var x,N,I,S;const[t,p]=o.useState(0),[i,h]=o.useState(0),[a,f]=o.useState(0),[d,b]=o.useState(),[y,m]=o.useState(),{api_getAllMenu:u}=V(),c=_(),g=k=>{h(U=>U+1),b(k)},n=k=>{f(U=>U+1),m(k)},l=()=>{p(t+1)},j=[{Header:"Sl.",Cell:({row:k})=>e.jsx("div",{className:"px-1",children:k.index+1})},{Header:"Parent Name",accessor:"parentName"},{Header:"Menu List",accessor:"menu_string"},{Header:"Route List",accessor:"route"},{Header:"Created At",accessor:"created_at",Cell:({value:k})=>Q(new Date(k),"dd/MM/yyyy")},{Header:"Action",accessor:"id",Cell:({cell:k})=>e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>n(k.row.values),className:"bg-sky-600 hover:bg-sky-400 hover:text-black py-1.5 px-3 text-white rounded-sm mx-1",children:"Edit"}),e.jsx("button",{onClick:()=>g(k.row.values),className:"bg-red-600 hover:bg-red-400 hover:text-black py-1.5 px-3 text-white rounded-sm mx-1",children:"Delete"})]})}],r=()=>{R()},{data:w,isError:C,error:M,refetch:R}=F("api/crud/menu/get-all-menues--",()=>{try{return v.post(u,{},c)}catch(k){console.log("Error api not avalivale",k)}});return C&&console.log("Error useQuery ",C),e.jsxs(e.Fragment,{children:[e.jsx(qe,{openAddPopupScreen:t,refetchMasterMenuList:r}),e.jsx(Je,{openEditPopUp:a,refetchMasterMenuList:r,dataTobeEdited:y}),e.jsx(ze,{openDeletePopUp:i,refetchMasterMenuList:r,dataToBeDeleted:d}),e.jsxs("div",{className:"border mt-0 mx-0 px-1 pt-1 pb-10 bg-white mb-20",children:[e.jsx("div",{className:"p-2 bg-green-400 shadow-lg",children:e.jsxs("div",{className:"grid grid-cols-2 ",children:[e.jsx("div",{className:"col-span-1 text-xl font-semibold",children:"Menu Master"}),e.jsx("div",{className:"col-span-1 flex flex-row-reverse",children:e.jsx("button",{onClick:l,className:"border border-blue-500 bg-blue-500 rounded-md p-2 text-white shadow-md text-base font-medium",children:"Create New Menu"})})]})}),e.jsx("div",{children:e.jsx("div",{children:Array.isArray((x=w==null?void 0:w.data)==null?void 0:x.data)&&((I=(N=w==null?void 0:w.data)==null?void 0:N.data)==null?void 0:I.length)>0?e.jsx(G,{searchText:"Roles",columns:j,data:(S=w==null?void 0:w.data)==null?void 0:S.data}):e.jsx(e.Fragment,{children:" No Data Found !!! "})})})]})]})}const Ye=()=>{const[s,t]=o.useState(),[p,i]=o.useState(),{api_listParentSetial:h,header:a}=V();o.useEffect(()=>{v.post(h,{},a).then(d=>{t(d.data.data)}).catch(d=>console.log("Error while getting ",d))},[]);const f=d=>{console.log(d.target.value),i(d.target.value)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{children:"MenuMasterNewIndex"}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("select",{name:"parentMenuName",onChange:f,className:" w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),s==null?void 0:s.map(d=>e.jsx("option",{value:d.id,children:d.menu_string}))]})}),e.jsxs("div",{className:"m-5",children:["Seleced Menu is ",p,e.jsxs("div",{className:"mx-10 mt-5",children:[e.jsx("p",{className:"border-2 border-black w-32 rounded p-2",children:"Parent"}),e.jsx("p",{className:"border-l-2 h-10 border-black ml-14"}),e.jsxs("div",{className:"flex",children:[e.jsx("hr",{className:"h-px w-14 bg-gray-900 border-2 "}),e.jsx("p",{className:"border-2 border-blue-400 w-32 rounded",children:" child 1"})]})]})]})]})};function Ke(){const[s,t]=o.useState(0),p=[{title:"Role Master",tabIndex:0},{title:"User Management",tabIndex:1},{title:"Role Based Menu",tabIndex:2},{title:"Menu Master",tabIndex:3},{title:"Menu Master New",tabIndex:4}],i=h=>{t(h)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-12 rounded-lg mt-4 shadow-xl broder-2 border-sky-200 bg-gray-200",children:[e.jsx("div",{className:"col-span-12 md:col-span-12 ",children:e.jsx(oe,{tabs:p,fun:i})}),s==0&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",style:{height:"90vh"},children:[" ",e.jsx(Se,{})," "]}),s==1&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",style:{height:"90vh"},children:[" ",e.jsx(Te,{})," "]}),s==2&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",style:{height:"90vh"},children:[" ",e.jsx(Fe,{})," "]}),s==3&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",style:{height:"90vh"},children:[" ",e.jsx(Qe,{})," "]}),s==4&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",style:{height:"90vh"},children:[" ",e.jsx(Ye,{})," "]})]})})}function us(){return ie("User Role Management Workfow"),e.jsx(Ke,{})}export{us as default};
