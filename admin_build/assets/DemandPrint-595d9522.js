import{R as k,j as e,n as r,r as d,af as v,a as y,m as g,B as S,C as R,S as P,l as w,t as D,ap as T}from"./index-28e798bd.js";import{R as A}from"./index-99b4e7d8.js";import{r as C}from"./rmclogo-42f56a40.js";import{P as H}from"./PrintButton-52db711a.js";class L extends k.Component{render(){var o;const s=(o=this.props)==null?void 0:o.demandDetails;return e.jsxs(e.Fragment,{children:[e.jsx(H,{}),e.jsx("div",{className:"flex items-center justify-center text-black",id:"printableArea",children:e.jsxs("div",{className:"container w-[70%] border-2 border-dashed m-2 overflow-x-hidden border-black py-4 px-3 text-sm",children:[e.jsx("img",{src:C,alt:"",srcset:"",className:"absolute top-[20%] left-[27%] w-[50%] backImage opacity-10"}),e.jsxs("div",{className:"w-full text-center flex flex-col mb-2",children:[e.jsx("div",{className:"text-gray-600 font-bold text-4xl mb-8",children:"Ranchi Municipal Corporation, Ranchi"}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{className:" border-2 font-bold border-black px-10 py-2 text-xl w-max",children:"Property Tax Demand"})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{children:["Holding No. : ",e.jsx("span",{className:"font-bold",children:r(s==null?void 0:s.holdingNo)})]}),e.jsxs("div",{children:["New Holding No. : ",e.jsx("span",{className:"font-bold",children:r(s==null?void 0:s.new_holding_no)})]}),e.jsx("div",{children:"Department / Section : Revenue Section"}),e.jsx("div",{children:"Account Description : Holding Tax & Others"})]}),e.jsxs("div",{children:[e.jsxs("div",{children:["Date : ",e.jsx("span",{className:"font-bold",children:r(s==null?void 0:s.date)})]}),e.jsxs("div",{children:["Ward No :",e.jsx("span",{className:"font-bold",children:r(s==null?void 0:s.wardNo)})]}),e.jsxs("div",{children:["New Ward No :",e.jsx("span",{className:"font-bold",children:r(s==null?void 0:s.newWardNo)})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{children:["Owner Name : ",e.jsx("span",{className:"font-bold uppercase",children:r(s==null?void 0:s.ownerName)})]}),e.jsxs("div",{children:["Address : ",e.jsx("span",{className:"font-bold uppercase",children:r(s==null?void 0:s.address)})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 border-[1px] border-black",children:"Demand From"}),e.jsx("th",{className:"p-2 border-[1px] border-black",children:"Demand Upto"}),e.jsx("th",{className:"p-2 border-[1px] border-black",children:"Demand (in Rs.)"}),e.jsx("th",{className:"p-2 border-[1px] border-black",children:"RWH Penalty (in Rs.)"}),e.jsx("th",{className:"p-2 border-[1px] border-black",children:"Already Paid (in Rs.)"}),e.jsx("th",{className:"p-2 border-[1px] border-black",children:"Total (in Rs.)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 border-[1px] border-black",children:r(s==null?void 0:s.duesFrom)}),e.jsx("td",{className:"p-2 border-[1px] border-black",children:r(s==null?void 0:s.duesTo)}),e.jsx("td",{className:"p-2 border-[1px] border-black",children:r(s==null?void 0:s.demand)}),e.jsx("td",{className:"p-2 border-[1px] border-black",children:r(s==null?void 0:s.rwhPenalty)}),e.jsx("td",{className:"p-2 border-[1px] border-black",children:r(s==null?void 0:s.alreadyPaid)}),e.jsx("td",{className:"p-2 border-[1px] border-black",children:r(s==null?void 0:s.total)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"p-2 font-bold border-[1px] border-black text-end",colSpan:2,children:"Total"}),e.jsx("td",{className:"p-2 font-bold border-[1px] border-black",children:r(s==null?void 0:s.demand)}),e.jsx("td",{className:"p-2 font-bold border-[1px] border-black",children:r(s==null?void 0:s.rwhPenalty)}),e.jsx("td",{className:"p-2 font-bold border-[1px] border-black",children:r(s==null?void 0:s.alreadyPaid)}),e.jsx("td",{className:"p-2 font-bold border-[1px] border-black",children:r(s==null?void 0:s.total)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border-[1px] border-black font-bold p-2",colSpan:2,children:"1% Penalty"}),e.jsxs("td",{className:"border-[1px] border-black font-bold p-2",colSpan:4,children:["Rs. ",r(s==null?void 0:s.onePercPenalty)]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border-[1px] border-black font-bold p-2",colSpan:2,children:"Total Payable"}),e.jsxs("td",{className:"border-[1px] border-black font-bold p-2",colSpan:4,children:["Rs. ",r(s==null?void 0:s.totalPayable)]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border-[1px] border-black font-bold p-2",colSpan:2,children:"Total Demand (in words)"}),e.jsxs("td",{className:"border-[1px] border-black font-bold p-2",colSpan:4,children:[r(s==null?void 0:s.totalPayableInWords)," Only."]})]})]})})]})})]})}}const O=()=>{const n=d.useRef(),s=v(),{demandReciept:o}=T(),[p,W]=d.useState(!1),[m,h]=d.useState(),[j,t]=d.useState(!1),[f,a]=d.useState(!1),[N,u]=d.useState(!0);return d.useEffect(()=>{t(!1),a(!0),y.post(o,{propId:s==null?void 0:s.id},g()).then(l=>{var c,i,x,b;console.log("getting demand details => ",l),a(!1),u((c=l==null?void 0:l.data)==null?void 0:c.status),(i=l==null?void 0:l.data)!=null&&i.status&&h((b=(x=l==null?void 0:l.data)==null?void 0:x.data)==null?void 0:b.dueReceipt)}).catch(l=>{console.log("getting demand error => ",l),a(!1),t(!0)})},[]),f?e.jsx(e.Fragment,{children:e.jsx(S,{})}):j?e.jsx(R,{children:e.jsx(P,{title:"Server is busy",desc:"Server is too busy to respond. Please try again later.",buttonText:"View Dashboard",buttonUrl:"/propertyDashboard"})}):N?e.jsxs("div",{children:[p&&e.jsx(w,{}),e.jsx(D,{position:"top-right",autoClose:2e3}),e.jsx(A,{trigger:()=>e.jsx("button",{}),content:()=>n.current}),e.jsx(L,{ref:n,demandDetails:m})]}):e.jsx("div",{className:"w-full mt-20 text-center",children:e.jsx("span",{className:"text-3xl text-red-500 border border-red-500 font-semibold px-4 py-2",children:"No demand found for this property!"})})};export{O as default};
