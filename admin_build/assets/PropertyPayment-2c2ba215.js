import{r as i,u as O,af as Z,b as k,j as s,l as J,a as K,m as U,a6 as V}from"./index-28e798bd.js";import{P as X}from"./PaymentCard-a01cece1.js";import{b as a}from"./PowerupFunctions-7310c5f4.js";import"./RazorpayPaymentScreen-7c35a3a0.js";import"./index.esm-11780c65.js";function rs(D){var m,h,f,N,v,j,u,y,g,b,p,_,w,P,S,A,B;const[z,d]=i.useState(!1);i.useState();const[e,E]=i.useState(),[ss,Y]=i.useState();i.useState(!1),i.useState(null);const[es,q]=i.useState(null),[M,ts]=i.useState(null),o=O(),{id:c,moduleType:l}=Z(),{api_getHoldingDemandById:Q,api_getsafDemandById:R,api_getClusterSafDemandById:W,api_getClusterHoldingDemandById:$}=V();k("Payment Screen");const n=(F=null,G=null)=>{d(!0);let x,r;l=="holding"&&(x=Q,r={propId:c,fYear:F,qtr:G}),l=="saf"&&(x=R,r={id:c}),l=="cluster-saf"&&(x=W,r={clusterId:c}),l=="cluster-holding"&&(x=$,r={clusterId:c}),K.post(x,r,U()).then(function(t){var I,C,T,H,L;console.log("payment details data...",t==null?void 0:t.data),E((I=t==null?void 0:t.data)==null?void 0:I.data),Y(t==null?void 0:t.data),d(!1),((T=(C=t==null?void 0:t.data)==null?void 0:C.data)==null?void 0:T.paymentStatus)===1&&l=="saf"&&o(`/viewDemand/${c}`),((L=(H=t==null?void 0:t.data)==null?void 0:H.data)==null?void 0:L.paymentStatus)===1&&l=="holding"&&o(`/viewDemandHoldingProperty/${c}`)}).catch(function(t){console.log("payment details error...",t),d(!1)})};return i.useEffect(()=>{n()},[]),s.jsxs(s.Fragment,{children:[z&&s.jsx(J,{}),s.jsxs("div",{className:"sm:p-10 p-2",children:[s.jsxs("div",{className:"w-full bg-white shadow-xl mb-6",children:[l!="cluster-saf"&&l!="cluster-holding"&&s.jsxs("div",{className:"py-6 mt-2 rounded-lg shadow-lg p-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-x-5 pl-4 ",children:[l!="saf"&&s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:a((m=e==null?void 0:e.basicDetails)==null?void 0:m.holding_no)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Holding No."})]}),l=="saf"&&s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:a((h=e==null?void 0:e.basicDetails)==null?void 0:h.saf_no)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Application No.(Saf No)"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:a((f=e==null?void 0:e.basicDetails)==null?void 0:f.old_ward_no)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Ward No."})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-lg",children:a((N=e==null?void 0:e.basicDetails)==null?void 0:N.old_ward_no)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"New Ward No"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-md",children:a((v=e==null?void 0:e.basicDetails)==null?void 0:v.ownership_type)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Ownership Type"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:a((j=e==null?void 0:e.basicDetails)==null?void 0:j.property_type)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Property Type"})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-x-10  pl-4 mt-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:a((u=e==null?void 0:e.basicDetails)==null?void 0:u.zone_mstr_id)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Zone"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:a((y=e==null?void 0:e.basicDetails)==null?void 0:y.is_mobile_tower)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Property has Mobile Tower(s) ?"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-md",children:a((g=e==null?void 0:e.basicDetails)==null?void 0:g.is_hoarding_board)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Property has Hoarding Board(s) ?"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-md",children:a((b=e==null?void 0:e.basicDetails)==null?void 0:b.is_petrol_pump)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Is property a Petrol Pump ?"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:a((p=e==null?void 0:e.basicDetails)==null?void 0:p.is_water_harvesting)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Rainwater harvesting provision ?"})]})]})]}),(l=="cluster-saf"||l=="cluster-holding")&&s.jsx("div",{className:"py-6 mt-2 rounded-lg shadow-lg p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-x-5 pl-4 ",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:a((_=e==null?void 0:e.basicDetails)==null?void 0:_.cluster_name)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Cluster Name"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:a((w=e==null?void 0:e.basicDetails)==null?void 0:w.cluster_type)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Cluster Type"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-sm",children:a((P=e==null?void 0:e.basicDetails)==null?void 0:P.authorized_person_name)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Authorized Person Name"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-sm",children:a((S=e==null?void 0:e.basicDetails)==null?void 0:S.mobile_no)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Mobile No."})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:a((A=e==null?void 0:e.basicDetails)==null?void 0:A.address)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Address"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:a(new Date((B=e==null?void 0:e.basicDetails)==null?void 0:B.created_at).toLocaleDateString("en-GB"))}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Created At"})]})]})})]}),s.jsx("div",{children:s.jsx(X,{selectedPaymentQtr:M,selectedPaymentYear:q,fetchDemandDetail:n,basicDetails:e==null?void 0:e.basicDetails,safPaymentDetailsData:e==null?void 0:e.amounts,paymentDetails:l=="cluster-saf"?e==null?void 0:e.demand:e==null?void 0:e.duesList})})]}),s.jsx("div",{className:"w-full h-40 md:none"})]})}export{rs as default};
