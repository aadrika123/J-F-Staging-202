import{c as V,M as ve,N as Q,r as t,O as pe,P as Ne,j as e,Q as be,S as M,T as ye,U as we,V as R,W as Te,m as G,a as Se,B as Ae}from"./index-BrFK6v_x.js";import{a as Ce}from"./index-Woh3rRl7.js";import{B as A}from"./badge-ZtyU-N2O.js";import{C as E,a as F,b as D,c as U,d as Pe,S as Me}from"./separator-DPXjbqTJ.js";import{T as _e,a as Ie,b as $,c as b,d as Le,e as p}from"./table-Ck1yGR3o.js";import{a as ke}from"./useCustomQuery-xlRvHaFh.js";import{P as Re}from"./index-BY4kVjxJ.js";import{S as Ee}from"./Spinner-HHJhJ0D0.js";import{S as C}from"./scale-QvSpQdkc.js";import{U as Fe}from"./user-DVOaqA2q.js";import{M as De}from"./map-pin-CLKmZDHo.js";import{F as Ue}from"./file-text-GaE--A7R.js";/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=V("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=V("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var H="Tabs",[Be,ns]=ve(H,[Q]),W=Q(),[Je,q]=Be(H),X=t.forwardRef((a,n)=>{const{__scopeTabs:i,value:r,onValueChange:o,defaultValue:x,orientation:s="horizontal",dir:u,activationMode:g="automatic",...N}=a,d=pe(u),[m,f]=Ne({prop:r,onChange:o,defaultProp:x});return e.jsx(Je,{scope:i,baseId:be(),value:m,onValueChange:f,orientation:s,dir:d,activationMode:g,children:e.jsx(M.div,{dir:d,"data-orientation":s,...N,ref:n})})});X.displayName=H;var Y="TabsList",Z=t.forwardRef((a,n)=>{const{__scopeTabs:i,loop:r=!0,...o}=a,x=q(Y,i),s=W(i);return e.jsx(ye,{asChild:!0,...s,orientation:x.orientation,dir:x.dir,loop:r,children:e.jsx(M.div,{role:"tablist","aria-orientation":x.orientation,...o,ref:n})})});Z.displayName=Y;var ee="TabsTrigger",se=t.forwardRef((a,n)=>{const{__scopeTabs:i,value:r,disabled:o=!1,...x}=a,s=q(ee,i),u=W(i),g=ne(s.baseId,r),N=ie(s.baseId,r),d=r===s.value;return e.jsx(we,{asChild:!0,...u,focusable:!o,active:d,children:e.jsx(M.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":N,"data-state":d?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:g,...x,ref:n,onMouseDown:R(a.onMouseDown,m=>{!o&&m.button===0&&m.ctrlKey===!1?s.onValueChange(r):m.preventDefault()}),onKeyDown:R(a.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&s.onValueChange(r)}),onFocus:R(a.onFocus,()=>{const m=s.activationMode!=="manual";!d&&!o&&m&&s.onValueChange(r)})})})});se.displayName=ee;var ae="TabsContent",te=t.forwardRef((a,n)=>{const{__scopeTabs:i,value:r,forceMount:o,children:x,...s}=a,u=q(ae,i),g=ne(u.baseId,r),N=ie(u.baseId,r),d=r===u.value,m=t.useRef(d);return t.useEffect(()=>{const f=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(f)},[]),e.jsx(Te,{present:o||d,children:({present:f})=>e.jsx(M.div,{"data-state":d?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":g,hidden:!f,id:N,tabIndex:0,...s,ref:n,style:{...a.style,animationDuration:m.current?"0s":void 0},children:f&&x})})});te.displayName=ae;function ne(a,n){return`${a}-trigger-${n}`}function ie(a,n){return`${a}-content-${n}`}var Ve=X,re=Z,ce=se,le=te;const Ge=Ve,oe=t.forwardRef(({className:a,...n},i)=>e.jsx(re,{ref:i,className:G("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...n}));oe.displayName=re.displayName;const B=t.forwardRef(({className:a,...n},i)=>e.jsx(ce,{ref:i,className:G("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...n}));B.displayName=ce.displayName;const J=t.forwardRef(({className:a,...n},i)=>e.jsx(le,{ref:i,className:G("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...n}));J.displayName=le.displayName;function He(){const[a,n]=t.useState("advocates"),[i,r]=t.useState(1),[o,x]=t.useState(1),[s,u]=t.useState(10),[g,N]=t.useState(""),[d,m]=t.useState(""),[f,de]=t.useState([]),[qe,me]=t.useState({}),w=ke({api:`${Se.getAllUsers}`,config:{ulbId:localStorage.getItem("ulbId"),page:1,perPage:100},key:"getAllUsersLegalList",value:[],options:{enabled:!0}});t.useEffect(()=>{var c,h;if((c=w.data)!=null&&c.data){const j=w.data.data;de(j.data||[]),me({currentPage:j.current_page,lastPage:j.last_page,total:((h=j.data)==null?void 0:h.length)||0})}},[w.data]);const xe=w.isLoading,_=f.filter(c=>c.role_id===75),I=f.filter(c=>c.role_id===76),z=(c,h)=>{if(!h||h.trim()==="")return c;const j=h.trim().toLowerCase();return c.filter(v=>[v.name,v.email,v.mobile,v.alternateMobile,v.user_name,v.address,v.referenceNo,v.user_type].some(T=>T&&T.toString().toLowerCase().includes(j)))},L=z(_,g),k=z(I,d);t.useEffect(()=>{r(1)},[g]),t.useEffect(()=>{x(1)},[d]);const he=L.slice((i-1)*s,i*s),ue=k.slice((o-1)*s,o*s),ge=c=>c?e.jsx(A,{variant:"destructive",children:"Suspended"}):e.jsx(A,{variant:"default",className:"bg-green-100 text-green-800",children:"Active"}),fe=c=>{c==="advocates"?N(""):m("")},K=({users:c,userType:h,search:j,setSearch:v,page:y,setPage:T,totalCount:S})=>e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[h==="advocates"?e.jsx(C,{className:"h-5 w-5 text-blue-600"}):e.jsx(P,{className:"h-5 w-5 text-purple-600"}),e.jsxs("h3",{className:"text-lg font-semibold",children:[h==="advocates"?"Advocates":"Judges"," (",S,")"]})]})}),xe?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(Ee,{})}):e.jsxs(e.Fragment,{children:[e.jsxs(_e,{children:[e.jsx(Ie,{children:e.jsxs($,{children:[e.jsx(b,{children:"#"}),e.jsx(b,{children:"Name"}),e.jsx(b,{children:"Username"}),e.jsx(b,{children:"Contact"}),e.jsx(b,{children:"Email"}),e.jsx(b,{children:"Address"}),e.jsx(b,{children:"Reference No"}),e.jsx(b,{children:"Status"})]})}),e.jsx(Le,{children:c.length===0?e.jsx($,{children:e.jsx(p,{colSpan:9,className:"py-8 text-center text-muted-foreground",children:j?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:["No ",h,' found matching "',j,'"']}),e.jsx(Ae,{variant:"outline",size:"sm",onClick:()=>fe(h),children:"Clear search"})]}):`No ${h} found.`})}):c.map((l,je)=>e.jsxs($,{children:[e.jsx(p,{children:(y-1)*s+je+1}),e.jsx(p,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gray-100",children:e.jsx(Fe,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:l.name||"N/A"}),e.jsx("div",{className:"text-sm text-gray-500",children:l.user_type||"N/A"})]})]})}),e.jsx(p,{className:"font-mono text-sm",children:l.user_name||"N/A"}),e.jsx(p,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(O,{className:"h-3 w-3"}),l.mobile||"N/A"]}),l.alternateMobile&&l.alternateMobile!==l.mobile&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(O,{className:"h-3 w-3"}),l.alternateMobile]})]})}),e.jsx(p,{children:e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx($e,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate max-w-[150px]",title:l.email,children:l.email||"N/A"})]})}),e.jsx(p,{children:e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(De,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate max-w-[100px]",title:l.address||void 0,children:l.address||"N/A"})]})}),e.jsx(p,{children:l.referenceNo?e.jsxs("div",{className:"flex items-center gap-1 text-sm font-mono",children:[e.jsx(Ue,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate max-w-[120px]",title:l.referenceNo,children:l.referenceNo})]}):e.jsx("span",{className:"text-gray-400",children:"-"})}),e.jsx(p,{children:ge(l.suspended)})]},l.id))})]}),c.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"my-4"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(y-1)*s+1," to ",Math.min(y*s,S)," of ",S," entries"]}),e.jsx(Re,{page:y,limit:s,totalPages:Math.ceil(S/s),setPage:T,setLimit:u})]})]})]})]});return e.jsx("main",{className:"grid items-start px-4 pb-8",children:e.jsxs("div",{className:"grid auto-rows-max gap-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(A,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(C,{className:"h-3 w-3"}),_.length," Advocates"]}),e.jsxs(A,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(P,{className:"h-3 w-3"}),I.length," Judges"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs(E,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(D,{className:"text-sm font-medium",children:"Total Advocates"}),e.jsx(C,{className:"h-4 w-4 text-blue-600"})]}),e.jsxs(U,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:_.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active legal advocates"})]})]}),e.jsxs(E,{children:[e.jsxs(F,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(D,{className:"text-sm font-medium",children:"Total Judges"}),e.jsx(P,{className:"h-4 w-4 text-purple-600"})]}),e.jsxs(U,{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:I.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Presiding judges"})]})]})]}),e.jsxs(E,{className:"shadow-md",children:[e.jsxs(F,{children:[e.jsx(D,{children:"Legal Professionals Directory"}),e.jsx(Pe,{children:"Browse and manage advocates and judges in the system"})]}),e.jsx(U,{children:e.jsxs(Ge,{value:a,onValueChange:n,className:"w-full",children:[e.jsxs(oe,{className:"grid w-full grid-cols-2",children:[e.jsxs(B,{value:"advocates",className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4"}),"Advocates (",L.length,")"]}),e.jsxs(B,{value:"judges",className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4"}),"Judges (",k.length,")"]})]}),e.jsx(J,{value:"advocates",className:"mt-6",children:e.jsx(K,{users:he,userType:"advocates",search:g,setSearch:N,page:i,setPage:r,totalCount:L.length})}),e.jsx(J,{value:"judges",className:"mt-6",children:e.jsx(K,{users:ue,userType:"judges",search:d,setSearch:m,page:o,setPage:x,totalCount:k.length})})]})})]})]})})}function is(){return e.jsx(Ce,{title:"Legal Professionals",subTitle:"Manage advocates and judges in the system",children:e.jsx("div",{children:e.jsx(He,{})})})}export{is as default};
