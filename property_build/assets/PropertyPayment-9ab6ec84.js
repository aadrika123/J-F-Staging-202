import{r as i,u as ds,bt as os,k as ns,j as s,aI as ms,bm as l,A as W,aH as Q,aX as hs}from"./index-7c943ecf.js";import{P as fs}from"./PaymentCard-dea22585.js";import"./RazorpayPaymentScreen-71118286.js";function ps(us){var v,j,y,g,b,p,w,_,P,S,A,I,C,T,B,H,L,R,z;const[X,o]=i.useState(!1);i.useState();const[e,Z]=i.useState(),[Ns,J]=i.useState();i.useState(!1),i.useState(null);const[vs,K]=i.useState(null),[D,js]=i.useState(null),[h,ss]=i.useState(null),[es,ts]=i.useState(null),[f,as]=i.useState(0),n=ds(),{id:r,moduleType:t}=os(),{zeroDemandPayment:ls,api_getHoldingDemandById:is,api_getsafDemandById:u,api_getClusterSafDemandById:cs,api_getClusterHoldingDemandById:rs}=hs();ns("Payment Screen");const N=(m=null,c=null)=>{o(!0);let x,d;t=="holding"&&(x=is,d={propId:r,fYear:m,qtr:c}),t=="saf"&&(x=u,d={id:r}),t=="gbsaf"&&(x=u,d={id:r,fYear:m,qtr:c}),t=="cluster-saf"&&(x=cs,d={clusterId:r}),t=="cluster-holding"&&(x=rs,d={clusterId:r}),W.post(x,d,Q()).then(function(a){var $,U,k,q,E,F,M,Y,G,O,V;Z(($=a==null?void 0:a.data)==null?void 0:$.data),J(a==null?void 0:a.data),o(!1),((k=(U=a==null?void 0:a.data)==null?void 0:U.data)==null?void 0:k.paymentStatus)===1&&t=="saf"&&n(`/viewDemand/${r}`),ts((F=(E=(q=a==null?void 0:a.data)==null?void 0:q.data)==null?void 0:E.amounts)==null?void 0:F.isPayable),((G=(Y=(M=a==null?void 0:a.data)==null?void 0:M.data)==null?void 0:Y.amounts)==null?void 0:G.isPayable)==!1&&xs(),((V=(O=a==null?void 0:a.data)==null?void 0:O.data)==null?void 0:V.paymentStatus)===1&&t=="holding"&&n(`/viewDemandHoldingProperty/${r}`),as(f+1)}).catch(function(a){o(!1)})},xs=()=>{o(!0),seterroState(!1);let m={id:r,paymentMode:"Online"};W.post(ls,m,Q()).then(c=>{var x,d,a;(x=c==null?void 0:c.data)!=null&&x.status?ss((a=(d=c==null?void 0:c.data)==null?void 0:d.data)==null?void 0:a.TransactionNo):seterroState(!0)}).catch(c=>{seterroState(!0)}).finally(()=>o(!1))};return i.useEffect(()=>{N()},[]),s.jsxs(s.Fragment,{children:[X&&s.jsx(ms,{}),s.jsxs("div",{className:"sm:p-10 p-2",children:[s.jsxs("div",{className:"w-full bg-white shadow-xl mb-6",children:[t!="cluster-saf"&&t!="cluster-holding"&&s.jsxs("div",{className:"py-6 mt-2 rounded-lg shadow-lg p-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-x-5 pl-4 ",children:[t!="saf"&&s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:l((v=e==null?void 0:e.basicDetails)==null?void 0:v.holding_no)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Holding No."})]}),(t=="saf"||t=="gbsaf")&&s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:l((j=e==null?void 0:e.basicDetails)==null?void 0:j.saf_no)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Application No.(Saf No)"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:l((y=e==null?void 0:e.basicDetails)==null?void 0:y.old_ward_no)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Ward No."})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-lg",children:l((g=e==null?void 0:e.basicDetails)==null?void 0:g.old_ward_no)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"New Ward No"})]}),t!="gbsaf"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-md",children:l((b=e==null?void 0:e.basicDetails)==null?void 0:b.ownership_type)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Ownership Type"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:l((p=e==null?void 0:e.basicDetails)==null?void 0:p.property_type)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Property Type"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-md",children:l((w=e==null?void 0:e.basicDetails)==null?void 0:w.ownership_type)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Govt. Building Usage Type"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:l((_=e==null?void 0:e.basicDetails)==null?void 0:_.property_type)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Property Usage Type"})]})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-x-10  pl-4 mt-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:l((P=e==null?void 0:e.basicDetails)==null?void 0:P.zone_mstr_id)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Zone"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:l((S=e==null?void 0:e.basicDetails)==null?void 0:S.is_mobile_tower)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Property has Mobile Tower(s) ?"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-md",children:l((A=e==null?void 0:e.basicDetails)==null?void 0:A.is_hoarding_board)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Property has Hoarding Board(s) ?"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-md",children:l((I=e==null?void 0:e.basicDetails)==null?void 0:I.is_petrol_pump)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Is property a Petrol Pump ?"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:l((C=e==null?void 0:e.basicDetails)==null?void 0:C.is_water_harvesting)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Rainwater harvesting provision ?"})]})]})]}),(t=="cluster-saf"||t=="cluster-holding")&&s.jsx("div",{className:"py-6 mt-2 rounded-lg shadow-lg p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-x-5 pl-4 ",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:l((T=e==null?void 0:e.basicDetails)==null?void 0:T.cluster_name)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Cluster Name"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:l((B=e==null?void 0:e.basicDetails)==null?void 0:B.cluster_type)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Cluster Type"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-sm",children:l((H=e==null?void 0:e.basicDetails)==null?void 0:H.authorized_person_name)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Authorized Person Name"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-sm",children:l((L=e==null?void 0:e.basicDetails)==null?void 0:L.mobile_no)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Mobile No."})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:l((R=e==null?void 0:e.basicDetails)==null?void 0:R.address)}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Address"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-bold text-sm",children:l(new Date((z=e==null?void 0:e.basicDetails)==null?void 0:z.created_at).toLocaleDateString("en-GB"))}),s.jsx("div",{className:"text-gray-500 text-xs",children:"Created At"})]})]})})]}),s.jsx("div",{children:es==!1?s.jsx("div",{className:"w-full h-full bg-white p-20",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-center font-semibold text-3xl",children:"Your application is successfully submitted !"}),s.jsxs("div",{className:"text-center mt-6",children:[s.jsx("button",{className:"mr-4 bg-indigo-500  text-white px-6 py-1 shadow-lg hover:scale-105 rounded-sm",onClick:()=>n(`/paymentReceipt/${t=="cluster-saf"||t=="cluster-holding",encodeURIComponent(h)}/${t=="cluster-saf"||t=="cluster-holding"?t=="cluster-saf"?"cluster-saf":"cluster-holding":t=="saf"||t=="gbsaf"?"saf":"holding"}`),children:"View Receipt"}),t!="direct"&&s.jsx("button",{className:"mr-4 bg-white border border-indigo-500 text-indigo-500 px-4 py-1 shadow-lg hover:scale-105 rounded-sm",onClick:()=>n(`/propApplicationDetails/${r}`),children:"View Application"})]})]})}):s.jsx(fs,{reset:f,selectedPaymentQtr:D,selectedPaymentYear:K,fetchDemandDetail:N,basicDetails:e==null?void 0:e.basicDetails,safPaymentDetailsData:e==null?void 0:e.amounts,paymentDetails:t=="cluster-saf"?e==null?void 0:e.demand:e==null?void 0:e.duesList})})]}),s.jsx("div",{className:"w-full h-40 md:none"})]})}export{ps as default};
