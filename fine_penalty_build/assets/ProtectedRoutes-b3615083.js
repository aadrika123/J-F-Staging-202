import{r,j as e,A as F,P as E,d as _,a as D,b as $,l as H,g as P,e as y,N as A,s as O,c as J,O as U}from"./index-3a64a6ea.js";import{M as k}from"./index-c049eea5.js";import{F as Y}from"./index.esm-7f817471.js";import{B as T}from"./BarLoader-9b9bdb5a.js";import{u as R}from"./DynamicData-89ec0084.js";import{a as K}from"./index.esm-7d65fb9d.js";import{a as Q,b as X}from"./index.esm-185bfbc1.js";import{W as z}from"./react-tooltip.min-a97bd5e3.js";import{B as Z,a as ee,b as se}from"./index.esm-3acbc0ae.js";import{A as te}from"./AxiosInterceptors-cfe6b385.js";import{M as le,a as ne}from"./index.esm-79a024d1.js";import{G as ae}from"./index.esm-6ceab135.js";import{u as re}from"./useSetTitle-4fcf0de3.js";import"./index-ce289c18.js";const ie={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"none"}};function oe(l){const[n,m]=r.useState(!0),[o,d]=r.useState(!1),[i,t]=r.useState(null),{api_getNotification:h}=E(),f=()=>{},g=()=>{},c=()=>{d(!0),te.post(h,{},F()).then(function(a){var j;t((j=a==null?void 0:a.data)==null?void 0:j.data),d(!1)}).catch(function(a){d(!1)})};return r.useEffect(()=>{c()},[]),e.jsxs(e.Fragment,{children:[o&&e.jsx(T,{}),e.jsx(k,{isOpen:n,onRequestClose:f,style:ie,contentLabel:"Example Modal",children:e.jsxs("div",{class:"relative bg-white p-10 rounded-lg shadow-xl border-2 border-gray-50",children:[e.jsx("button",{onClick:()=>l==null?void 0:l.setnotificationState(!1),type:"button",class:"absolute top-3 right-2.5 bg-gray-300 text-white hover:bg-gray-200 hover:text-gray-900 rounded-full text-sm p-1.5 ml-auto inline-flex items-center",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("span",{className:"font-semibold relative text-lg",children:["Notification ",e.jsx("span",{className:"flex justify-center absolute -top-1 -right-3 text-center bg-pink-500 px-1 text-white rounded-full text-xs",children:e.jsx("span",{className:"align-self-center",children:i==null?void 0:i.length})})]}),e.jsx("div",{className:"w-full h-3"}),Array.isArray(i)&&(i==null?void 0:i.map(a=>e.jsxs("div",{className:"flex items-center w-full px-4 py-3 text-gray-500 bg-indigo-200 rounded-lg shadow-xl mt-2",children:[e.jsx("div",{className:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-indigo-500 bg-indigo-100 rounded-lg ",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3 ",children:[e.jsx("div",{className:"text-md font-normal text-indigo-800",children:a==null?void 0:a.notification}),e.jsxs("div",{className:"text-xs font-normal text-indigo-400",children:[a==null?void 0:a.time," ",a==null?void 0:a.date]})]}),e.jsxs("button",{type:"button",onClick:()=>g(a==null?void 0:a.id),className:"ml-auto -mx-1.5 -my-1.5 bg-indigo-200 text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex h-8 w-8 darks:text-gray-500 ","data-collapse-toggle":"toast-default","aria-label":"Close",children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}))),!Array.isArray(i)&&e.jsx("div",{children:"No notification yet !"})]})]})})]})}const ce="/assets/category-eb5fd5db.png";function de(l){var i;const[n,m]=r.useState([]),o=t=>n==null?void 0:n.some(h=>h==t),d=t=>{window.location.replace(`${t}/transfer`)};return e.jsx("div",{className:"w-full h-full md:w-1/2 mx-auto mt-40 animate__animated animate__zoomIn animate__faster ",children:e.jsxs("div",{className:"bg-slate-500 shadow-xl flex justify-center items-center relative",children:[e.jsx("button",{onClick:l==null?void 0:l.closeModuleModal,type:"button",class:"absolute top-3 right-2.5 text-gray-100 bg-transparent bg-gray-300 hover:bg-red-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center darks:hover:bg-gray-800 darks:hover:text-white",children:e.jsx("svg",{class:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{className:"w-full px-4 mx-auto py-4 md:py-6 ",children:[e.jsx("div",{className:"w-full",children:e.jsx("div",{children:e.jsx("h2",{className:"text-3xl text-white font-medium text-center",children:"Choose Module"})})}),e.jsx("div",{className:"my-6 relative",children:e.jsx("div",{className:"grid gap-6 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4",children:Array.isArray(l==null?void 0:l.permittedModuleList)&&((i=l==null?void 0:l.permittedModuleList)==null?void 0:i.map(t=>e.jsxs("div",{onClick:()=>d(t==null?void 0:t.url),className:"bg-gray-100 hover:scale-105 transition-all duration-200 rounded-xl flex flex-col justify-center items-center p-4 md:p-6 relative cursor-pointer",href:"",children:[e.jsx("img",{className:"h-16 w-16",src:o(t==null?void 0:t.id)?ce:t==null?void 0:t.image,alt:t==null?void 0:t.title,onError:()=>m(h=>[...h,t==null?void 0:t.id])}),e.jsx("div",{className:"font-bold mt-4 text-center",children:t==null?void 0:t.title})]})))})})]})]})})}const xe=l=>{var B;const[n,m]=r.useState();r.useEffect(()=>{const p=window.localStorage.getItem("device");m(p)},[]);const[o,d]=r.useState(!1),[i,t]=r.useState(!1),[h,f]=r.useState(!1),[g,c]=r.useState(!1),[a,j]=r.useState([]),[M,b]=r.useState(!1),{toggleBar:C,settoggleBar:L,userDetails:S}=r.useContext(_),{api_moduleList:v,api_logout:s}=E();R();const w=D();function N(){f(!0)}function x(){d(!0)}function u(){d(!1),f(!1)}const V=()=>{q(),t(!1),H(),w("/")},W=()=>{u(),V()},q=()=>{$.post(s,{},F()).then(p=>{}).finally(()=>{})},G=()=>{b(!0),$.post(v,{}).then(p=>{var I;j((I=p==null?void 0:p.data)==null?void 0:I.data)}).finally(()=>b(!1))};return r.useEffect(()=>{G()},[]),e.jsxs(e.Fragment,{children:[i&&e.jsx(T,{}),e.jsxs("div",{className:"bg-white flex flex-row justify-between px-2 sm:px-6 border shadow-sm print:hidden py-3 z-50 animate__animated animate__fadeInDown animate__faster",children:[e.jsxs("div",{className:"flex items-center md:w-[20rem] w-full justify-between gap-2 sm:gap-4",children:[e.jsxs("span",{className:"font-semibold flex items-center gap-2",children:[" ",e.jsx("img",{src:(B=R())==null?void 0:B.ulb_logo,alt:"",srcset:"",className:"w-9"})," ",e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-lg md:text-xl whitespace-nowrap ",children:"Fines & Penalties"}),e.jsx("div",{className:"text-sm hidden",children:"Ranchi Nagar Nigam, Ranchi"})," "]})]}),e.jsx("div",{onClick:()=>{L(!C)},children:e.jsx("span",{className:"cursor-pointer text-gray-700 text-xl",children:e.jsx(K,{})})}),n!="mobile"&&e.jsx("div",{className:"ml-2 md:ml-20",children:e.jsx("span",{onClick:()=>N(),className:"bg-gray-200 px-4 py-1 cursor-pointer hover:shadow-md",children:"Modules"})}),e.jsx("div",{className:"flex justify-center h-max select-none"})]}),e.jsxs("div",{className:"flex items-center sm:gap-4 gap-2",children:[e.jsxs("span",{className:"sm:visible flex items-center ",children:[e.jsx(z,{anchorId:"logout",className:"z-50"}),e.jsx("button",{id:"logout","data-tooltip-content":"Log Out",onClick:()=>x(),className:"text-2xl font-semibold",children:e.jsx(Q,{})})]}),e.jsx(z,{anchorId:"notification_icon",className:"z-50"}),e.jsx(Z,{id:"notification_icon","data-tooltip-content":"Show all notifications.",onClick:()=>c(!0),className:"cursor-pointer inline text-2xl font-semibold"})]})]}),e.jsxs(k,{isOpen:o,onRequestClose:u,className:"h-screen w-screen flex items-center justify-center",contentLabel:"Logout Modal",children:[e.jsx("div",{className:"bg-black absolute h-screen w-screen opacity-50 z-0 ",onClick:u}),e.jsxs("div",{className:"border bg-white z-50 px-6 py-4 flex flex-col gap-4 animate__animated animate__slideInLeft animate__faster",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("span",{className:"text-red-500 bg-red-100 p-2 block rounded-full drop-shadow-md shadow-red-300",children:e.jsx(Y,{size:25})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("span",{className:"text-xl font-semibold border-b pb-1",children:"Confirmation"}),e.jsx("span",{className:"text-base",children:"Are you sure want to log out ?"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{className:"text-white bg-slate-400 hover:bg-slate-500 px-4 py-1 text-sm ",onClick:u,children:"No"}),e.jsx("button",{className:"text-white bg-red-500 hover:bg-red-600 px-4 py-1 text-sm ",onClick:W,children:"Yes"})]})]})]}),e.jsx(k,{isOpen:h,onRequestClose:u,className:"z-20 h-screen w-screen backdrop-blur-sm flex flex-row justify-center items-center overflow-auto",contentLabel:"Example Modal",children:e.jsx(de,{closeModuleModal:u,permittedModuleList:a})}),g&&e.jsx(oe,{setnotificationState:c})]})};const me=l=>{var v;const{toggleBar:n,settoggleBar:m}=r.useContext(_);let o=P("userDetails");const[d,i]=r.useState(y("dropDown")||!1),[t,h]=r.useState(y("dropName")||"");let f="white",g="indigo",c="gray";const a=`block w-full pl-7 py-2 px-6 clear-both whitespace-nowrap text-sm hover:bg-${g}-700 hover:text-${c}-100 rounded-md text-sm animate__animated animate__fadeIn animate__faster `,j=`block py-3 px-4 hover:bg-${g}-700 hover:text-${c}-100 rounded-md animate__animated animate__fadeIn animate__faster `,M=`animate__animated animate__slideInLeft animate__faster bg-${f} -100 w-[16.5rem] `,b="animate__animated animate__fadeInLeft animate__faster ",C=`w-0 sm:w-3 bg-${f} -100 animate__animated `,L="animate__animated animate__fadeOutLeft animate__faster ",S=s=>{O("dropDown",!d),O("dropName",s),i(!d),h(s)};return e.jsx(e.Fragment,{children:e.jsx("header",{className:(n?M:C)+` relative select-none transition-all duration-200 h-full text-${c}-800 pt-2 border-r border-${c}-200`,children:e.jsx("div",{class:(n?b:L)+` bg-${f}-100 w-full inset-0 `,id:"mobile-menu",children:e.jsx("nav",{id:"mobile-nav",class:"flex flex-col ltr:right-0 rtl:left-0 w-full top-0 py-4 ",children:e.jsxs("div",{class:`mb-auto text-sm 2xl:text-base text-${c}-800`,children:[e.jsxs("div",{class:"text-center mb-4",children:[e.jsxs("div",{class:`text-xl text-${c}-800 flex flex-col items-start justify-center relative`,children:[e.jsxs("span",{className:"flex justify-center w-full",children:[" ",e.jsx("span",{className:`text-[50px] flex justify-center py-2 text-${c}-800`,children:e.jsx(ae,{})})]}),e.jsx("span",{className:"flex justify-center w-full",children:o==null?void 0:o.name}),e.jsxs("span",{className:"flex justify-center w-full uppercase text-xs font-semibold",children:["( ",(o==null?void 0:o.role)||"Role Name"," )"]})]}),e.jsx("hr",{className:`my-4 bg-${f} -700 h-[0.1rem]`})]}),e.jsx("div",{class:" text-sm px-4 overflow-y-auto scrollbar-width-10 scrollbar-track-blue-100 scrollbar-thumb-blue-700 scrollbar-thumb-rounded-full scrollbar-thumb-hover-blue-500 transition-all duration-200",children:e.jsx("nav",{class:"relative flex flex-wrap items-center justify-between overflow-x-hidden",children:e.jsx("ul",{id:"side-menu",class:"w-full float-none flex flex-col",children:(v=l==null?void 0:l.menu)==null?void 0:v.map(s=>{var w,N;return e.jsx(e.Fragment,{children:e.jsxs("li",{className:"relative cursor-pointer mb-1",onClick:()=>{var x;window.innerWidth<=763&&((x=s==null?void 0:s.children)==null?void 0:x.length)==0&&m(!n)},children:[e.jsxs(A,{to:(s==null?void 0:s.path)==""?null:s==null?void 0:s.path,className:({isActive:x})=>{var u;return(x&&((u=s==null?void 0:s.children)==null?void 0:u.length)==0?`bg-${g}-600 text-${c}-100 `:" ")+`${j} flex gap-4 items-center`},onClick:()=>{S(s==null?void 0:s.name),t==(s==null?void 0:s.name)&&h("")},children:[" ",e.jsx("span",{children:e.jsx(le,{})})," ",e.jsxs("div",{className:"flex justify-between items-center flex-1",children:[e.jsx("span",{children:s==null?void 0:s.name}),((s==null?void 0:s.path)==null||(s==null?void 0:s.path)=="")&&e.jsx("span",{className:t==(s==null?void 0:s.name)?"transition-all duration-200 ease-in-out rotate-90":"transition-all duration-200 ease-in-out rotate-0",children:e.jsx(ee,{})})]})," "]}),((w=s==null?void 0:s.children)==null?void 0:w.length)>0&&t==(s==null?void 0:s.name)&&e.jsx("ul",{class:`block rounded rounded-t-none top-full py-0.5 ltr:text-left rtl:text-right mb-4 bg-${g}-200`,children:(N=s==null?void 0:s.children)==null?void 0:N.map(x=>e.jsx(e.Fragment,{children:e.jsx("li",{class:"relative cursor-pointer mt-1",onClick:()=>{window.innerWidth<=763&&m(!n)},children:e.jsxs(A,{to:x==null?void 0:x.path,className:({isActive:u})=>(u?`bg-${g}-600 text-${c}-100 `:" ")+`${a} flex gap-3 items-center`,children:[e.jsx("span",{children:e.jsx(ne,{})})," ",e.jsx("span",{className:"",children:x==null?void 0:x.name})]})})}))})]})})})})})})]})})})})})},ue=()=>{r.useContext(_);let l=P("menuList");return e.jsx(e.Fragment,{children:e.jsx(me,{menu:l})})};function he(l){const n=J();re("Verification");const m=()=>{window.history.back()};if(!(n.pathname=="/"||(n==null?void 0:n.pathname)=="/login"&&(n==null?void 0:n.pathname)=="/mobile-modules")&&(l==null?void 0:l.titleBarVisibility)!==!1)return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-row  py-2 justify-center items-center pr-2 sm:pr-0",children:[e.jsx("div",{className:"flex-1 flex pl-2 text-gray-700",children:e.jsxs("span",{className:"cursor-pointer hover:text-[#122031] text-[#1A4D8C]",onClick:m,children:[e.jsx(X,{className:"inline font-semibold"}),"Back"]})}),e.jsxs("div",{className:"flex justify-right items-center text-xl font-semibold text-[#1A4D8C]",children:[e.jsx(se,{className:"inline mr-2"}),l==null?void 0:l.titleText]})]}),e.jsx("hr",{})]})}const Se=()=>{const l=D(),{setheartBeatCounter:n,settoggleBar:m,titleBarVisibility:o,titleText:d}=r.useContext(_);return r.useEffect(()=>{n(i=>i+1)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"relative flex justify-center items-center h-[100vh] w-full ",children:e.jsxs("div",{className:"flex flex-row flex-wrap w-full md:w-[100%] h-full md:h-[100%] bg-[#eff2f7] drop-shadow-[0_15px_15px_rgba(0,0,0,0.25)] overflow-clip ",children:[e.jsx("div",{className:"w-full",children:e.jsx(xe,{})}),e.jsx("div",{className:"md:flex md:relative absolute top-[3.4rem] md:top-0 h-full",style:{zIndex:999},children:e.jsx(ue,{})}),e.jsxs("div",{className:"flex-1 h-full w-[60%] relative overflow-auto border md:border-none",onClick:()=>window.innerWidth<=763&&m(!1),children:[e.jsx("div",{className:" px-2 md:px-10 md:mt-0",children:e.jsx(he,{titleBarVisibility:o,titleText:d})}),e.jsxs("div",{className:" md:px-5 md:my-2 pt-6 md:pt-4 ",children:[y("token")!="null"&&y("token")!=null?e.jsx(U,{}):l("/"),e.jsx("div",{className:"h-[20vh]"})]})]})]})})})};export{Se as default};
