import{h as Y,r as b,g as ne,c as ie,b as _,u as ae,d as z,e as G,j as n,F as k,f as r,i as J,p as te,A as K}from"./index-16131624.js";import{u as ce}from"./useSetTitle-92e85e38.js";const oe="/assets/rupee-fa246fca.png";function re(l){var U;const{api_selfAdvtCashPayment:w,api_selfAdvtCheckDDPayment:y,api_movableVehicleCashPayment:f,api_movableVehicleCheckDDPayment:C,api_privateLandCashPayment:Q,api_privateLandCheckDDPayment:D,api_agencyCashPayment:d,api_agencyCheckDDPayment:x,api_hoardingCashPayment:F,api_hoardingCheckDDPayment:I,api_banquetMarriageHallCashPayment:A,api_banquetMarriageHallCheckDDPayment:q,api_hostelCashPayment:P,api_hostelCheckDDPayment:S,api_lodgeCashPayment:H,api_lodgeCheckDDPayment:E,api_dharamshalaCashPayment:M,api_dharamshalaCheckDDPayment:B}=K(),{id:a,moduleType:L}=Y(),[p,v]=b.useState(!1),[h,s]=b.useState(!1),[o,u]=b.useState(null),[N,O]=b.useState(null),W=ne();b.useState(!1);const[c,X]=b.useState(),[me,Z]=b.useState(!1);ie({paymentMode:_().required("select payment mode"),bankName:_(),branchName:_(),cheque_dd_no:_()});const m=ae({initialValues:{paymentMode:"",bankName:"",branchName:"",cheque_dd_no:""},onSubmit:(e,i)=>{le(e)}}),ee=e=>{let i=e.target.name,t=e.target.value;i=="paymentMode"&&X(t),i=="payAdvance"&&Z(e.target.checked)},le=e=>{s(!0);let i,t;c=="CASH"&&(l==null?void 0:l.applicationFor)=="selfAdvt"&&(i=w,t={applicationId:a,status:1}),c=="CASH"&&(l==null?void 0:l.applicationFor)=="movableVehicle"&&(i=f,t={applicationId:a,status:1}),c=="CASH"&&(l==null?void 0:l.applicationFor)=="privateLand"&&(i=Q,t={applicationId:a,status:1}),c=="CASH"&&(l==null?void 0:l.applicationFor)=="agency"&&(i=d,t={applicationId:a,status:1}),c=="CASH"&&(l==null?void 0:l.applicationFor)=="hoarding"&&(i=F,t={applicationId:a,status:1}),c=="CASH"&&(l==null?void 0:l.applicationFor)=="banquetMarriageHall"&&(i=A,t={applicationId:a,status:1}),c=="CASH"&&(l==null?void 0:l.applicationFor)=="hostel"&&(i=P,t={applicationId:a,status:1}),c=="CASH"&&(l==null?void 0:l.applicationFor)=="lodge"&&(i=H,t={applicationId:a,status:1}),c=="CASH"&&(l==null?void 0:l.applicationFor)=="dharamshala"&&(i=M,t={applicationId:a,status:1}),c=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="selfAdvt"&&(i=y,t={applicationId:a,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),c=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="movableVehicle"&&(i=C,t={applicationId:a,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),c=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="privateLand"&&(i=D,t={applicationId:a,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),c=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="agency"&&(i=x,t={applicationId:a,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),c=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="hoarding"&&(i=I,t={applicationId:a,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),c=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="banquetMarriageHall"&&(i=q,t={applicationId:a,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),c=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="hostel"&&(i=S,t={applicationId:a,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),c=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="lodge"&&(i=E,t={applicationId:a,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),c=="CHEQUE"&&(l==null?void 0:l.applicationFor)=="dharamshala"&&(i=B,t={applicationId:a,bankName:e==null?void 0:e.bankName,chequeNo:e==null?void 0:e.cheque_dd_no,branchName:e==null?void 0:e.branchName}),z.post(i,t,G()).then(function(g){var V,T,$,j,R;u((T=(V=g==null?void 0:g.data)==null?void 0:V.data)==null?void 0:T.transactionNo),O((j=($=g==null?void 0:g.data)==null?void 0:$.data)==null?void 0:j.workflowId),v((R=g==null?void 0:g.data)==null?void 0:R.status),s(!1)}).catch(function(g){s(!1)})};return p==!0?n(k,{children:n("div",{className:"w-full h-full bg-white p-20",children:r("div",{children:[n("div",{className:"text-center font-semibold text-3xl",children:"Your payment has been successfully done !"}),n("div",{className:"text-center mt-6",children:n("button",{className:"mr-4 bg-indigo-500  text-white px-6 py-1 shadow-lg hover:scale-105 rounded-sm",onClick:()=>W(`/agencyPaymentReceipt/${o}/${N}`),children:"View Receipt"})})]})})}):r(k,{children:[h&&n(J,{}),n(te,{position:"top-right",autoClose:2e3}),n("div",{className:" block p-4 mt-4 w-full md:py-4 md:px-40 md:pb-0 md:pt-0 rounded-lg shadow-lg bg-white md:w-full mx-auto  overflow-x-auto mb-20 ",children:r("div",{className:" block p-4 w-full md:py-6 rounded-lg bg-white mx-auto ",children:[r("h1",{className:"mb-2 text-gray-600 text-xl",children:[n("img",{src:oe,alt:"rupee-image",className:"w-5 inline"})," Payable Amount - ",n("span",{className:"font-semibold text-lg text-gray-800",children:(U=l==null?void 0:l.applicationDetail)==null?void 0:U.payment_amount})]}),n("form",{onSubmit:m.handleSubmit,onChange:ee,className:"p-4 relative",children:r("div",{className:"grid grid-cols-12",children:[r("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[r("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[n("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Payment Mode"]}),r("select",{...m.getFieldProps("paymentMode"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[n("option",{children:"Select"}),n("option",{value:"CASH",children:"Cash"}),n("option",{value:"CHEQUE",children:"Cheque"}),n("option",{value:"DD",children:"DD"})]}),n("span",{className:"text-red-600 absolute text-xs",children:m.touched.paymentMode&&m.errors.paymentMode?m.errors.paymentMode:null})]}),(c=="CHEQUE"||c=="DD")&&r(k,{children:[r("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[r("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[n("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Bank Name"]}),n("input",{...m.getFieldProps("bankName"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter new ward no."}),n("span",{className:"text-red-600 absolute text-xs",children:m.touched.bankName&&m.errors.bankName?m.errors.bankName:null})]}),r("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[r("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[n("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Branch Name"]}),n("input",{...m.getFieldProps("branchName"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",placeholder:"Enter new ward no."}),n("span",{className:"text-red-600 absolute text-xs",children:m.touched.branchName&&m.errors.branchName?m.errors.branchName:null})]}),r("div",{className:"form-group mb-6 col-span-12 md:col-span-6 md:px-4",children:[r("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:[n("small",{className:" mt-1 text-sm font-semibold text-red-600 inline ",children:"*"}),"Cheque/DD No"]}),n("input",{...m.getFieldProps("cheque_dd_no"),type:"text",className:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),n("span",{className:"text-red-600 absolute text-xs",children:m.touched.cheque_dd_no&&m.errors.cheque_dd_no?m.errors.cheque_dd_no:null})]})]}),n("div",{className:"col-span-12"}),n("div",{className:"col-span-12 grid grid-cols-2 mt-10",children:n("div",{className:"md:pl-10 text-right",children:n("button",{type:"submit",className:" px-6 py-2.5 bg-green-600 text-white font-medium text-xs leading-tight  rounded shadow-md hover:bg-green-700 hover:shadow-lg focus:bg-green-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-green-800 active:shadow-lg transition duration-150 ease-in-out cursor-pointer",children:"Pay "})})})]})})]})})]})}function ue(l){var a,L,p,v;const[w,y]=b.useState(!1),[f,C]=b.useState(),[Q,D]=b.useState(),{id:d,idFor:x}=Y();ce("Payment Screen");const{api_agencyApplicationFullDetailById:F,api_privateLandApplicationFullDetailById:I,api_advertApplicationFullDetailById:A,api_movableApplicationFullDetailById:q,api_hoardingApplicationFullDetailById:P,api_BanquetMarriageApplicationFullDetailById:S,api_HostelApplicationFullDetailById:H,api_LodgeApplicationFullDetailById:E,api_DharamshalaApplicationFullDetailById:M}=K(),B=()=>{const h="Approve",s=x;y(!0);let o,u;s=="selfAdvt"&&(o=A,u={applicationId:d,type:h}),s=="movableVehicle"&&(o=q,u={applicationId:d,type:h}),s=="privateLand"&&(o=I,u={applicationId:d,type:h}),s=="agency"&&(o=F,u={applicationId:d,type:h}),s=="hoarding"&&(o=P,u={applicationId:d,type:h}),s=="banquetMarriageHall"&&(o=S,u={applicationId:d,type:h}),s=="hostel"&&(o=H,u={applicationId:d,type:h}),s=="lodge"&&(o=E,u={applicationId:d,type:h}),s=="dharamshala"&&(o=M,u={applicationId:d,type:h}),z.post(`${o}`,u,G()).then(function(N){C(N.data.data),D(N==null?void 0:N.data),y(!1)}).catch(function(N){y(!1)})};return b.useEffect(()=>{B()},[]),r(k,{children:[w&&n(J,{}),r("div",{className:"p-10",children:[n("h1",{className:"text-center pl-2 font-bold text-2xl text-gray-700 uppercase underline",children:(L=(a=f==null?void 0:f.fullDetailsData)==null?void 0:a.cardArray)==null?void 0:L.headerTitle}),n("h1",{className:"flex-1 flex p-2 pl-2 pt-2 font-bold text-xl text-gray-700 bg-white shadow-lg",children:"Pay License Fee"}),n("div",{className:"w-full bg-white shadow-xl mb-6",children:n("div",{className:" mt-2 rounded-lg shadow-lg p-4",children:(v=(p=f==null?void 0:f.fullDetailsData)==null?void 0:p.dataArray)==null?void 0:v.map(h=>{var s;return n("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 container mx-auto  p-4 mt-4",children:(s=h==null?void 0:h.data)==null?void 0:s.map(o=>r("div",{className:"pl-4 p-2",children:[r("h1",{className:"font-bold text-sm",children:[(o==null?void 0:o.value)||"N/A"," "]}),n("h1",{className:"text-gray-500 text-xs",children:o==null?void 0:o.displayString})]}))})})})}),n("div",{children:n(re,{applicationDetail:f,applicationFor:x})})]}),n("div",{className:"w-full h-40 md:none"})]})}export{ue as default};
