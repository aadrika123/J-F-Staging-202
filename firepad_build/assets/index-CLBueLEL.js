(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var Eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function FT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fh={exports:{}},Sa={},hh={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function UT(){if(qv)return We;qv=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function p(V){return V===null||typeof V!="object"?null:(V=g&&V[g]||V["@@iterator"],typeof V=="function"?V:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,T={};function E(V,j,K){this.props=V,this.context=j,this.refs=T,this.updater=K||m}E.prototype.isReactComponent={},E.prototype.setState=function(V,j){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,j,"setState")},E.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function _(){}_.prototype=E.prototype;function S(V,j,K){this.props=V,this.context=j,this.refs=T,this.updater=K||m}var N=S.prototype=new _;N.constructor=S,A(N,E.prototype),N.isPureReactComponent=!0;var I=Array.isArray,M=Object.prototype.hasOwnProperty,F={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function R(V,j,K){var Z,J={},z=null,Y=null;if(j!=null)for(Z in j.ref!==void 0&&(Y=j.ref),j.key!==void 0&&(z=""+j.key),j)M.call(j,Z)&&!O.hasOwnProperty(Z)&&(J[Z]=j[Z]);var ie=arguments.length-2;if(ie===1)J.children=K;else if(1<ie){for(var oe=Array(ie),he=0;he<ie;he++)oe[he]=arguments[he+2];J.children=oe}if(V&&V.defaultProps)for(Z in ie=V.defaultProps,ie)J[Z]===void 0&&(J[Z]=ie[Z]);return{$$typeof:r,type:V,key:z,ref:Y,props:J,_owner:F.current}}function D(V,j){return{$$typeof:r,type:V.type,key:j,ref:V.ref,props:V.props,_owner:V._owner}}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function b(V){var j={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(K){return j[K]})}var L=/\/+/g;function x(V,j){return typeof V=="object"&&V!==null&&V.key!=null?b(""+V.key):j.toString(36)}function $(V,j,K,Z,J){var z=typeof V;(z==="undefined"||z==="boolean")&&(V=null);var Y=!1;if(V===null)Y=!0;else switch(z){case"string":case"number":Y=!0;break;case"object":switch(V.$$typeof){case r:case e:Y=!0}}if(Y)return Y=V,J=J(Y),V=Z===""?"."+x(Y,0):Z,I(J)?(K="",V!=null&&(K=V.replace(L,"$&/")+"/"),$(J,j,K,"",function(he){return he})):J!=null&&(C(J)&&(J=D(J,K+(!J.key||Y&&Y.key===J.key?"":(""+J.key).replace(L,"$&/")+"/")+V)),j.push(J)),1;if(Y=0,Z=Z===""?".":Z+":",I(V))for(var ie=0;ie<V.length;ie++){z=V[ie];var oe=Z+x(z,ie);Y+=$(z,j,K,oe,J)}else if(oe=p(V),typeof oe=="function")for(V=oe.call(V),ie=0;!(z=V.next()).done;)z=z.value,oe=Z+x(z,ie++),Y+=$(z,j,K,oe,J);else if(z==="object")throw j=String(V),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return Y}function W(V,j,K){if(V==null)return V;var Z=[],J=0;return $(V,Z,"","",function(z){return j.call(K,z,J++)}),Z}function ne(V){if(V._status===-1){var j=V._result;j=j(),j.then(function(K){(V._status===0||V._status===-1)&&(V._status=1,V._result=K)},function(K){(V._status===0||V._status===-1)&&(V._status=2,V._result=K)}),V._status===-1&&(V._status=0,V._result=j)}if(V._status===1)return V._result.default;throw V._result}var te={current:null},re={transition:null},Q={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:re,ReactCurrentOwner:F};function H(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:W,forEach:function(V,j,K){W(V,function(){j.apply(this,arguments)},K)},count:function(V){var j=0;return W(V,function(){j++}),j},toArray:function(V){return W(V,function(j){return j})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},We.Component=E,We.Fragment=t,We.Profiler=o,We.PureComponent=S,We.StrictMode=i,We.Suspense=d,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,We.act=H,We.cloneElement=function(V,j,K){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Z=A({},V.props),J=V.key,z=V.ref,Y=V._owner;if(j!=null){if(j.ref!==void 0&&(z=j.ref,Y=F.current),j.key!==void 0&&(J=""+j.key),V.type&&V.type.defaultProps)var ie=V.type.defaultProps;for(oe in j)M.call(j,oe)&&!O.hasOwnProperty(oe)&&(Z[oe]=j[oe]===void 0&&ie!==void 0?ie[oe]:j[oe])}var oe=arguments.length-2;if(oe===1)Z.children=K;else if(1<oe){ie=Array(oe);for(var he=0;he<oe;he++)ie[he]=arguments[he+2];Z.children=ie}return{$$typeof:r,type:V.type,key:J,ref:z,props:Z,_owner:Y}},We.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},We.createElement=R,We.createFactory=function(V){var j=R.bind(null,V);return j.type=V,j},We.createRef=function(){return{current:null}},We.forwardRef=function(V){return{$$typeof:f,render:V}},We.isValidElement=C,We.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:ne}},We.memo=function(V,j){return{$$typeof:v,type:V,compare:j===void 0?null:j}},We.startTransition=function(V){var j=re.transition;re.transition={};try{V()}finally{re.transition=j}},We.unstable_act=H,We.useCallback=function(V,j){return te.current.useCallback(V,j)},We.useContext=function(V){return te.current.useContext(V)},We.useDebugValue=function(){},We.useDeferredValue=function(V){return te.current.useDeferredValue(V)},We.useEffect=function(V,j){return te.current.useEffect(V,j)},We.useId=function(){return te.current.useId()},We.useImperativeHandle=function(V,j,K){return te.current.useImperativeHandle(V,j,K)},We.useInsertionEffect=function(V,j){return te.current.useInsertionEffect(V,j)},We.useLayoutEffect=function(V,j){return te.current.useLayoutEffect(V,j)},We.useMemo=function(V,j){return te.current.useMemo(V,j)},We.useReducer=function(V,j,K){return te.current.useReducer(V,j,K)},We.useRef=function(V){return te.current.useRef(V)},We.useState=function(V){return te.current.useState(V)},We.useSyncExternalStore=function(V,j,K){return te.current.useSyncExternalStore(V,j,K)},We.useTransition=function(){return te.current.useTransition()},We.version="18.3.1",We}var Fv;function lc(){return Fv||(Fv=1,hh.exports=UT()),hh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function jT(){if(Uv)return Sa;Uv=1;var r=lc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(f,d,v){var y,g={},p=null,m=null;v!==void 0&&(p=""+v),d.key!==void 0&&(p=""+d.key),d.ref!==void 0&&(m=d.ref);for(y in d)i.call(d,y)&&!a.hasOwnProperty(y)&&(g[y]=d[y]);if(f&&f.defaultProps)for(y in d=f.defaultProps,d)g[y]===void 0&&(g[y]=d[y]);return{$$typeof:e,type:f,key:p,ref:m,props:g,_owner:o.current}}return Sa.Fragment=t,Sa.jsx=u,Sa.jsxs=u,Sa}var jv;function BT(){return jv||(jv=1,fh.exports=jT()),fh.exports}var vn=BT(),me=lc(),wu={},dh={exports:{}},gn={},ph={exports:{}},mh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function zT(){return Bv||(Bv=1,function(r){function e(re,Q){var H=re.length;re.push(Q);e:for(;0<H;){var V=H-1>>>1,j=re[V];if(0<o(j,Q))re[V]=Q,re[H]=j,H=V;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var Q=re[0],H=re.pop();if(H!==Q){re[0]=H;e:for(var V=0,j=re.length,K=j>>>1;V<K;){var Z=2*(V+1)-1,J=re[Z],z=Z+1,Y=re[z];if(0>o(J,H))z<j&&0>o(Y,J)?(re[V]=Y,re[z]=H,V=z):(re[V]=J,re[Z]=H,V=Z);else if(z<j&&0>o(Y,H))re[V]=Y,re[z]=H,V=z;else break e}}return Q}function o(re,Q){var H=re.sortIndex-Q.sortIndex;return H!==0?H:re.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var d=[],v=[],y=1,g=null,p=3,m=!1,A=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(re){for(var Q=t(v);Q!==null;){if(Q.callback===null)i(v);else if(Q.startTime<=re)i(v),Q.sortIndex=Q.expirationTime,e(d,Q);else break;Q=t(v)}}function I(re){if(T=!1,N(re),!A)if(t(d)!==null)A=!0,ne(M);else{var Q=t(v);Q!==null&&te(I,Q.startTime-re)}}function M(re,Q){A=!1,T&&(T=!1,_(R),R=-1),m=!0;var H=p;try{for(N(Q),g=t(d);g!==null&&(!(g.expirationTime>Q)||re&&!b());){var V=g.callback;if(typeof V=="function"){g.callback=null,p=g.priorityLevel;var j=V(g.expirationTime<=Q);Q=r.unstable_now(),typeof j=="function"?g.callback=j:g===t(d)&&i(d),N(Q)}else i(d);g=t(d)}if(g!==null)var K=!0;else{var Z=t(v);Z!==null&&te(I,Z.startTime-Q),K=!1}return K}finally{g=null,p=H,m=!1}}var F=!1,O=null,R=-1,D=5,C=-1;function b(){return!(r.unstable_now()-C<D)}function L(){if(O!==null){var re=r.unstable_now();C=re;var Q=!0;try{Q=O(!0,re)}finally{Q?x():(F=!1,O=null)}}else F=!1}var x;if(typeof S=="function")x=function(){S(L)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,W=$.port2;$.port1.onmessage=L,x=function(){W.postMessage(null)}}else x=function(){E(L,0)};function ne(re){O=re,F||(F=!0,x())}function te(re,Q){R=E(function(){re(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){A||m||(A=!0,ne(M))},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function(re){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var H=p;p=Q;try{return re()}finally{p=H}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,Q){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var H=p;p=re;try{return Q()}finally{p=H}},r.unstable_scheduleCallback=function(re,Q,H){var V=r.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?V+H:V):H=V,re){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=H+j,re={id:y++,callback:Q,priorityLevel:re,startTime:H,expirationTime:j,sortIndex:-1},H>V?(re.sortIndex=H,e(v,re),t(d)===null&&re===t(v)&&(T?(_(R),R=-1):T=!0,te(I,H-V))):(re.sortIndex=j,e(d,re),A||m||(A=!0,ne(M))),re},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(re){var Q=p;return function(){var H=p;p=Q;try{return re.apply(this,arguments)}finally{p=H}}}}(mh)),mh}var zv;function $T(){return zv||(zv=1,ph.exports=zT()),ph.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function HT(){if($v)return gn;$v=1;var r=lc(),e=$T();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(n,s){u(n,s),u(n+"Capture",s)}function u(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function p(n){return d.call(g,n)?!0:d.call(y,n)?!1:v.test(n)?g[n]=!0:(y[n]=!0,!1)}function m(n,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function A(n,s,l,h){if(s===null||typeof s>"u"||m(n,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function T(n,s,l,h,w,P,U){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=w,this.mustUseProperty=l,this.propertyName=n,this.type=s,this.sanitizeURL=P,this.removeEmptyString=U}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){E[n]=new T(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];E[s]=new T(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){E[n]=new T(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){E[n]=new T(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){E[n]=new T(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){E[n]=new T(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){E[n]=new T(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){E[n]=new T(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){E[n]=new T(n,5,!1,n.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function S(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(_,S);E[s]=new T(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(_,S);E[s]=new T(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(_,S);E[s]=new T(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){E[n]=new T(n,1,!1,n.toLowerCase(),null,!1,!1)}),E.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){E[n]=new T(n,1,!1,n.toLowerCase(),null,!0,!0)});function N(n,s,l,h){var w=E.hasOwnProperty(s)?E[s]:null;(w!==null?w.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(A(s,l,w,h)&&(l=null),h||w===null?p(s)&&(l===null?n.removeAttribute(s):n.setAttribute(s,""+l)):w.mustUseProperty?n[w.propertyName]=l===null?w.type===3?!1:"":l:(s=w.attributeName,h=w.attributeNamespace,l===null?n.removeAttribute(s):(w=w.type,l=w===3||w===4&&l===!0?"":""+l,h?n.setAttributeNS(h,s,l):n.setAttribute(s,l))))}var I=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),F=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),b=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),re=Symbol.iterator;function Q(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var H=Object.assign,V;function j(n){if(V===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);V=s&&s[1]||""}return`
`+V+n}var K=!1;function Z(n,s){if(!n||K)return"";K=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ue){var h=ue}Reflect.construct(n,[],s)}else{try{s.call()}catch(ue){h=ue}n.call(s.prototype)}else{try{throw Error()}catch(ue){h=ue}n()}}catch(ue){if(ue&&h&&typeof ue.stack=="string"){for(var w=ue.stack.split(`
`),P=h.stack.split(`
`),U=w.length-1,G=P.length-1;1<=U&&0<=G&&w[U]!==P[G];)G--;for(;1<=U&&0<=G;U--,G--)if(w[U]!==P[G]){if(U!==1||G!==1)do if(U--,G--,0>G||w[U]!==P[G]){var X=`
`+w[U].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=U&&0<=G);break}}}finally{K=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?j(n):""}function J(n){switch(n.tag){case 5:return j(n.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return n=Z(n.type,!1),n;case 11:return n=Z(n.type.render,!1),n;case 1:return n=Z(n.type,!0),n;default:return""}}function z(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case O:return"Fragment";case F:return"Portal";case D:return"Profiler";case R:return"StrictMode";case x:return"Suspense";case $:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case b:return(n.displayName||"Context")+".Consumer";case C:return(n._context.displayName||"Context")+".Provider";case L:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case W:return s=n.displayName||null,s!==null?s:z(n.type)||"Memo";case ne:s=n._payload,n=n._init;try{return z(n(s))}catch{}}return null}function Y(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ie(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function oe(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function he(n){var s=oe(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),h=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var w=l.get,P=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return w.call(this)},set:function(U){h=""+U,P.call(this,U)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(U){h=""+U},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ie(n){n._valueTracker||(n._valueTracker=he(n))}function Le(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return n&&(h=oe(n)?n.checked?"true":"false":n.value),n=h,n!==l?(s.setValue(n),!0):!1}function Ve(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function He(n,s){var l=s.checked;return H({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function Ge(n,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=ie(s.value!=null?s.value:l),n._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function It(n,s){s=s.checked,s!=null&&N(n,"checked",s,!1)}function ht(n,s){It(n,s);var l=ie(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(h==="submit"||h==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?de(n,s.type,l):s.hasOwnProperty("defaultValue")&&de(n,s.type,ie(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function fe(n,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,l||s===n.value||(n.value=s),n.defaultValue=s}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function de(n,s,l){(s!=="number"||Ve(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var Te=Array.isArray;function Se(n,s,l,h){if(n=n.options,s){s={};for(var w=0;w<l.length;w++)s["$"+l[w]]=!0;for(l=0;l<n.length;l++)w=s.hasOwnProperty("$"+n[l].value),n[l].selected!==w&&(n[l].selected=w),w&&h&&(n[l].defaultSelected=!0)}else{for(l=""+ie(l),s=null,w=0;w<n.length;w++){if(n[w].value===l){n[w].selected=!0,h&&(n[w].defaultSelected=!0);return}s!==null||n[w].disabled||(s=n[w])}s!==null&&(s.selected=!0)}}function ve(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return H({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function je(n,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Te(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}n._wrapperState={initialValue:ie(l)}}function Be(n,s){var l=ie(s.value),h=ie(s.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),s.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),h!=null&&(n.defaultValue=""+h)}function Ke(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function rt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function st(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?rt(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var tt,Mi=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,w){MSApp.execUnsafeLocalFunction(function(){return n(s,l,h,w)})}:n}(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(tt=tt||document.createElement("div"),tt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=tt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function at(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var Gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vi=["Webkit","ms","Moz","O"];Object.keys(Gt).forEach(function(n){Vi.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Gt[s]=Gt[n]})});function Ds(n,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Gt.hasOwnProperty(n)&&Gt[n]?(""+s).trim():s+"px"}function Ms(n,s){n=n.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,w=Ds(l,s[l],h);l==="float"&&(l="cssFloat"),h?n.setProperty(l,w):n[l]=w}}var Vs=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qs(n,s){if(s){if(Vs[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Fs(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qi=null;function Eo(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var wo=null,Pn=null,nr=null;function To(n){if(n=ua(n)){if(typeof wo!="function")throw Error(t(280));var s=n.stateNode;s&&(s=Dl(s),wo(n.stateNode,n.type,s))}}function rr(n){Pn?nr?nr.push(n):nr=[n]:Pn=n}function Us(){if(Pn){var n=Pn,s=nr;if(nr=Pn=null,To(n),s)for(n=0;n<s.length;n++)To(s[n])}}function Fi(n,s){return n(s)}function js(){}var wr=!1;function Bs(n,s,l){if(wr)return n(s,l);wr=!0;try{return Fi(n,s,l)}finally{wr=!1,(Pn!==null||nr!==null)&&(js(),Us())}}function Tt(n,s){var l=n.stateNode;if(l===null)return null;var h=Dl(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(n=n.type,h=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!h;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Ao=!1;if(f)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){Ao=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{Ao=!1}function Ui(n,s,l,h,w,P,U,G,X){var ue=Array.prototype.slice.call(arguments,3);try{s.apply(l,ue)}catch(_e){this.onError(_e)}}var ji=!1,So=null,Un=!1,zs=null,qc={onError:function(n){ji=!0,So=n}};function Io(n,s,l,h,w,P,U,G,X){ji=!1,So=null,Ui.apply(qc,arguments)}function sl(n,s,l,h,w,P,U,G,X){if(Io.apply(this,arguments),ji){if(ji){var ue=So;ji=!1,So=null}else throw Error(t(198));Un||(Un=!0,zs=ue)}}function jn(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,s.flags&4098&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function Bi(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Bn(n){if(jn(n)!==n)throw Error(t(188))}function al(n){var s=n.alternate;if(!s){if(s=jn(n),s===null)throw Error(t(188));return s!==n?null:n}for(var l=n,h=s;;){var w=l.return;if(w===null)break;var P=w.alternate;if(P===null){if(h=w.return,h!==null){l=h;continue}break}if(w.child===P.child){for(P=w.child;P;){if(P===l)return Bn(w),n;if(P===h)return Bn(w),s;P=P.sibling}throw Error(t(188))}if(l.return!==h.return)l=w,h=P;else{for(var U=!1,G=w.child;G;){if(G===l){U=!0,l=w,h=P;break}if(G===h){U=!0,h=w,l=P;break}G=G.sibling}if(!U){for(G=P.child;G;){if(G===l){U=!0,l=P,h=w;break}if(G===h){U=!0,h=P,l=w;break}G=G.sibling}if(!U)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?n:s}function $s(n){return n=al(n),n!==null?bo(n):null}function bo(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=bo(n);if(s!==null)return s;n=n.sibling}return null}var Ro=e.unstable_scheduleCallback,Hs=e.unstable_cancelCallback,ll=e.unstable_shouldYield,Fc=e.unstable_requestPaint,ct=e.unstable_now,ul=e.unstable_getCurrentPriorityLevel,zi=e.unstable_ImmediatePriority,Wr=e.unstable_UserBlockingPriority,On=e.unstable_NormalPriority,Ks=e.unstable_LowPriority,cl=e.unstable_IdlePriority,$i=null,En=null;function fl(n){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot($i,n,void 0,(n.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:dl,Ws=Math.log,hl=Math.LN2;function dl(n){return n>>>=0,n===0?32:31-(Ws(n)/hl|0)|0}var ko=64,Po=4194304;function Gr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Hi(n,s){var l=n.pendingLanes;if(l===0)return 0;var h=0,w=n.suspendedLanes,P=n.pingedLanes,U=l&268435455;if(U!==0){var G=U&~w;G!==0?h=Gr(G):(P&=U,P!==0&&(h=Gr(P)))}else U=l&~w,U!==0?h=Gr(U):P!==0&&(h=Gr(P));if(h===0)return 0;if(s!==0&&s!==h&&!(s&w)&&(w=h&-h,P=s&-s,w>=P||w===16&&(P&4194240)!==0))return s;if(h&4&&(h|=l&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=h;0<s;)l=31-rn(s),w=1<<l,h|=n[l],s&=~w;return h}function Uc(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tr(n,s){for(var l=n.suspendedLanes,h=n.pingedLanes,w=n.expirationTimes,P=n.pendingLanes;0<P;){var U=31-rn(P),G=1<<U,X=w[U];X===-1?(!(G&l)||G&h)&&(w[U]=Uc(G,s)):X<=s&&(n.expiredLanes|=G),P&=~G}}function wn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ki(){var n=ko;return ko<<=1,!(ko&4194240)&&(ko=64),n}function Qr(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function Yr(n,s,l){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-rn(s),n[s]=l}function ut(n,s){var l=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var h=n.eventTimes;for(n=n.expirationTimes;0<l;){var w=31-rn(l),P=1<<w;s[w]=0,h[w]=-1,n[w]=-1,l&=~P}}function Xr(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var h=31-rn(l),w=1<<h;w&s|n[h]&s&&(n[h]|=s),l&=~w}}var Xe=0;function Jr(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var pl,Oo,ml,gl,vl,Gs=!1,ir=[],jt=null,zn=null,$n=null,Zr=new Map,Cn=new Map,or=[],jc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yl(n,s){switch(n){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Zr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cn.delete(s.pointerId)}}function un(n,s,l,h,w,P){return n===null||n.nativeEvent!==P?(n={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:P,targetContainers:[w]},s!==null&&(s=ua(s),s!==null&&Oo(s)),n):(n.eventSystemFlags|=h,s=n.targetContainers,w!==null&&s.indexOf(w)===-1&&s.push(w),n)}function Bc(n,s,l,h,w){switch(s){case"focusin":return jt=un(jt,n,s,l,h,w),!0;case"dragenter":return zn=un(zn,n,s,l,h,w),!0;case"mouseover":return $n=un($n,n,s,l,h,w),!0;case"pointerover":var P=w.pointerId;return Zr.set(P,un(Zr.get(P)||null,n,s,l,h,w)),!0;case"gotpointercapture":return P=w.pointerId,Cn.set(P,un(Cn.get(P)||null,n,s,l,h,w)),!0}return!1}function _l(n){var s=Xi(n.target);if(s!==null){var l=jn(s);if(l!==null){if(s=l.tag,s===13){if(s=Bi(l),s!==null){n.blockedOn=s,vl(n.priority,function(){ml(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ar(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Co(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var h=new l.constructor(l.type,l);qi=h,l.target.dispatchEvent(h),qi=null}else return s=ua(l),s!==null&&Oo(s),n.blockedOn=l,!1;s.shift()}return!0}function Wi(n,s,l){Ar(n)&&l.delete(s)}function El(){Gs=!1,jt!==null&&Ar(jt)&&(jt=null),zn!==null&&Ar(zn)&&(zn=null),$n!==null&&Ar($n)&&($n=null),Zr.forEach(Wi),Cn.forEach(Wi)}function Hn(n,s){n.blockedOn===s&&(n.blockedOn=null,Gs||(Gs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,El)))}function Kn(n){function s(w){return Hn(w,n)}if(0<ir.length){Hn(ir[0],n);for(var l=1;l<ir.length;l++){var h=ir[l];h.blockedOn===n&&(h.blockedOn=null)}}for(jt!==null&&Hn(jt,n),zn!==null&&Hn(zn,n),$n!==null&&Hn($n,n),Zr.forEach(s),Cn.forEach(s),l=0;l<or.length;l++)h=or[l],h.blockedOn===n&&(h.blockedOn=null);for(;0<or.length&&(l=or[0],l.blockedOn===null);)_l(l),l.blockedOn===null&&or.shift()}var Sr=I.ReactCurrentBatchConfig,ei=!0;function gt(n,s,l,h){var w=Xe,P=Sr.transition;Sr.transition=null;try{Xe=1,Qs(n,s,l,h)}finally{Xe=w,Sr.transition=P}}function zc(n,s,l,h){var w=Xe,P=Sr.transition;Sr.transition=null;try{Xe=4,Qs(n,s,l,h)}finally{Xe=w,Sr.transition=P}}function Qs(n,s,l,h){if(ei){var w=Co(n,s,l,h);if(w===null)ef(n,s,h,Gi,l),yl(n,h);else if(Bc(w,n,s,l,h))h.stopPropagation();else if(yl(n,h),s&4&&-1<jc.indexOf(n)){for(;w!==null;){var P=ua(w);if(P!==null&&pl(P),P=Co(n,s,l,h),P===null&&ef(n,s,h,Gi,l),P===w)break;w=P}w!==null&&h.stopPropagation()}else ef(n,s,h,null,l)}}var Gi=null;function Co(n,s,l,h){if(Gi=null,n=Eo(h),n=Xi(n),n!==null)if(s=jn(n),s===null)n=null;else if(l=s.tag,l===13){if(n=Bi(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return Gi=n,null}function Ys(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ul()){case zi:return 1;case Wr:return 4;case On:case Ks:return 16;case cl:return 536870912;default:return 16}default:return 16}}var Tn=null,No=null,cn=null;function Xs(){if(cn)return cn;var n,s=No,l=s.length,h,w="value"in Tn?Tn.value:Tn.textContent,P=w.length;for(n=0;n<l&&s[n]===w[n];n++);var U=l-n;for(h=1;h<=U&&s[l-h]===w[P-h];h++);return cn=w.slice(n,1<h?1-h:void 0)}function xo(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function sr(){return!0}function Js(){return!1}function Bt(n){function s(l,h,w,P,U){this._reactName=l,this._targetInst=w,this.type=h,this.nativeEvent=P,this.target=U,this.currentTarget=null;for(var G in n)n.hasOwnProperty(G)&&(l=n[G],this[G]=l?l(P):P[G]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?sr:Js,this.isPropagationStopped=Js,this}return H(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),s}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lo=Bt(Wn),ar=H({},Wn,{view:0,detail:0}),$c=Bt(ar),Do,Ir,ti,Qi=H({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ti&&(ti&&n.type==="mousemove"?(Do=n.screenX-ti.screenX,Ir=n.screenY-ti.screenY):Ir=Do=0,ti=n),Do)},movementY:function(n){return"movementY"in n?n.movementY:Ir}}),Mo=Bt(Qi),Zs=H({},Qi,{dataTransfer:0}),wl=Bt(Zs),Vo=H({},ar,{relatedTarget:0}),qo=Bt(Vo),Tl=H({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),br=Bt(Tl),Al=H({},Wn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Sl=Bt(Al),Il=H({},Wn,{data:0}),ea=Bt(Il),Fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},on={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rl(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=bl[n])?!!s[n]:!1}function lr(){return Rl}var c=H({},ar,{key:function(n){if(n.key){var s=Fo[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=xo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?on[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lr,charCode:function(n){return n.type==="keypress"?xo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?xo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),k=Bt(c),q=H({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B=Bt(q),se=H({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lr}),ce=Bt(se),Ae=H({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),lt=Bt(Ae),Ot=H({},Qi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ze=Bt(Ot),Mt=[9,13,27,32],bt=f&&"CompositionEvent"in window,Nn=null;f&&"documentMode"in document&&(Nn=document.documentMode);var An=f&&"TextEvent"in window&&!Nn,Yi=f&&(!bt||Nn&&8<Nn&&11>=Nn),Uo=" ",Nm=!1;function xm(n,s){switch(n){case"keyup":return Mt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var jo=!1;function Mw(n,s){switch(n){case"compositionend":return Lm(s);case"keypress":return s.which!==32?null:(Nm=!0,Uo);case"textInput":return n=s.data,n===Uo&&Nm?null:n;default:return null}}function Vw(n,s){if(jo)return n==="compositionend"||!bt&&xm(n,s)?(n=Xs(),cn=No=Tn=null,jo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yi&&s.locale!=="ko"?null:s.data;default:return null}}var qw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dm(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!qw[n.type]:s==="textarea"}function Mm(n,s,l,h){rr(h),s=Nl(s,"onChange"),0<s.length&&(l=new Lo("onChange","change",null,l,h),n.push({event:l,listeners:s}))}var ta=null,na=null;function Fw(n){eg(n,0)}function kl(n){var s=Ko(n);if(Le(s))return n}function Uw(n,s){if(n==="change")return s}var Vm=!1;if(f){var Hc;if(f){var Kc="oninput"in document;if(!Kc){var qm=document.createElement("div");qm.setAttribute("oninput","return;"),Kc=typeof qm.oninput=="function"}Hc=Kc}else Hc=!1;Vm=Hc&&(!document.documentMode||9<document.documentMode)}function Fm(){ta&&(ta.detachEvent("onpropertychange",Um),na=ta=null)}function Um(n){if(n.propertyName==="value"&&kl(na)){var s=[];Mm(s,na,n,Eo(n)),Bs(Fw,s)}}function jw(n,s,l){n==="focusin"?(Fm(),ta=s,na=l,ta.attachEvent("onpropertychange",Um)):n==="focusout"&&Fm()}function Bw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return kl(na)}function zw(n,s){if(n==="click")return kl(s)}function $w(n,s){if(n==="input"||n==="change")return kl(s)}function Hw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Gn=typeof Object.is=="function"?Object.is:Hw;function ra(n,s){if(Gn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var w=l[h];if(!d.call(s,w)||!Gn(n[w],s[w]))return!1}return!0}function jm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Bm(n,s){var l=jm(n);n=0;for(var h;l;){if(l.nodeType===3){if(h=n+l.textContent.length,n<=s&&h>=s)return{node:l,offset:s-n};n=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=jm(l)}}function zm(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?zm(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function $m(){for(var n=window,s=Ve();s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=Ve(n.document)}return s}function Wc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function Kw(n){var s=$m(),l=n.focusedElem,h=n.selectionRange;if(s!==l&&l&&l.ownerDocument&&zm(l.ownerDocument.documentElement,l)){if(h!==null&&Wc(l)){if(s=h.start,n=h.end,n===void 0&&(n=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(n,l.value.length);else if(n=(s=l.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var w=l.textContent.length,P=Math.min(h.start,w);h=h.end===void 0?P:Math.min(h.end,w),!n.extend&&P>h&&(w=h,h=P,P=w),w=Bm(l,P);var U=Bm(l,h);w&&U&&(n.rangeCount!==1||n.anchorNode!==w.node||n.anchorOffset!==w.offset||n.focusNode!==U.node||n.focusOffset!==U.offset)&&(s=s.createRange(),s.setStart(w.node,w.offset),n.removeAllRanges(),P>h?(n.addRange(s),n.extend(U.node,U.offset)):(s.setEnd(U.node,U.offset),n.addRange(s)))}}for(s=[],n=l;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)n=s[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Ww=f&&"documentMode"in document&&11>=document.documentMode,Bo=null,Gc=null,ia=null,Qc=!1;function Hm(n,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Qc||Bo==null||Bo!==Ve(h)||(h=Bo,"selectionStart"in h&&Wc(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ia&&ra(ia,h)||(ia=h,h=Nl(Gc,"onSelect"),0<h.length&&(s=new Lo("onSelect","select",null,s,l),n.push({event:s,listeners:h}),s.target=Bo)))}function Pl(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var zo={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionend:Pl("Transition","TransitionEnd")},Yc={},Km={};f&&(Km=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function Ol(n){if(Yc[n])return Yc[n];if(!zo[n])return n;var s=zo[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in Km)return Yc[n]=s[l];return n}var Wm=Ol("animationend"),Gm=Ol("animationiteration"),Qm=Ol("animationstart"),Ym=Ol("transitionend"),Xm=new Map,Jm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(n,s){Xm.set(n,s),a(s,[n])}for(var Xc=0;Xc<Jm.length;Xc++){var Jc=Jm[Xc],Gw=Jc.toLowerCase(),Qw=Jc[0].toUpperCase()+Jc.slice(1);ni(Gw,"on"+Qw)}ni(Wm,"onAnimationEnd"),ni(Gm,"onAnimationIteration"),ni(Qm,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(Ym,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yw=new Set("cancel close invalid load scroll toggle".split(" ").concat(oa));function Zm(n,s,l){var h=n.type||"unknown-event";n.currentTarget=l,sl(h,s,void 0,n),n.currentTarget=null}function eg(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var h=n[l],w=h.event;h=h.listeners;e:{var P=void 0;if(s)for(var U=h.length-1;0<=U;U--){var G=h[U],X=G.instance,ue=G.currentTarget;if(G=G.listener,X!==P&&w.isPropagationStopped())break e;Zm(w,G,ue),P=X}else for(U=0;U<h.length;U++){if(G=h[U],X=G.instance,ue=G.currentTarget,G=G.listener,X!==P&&w.isPropagationStopped())break e;Zm(w,G,ue),P=X}}}if(Un)throw n=zs,Un=!1,zs=null,n}function dt(n,s){var l=s[af];l===void 0&&(l=s[af]=new Set);var h=n+"__bubble";l.has(h)||(tg(s,n,2,!1),l.add(h))}function Zc(n,s,l){var h=0;s&&(h|=4),tg(l,n,h,s)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function sa(n){if(!n[Cl]){n[Cl]=!0,i.forEach(function(l){l!=="selectionchange"&&(Yw.has(l)||Zc(l,!1,n),Zc(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Cl]||(s[Cl]=!0,Zc("selectionchange",!1,s))}}function tg(n,s,l,h){switch(Ys(s)){case 1:var w=gt;break;case 4:w=zc;break;default:w=Qs}l=w.bind(null,s,l,n),w=void 0,!Ao||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(w=!0),h?w!==void 0?n.addEventListener(s,l,{capture:!0,passive:w}):n.addEventListener(s,l,!0):w!==void 0?n.addEventListener(s,l,{passive:w}):n.addEventListener(s,l,!1)}function ef(n,s,l,h,w){var P=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var U=h.tag;if(U===3||U===4){var G=h.stateNode.containerInfo;if(G===w||G.nodeType===8&&G.parentNode===w)break;if(U===4)for(U=h.return;U!==null;){var X=U.tag;if((X===3||X===4)&&(X=U.stateNode.containerInfo,X===w||X.nodeType===8&&X.parentNode===w))return;U=U.return}for(;G!==null;){if(U=Xi(G),U===null)return;if(X=U.tag,X===5||X===6){h=P=U;continue e}G=G.parentNode}}h=h.return}Bs(function(){var ue=P,_e=Eo(l),Ee=[];e:{var ye=Xm.get(n);if(ye!==void 0){var be=Lo,Pe=n;switch(n){case"keypress":if(xo(l)===0)break e;case"keydown":case"keyup":be=k;break;case"focusin":Pe="focus",be=qo;break;case"focusout":Pe="blur",be=qo;break;case"beforeblur":case"afterblur":be=qo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=ce;break;case Wm:case Gm:case Qm:be=br;break;case Ym:be=lt;break;case"scroll":be=$c;break;case"wheel":be=Ze;break;case"copy":case"cut":case"paste":be=Sl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=B}var Ce=(s&4)!==0,At=!Ce&&n==="scroll",ae=Ce?ye!==null?ye+"Capture":null:ye;Ce=[];for(var ee=ue,le;ee!==null;){le=ee;var we=le.stateNode;if(le.tag===5&&we!==null&&(le=we,ae!==null&&(we=Tt(ee,ae),we!=null&&Ce.push(aa(ee,we,le)))),At)break;ee=ee.return}0<Ce.length&&(ye=new be(ye,Pe,null,l,_e),Ee.push({event:ye,listeners:Ce}))}}if(!(s&7)){e:{if(ye=n==="mouseover"||n==="pointerover",be=n==="mouseout"||n==="pointerout",ye&&l!==qi&&(Pe=l.relatedTarget||l.fromElement)&&(Xi(Pe)||Pe[Rr]))break e;if((be||ye)&&(ye=_e.window===_e?_e:(ye=_e.ownerDocument)?ye.defaultView||ye.parentWindow:window,be?(Pe=l.relatedTarget||l.toElement,be=ue,Pe=Pe?Xi(Pe):null,Pe!==null&&(At=jn(Pe),Pe!==At||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(be=null,Pe=ue),be!==Pe)){if(Ce=Mo,we="onMouseLeave",ae="onMouseEnter",ee="mouse",(n==="pointerout"||n==="pointerover")&&(Ce=B,we="onPointerLeave",ae="onPointerEnter",ee="pointer"),At=be==null?ye:Ko(be),le=Pe==null?ye:Ko(Pe),ye=new Ce(we,ee+"leave",be,l,_e),ye.target=At,ye.relatedTarget=le,we=null,Xi(_e)===ue&&(Ce=new Ce(ae,ee+"enter",Pe,l,_e),Ce.target=le,Ce.relatedTarget=At,we=Ce),At=we,be&&Pe)t:{for(Ce=be,ae=Pe,ee=0,le=Ce;le;le=$o(le))ee++;for(le=0,we=ae;we;we=$o(we))le++;for(;0<ee-le;)Ce=$o(Ce),ee--;for(;0<le-ee;)ae=$o(ae),le--;for(;ee--;){if(Ce===ae||ae!==null&&Ce===ae.alternate)break t;Ce=$o(Ce),ae=$o(ae)}Ce=null}else Ce=null;be!==null&&ng(Ee,ye,be,Ce,!1),Pe!==null&&At!==null&&ng(Ee,At,Pe,Ce,!0)}}e:{if(ye=ue?Ko(ue):window,be=ye.nodeName&&ye.nodeName.toLowerCase(),be==="select"||be==="input"&&ye.type==="file")var Ne=Uw;else if(Dm(ye))if(Vm)Ne=$w;else{Ne=Bw;var De=jw}else(be=ye.nodeName)&&be.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(Ne=zw);if(Ne&&(Ne=Ne(n,ue))){Mm(Ee,Ne,l,_e);break e}De&&De(n,ye,ue),n==="focusout"&&(De=ye._wrapperState)&&De.controlled&&ye.type==="number"&&de(ye,"number",ye.value)}switch(De=ue?Ko(ue):window,n){case"focusin":(Dm(De)||De.contentEditable==="true")&&(Bo=De,Gc=ue,ia=null);break;case"focusout":ia=Gc=Bo=null;break;case"mousedown":Qc=!0;break;case"contextmenu":case"mouseup":case"dragend":Qc=!1,Hm(Ee,l,_e);break;case"selectionchange":if(Ww)break;case"keydown":case"keyup":Hm(Ee,l,_e)}var Me;if(bt)e:{switch(n){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else jo?xm(n,l)&&(qe="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(qe="onCompositionStart");qe&&(Yi&&l.locale!=="ko"&&(jo||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&jo&&(Me=Xs()):(Tn=_e,No="value"in Tn?Tn.value:Tn.textContent,jo=!0)),De=Nl(ue,qe),0<De.length&&(qe=new ea(qe,n,null,l,_e),Ee.push({event:qe,listeners:De}),Me?qe.data=Me:(Me=Lm(l),Me!==null&&(qe.data=Me)))),(Me=An?Mw(n,l):Vw(n,l))&&(ue=Nl(ue,"onBeforeInput"),0<ue.length&&(_e=new ea("onBeforeInput","beforeinput",null,l,_e),Ee.push({event:_e,listeners:ue}),_e.data=Me))}eg(Ee,s)})}function aa(n,s,l){return{instance:n,listener:s,currentTarget:l}}function Nl(n,s){for(var l=s+"Capture",h=[];n!==null;){var w=n,P=w.stateNode;w.tag===5&&P!==null&&(w=P,P=Tt(n,l),P!=null&&h.unshift(aa(n,P,w)),P=Tt(n,s),P!=null&&h.push(aa(n,P,w))),n=n.return}return h}function $o(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function ng(n,s,l,h,w){for(var P=s._reactName,U=[];l!==null&&l!==h;){var G=l,X=G.alternate,ue=G.stateNode;if(X!==null&&X===h)break;G.tag===5&&ue!==null&&(G=ue,w?(X=Tt(l,P),X!=null&&U.unshift(aa(l,X,G))):w||(X=Tt(l,P),X!=null&&U.push(aa(l,X,G)))),l=l.return}U.length!==0&&n.push({event:s,listeners:U})}var Xw=/\r\n?/g,Jw=/\u0000|\uFFFD/g;function rg(n){return(typeof n=="string"?n:""+n).replace(Xw,`
`).replace(Jw,"")}function xl(n,s,l){if(s=rg(s),rg(n)!==s&&l)throw Error(t(425))}function Ll(){}var tf=null,nf=null;function rf(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var of=typeof setTimeout=="function"?setTimeout:void 0,Zw=typeof clearTimeout=="function"?clearTimeout:void 0,ig=typeof Promise=="function"?Promise:void 0,eT=typeof queueMicrotask=="function"?queueMicrotask:typeof ig<"u"?function(n){return ig.resolve(null).then(n).catch(tT)}:of;function tT(n){setTimeout(function(){throw n})}function sf(n,s){var l=s,h=0;do{var w=l.nextSibling;if(n.removeChild(l),w&&w.nodeType===8)if(l=w.data,l==="/$"){if(h===0){n.removeChild(w),Kn(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=w}while(l);Kn(s)}function ri(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function og(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),ur="__reactFiber$"+Ho,la="__reactProps$"+Ho,Rr="__reactContainer$"+Ho,af="__reactEvents$"+Ho,nT="__reactListeners$"+Ho,rT="__reactHandles$"+Ho;function Xi(n){var s=n[ur];if(s)return s;for(var l=n.parentNode;l;){if(s=l[Rr]||l[ur]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=og(n);n!==null;){if(l=n[ur])return l;n=og(n)}return s}n=l,l=n.parentNode}return null}function ua(n){return n=n[ur]||n[Rr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ko(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Dl(n){return n[la]||null}var lf=[],Wo=-1;function ii(n){return{current:n}}function pt(n){0>Wo||(n.current=lf[Wo],lf[Wo]=null,Wo--)}function ft(n,s){Wo++,lf[Wo]=n.current,n.current=s}var oi={},Qt=ii(oi),fn=ii(!1),Ji=oi;function Go(n,s){var l=n.type.contextTypes;if(!l)return oi;var h=n.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var w={},P;for(P in l)w[P]=s[P];return h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=w),w}function hn(n){return n=n.childContextTypes,n!=null}function Ml(){pt(fn),pt(Qt)}function sg(n,s,l){if(Qt.current!==oi)throw Error(t(168));ft(Qt,s),ft(fn,l)}function ag(n,s,l){var h=n.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var w in h)if(!(w in s))throw Error(t(108,Y(n)||"Unknown",w));return H({},l,h)}function Vl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||oi,Ji=Qt.current,ft(Qt,n),ft(fn,fn.current),!0}function lg(n,s,l){var h=n.stateNode;if(!h)throw Error(t(169));l?(n=ag(n,s,Ji),h.__reactInternalMemoizedMergedChildContext=n,pt(fn),pt(Qt),ft(Qt,n)):pt(fn),ft(fn,l)}var kr=null,ql=!1,uf=!1;function ug(n){kr===null?kr=[n]:kr.push(n)}function iT(n){ql=!0,ug(n)}function si(){if(!uf&&kr!==null){uf=!0;var n=0,s=Xe;try{var l=kr;for(Xe=1;n<l.length;n++){var h=l[n];do h=h(!0);while(h!==null)}kr=null,ql=!1}catch(w){throw kr!==null&&(kr=kr.slice(n+1)),Ro(zi,si),w}finally{Xe=s,uf=!1}}return null}var Qo=[],Yo=0,Fl=null,Ul=0,xn=[],Ln=0,Zi=null,Pr=1,Or="";function eo(n,s){Qo[Yo++]=Ul,Qo[Yo++]=Fl,Fl=n,Ul=s}function cg(n,s,l){xn[Ln++]=Pr,xn[Ln++]=Or,xn[Ln++]=Zi,Zi=n;var h=Pr;n=Or;var w=32-rn(h)-1;h&=~(1<<w),l+=1;var P=32-rn(s)+w;if(30<P){var U=w-w%5;P=(h&(1<<U)-1).toString(32),h>>=U,w-=U,Pr=1<<32-rn(s)+w|l<<w|h,Or=P+n}else Pr=1<<P|l<<w|h,Or=n}function cf(n){n.return!==null&&(eo(n,1),cg(n,1,0))}function ff(n){for(;n===Fl;)Fl=Qo[--Yo],Qo[Yo]=null,Ul=Qo[--Yo],Qo[Yo]=null;for(;n===Zi;)Zi=xn[--Ln],xn[Ln]=null,Or=xn[--Ln],xn[Ln]=null,Pr=xn[--Ln],xn[Ln]=null}var Sn=null,In=null,vt=!1,Qn=null;function fg(n,s){var l=qn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=n,s=n.deletions,s===null?(n.deletions=[l],n.flags|=16):s.push(l)}function hg(n,s){switch(n.tag){case 5:var l=n.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,Sn=n,In=ri(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,Sn=n,In=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Zi!==null?{id:Pr,overflow:Or}:null,n.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=qn(18,null,null,0),l.stateNode=s,l.return=n,n.child=l,Sn=n,In=null,!0):!1;default:return!1}}function hf(n){return(n.mode&1)!==0&&(n.flags&128)===0}function df(n){if(vt){var s=In;if(s){var l=s;if(!hg(n,s)){if(hf(n))throw Error(t(418));s=ri(l.nextSibling);var h=Sn;s&&hg(n,s)?fg(h,l):(n.flags=n.flags&-4097|2,vt=!1,Sn=n)}}else{if(hf(n))throw Error(t(418));n.flags=n.flags&-4097|2,vt=!1,Sn=n}}}function dg(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Sn=n}function jl(n){if(n!==Sn)return!1;if(!vt)return dg(n),vt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!rf(n.type,n.memoizedProps)),s&&(s=In)){if(hf(n))throw pg(),Error(t(418));for(;s;)fg(n,s),s=ri(s.nextSibling)}if(dg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(s===0){In=ri(n.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}n=n.nextSibling}In=null}}else In=Sn?ri(n.stateNode.nextSibling):null;return!0}function pg(){for(var n=In;n;)n=ri(n.nextSibling)}function Xo(){In=Sn=null,vt=!1}function pf(n){Qn===null?Qn=[n]:Qn.push(n)}var oT=I.ReactCurrentBatchConfig;function ca(n,s,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,n));var w=h,P=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===P?s.ref:(s=function(U){var G=w.refs;U===null?delete G[P]:G[P]=U},s._stringRef=P,s)}if(typeof n!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,n))}return n}function Bl(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function mg(n){var s=n._init;return s(n._payload)}function gg(n){function s(ae,ee){if(n){var le=ae.deletions;le===null?(ae.deletions=[ee],ae.flags|=16):le.push(ee)}}function l(ae,ee){if(!n)return null;for(;ee!==null;)s(ae,ee),ee=ee.sibling;return null}function h(ae,ee){for(ae=new Map;ee!==null;)ee.key!==null?ae.set(ee.key,ee):ae.set(ee.index,ee),ee=ee.sibling;return ae}function w(ae,ee){return ae=pi(ae,ee),ae.index=0,ae.sibling=null,ae}function P(ae,ee,le){return ae.index=le,n?(le=ae.alternate,le!==null?(le=le.index,le<ee?(ae.flags|=2,ee):le):(ae.flags|=2,ee)):(ae.flags|=1048576,ee)}function U(ae){return n&&ae.alternate===null&&(ae.flags|=2),ae}function G(ae,ee,le,we){return ee===null||ee.tag!==6?(ee=oh(le,ae.mode,we),ee.return=ae,ee):(ee=w(ee,le),ee.return=ae,ee)}function X(ae,ee,le,we){var Ne=le.type;return Ne===O?_e(ae,ee,le.props.children,we,le.key):ee!==null&&(ee.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ne&&mg(Ne)===ee.type)?(we=w(ee,le.props),we.ref=ca(ae,ee,le),we.return=ae,we):(we=hu(le.type,le.key,le.props,null,ae.mode,we),we.ref=ca(ae,ee,le),we.return=ae,we)}function ue(ae,ee,le,we){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==le.containerInfo||ee.stateNode.implementation!==le.implementation?(ee=sh(le,ae.mode,we),ee.return=ae,ee):(ee=w(ee,le.children||[]),ee.return=ae,ee)}function _e(ae,ee,le,we,Ne){return ee===null||ee.tag!==7?(ee=lo(le,ae.mode,we,Ne),ee.return=ae,ee):(ee=w(ee,le),ee.return=ae,ee)}function Ee(ae,ee,le){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return ee=oh(""+ee,ae.mode,le),ee.return=ae,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case M:return le=hu(ee.type,ee.key,ee.props,null,ae.mode,le),le.ref=ca(ae,null,ee),le.return=ae,le;case F:return ee=sh(ee,ae.mode,le),ee.return=ae,ee;case ne:var we=ee._init;return Ee(ae,we(ee._payload),le)}if(Te(ee)||Q(ee))return ee=lo(ee,ae.mode,le,null),ee.return=ae,ee;Bl(ae,ee)}return null}function ye(ae,ee,le,we){var Ne=ee!==null?ee.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Ne!==null?null:G(ae,ee,""+le,we);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case M:return le.key===Ne?X(ae,ee,le,we):null;case F:return le.key===Ne?ue(ae,ee,le,we):null;case ne:return Ne=le._init,ye(ae,ee,Ne(le._payload),we)}if(Te(le)||Q(le))return Ne!==null?null:_e(ae,ee,le,we,null);Bl(ae,le)}return null}function be(ae,ee,le,we,Ne){if(typeof we=="string"&&we!==""||typeof we=="number")return ae=ae.get(le)||null,G(ee,ae,""+we,Ne);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case M:return ae=ae.get(we.key===null?le:we.key)||null,X(ee,ae,we,Ne);case F:return ae=ae.get(we.key===null?le:we.key)||null,ue(ee,ae,we,Ne);case ne:var De=we._init;return be(ae,ee,le,De(we._payload),Ne)}if(Te(we)||Q(we))return ae=ae.get(le)||null,_e(ee,ae,we,Ne,null);Bl(ee,we)}return null}function Pe(ae,ee,le,we){for(var Ne=null,De=null,Me=ee,qe=ee=0,Ft=null;Me!==null&&qe<le.length;qe++){Me.index>qe?(Ft=Me,Me=null):Ft=Me.sibling;var it=ye(ae,Me,le[qe],we);if(it===null){Me===null&&(Me=Ft);break}n&&Me&&it.alternate===null&&s(ae,Me),ee=P(it,ee,qe),De===null?Ne=it:De.sibling=it,De=it,Me=Ft}if(qe===le.length)return l(ae,Me),vt&&eo(ae,qe),Ne;if(Me===null){for(;qe<le.length;qe++)Me=Ee(ae,le[qe],we),Me!==null&&(ee=P(Me,ee,qe),De===null?Ne=Me:De.sibling=Me,De=Me);return vt&&eo(ae,qe),Ne}for(Me=h(ae,Me);qe<le.length;qe++)Ft=be(Me,ae,qe,le[qe],we),Ft!==null&&(n&&Ft.alternate!==null&&Me.delete(Ft.key===null?qe:Ft.key),ee=P(Ft,ee,qe),De===null?Ne=Ft:De.sibling=Ft,De=Ft);return n&&Me.forEach(function(mi){return s(ae,mi)}),vt&&eo(ae,qe),Ne}function Ce(ae,ee,le,we){var Ne=Q(le);if(typeof Ne!="function")throw Error(t(150));if(le=Ne.call(le),le==null)throw Error(t(151));for(var De=Ne=null,Me=ee,qe=ee=0,Ft=null,it=le.next();Me!==null&&!it.done;qe++,it=le.next()){Me.index>qe?(Ft=Me,Me=null):Ft=Me.sibling;var mi=ye(ae,Me,it.value,we);if(mi===null){Me===null&&(Me=Ft);break}n&&Me&&mi.alternate===null&&s(ae,Me),ee=P(mi,ee,qe),De===null?Ne=mi:De.sibling=mi,De=mi,Me=Ft}if(it.done)return l(ae,Me),vt&&eo(ae,qe),Ne;if(Me===null){for(;!it.done;qe++,it=le.next())it=Ee(ae,it.value,we),it!==null&&(ee=P(it,ee,qe),De===null?Ne=it:De.sibling=it,De=it);return vt&&eo(ae,qe),Ne}for(Me=h(ae,Me);!it.done;qe++,it=le.next())it=be(Me,ae,qe,it.value,we),it!==null&&(n&&it.alternate!==null&&Me.delete(it.key===null?qe:it.key),ee=P(it,ee,qe),De===null?Ne=it:De.sibling=it,De=it);return n&&Me.forEach(function(qT){return s(ae,qT)}),vt&&eo(ae,qe),Ne}function At(ae,ee,le,we){if(typeof le=="object"&&le!==null&&le.type===O&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case M:e:{for(var Ne=le.key,De=ee;De!==null;){if(De.key===Ne){if(Ne=le.type,Ne===O){if(De.tag===7){l(ae,De.sibling),ee=w(De,le.props.children),ee.return=ae,ae=ee;break e}}else if(De.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ne&&mg(Ne)===De.type){l(ae,De.sibling),ee=w(De,le.props),ee.ref=ca(ae,De,le),ee.return=ae,ae=ee;break e}l(ae,De);break}else s(ae,De);De=De.sibling}le.type===O?(ee=lo(le.props.children,ae.mode,we,le.key),ee.return=ae,ae=ee):(we=hu(le.type,le.key,le.props,null,ae.mode,we),we.ref=ca(ae,ee,le),we.return=ae,ae=we)}return U(ae);case F:e:{for(De=le.key;ee!==null;){if(ee.key===De)if(ee.tag===4&&ee.stateNode.containerInfo===le.containerInfo&&ee.stateNode.implementation===le.implementation){l(ae,ee.sibling),ee=w(ee,le.children||[]),ee.return=ae,ae=ee;break e}else{l(ae,ee);break}else s(ae,ee);ee=ee.sibling}ee=sh(le,ae.mode,we),ee.return=ae,ae=ee}return U(ae);case ne:return De=le._init,At(ae,ee,De(le._payload),we)}if(Te(le))return Pe(ae,ee,le,we);if(Q(le))return Ce(ae,ee,le,we);Bl(ae,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,ee!==null&&ee.tag===6?(l(ae,ee.sibling),ee=w(ee,le),ee.return=ae,ae=ee):(l(ae,ee),ee=oh(le,ae.mode,we),ee.return=ae,ae=ee),U(ae)):l(ae,ee)}return At}var Jo=gg(!0),vg=gg(!1),zl=ii(null),$l=null,Zo=null,mf=null;function gf(){mf=Zo=$l=null}function vf(n){var s=zl.current;pt(zl),n._currentValue=s}function yf(n,s,l){for(;n!==null;){var h=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),n===l)break;n=n.return}}function es(n,s){$l=n,mf=Zo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&s&&(dn=!0),n.firstContext=null)}function Dn(n){var s=n._currentValue;if(mf!==n)if(n={context:n,memoizedValue:s,next:null},Zo===null){if($l===null)throw Error(t(308));Zo=n,$l.dependencies={lanes:0,firstContext:n}}else Zo=Zo.next=n;return s}var to=null;function _f(n){to===null?to=[n]:to.push(n)}function yg(n,s,l,h){var w=s.interleaved;return w===null?(l.next=l,_f(s)):(l.next=w.next,w.next=l),s.interleaved=l,Cr(n,h)}function Cr(n,s){n.lanes|=s;var l=n.alternate;for(l!==null&&(l.lanes|=s),l=n,n=n.return;n!==null;)n.childLanes|=s,l=n.alternate,l!==null&&(l.childLanes|=s),l=n,n=n.return;return l.tag===3?l.stateNode:null}var ai=!1;function Ef(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _g(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Nr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function li(n,s,l){var h=n.updateQueue;if(h===null)return null;if(h=h.shared,nt&2){var w=h.pending;return w===null?s.next=s:(s.next=w.next,w.next=s),h.pending=s,Cr(n,l)}return w=h.interleaved,w===null?(s.next=s,_f(h)):(s.next=w.next,w.next=s),h.interleaved=s,Cr(n,l)}function Hl(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=n.pendingLanes,l|=h,s.lanes=l,Xr(n,l)}}function Eg(n,s){var l=n.updateQueue,h=n.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var w=null,P=null;if(l=l.firstBaseUpdate,l!==null){do{var U={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};P===null?w=P=U:P=P.next=U,l=l.next}while(l!==null);P===null?w=P=s:P=P.next=s}else w=P=s;l={baseState:h.baseState,firstBaseUpdate:w,lastBaseUpdate:P,shared:h.shared,effects:h.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}function Kl(n,s,l,h){var w=n.updateQueue;ai=!1;var P=w.firstBaseUpdate,U=w.lastBaseUpdate,G=w.shared.pending;if(G!==null){w.shared.pending=null;var X=G,ue=X.next;X.next=null,U===null?P=ue:U.next=ue,U=X;var _e=n.alternate;_e!==null&&(_e=_e.updateQueue,G=_e.lastBaseUpdate,G!==U&&(G===null?_e.firstBaseUpdate=ue:G.next=ue,_e.lastBaseUpdate=X))}if(P!==null){var Ee=w.baseState;U=0,_e=ue=X=null,G=P;do{var ye=G.lane,be=G.eventTime;if((h&ye)===ye){_e!==null&&(_e=_e.next={eventTime:be,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var Pe=n,Ce=G;switch(ye=s,be=l,Ce.tag){case 1:if(Pe=Ce.payload,typeof Pe=="function"){Ee=Pe.call(be,Ee,ye);break e}Ee=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ce.payload,ye=typeof Pe=="function"?Pe.call(be,Ee,ye):Pe,ye==null)break e;Ee=H({},Ee,ye);break e;case 2:ai=!0}}G.callback!==null&&G.lane!==0&&(n.flags|=64,ye=w.effects,ye===null?w.effects=[G]:ye.push(G))}else be={eventTime:be,lane:ye,tag:G.tag,payload:G.payload,callback:G.callback,next:null},_e===null?(ue=_e=be,X=Ee):_e=_e.next=be,U|=ye;if(G=G.next,G===null){if(G=w.shared.pending,G===null)break;ye=G,G=ye.next,ye.next=null,w.lastBaseUpdate=ye,w.shared.pending=null}}while(!0);if(_e===null&&(X=Ee),w.baseState=X,w.firstBaseUpdate=ue,w.lastBaseUpdate=_e,s=w.shared.interleaved,s!==null){w=s;do U|=w.lane,w=w.next;while(w!==s)}else P===null&&(w.shared.lanes=0);io|=U,n.lanes=U,n.memoizedState=Ee}}function wg(n,s,l){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var h=n[s],w=h.callback;if(w!==null){if(h.callback=null,h=l,typeof w!="function")throw Error(t(191,w));w.call(h)}}}var fa={},cr=ii(fa),ha=ii(fa),da=ii(fa);function no(n){if(n===fa)throw Error(t(174));return n}function wf(n,s){switch(ft(da,s),ft(ha,n),ft(cr,fa),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:st(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=st(s,n)}pt(cr),ft(cr,s)}function ts(){pt(cr),pt(ha),pt(da)}function Tg(n){no(da.current);var s=no(cr.current),l=st(s,n.type);s!==l&&(ft(ha,n),ft(cr,l))}function Tf(n){ha.current===n&&(pt(cr),pt(ha))}var yt=ii(0);function Wl(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Af=[];function Sf(){for(var n=0;n<Af.length;n++)Af[n]._workInProgressVersionPrimary=null;Af.length=0}var Gl=I.ReactCurrentDispatcher,If=I.ReactCurrentBatchConfig,ro=0,_t=null,Ct=null,Vt=null,Ql=!1,pa=!1,ma=0,sT=0;function Yt(){throw Error(t(321))}function bf(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!Gn(n[l],s[l]))return!1;return!0}function Rf(n,s,l,h,w,P){if(ro=P,_t=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Gl.current=n===null||n.memoizedState===null?cT:fT,n=l(h,w),pa){P=0;do{if(pa=!1,ma=0,25<=P)throw Error(t(301));P+=1,Vt=Ct=null,s.updateQueue=null,Gl.current=hT,n=l(h,w)}while(pa)}if(Gl.current=Jl,s=Ct!==null&&Ct.next!==null,ro=0,Vt=Ct=_t=null,Ql=!1,s)throw Error(t(300));return n}function kf(){var n=ma!==0;return ma=0,n}function fr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?_t.memoizedState=Vt=n:Vt=Vt.next=n,Vt}function Mn(){if(Ct===null){var n=_t.alternate;n=n!==null?n.memoizedState:null}else n=Ct.next;var s=Vt===null?_t.memoizedState:Vt.next;if(s!==null)Vt=s,Ct=n;else{if(n===null)throw Error(t(310));Ct=n,n={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Vt===null?_t.memoizedState=Vt=n:Vt=Vt.next=n}return Vt}function ga(n,s){return typeof s=="function"?s(n):s}function Pf(n){var s=Mn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=n;var h=Ct,w=h.baseQueue,P=l.pending;if(P!==null){if(w!==null){var U=w.next;w.next=P.next,P.next=U}h.baseQueue=w=P,l.pending=null}if(w!==null){P=w.next,h=h.baseState;var G=U=null,X=null,ue=P;do{var _e=ue.lane;if((ro&_e)===_e)X!==null&&(X=X.next={lane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),h=ue.hasEagerState?ue.eagerState:n(h,ue.action);else{var Ee={lane:_e,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};X===null?(G=X=Ee,U=h):X=X.next=Ee,_t.lanes|=_e,io|=_e}ue=ue.next}while(ue!==null&&ue!==P);X===null?U=h:X.next=G,Gn(h,s.memoizedState)||(dn=!0),s.memoizedState=h,s.baseState=U,s.baseQueue=X,l.lastRenderedState=h}if(n=l.interleaved,n!==null){w=n;do P=w.lane,_t.lanes|=P,io|=P,w=w.next;while(w!==n)}else w===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Of(n){var s=Mn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=n;var h=l.dispatch,w=l.pending,P=s.memoizedState;if(w!==null){l.pending=null;var U=w=w.next;do P=n(P,U.action),U=U.next;while(U!==w);Gn(P,s.memoizedState)||(dn=!0),s.memoizedState=P,s.baseQueue===null&&(s.baseState=P),l.lastRenderedState=P}return[P,h]}function Ag(){}function Sg(n,s){var l=_t,h=Mn(),w=s(),P=!Gn(h.memoizedState,w);if(P&&(h.memoizedState=w,dn=!0),h=h.queue,Cf(Rg.bind(null,l,h,n),[n]),h.getSnapshot!==s||P||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,va(9,bg.bind(null,l,h,w,s),void 0,null),qt===null)throw Error(t(349));ro&30||Ig(l,s,w)}return w}function Ig(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=_t.updateQueue,s===null?(s={lastEffect:null,stores:null},_t.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function bg(n,s,l,h){s.value=l,s.getSnapshot=h,kg(s)&&Pg(n)}function Rg(n,s,l){return l(function(){kg(s)&&Pg(n)})}function kg(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!Gn(n,l)}catch{return!0}}function Pg(n){var s=Cr(n,1);s!==null&&Zn(s,n,1,-1)}function Og(n){var s=fr();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:n},s.queue=n,n=n.dispatch=uT.bind(null,_t,n),[s.memoizedState,n]}function va(n,s,l,h){return n={tag:n,create:s,destroy:l,deps:h,next:null},s=_t.updateQueue,s===null?(s={lastEffect:null,stores:null},_t.updateQueue=s,s.lastEffect=n.next=n):(l=s.lastEffect,l===null?s.lastEffect=n.next=n:(h=l.next,l.next=n,n.next=h,s.lastEffect=n)),n}function Cg(){return Mn().memoizedState}function Yl(n,s,l,h){var w=fr();_t.flags|=n,w.memoizedState=va(1|s,l,void 0,h===void 0?null:h)}function Xl(n,s,l,h){var w=Mn();h=h===void 0?null:h;var P=void 0;if(Ct!==null){var U=Ct.memoizedState;if(P=U.destroy,h!==null&&bf(h,U.deps)){w.memoizedState=va(s,l,P,h);return}}_t.flags|=n,w.memoizedState=va(1|s,l,P,h)}function Ng(n,s){return Yl(8390656,8,n,s)}function Cf(n,s){return Xl(2048,8,n,s)}function xg(n,s){return Xl(4,2,n,s)}function Lg(n,s){return Xl(4,4,n,s)}function Dg(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Mg(n,s,l){return l=l!=null?l.concat([n]):null,Xl(4,4,Dg.bind(null,s,n),l)}function Nf(){}function Vg(n,s){var l=Mn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&bf(s,h[1])?h[0]:(l.memoizedState=[n,s],n)}function qg(n,s){var l=Mn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&bf(s,h[1])?h[0]:(n=n(),l.memoizedState=[n,s],n)}function Fg(n,s,l){return ro&21?(Gn(l,s)||(l=Ki(),_t.lanes|=l,io|=l,n.baseState=!0),s):(n.baseState&&(n.baseState=!1,dn=!0),n.memoizedState=l)}function aT(n,s){var l=Xe;Xe=l!==0&&4>l?l:4,n(!0);var h=If.transition;If.transition={};try{n(!1),s()}finally{Xe=l,If.transition=h}}function Ug(){return Mn().memoizedState}function lT(n,s,l){var h=hi(n);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},jg(n))Bg(s,l);else if(l=yg(n,s,l,h),l!==null){var w=an();Zn(l,n,h,w),zg(l,s,h)}}function uT(n,s,l){var h=hi(n),w={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(jg(n))Bg(s,w);else{var P=n.alternate;if(n.lanes===0&&(P===null||P.lanes===0)&&(P=s.lastRenderedReducer,P!==null))try{var U=s.lastRenderedState,G=P(U,l);if(w.hasEagerState=!0,w.eagerState=G,Gn(G,U)){var X=s.interleaved;X===null?(w.next=w,_f(s)):(w.next=X.next,X.next=w),s.interleaved=w;return}}catch{}finally{}l=yg(n,s,w,h),l!==null&&(w=an(),Zn(l,n,h,w),zg(l,s,h))}}function jg(n){var s=n.alternate;return n===_t||s!==null&&s===_t}function Bg(n,s){pa=Ql=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function zg(n,s,l){if(l&4194240){var h=s.lanes;h&=n.pendingLanes,l|=h,s.lanes=l,Xr(n,l)}}var Jl={readContext:Dn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},cT={readContext:Dn,useCallback:function(n,s){return fr().memoizedState=[n,s===void 0?null:s],n},useContext:Dn,useEffect:Ng,useImperativeHandle:function(n,s,l){return l=l!=null?l.concat([n]):null,Yl(4194308,4,Dg.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Yl(4194308,4,n,s)},useInsertionEffect:function(n,s){return Yl(4,2,n,s)},useMemo:function(n,s){var l=fr();return s=s===void 0?null:s,n=n(),l.memoizedState=[n,s],n},useReducer:function(n,s,l){var h=fr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},h.queue=n,n=n.dispatch=lT.bind(null,_t,n),[h.memoizedState,n]},useRef:function(n){var s=fr();return n={current:n},s.memoizedState=n},useState:Og,useDebugValue:Nf,useDeferredValue:function(n){return fr().memoizedState=n},useTransition:function(){var n=Og(!1),s=n[0];return n=aT.bind(null,n[1]),fr().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,l){var h=_t,w=fr();if(vt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),qt===null)throw Error(t(349));ro&30||Ig(h,s,l)}w.memoizedState=l;var P={value:l,getSnapshot:s};return w.queue=P,Ng(Rg.bind(null,h,P,n),[n]),h.flags|=2048,va(9,bg.bind(null,h,P,l,s),void 0,null),l},useId:function(){var n=fr(),s=qt.identifierPrefix;if(vt){var l=Or,h=Pr;l=(h&~(1<<32-rn(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=ma++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=sT++,s=":"+s+"r"+l.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},fT={readContext:Dn,useCallback:Vg,useContext:Dn,useEffect:Cf,useImperativeHandle:Mg,useInsertionEffect:xg,useLayoutEffect:Lg,useMemo:qg,useReducer:Pf,useRef:Cg,useState:function(){return Pf(ga)},useDebugValue:Nf,useDeferredValue:function(n){var s=Mn();return Fg(s,Ct.memoizedState,n)},useTransition:function(){var n=Pf(ga)[0],s=Mn().memoizedState;return[n,s]},useMutableSource:Ag,useSyncExternalStore:Sg,useId:Ug,unstable_isNewReconciler:!1},hT={readContext:Dn,useCallback:Vg,useContext:Dn,useEffect:Cf,useImperativeHandle:Mg,useInsertionEffect:xg,useLayoutEffect:Lg,useMemo:qg,useReducer:Of,useRef:Cg,useState:function(){return Of(ga)},useDebugValue:Nf,useDeferredValue:function(n){var s=Mn();return Ct===null?s.memoizedState=n:Fg(s,Ct.memoizedState,n)},useTransition:function(){var n=Of(ga)[0],s=Mn().memoizedState;return[n,s]},useMutableSource:Ag,useSyncExternalStore:Sg,useId:Ug,unstable_isNewReconciler:!1};function Yn(n,s){if(n&&n.defaultProps){s=H({},s),n=n.defaultProps;for(var l in n)s[l]===void 0&&(s[l]=n[l]);return s}return s}function xf(n,s,l,h){s=n.memoizedState,l=l(h,s),l=l==null?s:H({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Zl={isMounted:function(n){return(n=n._reactInternals)?jn(n)===n:!1},enqueueSetState:function(n,s,l){n=n._reactInternals;var h=an(),w=hi(n),P=Nr(h,w);P.payload=s,l!=null&&(P.callback=l),s=li(n,P,w),s!==null&&(Zn(s,n,w,h),Hl(s,n,w))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var h=an(),w=hi(n),P=Nr(h,w);P.tag=1,P.payload=s,l!=null&&(P.callback=l),s=li(n,P,w),s!==null&&(Zn(s,n,w,h),Hl(s,n,w))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=an(),h=hi(n),w=Nr(l,h);w.tag=2,s!=null&&(w.callback=s),s=li(n,w,h),s!==null&&(Zn(s,n,h,l),Hl(s,n,h))}};function $g(n,s,l,h,w,P,U){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(h,P,U):s.prototype&&s.prototype.isPureReactComponent?!ra(l,h)||!ra(w,P):!0}function Hg(n,s,l){var h=!1,w=oi,P=s.contextType;return typeof P=="object"&&P!==null?P=Dn(P):(w=hn(s)?Ji:Qt.current,h=s.contextTypes,P=(h=h!=null)?Go(n,w):oi),s=new s(l,P),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Zl,n.stateNode=s,s._reactInternals=n,h&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=w,n.__reactInternalMemoizedMaskedChildContext=P),s}function Kg(n,s,l,h){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==n&&Zl.enqueueReplaceState(s,s.state,null)}function Lf(n,s,l,h){var w=n.stateNode;w.props=l,w.state=n.memoizedState,w.refs={},Ef(n);var P=s.contextType;typeof P=="object"&&P!==null?w.context=Dn(P):(P=hn(s)?Ji:Qt.current,w.context=Go(n,P)),w.state=n.memoizedState,P=s.getDerivedStateFromProps,typeof P=="function"&&(xf(n,s,P,l),w.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(s=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),s!==w.state&&Zl.enqueueReplaceState(w,w.state,null),Kl(n,l,w,h),w.state=n.memoizedState),typeof w.componentDidMount=="function"&&(n.flags|=4194308)}function ns(n,s){try{var l="",h=s;do l+=J(h),h=h.return;while(h);var w=l}catch(P){w=`
Error generating stack: `+P.message+`
`+P.stack}return{value:n,source:s,stack:w,digest:null}}function Df(n,s,l){return{value:n,source:null,stack:l??null,digest:s??null}}function Mf(n,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var dT=typeof WeakMap=="function"?WeakMap:Map;function Wg(n,s,l){l=Nr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){su||(su=!0,Xf=h),Mf(n,s)},l}function Gg(n,s,l){l=Nr(-1,l),l.tag=3;var h=n.type.getDerivedStateFromError;if(typeof h=="function"){var w=s.value;l.payload=function(){return h(w)},l.callback=function(){Mf(n,s)}}var P=n.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(l.callback=function(){Mf(n,s),typeof h!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var U=s.stack;this.componentDidCatch(s.value,{componentStack:U!==null?U:""})}),l}function Qg(n,s,l){var h=n.pingCache;if(h===null){h=n.pingCache=new dT;var w=new Set;h.set(s,w)}else w=h.get(s),w===void 0&&(w=new Set,h.set(s,w));w.has(l)||(w.add(l),n=RT.bind(null,n,s,l),s.then(n,n))}function Yg(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Xg(n,s,l,h,w){return n.mode&1?(n.flags|=65536,n.lanes=w,n):(n===s?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Nr(-1,1),s.tag=2,li(l,s,1))),l.lanes|=1),n)}var pT=I.ReactCurrentOwner,dn=!1;function sn(n,s,l,h){s.child=n===null?vg(s,null,l,h):Jo(s,n.child,l,h)}function Jg(n,s,l,h,w){l=l.render;var P=s.ref;return es(s,w),h=Rf(n,s,l,h,P,w),l=kf(),n!==null&&!dn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~w,xr(n,s,w)):(vt&&l&&cf(s),s.flags|=1,sn(n,s,h,w),s.child)}function Zg(n,s,l,h,w){if(n===null){var P=l.type;return typeof P=="function"&&!ih(P)&&P.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=P,ev(n,s,P,h,w)):(n=hu(l.type,null,h,s,s.mode,w),n.ref=s.ref,n.return=s,s.child=n)}if(P=n.child,!(n.lanes&w)){var U=P.memoizedProps;if(l=l.compare,l=l!==null?l:ra,l(U,h)&&n.ref===s.ref)return xr(n,s,w)}return s.flags|=1,n=pi(P,h),n.ref=s.ref,n.return=s,s.child=n}function ev(n,s,l,h,w){if(n!==null){var P=n.memoizedProps;if(ra(P,h)&&n.ref===s.ref)if(dn=!1,s.pendingProps=h=P,(n.lanes&w)!==0)n.flags&131072&&(dn=!0);else return s.lanes=n.lanes,xr(n,s,w)}return Vf(n,s,l,h,w)}function tv(n,s,l){var h=s.pendingProps,w=h.children,P=n!==null?n.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(is,bn),bn|=l;else{if(!(l&1073741824))return n=P!==null?P.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,ft(is,bn),bn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=P!==null?P.baseLanes:l,ft(is,bn),bn|=h}else P!==null?(h=P.baseLanes|l,s.memoizedState=null):h=l,ft(is,bn),bn|=h;return sn(n,s,w,l),s.child}function nv(n,s){var l=s.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Vf(n,s,l,h,w){var P=hn(l)?Ji:Qt.current;return P=Go(s,P),es(s,w),l=Rf(n,s,l,h,P,w),h=kf(),n!==null&&!dn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~w,xr(n,s,w)):(vt&&h&&cf(s),s.flags|=1,sn(n,s,l,w),s.child)}function rv(n,s,l,h,w){if(hn(l)){var P=!0;Vl(s)}else P=!1;if(es(s,w),s.stateNode===null)tu(n,s),Hg(s,l,h),Lf(s,l,h,w),h=!0;else if(n===null){var U=s.stateNode,G=s.memoizedProps;U.props=G;var X=U.context,ue=l.contextType;typeof ue=="object"&&ue!==null?ue=Dn(ue):(ue=hn(l)?Ji:Qt.current,ue=Go(s,ue));var _e=l.getDerivedStateFromProps,Ee=typeof _e=="function"||typeof U.getSnapshotBeforeUpdate=="function";Ee||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(G!==h||X!==ue)&&Kg(s,U,h,ue),ai=!1;var ye=s.memoizedState;U.state=ye,Kl(s,h,U,w),X=s.memoizedState,G!==h||ye!==X||fn.current||ai?(typeof _e=="function"&&(xf(s,l,_e,h),X=s.memoizedState),(G=ai||$g(s,l,G,h,ye,X,ue))?(Ee||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(s.flags|=4194308)):(typeof U.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=X),U.props=h,U.state=X,U.context=ue,h=G):(typeof U.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{U=s.stateNode,_g(n,s),G=s.memoizedProps,ue=s.type===s.elementType?G:Yn(s.type,G),U.props=ue,Ee=s.pendingProps,ye=U.context,X=l.contextType,typeof X=="object"&&X!==null?X=Dn(X):(X=hn(l)?Ji:Qt.current,X=Go(s,X));var be=l.getDerivedStateFromProps;(_e=typeof be=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(G!==Ee||ye!==X)&&Kg(s,U,h,X),ai=!1,ye=s.memoizedState,U.state=ye,Kl(s,h,U,w);var Pe=s.memoizedState;G!==Ee||ye!==Pe||fn.current||ai?(typeof be=="function"&&(xf(s,l,be,h),Pe=s.memoizedState),(ue=ai||$g(s,l,ue,h,ye,Pe,X)||!1)?(_e||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(h,Pe,X),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(h,Pe,X)),typeof U.componentDidUpdate=="function"&&(s.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof U.componentDidUpdate!="function"||G===n.memoizedProps&&ye===n.memoizedState||(s.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||G===n.memoizedProps&&ye===n.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Pe),U.props=h,U.state=Pe,U.context=X,h=ue):(typeof U.componentDidUpdate!="function"||G===n.memoizedProps&&ye===n.memoizedState||(s.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||G===n.memoizedProps&&ye===n.memoizedState||(s.flags|=1024),h=!1)}return qf(n,s,l,h,P,w)}function qf(n,s,l,h,w,P){nv(n,s);var U=(s.flags&128)!==0;if(!h&&!U)return w&&lg(s,l,!1),xr(n,s,P);h=s.stateNode,pT.current=s;var G=U&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,n!==null&&U?(s.child=Jo(s,n.child,null,P),s.child=Jo(s,null,G,P)):sn(n,s,G,P),s.memoizedState=h.state,w&&lg(s,l,!0),s.child}function iv(n){var s=n.stateNode;s.pendingContext?sg(n,s.pendingContext,s.pendingContext!==s.context):s.context&&sg(n,s.context,!1),wf(n,s.containerInfo)}function ov(n,s,l,h,w){return Xo(),pf(w),s.flags|=256,sn(n,s,l,h),s.child}var Ff={dehydrated:null,treeContext:null,retryLane:0};function Uf(n){return{baseLanes:n,cachePool:null,transitions:null}}function sv(n,s,l){var h=s.pendingProps,w=yt.current,P=!1,U=(s.flags&128)!==0,G;if((G=U)||(G=n!==null&&n.memoizedState===null?!1:(w&2)!==0),G?(P=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(w|=1),ft(yt,w&1),n===null)return df(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(s.mode&1?n.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(U=h.children,n=h.fallback,P?(h=s.mode,P=s.child,U={mode:"hidden",children:U},!(h&1)&&P!==null?(P.childLanes=0,P.pendingProps=U):P=du(U,h,0,null),n=lo(n,h,l,null),P.return=s,n.return=s,P.sibling=n,s.child=P,s.child.memoizedState=Uf(l),s.memoizedState=Ff,n):jf(s,U));if(w=n.memoizedState,w!==null&&(G=w.dehydrated,G!==null))return mT(n,s,U,h,G,w,l);if(P){P=h.fallback,U=s.mode,w=n.child,G=w.sibling;var X={mode:"hidden",children:h.children};return!(U&1)&&s.child!==w?(h=s.child,h.childLanes=0,h.pendingProps=X,s.deletions=null):(h=pi(w,X),h.subtreeFlags=w.subtreeFlags&14680064),G!==null?P=pi(G,P):(P=lo(P,U,l,null),P.flags|=2),P.return=s,h.return=s,h.sibling=P,s.child=h,h=P,P=s.child,U=n.child.memoizedState,U=U===null?Uf(l):{baseLanes:U.baseLanes|l,cachePool:null,transitions:U.transitions},P.memoizedState=U,P.childLanes=n.childLanes&~l,s.memoizedState=Ff,h}return P=n.child,n=P.sibling,h=pi(P,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=l),h.return=s,h.sibling=null,n!==null&&(l=s.deletions,l===null?(s.deletions=[n],s.flags|=16):l.push(n)),s.child=h,s.memoizedState=null,h}function jf(n,s){return s=du({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function eu(n,s,l,h){return h!==null&&pf(h),Jo(s,n.child,null,l),n=jf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function mT(n,s,l,h,w,P,U){if(l)return s.flags&256?(s.flags&=-257,h=Df(Error(t(422))),eu(n,s,U,h)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(P=h.fallback,w=s.mode,h=du({mode:"visible",children:h.children},w,0,null),P=lo(P,w,U,null),P.flags|=2,h.return=s,P.return=s,h.sibling=P,s.child=h,s.mode&1&&Jo(s,n.child,null,U),s.child.memoizedState=Uf(U),s.memoizedState=Ff,P);if(!(s.mode&1))return eu(n,s,U,null);if(w.data==="$!"){if(h=w.nextSibling&&w.nextSibling.dataset,h)var G=h.dgst;return h=G,P=Error(t(419)),h=Df(P,h,void 0),eu(n,s,U,h)}if(G=(U&n.childLanes)!==0,dn||G){if(h=qt,h!==null){switch(U&-U){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=w&(h.suspendedLanes|U)?0:w,w!==0&&w!==P.retryLane&&(P.retryLane=w,Cr(n,w),Zn(h,n,w,-1))}return rh(),h=Df(Error(t(421))),eu(n,s,U,h)}return w.data==="$?"?(s.flags|=128,s.child=n.child,s=kT.bind(null,n),w._reactRetry=s,null):(n=P.treeContext,In=ri(w.nextSibling),Sn=s,vt=!0,Qn=null,n!==null&&(xn[Ln++]=Pr,xn[Ln++]=Or,xn[Ln++]=Zi,Pr=n.id,Or=n.overflow,Zi=s),s=jf(s,h.children),s.flags|=4096,s)}function av(n,s,l){n.lanes|=s;var h=n.alternate;h!==null&&(h.lanes|=s),yf(n.return,s,l)}function Bf(n,s,l,h,w){var P=n.memoizedState;P===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:w}:(P.isBackwards=s,P.rendering=null,P.renderingStartTime=0,P.last=h,P.tail=l,P.tailMode=w)}function lv(n,s,l){var h=s.pendingProps,w=h.revealOrder,P=h.tail;if(sn(n,s,h.children,l),h=yt.current,h&2)h=h&1|2,s.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&av(n,l,s);else if(n.tag===19)av(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}h&=1}if(ft(yt,h),!(s.mode&1))s.memoizedState=null;else switch(w){case"forwards":for(l=s.child,w=null;l!==null;)n=l.alternate,n!==null&&Wl(n)===null&&(w=l),l=l.sibling;l=w,l===null?(w=s.child,s.child=null):(w=l.sibling,l.sibling=null),Bf(s,!1,w,l,P);break;case"backwards":for(l=null,w=s.child,s.child=null;w!==null;){if(n=w.alternate,n!==null&&Wl(n)===null){s.child=w;break}n=w.sibling,w.sibling=l,l=w,w=n}Bf(s,!0,l,null,P);break;case"together":Bf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function tu(n,s){!(s.mode&1)&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function xr(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),io|=s.lanes,!(l&s.childLanes))return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,l=pi(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=pi(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function gT(n,s,l){switch(s.tag){case 3:iv(s),Xo();break;case 5:Tg(s);break;case 1:hn(s.type)&&Vl(s);break;case 4:wf(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,w=s.memoizedProps.value;ft(zl,h._currentValue),h._currentValue=w;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(ft(yt,yt.current&1),s.flags|=128,null):l&s.child.childLanes?sv(n,s,l):(ft(yt,yt.current&1),n=xr(n,s,l),n!==null?n.sibling:null);ft(yt,yt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,n.flags&128){if(h)return lv(n,s,l);s.flags|=128}if(w=s.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ft(yt,yt.current),h)break;return null;case 22:case 23:return s.lanes=0,tv(n,s,l)}return xr(n,s,l)}var uv,zf,cv,fv;uv=function(n,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},zf=function(){},cv=function(n,s,l,h){var w=n.memoizedProps;if(w!==h){n=s.stateNode,no(cr.current);var P=null;switch(l){case"input":w=He(n,w),h=He(n,h),P=[];break;case"select":w=H({},w,{value:void 0}),h=H({},h,{value:void 0}),P=[];break;case"textarea":w=ve(n,w),h=ve(n,h),P=[];break;default:typeof w.onClick!="function"&&typeof h.onClick=="function"&&(n.onclick=Ll)}qs(l,h);var U;l=null;for(ue in w)if(!h.hasOwnProperty(ue)&&w.hasOwnProperty(ue)&&w[ue]!=null)if(ue==="style"){var G=w[ue];for(U in G)G.hasOwnProperty(U)&&(l||(l={}),l[U]="")}else ue!=="dangerouslySetInnerHTML"&&ue!=="children"&&ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&ue!=="autoFocus"&&(o.hasOwnProperty(ue)?P||(P=[]):(P=P||[]).push(ue,null));for(ue in h){var X=h[ue];if(G=w!=null?w[ue]:void 0,h.hasOwnProperty(ue)&&X!==G&&(X!=null||G!=null))if(ue==="style")if(G){for(U in G)!G.hasOwnProperty(U)||X&&X.hasOwnProperty(U)||(l||(l={}),l[U]="");for(U in X)X.hasOwnProperty(U)&&G[U]!==X[U]&&(l||(l={}),l[U]=X[U])}else l||(P||(P=[]),P.push(ue,l)),l=X;else ue==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,G=G?G.__html:void 0,X!=null&&G!==X&&(P=P||[]).push(ue,X)):ue==="children"?typeof X!="string"&&typeof X!="number"||(P=P||[]).push(ue,""+X):ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&(o.hasOwnProperty(ue)?(X!=null&&ue==="onScroll"&&dt("scroll",n),P||G===X||(P=[])):(P=P||[]).push(ue,X))}l&&(P=P||[]).push("style",l);var ue=P;(s.updateQueue=ue)&&(s.flags|=4)}},fv=function(n,s,l,h){l!==h&&(s.flags|=4)};function ya(n,s){if(!vt)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:h.sibling=null}}function Xt(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,h=0;if(s)for(var w=n.child;w!==null;)l|=w.lanes|w.childLanes,h|=w.subtreeFlags&14680064,h|=w.flags&14680064,w.return=n,w=w.sibling;else for(w=n.child;w!==null;)l|=w.lanes|w.childLanes,h|=w.subtreeFlags,h|=w.flags,w.return=n,w=w.sibling;return n.subtreeFlags|=h,n.childLanes=l,s}function vT(n,s,l){var h=s.pendingProps;switch(ff(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(s),null;case 1:return hn(s.type)&&Ml(),Xt(s),null;case 3:return h=s.stateNode,ts(),pt(fn),pt(Qt),Sf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(n===null||n.child===null)&&(jl(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Qn!==null&&(eh(Qn),Qn=null))),zf(n,s),Xt(s),null;case 5:Tf(s);var w=no(da.current);if(l=s.type,n!==null&&s.stateNode!=null)cv(n,s,l,h,w),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Xt(s),null}if(n=no(cr.current),jl(s)){h=s.stateNode,l=s.type;var P=s.memoizedProps;switch(h[ur]=s,h[la]=P,n=(s.mode&1)!==0,l){case"dialog":dt("cancel",h),dt("close",h);break;case"iframe":case"object":case"embed":dt("load",h);break;case"video":case"audio":for(w=0;w<oa.length;w++)dt(oa[w],h);break;case"source":dt("error",h);break;case"img":case"image":case"link":dt("error",h),dt("load",h);break;case"details":dt("toggle",h);break;case"input":Ge(h,P),dt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!P.multiple},dt("invalid",h);break;case"textarea":je(h,P),dt("invalid",h)}qs(l,P),w=null;for(var U in P)if(P.hasOwnProperty(U)){var G=P[U];U==="children"?typeof G=="string"?h.textContent!==G&&(P.suppressHydrationWarning!==!0&&xl(h.textContent,G,n),w=["children",G]):typeof G=="number"&&h.textContent!==""+G&&(P.suppressHydrationWarning!==!0&&xl(h.textContent,G,n),w=["children",""+G]):o.hasOwnProperty(U)&&G!=null&&U==="onScroll"&&dt("scroll",h)}switch(l){case"input":Ie(h),fe(h,P,!0);break;case"textarea":Ie(h),Ke(h);break;case"select":case"option":break;default:typeof P.onClick=="function"&&(h.onclick=Ll)}h=w,s.updateQueue=h,h!==null&&(s.flags|=4)}else{U=w.nodeType===9?w:w.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=rt(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=U.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof h.is=="string"?n=U.createElement(l,{is:h.is}):(n=U.createElement(l),l==="select"&&(U=n,h.multiple?U.multiple=!0:h.size&&(U.size=h.size))):n=U.createElementNS(n,l),n[ur]=s,n[la]=h,uv(n,s,!1,!1),s.stateNode=n;e:{switch(U=Fs(l,h),l){case"dialog":dt("cancel",n),dt("close",n),w=h;break;case"iframe":case"object":case"embed":dt("load",n),w=h;break;case"video":case"audio":for(w=0;w<oa.length;w++)dt(oa[w],n);w=h;break;case"source":dt("error",n),w=h;break;case"img":case"image":case"link":dt("error",n),dt("load",n),w=h;break;case"details":dt("toggle",n),w=h;break;case"input":Ge(n,h),w=He(n,h),dt("invalid",n);break;case"option":w=h;break;case"select":n._wrapperState={wasMultiple:!!h.multiple},w=H({},h,{value:void 0}),dt("invalid",n);break;case"textarea":je(n,h),w=ve(n,h),dt("invalid",n);break;default:w=h}qs(l,w),G=w;for(P in G)if(G.hasOwnProperty(P)){var X=G[P];P==="style"?Ms(n,X):P==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&Mi(n,X)):P==="children"?typeof X=="string"?(l!=="textarea"||X!=="")&&at(n,X):typeof X=="number"&&at(n,""+X):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(o.hasOwnProperty(P)?X!=null&&P==="onScroll"&&dt("scroll",n):X!=null&&N(n,P,X,U))}switch(l){case"input":Ie(n),fe(n,h,!1);break;case"textarea":Ie(n),Ke(n);break;case"option":h.value!=null&&n.setAttribute("value",""+ie(h.value));break;case"select":n.multiple=!!h.multiple,P=h.value,P!=null?Se(n,!!h.multiple,P,!1):h.defaultValue!=null&&Se(n,!!h.multiple,h.defaultValue,!0);break;default:typeof w.onClick=="function"&&(n.onclick=Ll)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Xt(s),null;case 6:if(n&&s.stateNode!=null)fv(n,s,n.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=no(da.current),no(cr.current),jl(s)){if(h=s.stateNode,l=s.memoizedProps,h[ur]=s,(P=h.nodeValue!==l)&&(n=Sn,n!==null))switch(n.tag){case 3:xl(h.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&xl(h.nodeValue,l,(n.mode&1)!==0)}P&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[ur]=s,s.stateNode=h}return Xt(s),null;case 13:if(pt(yt),h=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(vt&&In!==null&&s.mode&1&&!(s.flags&128))pg(),Xo(),s.flags|=98560,P=!1;else if(P=jl(s),h!==null&&h.dehydrated!==null){if(n===null){if(!P)throw Error(t(318));if(P=s.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(t(317));P[ur]=s}else Xo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Xt(s),P=!1}else Qn!==null&&(eh(Qn),Qn=null),P=!0;if(!P)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(h=h!==null,h!==(n!==null&&n.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(n===null||yt.current&1?Nt===0&&(Nt=3):rh())),s.updateQueue!==null&&(s.flags|=4),Xt(s),null);case 4:return ts(),zf(n,s),n===null&&sa(s.stateNode.containerInfo),Xt(s),null;case 10:return vf(s.type._context),Xt(s),null;case 17:return hn(s.type)&&Ml(),Xt(s),null;case 19:if(pt(yt),P=s.memoizedState,P===null)return Xt(s),null;if(h=(s.flags&128)!==0,U=P.rendering,U===null)if(h)ya(P,!1);else{if(Nt!==0||n!==null&&n.flags&128)for(n=s.child;n!==null;){if(U=Wl(n),U!==null){for(s.flags|=128,ya(P,!1),h=U.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)P=l,n=h,P.flags&=14680066,U=P.alternate,U===null?(P.childLanes=0,P.lanes=n,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=U.childLanes,P.lanes=U.lanes,P.child=U.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=U.memoizedProps,P.memoizedState=U.memoizedState,P.updateQueue=U.updateQueue,P.type=U.type,n=U.dependencies,P.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return ft(yt,yt.current&1|2),s.child}n=n.sibling}P.tail!==null&&ct()>os&&(s.flags|=128,h=!0,ya(P,!1),s.lanes=4194304)}else{if(!h)if(n=Wl(U),n!==null){if(s.flags|=128,h=!0,l=n.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),ya(P,!0),P.tail===null&&P.tailMode==="hidden"&&!U.alternate&&!vt)return Xt(s),null}else 2*ct()-P.renderingStartTime>os&&l!==1073741824&&(s.flags|=128,h=!0,ya(P,!1),s.lanes=4194304);P.isBackwards?(U.sibling=s.child,s.child=U):(l=P.last,l!==null?l.sibling=U:s.child=U,P.last=U)}return P.tail!==null?(s=P.tail,P.rendering=s,P.tail=s.sibling,P.renderingStartTime=ct(),s.sibling=null,l=yt.current,ft(yt,h?l&1|2:l&1),s):(Xt(s),null);case 22:case 23:return nh(),h=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?bn&1073741824&&(Xt(s),s.subtreeFlags&6&&(s.flags|=8192)):Xt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function yT(n,s){switch(ff(s),s.tag){case 1:return hn(s.type)&&Ml(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ts(),pt(fn),pt(Qt),Sf(),n=s.flags,n&65536&&!(n&128)?(s.flags=n&-65537|128,s):null;case 5:return Tf(s),null;case 13:if(pt(yt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Xo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return pt(yt),null;case 4:return ts(),null;case 10:return vf(s.type._context),null;case 22:case 23:return nh(),null;case 24:return null;default:return null}}var nu=!1,Jt=!1,_T=typeof WeakSet=="function"?WeakSet:Set,ke=null;function rs(n,s){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){wt(n,s,h)}else l.current=null}function $f(n,s,l){try{l()}catch(h){wt(n,s,h)}}var hv=!1;function ET(n,s){if(tf=ei,n=$m(),Wc(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var w=h.anchorOffset,P=h.focusNode;h=h.focusOffset;try{l.nodeType,P.nodeType}catch{l=null;break e}var U=0,G=-1,X=-1,ue=0,_e=0,Ee=n,ye=null;t:for(;;){for(var be;Ee!==l||w!==0&&Ee.nodeType!==3||(G=U+w),Ee!==P||h!==0&&Ee.nodeType!==3||(X=U+h),Ee.nodeType===3&&(U+=Ee.nodeValue.length),(be=Ee.firstChild)!==null;)ye=Ee,Ee=be;for(;;){if(Ee===n)break t;if(ye===l&&++ue===w&&(G=U),ye===P&&++_e===h&&(X=U),(be=Ee.nextSibling)!==null)break;Ee=ye,ye=Ee.parentNode}Ee=be}l=G===-1||X===-1?null:{start:G,end:X}}else l=null}l=l||{start:0,end:0}}else l=null;for(nf={focusedElem:n,selectionRange:l},ei=!1,ke=s;ke!==null;)if(s=ke,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,ke=n;else for(;ke!==null;){s=ke;try{var Pe=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Ce=Pe.memoizedProps,At=Pe.memoizedState,ae=s.stateNode,ee=ae.getSnapshotBeforeUpdate(s.elementType===s.type?Ce:Yn(s.type,Ce),At);ae.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:var le=s.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(we){wt(s,s.return,we)}if(n=s.sibling,n!==null){n.return=s.return,ke=n;break}ke=s.return}return Pe=hv,hv=!1,Pe}function _a(n,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var w=h=h.next;do{if((w.tag&n)===n){var P=w.destroy;w.destroy=void 0,P!==void 0&&$f(s,l,P)}w=w.next}while(w!==h)}}function ru(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&n)===n){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Hf(n){var s=n.ref;if(s!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof s=="function"?s(n):s.current=n}}function dv(n){var s=n.alternate;s!==null&&(n.alternate=null,dv(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[ur],delete s[la],delete s[af],delete s[nT],delete s[rT])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function pv(n){return n.tag===5||n.tag===3||n.tag===4}function mv(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||pv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Kf(n,s,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(n,s):l.insertBefore(n,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(n,l)):(s=l,s.appendChild(n)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ll));else if(h!==4&&(n=n.child,n!==null))for(Kf(n,s,l),n=n.sibling;n!==null;)Kf(n,s,l),n=n.sibling}function Wf(n,s,l){var h=n.tag;if(h===5||h===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(h!==4&&(n=n.child,n!==null))for(Wf(n,s,l),n=n.sibling;n!==null;)Wf(n,s,l),n=n.sibling}var zt=null,Xn=!1;function ui(n,s,l){for(l=l.child;l!==null;)gv(n,s,l),l=l.sibling}function gv(n,s,l){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount($i,l)}catch{}switch(l.tag){case 5:Jt||rs(l,s);case 6:var h=zt,w=Xn;zt=null,ui(n,s,l),zt=h,Xn=w,zt!==null&&(Xn?(n=zt,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):zt.removeChild(l.stateNode));break;case 18:zt!==null&&(Xn?(n=zt,l=l.stateNode,n.nodeType===8?sf(n.parentNode,l):n.nodeType===1&&sf(n,l),Kn(n)):sf(zt,l.stateNode));break;case 4:h=zt,w=Xn,zt=l.stateNode.containerInfo,Xn=!0,ui(n,s,l),zt=h,Xn=w;break;case 0:case 11:case 14:case 15:if(!Jt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){w=h=h.next;do{var P=w,U=P.destroy;P=P.tag,U!==void 0&&(P&2||P&4)&&$f(l,s,U),w=w.next}while(w!==h)}ui(n,s,l);break;case 1:if(!Jt&&(rs(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(G){wt(l,s,G)}ui(n,s,l);break;case 21:ui(n,s,l);break;case 22:l.mode&1?(Jt=(h=Jt)||l.memoizedState!==null,ui(n,s,l),Jt=h):ui(n,s,l);break;default:ui(n,s,l)}}function vv(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new _T),s.forEach(function(h){var w=PT.bind(null,n,h);l.has(h)||(l.add(h),h.then(w,w))})}}function Jn(n,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var w=l[h];try{var P=n,U=s,G=U;e:for(;G!==null;){switch(G.tag){case 5:zt=G.stateNode,Xn=!1;break e;case 3:zt=G.stateNode.containerInfo,Xn=!0;break e;case 4:zt=G.stateNode.containerInfo,Xn=!0;break e}G=G.return}if(zt===null)throw Error(t(160));gv(P,U,w),zt=null,Xn=!1;var X=w.alternate;X!==null&&(X.return=null),w.return=null}catch(ue){wt(w,s,ue)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)yv(s,n),s=s.sibling}function yv(n,s){var l=n.alternate,h=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Jn(s,n),hr(n),h&4){try{_a(3,n,n.return),ru(3,n)}catch(Ce){wt(n,n.return,Ce)}try{_a(5,n,n.return)}catch(Ce){wt(n,n.return,Ce)}}break;case 1:Jn(s,n),hr(n),h&512&&l!==null&&rs(l,l.return);break;case 5:if(Jn(s,n),hr(n),h&512&&l!==null&&rs(l,l.return),n.flags&32){var w=n.stateNode;try{at(w,"")}catch(Ce){wt(n,n.return,Ce)}}if(h&4&&(w=n.stateNode,w!=null)){var P=n.memoizedProps,U=l!==null?l.memoizedProps:P,G=n.type,X=n.updateQueue;if(n.updateQueue=null,X!==null)try{G==="input"&&P.type==="radio"&&P.name!=null&&It(w,P),Fs(G,U);var ue=Fs(G,P);for(U=0;U<X.length;U+=2){var _e=X[U],Ee=X[U+1];_e==="style"?Ms(w,Ee):_e==="dangerouslySetInnerHTML"?Mi(w,Ee):_e==="children"?at(w,Ee):N(w,_e,Ee,ue)}switch(G){case"input":ht(w,P);break;case"textarea":Be(w,P);break;case"select":var ye=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!P.multiple;var be=P.value;be!=null?Se(w,!!P.multiple,be,!1):ye!==!!P.multiple&&(P.defaultValue!=null?Se(w,!!P.multiple,P.defaultValue,!0):Se(w,!!P.multiple,P.multiple?[]:"",!1))}w[la]=P}catch(Ce){wt(n,n.return,Ce)}}break;case 6:if(Jn(s,n),hr(n),h&4){if(n.stateNode===null)throw Error(t(162));w=n.stateNode,P=n.memoizedProps;try{w.nodeValue=P}catch(Ce){wt(n,n.return,Ce)}}break;case 3:if(Jn(s,n),hr(n),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Kn(s.containerInfo)}catch(Ce){wt(n,n.return,Ce)}break;case 4:Jn(s,n),hr(n);break;case 13:Jn(s,n),hr(n),w=n.child,w.flags&8192&&(P=w.memoizedState!==null,w.stateNode.isHidden=P,!P||w.alternate!==null&&w.alternate.memoizedState!==null||(Yf=ct())),h&4&&vv(n);break;case 22:if(_e=l!==null&&l.memoizedState!==null,n.mode&1?(Jt=(ue=Jt)||_e,Jn(s,n),Jt=ue):Jn(s,n),hr(n),h&8192){if(ue=n.memoizedState!==null,(n.stateNode.isHidden=ue)&&!_e&&n.mode&1)for(ke=n,_e=n.child;_e!==null;){for(Ee=ke=_e;ke!==null;){switch(ye=ke,be=ye.child,ye.tag){case 0:case 11:case 14:case 15:_a(4,ye,ye.return);break;case 1:rs(ye,ye.return);var Pe=ye.stateNode;if(typeof Pe.componentWillUnmount=="function"){h=ye,l=ye.return;try{s=h,Pe.props=s.memoizedProps,Pe.state=s.memoizedState,Pe.componentWillUnmount()}catch(Ce){wt(h,l,Ce)}}break;case 5:rs(ye,ye.return);break;case 22:if(ye.memoizedState!==null){wv(Ee);continue}}be!==null?(be.return=ye,ke=be):wv(Ee)}_e=_e.sibling}e:for(_e=null,Ee=n;;){if(Ee.tag===5){if(_e===null){_e=Ee;try{w=Ee.stateNode,ue?(P=w.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"):(G=Ee.stateNode,X=Ee.memoizedProps.style,U=X!=null&&X.hasOwnProperty("display")?X.display:null,G.style.display=Ds("display",U))}catch(Ce){wt(n,n.return,Ce)}}}else if(Ee.tag===6){if(_e===null)try{Ee.stateNode.nodeValue=ue?"":Ee.memoizedProps}catch(Ce){wt(n,n.return,Ce)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===n)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===n)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===n)break e;_e===Ee&&(_e=null),Ee=Ee.return}_e===Ee&&(_e=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:Jn(s,n),hr(n),h&4&&vv(n);break;case 21:break;default:Jn(s,n),hr(n)}}function hr(n){var s=n.flags;if(s&2){try{e:{for(var l=n.return;l!==null;){if(pv(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var w=h.stateNode;h.flags&32&&(at(w,""),h.flags&=-33);var P=mv(n);Wf(n,P,w);break;case 3:case 4:var U=h.stateNode.containerInfo,G=mv(n);Kf(n,G,U);break;default:throw Error(t(161))}}catch(X){wt(n,n.return,X)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function wT(n,s,l){ke=n,_v(n)}function _v(n,s,l){for(var h=(n.mode&1)!==0;ke!==null;){var w=ke,P=w.child;if(w.tag===22&&h){var U=w.memoizedState!==null||nu;if(!U){var G=w.alternate,X=G!==null&&G.memoizedState!==null||Jt;G=nu;var ue=Jt;if(nu=U,(Jt=X)&&!ue)for(ke=w;ke!==null;)U=ke,X=U.child,U.tag===22&&U.memoizedState!==null?Tv(w):X!==null?(X.return=U,ke=X):Tv(w);for(;P!==null;)ke=P,_v(P),P=P.sibling;ke=w,nu=G,Jt=ue}Ev(n)}else w.subtreeFlags&8772&&P!==null?(P.return=w,ke=P):Ev(n)}}function Ev(n){for(;ke!==null;){var s=ke;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Jt||ru(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Jt)if(l===null)h.componentDidMount();else{var w=s.elementType===s.type?l.memoizedProps:Yn(s.type,l.memoizedProps);h.componentDidUpdate(w,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var P=s.updateQueue;P!==null&&wg(s,P,h);break;case 3:var U=s.updateQueue;if(U!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}wg(s,U,l)}break;case 5:var G=s.stateNode;if(l===null&&s.flags&4){l=G;var X=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&l.focus();break;case"img":X.src&&(l.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ue=s.alternate;if(ue!==null){var _e=ue.memoizedState;if(_e!==null){var Ee=_e.dehydrated;Ee!==null&&Kn(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jt||s.flags&512&&Hf(s)}catch(ye){wt(s,s.return,ye)}}if(s===n){ke=null;break}if(l=s.sibling,l!==null){l.return=s.return,ke=l;break}ke=s.return}}function wv(n){for(;ke!==null;){var s=ke;if(s===n){ke=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ke=l;break}ke=s.return}}function Tv(n){for(;ke!==null;){var s=ke;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{ru(4,s)}catch(X){wt(s,l,X)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var w=s.return;try{h.componentDidMount()}catch(X){wt(s,w,X)}}var P=s.return;try{Hf(s)}catch(X){wt(s,P,X)}break;case 5:var U=s.return;try{Hf(s)}catch(X){wt(s,U,X)}}}catch(X){wt(s,s.return,X)}if(s===n){ke=null;break}var G=s.sibling;if(G!==null){G.return=s.return,ke=G;break}ke=s.return}}var TT=Math.ceil,iu=I.ReactCurrentDispatcher,Gf=I.ReactCurrentOwner,Vn=I.ReactCurrentBatchConfig,nt=0,qt=null,Rt=null,$t=0,bn=0,is=ii(0),Nt=0,Ea=null,io=0,ou=0,Qf=0,wa=null,pn=null,Yf=0,os=1/0,Lr=null,su=!1,Xf=null,ci=null,au=!1,fi=null,lu=0,Ta=0,Jf=null,uu=-1,cu=0;function an(){return nt&6?ct():uu!==-1?uu:uu=ct()}function hi(n){return n.mode&1?nt&2&&$t!==0?$t&-$t:oT.transition!==null?(cu===0&&(cu=Ki()),cu):(n=Xe,n!==0||(n=window.event,n=n===void 0?16:Ys(n.type)),n):1}function Zn(n,s,l,h){if(50<Ta)throw Ta=0,Jf=null,Error(t(185));Yr(n,l,h),(!(nt&2)||n!==qt)&&(n===qt&&(!(nt&2)&&(ou|=l),Nt===4&&di(n,$t)),mn(n,h),l===1&&nt===0&&!(s.mode&1)&&(os=ct()+500,ql&&si()))}function mn(n,s){var l=n.callbackNode;Tr(n,s);var h=Hi(n,n===qt?$t:0);if(h===0)l!==null&&Hs(l),n.callbackNode=null,n.callbackPriority=0;else if(s=h&-h,n.callbackPriority!==s){if(l!=null&&Hs(l),s===1)n.tag===0?iT(Sv.bind(null,n)):ug(Sv.bind(null,n)),eT(function(){!(nt&6)&&si()}),l=null;else{switch(Jr(h)){case 1:l=zi;break;case 4:l=Wr;break;case 16:l=On;break;case 536870912:l=cl;break;default:l=On}l=Nv(l,Av.bind(null,n))}n.callbackPriority=s,n.callbackNode=l}}function Av(n,s){if(uu=-1,cu=0,nt&6)throw Error(t(327));var l=n.callbackNode;if(ss()&&n.callbackNode!==l)return null;var h=Hi(n,n===qt?$t:0);if(h===0)return null;if(h&30||h&n.expiredLanes||s)s=fu(n,h);else{s=h;var w=nt;nt|=2;var P=bv();(qt!==n||$t!==s)&&(Lr=null,os=ct()+500,so(n,s));do try{IT();break}catch(G){Iv(n,G)}while(!0);gf(),iu.current=P,nt=w,Rt!==null?s=0:(qt=null,$t=0,s=Nt)}if(s!==0){if(s===2&&(w=wn(n),w!==0&&(h=w,s=Zf(n,w))),s===1)throw l=Ea,so(n,0),di(n,h),mn(n,ct()),l;if(s===6)di(n,h);else{if(w=n.current.alternate,!(h&30)&&!AT(w)&&(s=fu(n,h),s===2&&(P=wn(n),P!==0&&(h=P,s=Zf(n,P))),s===1))throw l=Ea,so(n,0),di(n,h),mn(n,ct()),l;switch(n.finishedWork=w,n.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:ao(n,pn,Lr);break;case 3:if(di(n,h),(h&130023424)===h&&(s=Yf+500-ct(),10<s)){if(Hi(n,0)!==0)break;if(w=n.suspendedLanes,(w&h)!==h){an(),n.pingedLanes|=n.suspendedLanes&w;break}n.timeoutHandle=of(ao.bind(null,n,pn,Lr),s);break}ao(n,pn,Lr);break;case 4:if(di(n,h),(h&4194240)===h)break;for(s=n.eventTimes,w=-1;0<h;){var U=31-rn(h);P=1<<U,U=s[U],U>w&&(w=U),h&=~P}if(h=w,h=ct()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*TT(h/1960))-h,10<h){n.timeoutHandle=of(ao.bind(null,n,pn,Lr),h);break}ao(n,pn,Lr);break;case 5:ao(n,pn,Lr);break;default:throw Error(t(329))}}}return mn(n,ct()),n.callbackNode===l?Av.bind(null,n):null}function Zf(n,s){var l=wa;return n.current.memoizedState.isDehydrated&&(so(n,s).flags|=256),n=fu(n,s),n!==2&&(s=pn,pn=l,s!==null&&eh(s)),n}function eh(n){pn===null?pn=n:pn.push.apply(pn,n)}function AT(n){for(var s=n;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var w=l[h],P=w.getSnapshot;w=w.value;try{if(!Gn(P(),w))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function di(n,s){for(s&=~Qf,s&=~ou,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var l=31-rn(s),h=1<<l;n[l]=-1,s&=~h}}function Sv(n){if(nt&6)throw Error(t(327));ss();var s=Hi(n,0);if(!(s&1))return mn(n,ct()),null;var l=fu(n,s);if(n.tag!==0&&l===2){var h=wn(n);h!==0&&(s=h,l=Zf(n,h))}if(l===1)throw l=Ea,so(n,0),di(n,s),mn(n,ct()),l;if(l===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,ao(n,pn,Lr),mn(n,ct()),null}function th(n,s){var l=nt;nt|=1;try{return n(s)}finally{nt=l,nt===0&&(os=ct()+500,ql&&si())}}function oo(n){fi!==null&&fi.tag===0&&!(nt&6)&&ss();var s=nt;nt|=1;var l=Vn.transition,h=Xe;try{if(Vn.transition=null,Xe=1,n)return n()}finally{Xe=h,Vn.transition=l,nt=s,!(nt&6)&&si()}}function nh(){bn=is.current,pt(is)}function so(n,s){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,Zw(l)),Rt!==null)for(l=Rt.return;l!==null;){var h=l;switch(ff(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ml();break;case 3:ts(),pt(fn),pt(Qt),Sf();break;case 5:Tf(h);break;case 4:ts();break;case 13:pt(yt);break;case 19:pt(yt);break;case 10:vf(h.type._context);break;case 22:case 23:nh()}l=l.return}if(qt=n,Rt=n=pi(n.current,null),$t=bn=s,Nt=0,Ea=null,Qf=ou=io=0,pn=wa=null,to!==null){for(s=0;s<to.length;s++)if(l=to[s],h=l.interleaved,h!==null){l.interleaved=null;var w=h.next,P=l.pending;if(P!==null){var U=P.next;P.next=w,h.next=U}l.pending=h}to=null}return n}function Iv(n,s){do{var l=Rt;try{if(gf(),Gl.current=Jl,Ql){for(var h=_t.memoizedState;h!==null;){var w=h.queue;w!==null&&(w.pending=null),h=h.next}Ql=!1}if(ro=0,Vt=Ct=_t=null,pa=!1,ma=0,Gf.current=null,l===null||l.return===null){Nt=1,Ea=s,Rt=null;break}e:{var P=n,U=l.return,G=l,X=s;if(s=$t,G.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var ue=X,_e=G,Ee=_e.tag;if(!(_e.mode&1)&&(Ee===0||Ee===11||Ee===15)){var ye=_e.alternate;ye?(_e.updateQueue=ye.updateQueue,_e.memoizedState=ye.memoizedState,_e.lanes=ye.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var be=Yg(U);if(be!==null){be.flags&=-257,Xg(be,U,G,P,s),be.mode&1&&Qg(P,ue,s),s=be,X=ue;var Pe=s.updateQueue;if(Pe===null){var Ce=new Set;Ce.add(X),s.updateQueue=Ce}else Pe.add(X);break e}else{if(!(s&1)){Qg(P,ue,s),rh();break e}X=Error(t(426))}}else if(vt&&G.mode&1){var At=Yg(U);if(At!==null){!(At.flags&65536)&&(At.flags|=256),Xg(At,U,G,P,s),pf(ns(X,G));break e}}P=X=ns(X,G),Nt!==4&&(Nt=2),wa===null?wa=[P]:wa.push(P),P=U;do{switch(P.tag){case 3:P.flags|=65536,s&=-s,P.lanes|=s;var ae=Wg(P,X,s);Eg(P,ae);break e;case 1:G=X;var ee=P.type,le=P.stateNode;if(!(P.flags&128)&&(typeof ee.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(ci===null||!ci.has(le)))){P.flags|=65536,s&=-s,P.lanes|=s;var we=Gg(P,G,s);Eg(P,we);break e}}P=P.return}while(P!==null)}kv(l)}catch(Ne){s=Ne,Rt===l&&l!==null&&(Rt=l=l.return);continue}break}while(!0)}function bv(){var n=iu.current;return iu.current=Jl,n===null?Jl:n}function rh(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),qt===null||!(io&268435455)&&!(ou&268435455)||di(qt,$t)}function fu(n,s){var l=nt;nt|=2;var h=bv();(qt!==n||$t!==s)&&(Lr=null,so(n,s));do try{ST();break}catch(w){Iv(n,w)}while(!0);if(gf(),nt=l,iu.current=h,Rt!==null)throw Error(t(261));return qt=null,$t=0,Nt}function ST(){for(;Rt!==null;)Rv(Rt)}function IT(){for(;Rt!==null&&!ll();)Rv(Rt)}function Rv(n){var s=Cv(n.alternate,n,bn);n.memoizedProps=n.pendingProps,s===null?kv(n):Rt=s,Gf.current=null}function kv(n){var s=n;do{var l=s.alternate;if(n=s.return,s.flags&32768){if(l=yT(l,s),l!==null){l.flags&=32767,Rt=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Nt=6,Rt=null;return}}else if(l=vT(l,s,bn),l!==null){Rt=l;return}if(s=s.sibling,s!==null){Rt=s;return}Rt=s=n}while(s!==null);Nt===0&&(Nt=5)}function ao(n,s,l){var h=Xe,w=Vn.transition;try{Vn.transition=null,Xe=1,bT(n,s,l,h)}finally{Vn.transition=w,Xe=h}return null}function bT(n,s,l,h){do ss();while(fi!==null);if(nt&6)throw Error(t(327));l=n.finishedWork;var w=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var P=l.lanes|l.childLanes;if(ut(n,P),n===qt&&(Rt=qt=null,$t=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||au||(au=!0,Nv(On,function(){return ss(),null})),P=(l.flags&15990)!==0,l.subtreeFlags&15990||P){P=Vn.transition,Vn.transition=null;var U=Xe;Xe=1;var G=nt;nt|=4,Gf.current=null,ET(n,l),yv(l,n),Kw(nf),ei=!!tf,nf=tf=null,n.current=l,wT(l),Fc(),nt=G,Xe=U,Vn.transition=P}else n.current=l;if(au&&(au=!1,fi=n,lu=w),P=n.pendingLanes,P===0&&(ci=null),fl(l.stateNode),mn(n,ct()),s!==null)for(h=n.onRecoverableError,l=0;l<s.length;l++)w=s[l],h(w.value,{componentStack:w.stack,digest:w.digest});if(su)throw su=!1,n=Xf,Xf=null,n;return lu&1&&n.tag!==0&&ss(),P=n.pendingLanes,P&1?n===Jf?Ta++:(Ta=0,Jf=n):Ta=0,si(),null}function ss(){if(fi!==null){var n=Jr(lu),s=Vn.transition,l=Xe;try{if(Vn.transition=null,Xe=16>n?16:n,fi===null)var h=!1;else{if(n=fi,fi=null,lu=0,nt&6)throw Error(t(331));var w=nt;for(nt|=4,ke=n.current;ke!==null;){var P=ke,U=P.child;if(ke.flags&16){var G=P.deletions;if(G!==null){for(var X=0;X<G.length;X++){var ue=G[X];for(ke=ue;ke!==null;){var _e=ke;switch(_e.tag){case 0:case 11:case 15:_a(8,_e,P)}var Ee=_e.child;if(Ee!==null)Ee.return=_e,ke=Ee;else for(;ke!==null;){_e=ke;var ye=_e.sibling,be=_e.return;if(dv(_e),_e===ue){ke=null;break}if(ye!==null){ye.return=be,ke=ye;break}ke=be}}}var Pe=P.alternate;if(Pe!==null){var Ce=Pe.child;if(Ce!==null){Pe.child=null;do{var At=Ce.sibling;Ce.sibling=null,Ce=At}while(Ce!==null)}}ke=P}}if(P.subtreeFlags&2064&&U!==null)U.return=P,ke=U;else e:for(;ke!==null;){if(P=ke,P.flags&2048)switch(P.tag){case 0:case 11:case 15:_a(9,P,P.return)}var ae=P.sibling;if(ae!==null){ae.return=P.return,ke=ae;break e}ke=P.return}}var ee=n.current;for(ke=ee;ke!==null;){U=ke;var le=U.child;if(U.subtreeFlags&2064&&le!==null)le.return=U,ke=le;else e:for(U=ee;ke!==null;){if(G=ke,G.flags&2048)try{switch(G.tag){case 0:case 11:case 15:ru(9,G)}}catch(Ne){wt(G,G.return,Ne)}if(G===U){ke=null;break e}var we=G.sibling;if(we!==null){we.return=G.return,ke=we;break e}ke=G.return}}if(nt=w,si(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot($i,n)}catch{}h=!0}return h}finally{Xe=l,Vn.transition=s}}return!1}function Pv(n,s,l){s=ns(l,s),s=Wg(n,s,1),n=li(n,s,1),s=an(),n!==null&&(Yr(n,1,s),mn(n,s))}function wt(n,s,l){if(n.tag===3)Pv(n,n,l);else for(;s!==null;){if(s.tag===3){Pv(s,n,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ci===null||!ci.has(h))){n=ns(l,n),n=Gg(s,n,1),s=li(s,n,1),n=an(),s!==null&&(Yr(s,1,n),mn(s,n));break}}s=s.return}}function RT(n,s,l){var h=n.pingCache;h!==null&&h.delete(s),s=an(),n.pingedLanes|=n.suspendedLanes&l,qt===n&&($t&l)===l&&(Nt===4||Nt===3&&($t&130023424)===$t&&500>ct()-Yf?so(n,0):Qf|=l),mn(n,s)}function Ov(n,s){s===0&&(n.mode&1?(s=Po,Po<<=1,!(Po&130023424)&&(Po=4194304)):s=1);var l=an();n=Cr(n,s),n!==null&&(Yr(n,s,l),mn(n,l))}function kT(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),Ov(n,l)}function PT(n,s){var l=0;switch(n.tag){case 13:var h=n.stateNode,w=n.memoizedState;w!==null&&(l=w.retryLane);break;case 19:h=n.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Ov(n,l)}var Cv;Cv=function(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps||fn.current)dn=!0;else{if(!(n.lanes&l)&&!(s.flags&128))return dn=!1,gT(n,s,l);dn=!!(n.flags&131072)}else dn=!1,vt&&s.flags&1048576&&cg(s,Ul,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;tu(n,s),n=s.pendingProps;var w=Go(s,Qt.current);es(s,l),w=Rf(null,s,h,n,w,l);var P=kf();return s.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,hn(h)?(P=!0,Vl(s)):P=!1,s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Ef(s),w.updater=Zl,s.stateNode=w,w._reactInternals=s,Lf(s,h,n,l),s=qf(null,s,h,!0,P,l)):(s.tag=0,vt&&P&&cf(s),sn(null,s,w,l),s=s.child),s;case 16:h=s.elementType;e:{switch(tu(n,s),n=s.pendingProps,w=h._init,h=w(h._payload),s.type=h,w=s.tag=CT(h),n=Yn(h,n),w){case 0:s=Vf(null,s,h,n,l);break e;case 1:s=rv(null,s,h,n,l);break e;case 11:s=Jg(null,s,h,n,l);break e;case 14:s=Zg(null,s,h,Yn(h.type,n),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,w=s.pendingProps,w=s.elementType===h?w:Yn(h,w),Vf(n,s,h,w,l);case 1:return h=s.type,w=s.pendingProps,w=s.elementType===h?w:Yn(h,w),rv(n,s,h,w,l);case 3:e:{if(iv(s),n===null)throw Error(t(387));h=s.pendingProps,P=s.memoizedState,w=P.element,_g(n,s),Kl(s,h,null,l);var U=s.memoizedState;if(h=U.element,P.isDehydrated)if(P={element:h,isDehydrated:!1,cache:U.cache,pendingSuspenseBoundaries:U.pendingSuspenseBoundaries,transitions:U.transitions},s.updateQueue.baseState=P,s.memoizedState=P,s.flags&256){w=ns(Error(t(423)),s),s=ov(n,s,h,l,w);break e}else if(h!==w){w=ns(Error(t(424)),s),s=ov(n,s,h,l,w);break e}else for(In=ri(s.stateNode.containerInfo.firstChild),Sn=s,vt=!0,Qn=null,l=vg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Xo(),h===w){s=xr(n,s,l);break e}sn(n,s,h,l)}s=s.child}return s;case 5:return Tg(s),n===null&&df(s),h=s.type,w=s.pendingProps,P=n!==null?n.memoizedProps:null,U=w.children,rf(h,w)?U=null:P!==null&&rf(h,P)&&(s.flags|=32),nv(n,s),sn(n,s,U,l),s.child;case 6:return n===null&&df(s),null;case 13:return sv(n,s,l);case 4:return wf(s,s.stateNode.containerInfo),h=s.pendingProps,n===null?s.child=Jo(s,null,h,l):sn(n,s,h,l),s.child;case 11:return h=s.type,w=s.pendingProps,w=s.elementType===h?w:Yn(h,w),Jg(n,s,h,w,l);case 7:return sn(n,s,s.pendingProps,l),s.child;case 8:return sn(n,s,s.pendingProps.children,l),s.child;case 12:return sn(n,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,w=s.pendingProps,P=s.memoizedProps,U=w.value,ft(zl,h._currentValue),h._currentValue=U,P!==null)if(Gn(P.value,U)){if(P.children===w.children&&!fn.current){s=xr(n,s,l);break e}}else for(P=s.child,P!==null&&(P.return=s);P!==null;){var G=P.dependencies;if(G!==null){U=P.child;for(var X=G.firstContext;X!==null;){if(X.context===h){if(P.tag===1){X=Nr(-1,l&-l),X.tag=2;var ue=P.updateQueue;if(ue!==null){ue=ue.shared;var _e=ue.pending;_e===null?X.next=X:(X.next=_e.next,_e.next=X),ue.pending=X}}P.lanes|=l,X=P.alternate,X!==null&&(X.lanes|=l),yf(P.return,l,s),G.lanes|=l;break}X=X.next}}else if(P.tag===10)U=P.type===s.type?null:P.child;else if(P.tag===18){if(U=P.return,U===null)throw Error(t(341));U.lanes|=l,G=U.alternate,G!==null&&(G.lanes|=l),yf(U,l,s),U=P.sibling}else U=P.child;if(U!==null)U.return=P;else for(U=P;U!==null;){if(U===s){U=null;break}if(P=U.sibling,P!==null){P.return=U.return,U=P;break}U=U.return}P=U}sn(n,s,w.children,l),s=s.child}return s;case 9:return w=s.type,h=s.pendingProps.children,es(s,l),w=Dn(w),h=h(w),s.flags|=1,sn(n,s,h,l),s.child;case 14:return h=s.type,w=Yn(h,s.pendingProps),w=Yn(h.type,w),Zg(n,s,h,w,l);case 15:return ev(n,s,s.type,s.pendingProps,l);case 17:return h=s.type,w=s.pendingProps,w=s.elementType===h?w:Yn(h,w),tu(n,s),s.tag=1,hn(h)?(n=!0,Vl(s)):n=!1,es(s,l),Hg(s,h,w),Lf(s,h,w,l),qf(null,s,h,!0,n,l);case 19:return lv(n,s,l);case 22:return tv(n,s,l)}throw Error(t(156,s.tag))};function Nv(n,s){return Ro(n,s)}function OT(n,s,l,h){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(n,s,l,h){return new OT(n,s,l,h)}function ih(n){return n=n.prototype,!(!n||!n.isReactComponent)}function CT(n){if(typeof n=="function")return ih(n)?1:0;if(n!=null){if(n=n.$$typeof,n===L)return 11;if(n===W)return 14}return 2}function pi(n,s){var l=n.alternate;return l===null?(l=qn(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function hu(n,s,l,h,w,P){var U=2;if(h=n,typeof n=="function")ih(n)&&(U=1);else if(typeof n=="string")U=5;else e:switch(n){case O:return lo(l.children,w,P,s);case R:U=8,w|=8;break;case D:return n=qn(12,l,s,w|2),n.elementType=D,n.lanes=P,n;case x:return n=qn(13,l,s,w),n.elementType=x,n.lanes=P,n;case $:return n=qn(19,l,s,w),n.elementType=$,n.lanes=P,n;case te:return du(l,w,P,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:U=10;break e;case b:U=9;break e;case L:U=11;break e;case W:U=14;break e;case ne:U=16,h=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=qn(U,l,s,w),s.elementType=n,s.type=h,s.lanes=P,s}function lo(n,s,l,h){return n=qn(7,n,h,s),n.lanes=l,n}function du(n,s,l,h){return n=qn(22,n,h,s),n.elementType=te,n.lanes=l,n.stateNode={isHidden:!1},n}function oh(n,s,l){return n=qn(6,n,null,s),n.lanes=l,n}function sh(n,s,l){return s=qn(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function NT(n,s,l,h,w){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qr(0),this.expirationTimes=Qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.identifierPrefix=h,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function ah(n,s,l,h,w,P,U,G,X){return n=new NT(n,s,l,G,X),s===1?(s=1,P===!0&&(s|=8)):s=0,P=qn(3,null,null,s),n.current=P,P.stateNode=n,P.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ef(P),n}function xT(n,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:h==null?null:""+h,children:n,containerInfo:s,implementation:l}}function xv(n){if(!n)return oi;n=n._reactInternals;e:{if(jn(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(hn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var l=n.type;if(hn(l))return ag(n,l,s)}return s}function Lv(n,s,l,h,w,P,U,G,X){return n=ah(l,h,!0,n,w,P,U,G,X),n.context=xv(null),l=n.current,h=an(),w=hi(l),P=Nr(h,w),P.callback=s??null,li(l,P,w),n.current.lanes=w,Yr(n,w,h),mn(n,h),n}function pu(n,s,l,h){var w=s.current,P=an(),U=hi(w);return l=xv(l),s.context===null?s.context=l:s.pendingContext=l,s=Nr(P,U),s.payload={element:n},h=h===void 0?null:h,h!==null&&(s.callback=h),n=li(w,s,U),n!==null&&(Zn(n,w,U,P),Hl(n,w,U)),U}function mu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Dv(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function lh(n,s){Dv(n,s),(n=n.alternate)&&Dv(n,s)}function LT(){return null}var Mv=typeof reportError=="function"?reportError:function(n){console.error(n)};function uh(n){this._internalRoot=n}gu.prototype.render=uh.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));pu(n,s,null,null)},gu.prototype.unmount=uh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;oo(function(){pu(null,n,null,null)}),s[Rr]=null}};function gu(n){this._internalRoot=n}gu.prototype.unstable_scheduleHydration=function(n){if(n){var s=gl();n={blockedOn:null,target:n,priority:s};for(var l=0;l<or.length&&s!==0&&s<or[l].priority;l++);or.splice(l,0,n),l===0&&_l(n)}};function ch(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function vu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Vv(){}function DT(n,s,l,h,w){if(w){if(typeof h=="function"){var P=h;h=function(){var ue=mu(U);P.call(ue)}}var U=Lv(s,h,n,0,null,!1,!1,"",Vv);return n._reactRootContainer=U,n[Rr]=U.current,sa(n.nodeType===8?n.parentNode:n),oo(),U}for(;w=n.lastChild;)n.removeChild(w);if(typeof h=="function"){var G=h;h=function(){var ue=mu(X);G.call(ue)}}var X=ah(n,0,!1,null,null,!1,!1,"",Vv);return n._reactRootContainer=X,n[Rr]=X.current,sa(n.nodeType===8?n.parentNode:n),oo(function(){pu(s,X,l,h)}),X}function yu(n,s,l,h,w){var P=l._reactRootContainer;if(P){var U=P;if(typeof w=="function"){var G=w;w=function(){var X=mu(U);G.call(X)}}pu(s,U,n,w)}else U=DT(l,s,n,w,h);return mu(U)}pl=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var l=Gr(s.pendingLanes);l!==0&&(Xr(s,l|1),mn(s,ct()),!(nt&6)&&(os=ct()+500,si()))}break;case 13:oo(function(){var h=Cr(n,1);if(h!==null){var w=an();Zn(h,n,1,w)}}),lh(n,1)}},Oo=function(n){if(n.tag===13){var s=Cr(n,134217728);if(s!==null){var l=an();Zn(s,n,134217728,l)}lh(n,134217728)}},ml=function(n){if(n.tag===13){var s=hi(n),l=Cr(n,s);if(l!==null){var h=an();Zn(l,n,s,h)}lh(n,s)}},gl=function(){return Xe},vl=function(n,s){var l=Xe;try{return Xe=n,s()}finally{Xe=l}},wo=function(n,s,l){switch(s){case"input":if(ht(n,l),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==n&&h.form===n.form){var w=Dl(h);if(!w)throw Error(t(90));Le(h),ht(h,w)}}}break;case"textarea":Be(n,l);break;case"select":s=l.value,s!=null&&Se(n,!!l.multiple,s,!1)}},Fi=th,js=oo;var MT={usingClientEntryPoint:!1,Events:[ua,Ko,Dl,rr,Us,th]},Aa={findFiberByHostInstance:Xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VT={bundleType:Aa.bundleType,version:Aa.version,rendererPackageName:Aa.rendererPackageName,rendererConfig:Aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=$s(n),n===null?null:n.stateNode},findFiberByHostInstance:Aa.findFiberByHostInstance||LT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{$i=_u.inject(VT),En=_u}catch{}}return gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MT,gn.createPortal=function(n,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ch(s))throw Error(t(200));return xT(n,s,null,l)},gn.createRoot=function(n,s){if(!ch(n))throw Error(t(299));var l=!1,h="",w=Mv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=ah(n,1,!1,null,null,l,!1,h,w),n[Rr]=s.current,sa(n.nodeType===8?n.parentNode:n),new uh(s)},gn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=$s(s),n=n===null?null:n.stateNode,n},gn.flushSync=function(n){return oo(n)},gn.hydrate=function(n,s,l){if(!vu(s))throw Error(t(200));return yu(null,n,s,!0,l)},gn.hydrateRoot=function(n,s,l){if(!ch(n))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,w=!1,P="",U=Mv;if(l!=null&&(l.unstable_strictMode===!0&&(w=!0),l.identifierPrefix!==void 0&&(P=l.identifierPrefix),l.onRecoverableError!==void 0&&(U=l.onRecoverableError)),s=Lv(s,null,n,1,l??null,w,!1,P,U),n[Rr]=s.current,sa(n),h)for(n=0;n<h.length;n++)l=h[n],w=l._getVersion,w=w(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,w]:s.mutableSourceEagerHydrationData.push(l,w);return new gu(s)},gn.render=function(n,s,l){if(!vu(s))throw Error(t(200));return yu(null,n,s,!1,l)},gn.unmountComponentAtNode=function(n){if(!vu(n))throw Error(t(40));return n._reactRootContainer?(oo(function(){yu(null,null,n,!1,function(){n._reactRootContainer=null,n[Rr]=null})}),!0):!1},gn.unstable_batchedUpdates=th,gn.unstable_renderSubtreeIntoContainer=function(n,s,l,h){if(!vu(l))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return yu(n,s,l,!1,h)},gn.version="18.3.1-next-f1338f8080-20240426",gn}var Hv;function e1(){if(Hv)return dh.exports;Hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dh.exports=HT(),dh.exports}var Kv;function KT(){if(Kv)return wu;Kv=1;var r=e1();return wu.createRoot=r.createRoot,wu.hydrateRoot=r.hydrateRoot,wu}var WT=KT(),Ia={},Wv;function GT(){if(Wv)return Ia;Wv=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.parse=u,Ia.serialize=v;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function u(p,m){const A=new a,T=p.length;if(T<2)return A;const E=(m==null?void 0:m.decode)||y;let _=0;do{const S=p.indexOf("=",_);if(S===-1)break;const N=p.indexOf(";",_),I=N===-1?T:N;if(S>I){_=p.lastIndexOf(";",S-1)+1;continue}const M=f(p,_,S),F=d(p,S,M),O=p.slice(M,F);if(A[O]===void 0){let R=f(p,S+1,I),D=d(p,I,R);const C=E(p.slice(R,D));A[O]=C}_=I+1}while(_<T);return A}function f(p,m,A){do{const T=p.charCodeAt(m);if(T!==32&&T!==9)return m}while(++m<A);return A}function d(p,m,A){for(;m>A;){const T=p.charCodeAt(--m);if(T!==32&&T!==9)return m+1}return A}function v(p,m,A){const T=(A==null?void 0:A.encode)||encodeURIComponent;if(!r.test(p))throw new TypeError(`argument name is invalid: ${p}`);const E=T(m);if(!e.test(E))throw new TypeError(`argument val is invalid: ${m}`);let _=p+"="+E;if(!A)return _;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);_+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);_+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);_+="; Path="+A.path}if(A.expires){if(!g(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);_+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(_+="; HttpOnly"),A.secure&&(_+="; Secure"),A.partitioned&&(_+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return _}function y(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function g(p){return o.call(p)==="[object Date]"}return Ia}GT();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gv="popstate";function QT(r={}){function e(i,o){let{pathname:a,search:u,hash:f}=i.location;return cp("",{pathname:a,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Va(o)}return XT(e,t,null,r)}function xt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function yr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YT(){return Math.random().toString(36).substring(2,10)}function Qv(r,e){return{usr:r.state,key:r.key,idx:e}}function cp(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ka(e):e,state:t,key:e&&e.key||i||YT()}}function Va({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ka(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function XT(r,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,f="POP",d=null,v=y();v==null&&(v=0,u.replaceState({...u.state,idx:v},""));function y(){return(u.state||{idx:null}).idx}function g(){f="POP";let E=y(),_=E==null?null:E-v;v=E,d&&d({action:f,location:T.location,delta:_})}function p(E,_){f="PUSH";let S=cp(T.location,E,_);v=y()+1;let N=Qv(S,v),I=T.createHref(S);try{u.pushState(N,"",I)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;o.location.assign(I)}a&&d&&d({action:f,location:T.location,delta:1})}function m(E,_){f="REPLACE";let S=cp(T.location,E,_);v=y();let N=Qv(S,v),I=T.createHref(S);u.replaceState(N,"",I),a&&d&&d({action:f,location:T.location,delta:0})}function A(E){let _=o.location.origin!=="null"?o.location.origin:o.location.href,S=typeof E=="string"?E:Va(E);return S=S.replace(/ $/,"%20"),xt(_,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,_)}let T={get action(){return f},get location(){return r(o,u)},listen(E){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Gv,g),d=E,()=>{o.removeEventListener(Gv,g),d=null}},createHref(E){return e(o,E)},createURL:A,encodeLocation(E){let _=A(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:m,go(E){return u.go(E)}};return T}function t1(r,e,t="/"){return JT(r,e,t,!1)}function JT(r,e,t,i){let o=typeof e=="string"?Ka(e):e,a=ki(o.pathname||"/",t);if(a==null)return null;let u=n1(r);ZT(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let v=cA(a);f=lA(u[d],v,i)}return f}function n1(r,e=[],t=[],i=""){let o=(a,u,f)=>{let d={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};d.relativePath.startsWith("/")&&(xt(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let v=qr([i,d.relativePath]),y=t.concat(d);a.children&&a.children.length>0&&(xt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),n1(a.children,e,y,v)),!(a.path==null&&!a.index)&&e.push({path:v,score:sA(v,a.index),routesMeta:y})};return r.forEach((a,u)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))o(a,u);else for(let d of r1(a.path))o(a,u,d)}),e}function r1(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=r1(i.join("/")),f=[];return f.push(...u.map(d=>d===""?a:[a,d].join("/"))),o&&f.push(...u),f.map(d=>r.startsWith("/")&&d===""?"/":d)}function ZT(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:aA(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var eA=/^:[\w-]+$/,tA=3,nA=2,rA=1,iA=10,oA=-2,Yv=r=>r==="*";function sA(r,e){let t=r.split("/"),i=t.length;return t.some(Yv)&&(i+=oA),e&&(i+=nA),t.filter(o=>!Yv(o)).reduce((o,a)=>o+(eA.test(a)?tA:a===""?rA:iA),i)}function aA(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function lA(r,e,t=!1){let{routesMeta:i}=r,o={},a="/",u=[];for(let f=0;f<i.length;++f){let d=i[f],v=f===i.length-1,y=a==="/"?e:e.slice(a.length)||"/",g=zu({path:d.relativePath,caseSensitive:d.caseSensitive,end:v},y),p=d.route;if(!g&&v&&t&&!i[i.length-1].route.index&&(g=zu({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!g)return null;Object.assign(o,g.params),u.push({params:o,pathname:qr([a,g.pathname]),pathnameBase:pA(qr([a,g.pathnameBase])),route:p}),g.pathnameBase!=="/"&&(a=qr([a,g.pathnameBase]))}return u}function zu(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=uA(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((v,{paramName:y,isOptional:g},p)=>{if(y==="*"){let A=f[p]||"";u=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const m=f[p];return g&&!m?v[y]=void 0:v[y]=(m||"").replace(/%2F/g,"/"),v},{}),pathname:a,pathnameBase:u,pattern:r}}function uA(r,e=!1,t=!0){yr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(i.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function cA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yr(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ki(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function fA(r,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?Ka(r):r;return{pathname:t?t.startsWith("/")?t:hA(t,e):e,search:mA(i),hash:gA(o)}}function hA(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function gh(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dA(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function i1(r){let e=dA(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function o1(r,e,t,i=!1){let o;typeof r=="string"?o=Ka(r):(o={...r},xt(!o.pathname||!o.pathname.includes("?"),gh("?","pathname","search",o)),xt(!o.pathname||!o.pathname.includes("#"),gh("#","pathname","hash",o)),xt(!o.search||!o.search.includes("#"),gh("#","search","hash",o)));let a=r===""||o.pathname==="",u=a?"/":o.pathname,f;if(u==null)f=t;else{let g=e.length-1;if(!i&&u.startsWith("..")){let p=u.split("/");for(;p[0]==="..";)p.shift(),g-=1;o.pathname=p.join("/")}f=g>=0?e[g]:"/"}let d=fA(o,f),v=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(v||y)&&(d.pathname+="/"),d}var qr=r=>r.join("/").replace(/\/\/+/g,"/"),pA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),mA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,gA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function vA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var s1=["POST","PUT","PATCH","DELETE"];new Set(s1);var yA=["GET",...s1];new Set(yA);var bs=me.createContext(null);bs.displayName="DataRouter";var uc=me.createContext(null);uc.displayName="DataRouterState";var a1=me.createContext({isTransitioning:!1});a1.displayName="ViewTransition";var _A=me.createContext(new Map);_A.displayName="Fetchers";var EA=me.createContext(null);EA.displayName="Await";var Er=me.createContext(null);Er.displayName="Navigation";var cc=me.createContext(null);cc.displayName="Location";var $r=me.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var Dp=me.createContext(null);Dp.displayName="RouteError";function wA(r,{relative:e}={}){xt(Wa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=me.useContext(Er),{hash:o,pathname:a,search:u}=Ga(r,{relative:e}),f=a;return t!=="/"&&(f=a==="/"?t:qr([t,a])),i.createHref({pathname:f,search:u,hash:o})}function Wa(){return me.useContext(cc)!=null}function vo(){return xt(Wa(),"useLocation() may be used only in the context of a <Router> component."),me.useContext(cc).location}var l1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u1(r){me.useContext(Er).static||me.useLayoutEffect(r)}function TA(){let{isDataRoute:r}=me.useContext($r);return r?DA():AA()}function AA(){xt(Wa(),"useNavigate() may be used only in the context of a <Router> component.");let r=me.useContext(bs),{basename:e,navigator:t}=me.useContext(Er),{matches:i}=me.useContext($r),{pathname:o}=vo(),a=JSON.stringify(i1(i)),u=me.useRef(!1);return u1(()=>{u.current=!0}),me.useCallback((d,v={})=>{if(yr(u.current,l1),!u.current)return;if(typeof d=="number"){t.go(d);return}let y=o1(d,JSON.parse(a),o,v.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:qr([e,y.pathname])),(v.replace?t.replace:t.push)(y,v.state,v)},[e,t,a,o,r])}me.createContext(null);function Ga(r,{relative:e}={}){let{matches:t}=me.useContext($r),{pathname:i}=vo(),o=JSON.stringify(i1(t));return me.useMemo(()=>o1(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function SA(r,e,t,i){xt(Wa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=me.useContext(Er),{matches:a}=me.useContext($r),u=a[a.length-1],f=u?u.params:{},d=u?u.pathname:"/",v=u?u.pathnameBase:"/",y=u&&u.route;{let _=y&&y.path||"";c1(d,!y||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let g=vo(),p;p=g;let m=p.pathname||"/",A=m;if(v!=="/"){let _=v.replace(/^\//,"").split("/");A="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let T=t1(r,{pathname:A});return yr(y||T!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),yr(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),PA(T&&T.map(_=>Object.assign({},_,{params:Object.assign({},f,_.params),pathname:qr([v,o.encodeLocation?o.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?v:qr([v,o.encodeLocation?o.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),a,t,i)}function IA(){let r=LA(),e=vA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=me.createElement(me.Fragment,null,me.createElement("p",null,"💿 Hey developer 👋"),me.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",me.createElement("code",{style:a},"ErrorBoundary")," or"," ",me.createElement("code",{style:a},"errorElement")," prop on your route.")),me.createElement(me.Fragment,null,me.createElement("h2",null,"Unexpected Application Error!"),me.createElement("h3",{style:{fontStyle:"italic"}},e),t?me.createElement("pre",{style:o},t):null,u)}var bA=me.createElement(IA,null),RA=class extends me.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?me.createElement($r.Provider,{value:this.props.routeContext},me.createElement(Dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kA({routeContext:r,match:e,children:t}){let i=me.useContext(bs);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),me.createElement($r.Provider,{value:r},t)}function PA(r,e=[],t=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,a=t==null?void 0:t.errors;if(a!=null){let d=o.findIndex(v=>v.route.id&&(a==null?void 0:a[v.route.id])!==void 0);xt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,f=-1;if(t)for(let d=0;d<o.length;d++){let v=o[d];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=d),v.route.id){let{loaderData:y,errors:g}=t,p=v.route.loader&&!y.hasOwnProperty(v.route.id)&&(!g||g[v.route.id]===void 0);if(v.route.lazy||p){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((d,v,y)=>{let g,p=!1,m=null,A=null;t&&(g=a&&v.route.id?a[v.route.id]:void 0,m=v.route.errorElement||bA,u&&(f<0&&y===0?(c1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,A=null):f===y&&(p=!0,A=v.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,y+1)),E=()=>{let _;return g?_=m:p?_=A:v.route.Component?_=me.createElement(v.route.Component,null):v.route.element?_=v.route.element:_=d,me.createElement(kA,{match:v,routeContext:{outlet:d,matches:T,isDataRoute:t!=null},children:_})};return t&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?me.createElement(RA,{location:t.location,revalidation:t.revalidation,component:m,error:g,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}function Mp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OA(r){let e=me.useContext(bs);return xt(e,Mp(r)),e}function CA(r){let e=me.useContext(uc);return xt(e,Mp(r)),e}function NA(r){let e=me.useContext($r);return xt(e,Mp(r)),e}function Vp(r){let e=NA(r),t=e.matches[e.matches.length-1];return xt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function xA(){return Vp("useRouteId")}function LA(){var i;let r=me.useContext(Dp),e=CA("useRouteError"),t=Vp("useRouteError");return r!==void 0?r:(i=e.errors)==null?void 0:i[t]}function DA(){let{router:r}=OA("useNavigate"),e=Vp("useNavigate"),t=me.useRef(!1);return u1(()=>{t.current=!0}),me.useCallback(async(o,a={})=>{yr(t.current,l1),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...a}))},[r,e])}var Xv={};function c1(r,e,t){!e&&!Xv[r]&&(Xv[r]=!0,yr(!1,t))}me.memo(MA);function MA({routes:r,future:e,state:t}){return SA(r,void 0,t,e)}function VA({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){xt(!Wa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),f=me.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=Ka(t));let{pathname:d="/",search:v="",hash:y="",state:g=null,key:p="default"}=t,m=me.useMemo(()=>{let A=ki(d,u);return A==null?null:{location:{pathname:A,search:v,hash:y,state:g,key:p},navigationType:i}},[u,d,v,y,g,p,i]);return yr(m!=null,`<Router basename="${u}"> is not able to match the URL "${d}${v}${y}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:me.createElement(Er.Provider,{value:f},me.createElement(cc.Provider,{children:e,value:m}))}var Ou="get",Cu="application/x-www-form-urlencoded";function fc(r){return r!=null&&typeof r.tagName=="string"}function qA(r){return fc(r)&&r.tagName.toLowerCase()==="button"}function FA(r){return fc(r)&&r.tagName.toLowerCase()==="form"}function UA(r){return fc(r)&&r.tagName.toLowerCase()==="input"}function jA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function BA(r,e){return r.button===0&&(!e||e==="_self")&&!jA(r)}var Tu=null;function zA(){if(Tu===null)try{new FormData(document.createElement("form"),0),Tu=!1}catch{Tu=!0}return Tu}var $A=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vh(r){return r!=null&&!$A.has(r)?(yr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cu}"`),null):r}function HA(r,e){let t,i,o,a,u;if(FA(r)){let f=r.getAttribute("action");i=f?ki(f,e):null,t=r.getAttribute("method")||Ou,o=vh(r.getAttribute("enctype"))||Cu,a=new FormData(r)}else if(qA(r)||UA(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||f.getAttribute("action");if(i=d?ki(d,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||Ou,o=vh(r.getAttribute("formenctype"))||vh(f.getAttribute("enctype"))||Cu,a=new FormData(f,r),!zA()){let{name:v,type:y,value:g}=r;if(y==="image"){let p=v?`${v}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else v&&a.append(v,g)}}else{if(fc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ou,i=null,o=Cu,u=r}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:u}}function qp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function KA(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function GA(r,e,t){let i=await Promise.all(r.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await KA(a,t);return u.links?u.links():[]}return[]}));return JA(i.flat(1).filter(WA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Jv(r,e,t,i,o,a){let u=(d,v)=>t[v]?d.route.id!==t[v].route.id:!0,f=(d,v)=>{var y;return t[v].pathname!==d.pathname||((y=t[v].route.path)==null?void 0:y.endsWith("*"))&&t[v].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,v)=>u(d,v)||f(d,v)):a==="data"?e.filter((d,v)=>{var g;let y=i.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,v)||f(d,v))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function QA(r,e){return YA(r.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function YA(r){return[...new Set(r)]}function XA(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function JA(r,e){let t=new Set;return new Set(e),r.reduce((i,o)=>{let a=JSON.stringify(XA(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function ZA(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function eS(){let r=me.useContext(bs);return qp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function tS(){let r=me.useContext(uc);return qp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Fp=me.createContext(void 0);Fp.displayName="FrameworkContext";function f1(){let r=me.useContext(Fp);return qp(r,"You must render this element inside a <HydratedRouter> element"),r}function nS(r,e){let t=me.useContext(Fp),[i,o]=me.useState(!1),[a,u]=me.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:v,onMouseLeave:y,onTouchStart:g}=e,p=me.useRef(null);me.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let T=_=>{_.forEach(S=>{u(S.isIntersecting)})},E=new IntersectionObserver(T,{threshold:.5});return p.current&&E.observe(p.current),()=>{E.disconnect()}}},[r]),me.useEffect(()=>{if(i){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[i]);let m=()=>{o(!0)},A=()=>{o(!1),u(!1)};return t?r!=="intent"?[a,p,{}]:[a,p,{onFocus:ba(f,m),onBlur:ba(d,A),onMouseEnter:ba(v,m),onMouseLeave:ba(y,A),onTouchStart:ba(g,m)}]:[!1,p,{}]}function ba(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function rS({page:r,...e}){let{router:t}=eS(),i=me.useMemo(()=>t1(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?me.createElement(oS,{page:r,matches:i,...e}):(console.warn(`Tried to prefetch ${r} but no routes matched.`),null)}function iS(r){let{manifest:e,routeModules:t}=f1(),[i,o]=me.useState([]);return me.useEffect(()=>{let a=!1;return GA(r,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[r,e,t]),i}function oS({page:r,matches:e,...t}){let i=vo(),{manifest:o,routeModules:a}=f1(),{loaderData:u,matches:f}=tS(),d=me.useMemo(()=>Jv(r,e,f,o,i,"data"),[r,e,f,o,i]),v=me.useMemo(()=>Jv(r,e,f,o,i,"assets"),[r,e,f,o,i]),y=me.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let m=new Set,A=!1;if(e.forEach(E=>{var S;let _=o.routes[E.route.id];!_||!_.hasLoader||(!d.some(N=>N.route.id===E.route.id)&&E.route.id in u&&((S=a[E.route.id])!=null&&S.shouldRevalidate)||_.hasClientLoader?A=!0:m.add(E.route.id))}),m.size===0)return[];let T=ZA(r);return A&&m.size>0&&T.searchParams.set("_routes",e.filter(E=>m.has(E.route.id)).map(E=>E.route.id).join(",")),[T.pathname+T.search]},[u,i,o,d,e,r,a]),g=me.useMemo(()=>QA(v,o),[v,o]),p=iS(v);return me.createElement(me.Fragment,null,y.map(m=>me.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...t})),g.map(m=>me.createElement("link",{key:m,rel:"modulepreload",href:m,...t})),p.map(({key:m,link:A})=>me.createElement("link",{key:m,...A})))}function sS(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var h1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h1&&(window.__reactRouterVersion="7.0.2")}catch{}function aS({basename:r,children:e,window:t}){let i=me.useRef();i.current==null&&(i.current=QT({window:t,v5Compat:!0}));let o=i.current,[a,u]=me.useState({action:o.action,location:o.location}),f=me.useCallback(d=>{me.startTransition(()=>u(d))},[u]);return me.useLayoutEffect(()=>o.listen(f),[o,f]),me.createElement(VA,{basename:r,children:e,location:a.location,navigationType:a.action,navigator:o})}var d1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p1=me.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:f,target:d,to:v,preventScrollReset:y,viewTransition:g,...p},m){let{basename:A}=me.useContext(Er),T=typeof v=="string"&&d1.test(v),E,_=!1;if(typeof v=="string"&&T&&(E=v,h1))try{let D=new URL(window.location.href),C=v.startsWith("//")?new URL(D.protocol+v):new URL(v),b=ki(C.pathname,A);C.origin===D.origin&&b!=null?v=b+C.search+C.hash:_=!0}catch{yr(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=wA(v,{relative:o}),[N,I,M]=nS(i,p),F=fS(v,{replace:u,state:f,target:d,preventScrollReset:y,relative:o,viewTransition:g});function O(D){e&&e(D),D.defaultPrevented||F(D)}let R=me.createElement("a",{...p,...M,href:E||S,onClick:_||a?e:O,ref:sS(m,I),target:d,"data-discover":!T&&t==="render"?"true":void 0});return N&&!T?me.createElement(me.Fragment,null,R,me.createElement(rS,{page:S})):R});p1.displayName="Link";var lS=me.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:f,children:d,...v},y){let g=Ga(u,{relative:v.relative}),p=vo(),m=me.useContext(uc),{navigator:A,basename:T}=me.useContext(Er),E=m!=null&&gS(g)&&f===!0,_=A.encodeLocation?A.encodeLocation(g).pathname:g.pathname,S=p.pathname,N=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(S=S.toLowerCase(),N=N?N.toLowerCase():null,_=_.toLowerCase()),N&&T&&(N=ki(N,T)||N);const I=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let M=S===_||!o&&S.startsWith(_)&&S.charAt(I)==="/",F=N!=null&&(N===_||!o&&N.startsWith(_)&&N.charAt(_.length)==="/"),O={isActive:M,isPending:F,isTransitioning:E},R=M?e:void 0,D;typeof i=="function"?D=i(O):D=[i,M?"active":null,F?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let C=typeof a=="function"?a(O):a;return me.createElement(p1,{...v,"aria-current":R,className:D,ref:y,style:C,to:u,viewTransition:f},typeof d=="function"?d(O):d)});lS.displayName="NavLink";var uS=me.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:u=Ou,action:f,onSubmit:d,relative:v,preventScrollReset:y,viewTransition:g,...p},m)=>{let A=pS(),T=mS(f,{relative:v}),E=u.toLowerCase()==="get"?"get":"post",_=typeof f=="string"&&d1.test(f),S=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let I=N.nativeEvent.submitter,M=(I==null?void 0:I.getAttribute("formmethod"))||u;A(I||N.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:o,state:a,relative:v,preventScrollReset:y,viewTransition:g})};return me.createElement("form",{ref:m,method:E,action:T,onSubmit:i?d:S,...p,"data-discover":!_&&r==="render"?"true":void 0})});uS.displayName="Form";function cS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m1(r){let e=me.useContext(bs);return xt(e,cS(r)),e}function fS(r,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:u}={}){let f=TA(),d=vo(),v=Ga(r,{relative:a});return me.useCallback(y=>{if(BA(y,e)){y.preventDefault();let g=t!==void 0?t:Va(d)===Va(v);f(r,{replace:g,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[d,f,v,t,i,e,r,o,a,u])}var hS=0,dS=()=>`__${String(++hS)}__`;function pS(){let{router:r}=m1("useSubmit"),{basename:e}=me.useContext(Er),t=xA();return me.useCallback(async(i,o={})=>{let{action:a,method:u,encType:f,formData:d,body:v}=HA(i,e);if(o.navigate===!1){let y=o.fetcherKey||dS();await r.fetch(y,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:d,body:v,formMethod:o.method||u,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:d,body:v,formMethod:o.method||u,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function mS(r,{relative:e}={}){let{basename:t}=me.useContext(Er),i=me.useContext($r);xt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Ga(r||".",{relative:e})},u=vo();if(r==null){a.search=u.search;let f=new URLSearchParams(a.search),d=f.getAll("index");if(d.some(y=>y==="")){f.delete("index"),d.filter(g=>g).forEach(g=>f.append("index",g));let y=f.toString();a.search=y?`?${y}`:""}}return(!r||r===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:qr([t,a.pathname])),Va(a)}function gS(r,e={}){let t=me.useContext(a1);xt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=m1("useViewTransitionState"),o=Ga(r,{relative:e.relative});if(!t.isTransitioning)return!1;let a=ki(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=ki(t.nextLocation.pathname,i)||t.nextLocation.pathname;return zu(o.pathname,u)!=null||zu(o.pathname,a)!=null}new TextEncoder;var Zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},vS=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=r[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=r[t++],u=r[t++],f=r[t++],d=((o&7)<<18|(a&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const a=r[t++],u=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},v1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const a=r[o],u=o+1<r.length,f=u?r[o+1]:0,d=o+2<r.length,v=d?r[o+2]:0,y=a>>2,g=(a&3)<<4|f>>4;let p=(f&15)<<2|v>>6,m=v&63;d||(m=64,u||(p=64)),i.push(t[y],t[g],t[p],t[m])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(g1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):vS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const a=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const v=o<r.length?t[r.charAt(o)]:64;++o;const g=o<r.length?t[r.charAt(o)]:64;if(++o,a==null||f==null||v==null||g==null)throw new yS;const p=a<<2|f>>4;if(i.push(p),v!==64){const m=f<<4&240|v>>2;if(i.push(m),g!==64){const A=v<<6&192|g;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _S=function(r){const e=g1(r);return v1.encodeByteArray(e,!0)},$u=function(r){return _S(r).replace(/\./g,"")},y1=function(r){try{return v1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=()=>ES().__FIREBASE_DEFAULTS__,TS=()=>{if(typeof process>"u"||typeof Zv>"u")return;const r=Zv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},AS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&y1(r[1]);return e&&JSON.parse(e)},hc=()=>{try{return wS()||TS()||AS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_1=r=>{var e,t;return(t=(e=hc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},SS=r=>{const e=_1(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},E1=()=>{var r;return(r=hc())===null||r===void 0?void 0:r.config},w1=r=>{var e;return(e=hc())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},r);return[$u(JSON.stringify(t)),$u(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function kS(){var r;const e=(r=hc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function CS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NS(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function xS(){return!kS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LS(){try{return typeof indexedDB=="object"}catch{return!1}}function DS(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="FirebaseError";class Hr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=MS,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qa.prototype.create)}}class Qa{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?VS(a,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new Hr(o,f,i)}}function VS(r,e){return r.replace(qS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const qS=/\{\$([^}]+)}/g;function FS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Hu(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=r[o],u=e[o];if(ey(a)&&ey(u)){if(!Hu(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function ey(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function US(r,e){const t=new jS(r,e);return t.subscribe.bind(t)}class jS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");BS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=yh),o.error===void 0&&(o.error=yh),o.complete===void 0&&(o.complete=yh);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BS(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function yh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(r){return r&&r._delegate?r._delegate:r}class po{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new IS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HS(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(a);i===f&&u.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:$S(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $S(r){return r===uo?void 0:r}function HS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qe||(Qe={}));const WS={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},GS=Qe.INFO,QS={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},YS=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=QS[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Up{constructor(e){this.name=e,this._logLevel=GS,this._logHandler=YS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const XS=(r,e)=>e.some(t=>r instanceof t);let ty,ny;function JS(){return ty||(ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZS(){return ny||(ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T1=new WeakMap,fp=new WeakMap,A1=new WeakMap,_h=new WeakMap,jp=new WeakMap;function eI(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",a),r.removeEventListener("error",u)},a=()=>{t(Ai(r.result)),o()},u=()=>{i(r.error),o()};r.addEventListener("success",a),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&T1.set(t,r)}).catch(()=>{}),jp.set(e,r),e}function tI(r){if(fp.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",u),r.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",a),r.addEventListener("error",u),r.addEventListener("abort",u)});fp.set(r,e)}let hp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return fp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||A1.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ai(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function nI(r){hp=r(hp)}function rI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Eh(this),e,...t);return A1.set(i,e.sort?e.sort():[e]),Ai(i)}:ZS().includes(r)?function(...e){return r.apply(Eh(this),e),Ai(T1.get(this))}:function(...e){return Ai(r.apply(Eh(this),e))}}function iI(r){return typeof r=="function"?rI(r):(r instanceof IDBTransaction&&tI(r),XS(r,JS())?new Proxy(r,hp):r)}function Ai(r){if(r instanceof IDBRequest)return eI(r);if(_h.has(r))return _h.get(r);const e=iI(r);return e!==r&&(_h.set(r,e),jp.set(e,r)),e}const Eh=r=>jp.get(r);function oI(r,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(r,e),f=Ai(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Ai(u.result),d.oldVersion,d.newVersion,Ai(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),f.then(d=>{a&&d.addEventListener("close",()=>a()),o&&d.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const sI=["get","getKey","getAll","getAllKeys","count"],aI=["put","add","delete","clear"],wh=new Map;function ry(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wh.get(e))return wh.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=aI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||sI.includes(t)))return;const a=async function(u,...f){const d=this.transaction(u,o?"readwrite":"readonly");let v=d.store;return i&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&d.done]))[0]};return wh.set(e,a),a}nI(r=>({...r,get:(e,t,i)=>ry(e,t)||r.get(e,t,i),has:(e,t)=>!!ry(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(uI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function uI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dp="@firebase/app",iy="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Up("@firebase/app"),cI="@firebase/app-compat",fI="@firebase/analytics-compat",hI="@firebase/analytics",dI="@firebase/app-check-compat",pI="@firebase/app-check",mI="@firebase/auth",gI="@firebase/auth-compat",vI="@firebase/database",yI="@firebase/data-connect",_I="@firebase/database-compat",EI="@firebase/functions",wI="@firebase/functions-compat",TI="@firebase/installations",AI="@firebase/installations-compat",SI="@firebase/messaging",II="@firebase/messaging-compat",bI="@firebase/performance",RI="@firebase/performance-compat",kI="@firebase/remote-config",PI="@firebase/remote-config-compat",OI="@firebase/storage",CI="@firebase/storage-compat",NI="@firebase/firestore",xI="@firebase/vertexai",LI="@firebase/firestore-compat",DI="firebase",MI="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="[DEFAULT]",VI={[dp]:"fire-core",[cI]:"fire-core-compat",[hI]:"fire-analytics",[fI]:"fire-analytics-compat",[pI]:"fire-app-check",[dI]:"fire-app-check-compat",[mI]:"fire-auth",[gI]:"fire-auth-compat",[vI]:"fire-rtdb",[yI]:"fire-data-connect",[_I]:"fire-rtdb-compat",[EI]:"fire-fn",[wI]:"fire-fn-compat",[TI]:"fire-iid",[AI]:"fire-iid-compat",[SI]:"fire-fcm",[II]:"fire-fcm-compat",[bI]:"fire-perf",[RI]:"fire-perf-compat",[kI]:"fire-rc",[PI]:"fire-rc-compat",[OI]:"fire-gcs",[CI]:"fire-gcs-compat",[NI]:"fire-fst",[LI]:"fire-fst-compat",[xI]:"fire-vertex","fire-js":"fire-js",[DI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=new Map,qI=new Map,mp=new Map;function oy(r,e){try{r.container.addComponent(e)}catch(t){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function gs(r){const e=r.name;if(mp.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;mp.set(e,r);for(const t of Ku.values())oy(t,r);for(const t of qI.values())oy(t,r);return!0}function Bp(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function wi(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new Qa("app","Firebase",FI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=MI;function S1(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i=Object.assign({name:pp,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Si.create("bad-app-name",{appName:String(o)});if(t||(t=E1()),!t)throw Si.create("no-options");const a=Ku.get(o);if(a){if(Hu(t,a.options)&&Hu(i,a.config))return a;throw Si.create("duplicate-app",{appName:o})}const u=new KS(o);for(const d of mp.values())u.addComponent(d);const f=new UI(t,i,u);return Ku.set(o,f),f}function I1(r=pp){const e=Ku.get(r);if(!e&&r===pp&&E1())return S1();if(!e)throw Si.create("no-app",{appName:r});return e}function Ii(r,e,t){var i;let o=(i=VI[r])!==null&&i!==void 0?i:r;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const f=[`Unable to register library "${o}" with version "${e}":`];a&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(f.join(" "));return}gs(new po(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="firebase-heartbeat-database",BI=1,qa="firebase-heartbeat-store";let Th=null;function b1(){return Th||(Th=oI(jI,BI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(qa)}catch(t){console.warn(t)}}}}).catch(r=>{throw Si.create("idb-open",{originalErrorMessage:r.message})})),Th}async function zI(r){try{const t=(await b1()).transaction(qa),i=await t.objectStore(qa).get(R1(r));return await t.done,i}catch(e){if(e instanceof Hr)Fr.warn(e.message);else{const t=Si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(t.message)}}}async function sy(r,e){try{const i=(await b1()).transaction(qa,"readwrite");await i.objectStore(qa).put(e,R1(r)),await i.done}catch(t){if(t instanceof Hr)Fr.warn(t.message);else{const i=Si.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Fr.warn(i.message)}}}function R1(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=1024,HI=30*24*60*60*1e3;class KI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new GI(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ay();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const f=new Date(u.date).valueOf();return Date.now()-f<=HI}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Fr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ay(),{heartbeatsToSend:i,unsentEntries:o}=WI(this._heartbeatsCache.heartbeats),a=$u(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Fr.warn(t),""}}}function ay(){return new Date().toISOString().substring(0,10)}function WI(r,e=$I){const t=[];let i=r.slice();for(const o of r){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),ly(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),ly(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class GI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LS()?DS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await zI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return sy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return sy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ly(r){return $u(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(r){gs(new po("platform-logger",e=>new lI(e),"PRIVATE")),gs(new po("heartbeat",e=>new KI(e),"PRIVATE")),Ii(dp,iy,r),Ii(dp,iy,"esm2017"),Ii("fire-js","")}QI("");var YI="firebase",XI="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii(YI,XI,"app");var uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fo,k1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function D(){}D.prototype=R.prototype,O.D=R.prototype,O.prototype=new D,O.prototype.constructor=O,O.C=function(C,b,L){for(var x=Array(arguments.length-2),$=2;$<arguments.length;$++)x[$-2]=arguments[$];return R.prototype[b].apply(C,x)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,D){D||(D=0);var C=Array(16);if(typeof R=="string")for(var b=0;16>b;++b)C[b]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(b=0;16>b;++b)C[b]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=O.g[0],D=O.g[1],b=O.g[2];var L=O.g[3],x=R+(L^D&(b^L))+C[0]+3614090360&4294967295;R=D+(x<<7&4294967295|x>>>25),x=L+(b^R&(D^b))+C[1]+3905402710&4294967295,L=R+(x<<12&4294967295|x>>>20),x=b+(D^L&(R^D))+C[2]+606105819&4294967295,b=L+(x<<17&4294967295|x>>>15),x=D+(R^b&(L^R))+C[3]+3250441966&4294967295,D=b+(x<<22&4294967295|x>>>10),x=R+(L^D&(b^L))+C[4]+4118548399&4294967295,R=D+(x<<7&4294967295|x>>>25),x=L+(b^R&(D^b))+C[5]+1200080426&4294967295,L=R+(x<<12&4294967295|x>>>20),x=b+(D^L&(R^D))+C[6]+2821735955&4294967295,b=L+(x<<17&4294967295|x>>>15),x=D+(R^b&(L^R))+C[7]+4249261313&4294967295,D=b+(x<<22&4294967295|x>>>10),x=R+(L^D&(b^L))+C[8]+1770035416&4294967295,R=D+(x<<7&4294967295|x>>>25),x=L+(b^R&(D^b))+C[9]+2336552879&4294967295,L=R+(x<<12&4294967295|x>>>20),x=b+(D^L&(R^D))+C[10]+4294925233&4294967295,b=L+(x<<17&4294967295|x>>>15),x=D+(R^b&(L^R))+C[11]+2304563134&4294967295,D=b+(x<<22&4294967295|x>>>10),x=R+(L^D&(b^L))+C[12]+1804603682&4294967295,R=D+(x<<7&4294967295|x>>>25),x=L+(b^R&(D^b))+C[13]+4254626195&4294967295,L=R+(x<<12&4294967295|x>>>20),x=b+(D^L&(R^D))+C[14]+2792965006&4294967295,b=L+(x<<17&4294967295|x>>>15),x=D+(R^b&(L^R))+C[15]+1236535329&4294967295,D=b+(x<<22&4294967295|x>>>10),x=R+(b^L&(D^b))+C[1]+4129170786&4294967295,R=D+(x<<5&4294967295|x>>>27),x=L+(D^b&(R^D))+C[6]+3225465664&4294967295,L=R+(x<<9&4294967295|x>>>23),x=b+(R^D&(L^R))+C[11]+643717713&4294967295,b=L+(x<<14&4294967295|x>>>18),x=D+(L^R&(b^L))+C[0]+3921069994&4294967295,D=b+(x<<20&4294967295|x>>>12),x=R+(b^L&(D^b))+C[5]+3593408605&4294967295,R=D+(x<<5&4294967295|x>>>27),x=L+(D^b&(R^D))+C[10]+38016083&4294967295,L=R+(x<<9&4294967295|x>>>23),x=b+(R^D&(L^R))+C[15]+3634488961&4294967295,b=L+(x<<14&4294967295|x>>>18),x=D+(L^R&(b^L))+C[4]+3889429448&4294967295,D=b+(x<<20&4294967295|x>>>12),x=R+(b^L&(D^b))+C[9]+568446438&4294967295,R=D+(x<<5&4294967295|x>>>27),x=L+(D^b&(R^D))+C[14]+3275163606&4294967295,L=R+(x<<9&4294967295|x>>>23),x=b+(R^D&(L^R))+C[3]+4107603335&4294967295,b=L+(x<<14&4294967295|x>>>18),x=D+(L^R&(b^L))+C[8]+1163531501&4294967295,D=b+(x<<20&4294967295|x>>>12),x=R+(b^L&(D^b))+C[13]+2850285829&4294967295,R=D+(x<<5&4294967295|x>>>27),x=L+(D^b&(R^D))+C[2]+4243563512&4294967295,L=R+(x<<9&4294967295|x>>>23),x=b+(R^D&(L^R))+C[7]+1735328473&4294967295,b=L+(x<<14&4294967295|x>>>18),x=D+(L^R&(b^L))+C[12]+2368359562&4294967295,D=b+(x<<20&4294967295|x>>>12),x=R+(D^b^L)+C[5]+4294588738&4294967295,R=D+(x<<4&4294967295|x>>>28),x=L+(R^D^b)+C[8]+2272392833&4294967295,L=R+(x<<11&4294967295|x>>>21),x=b+(L^R^D)+C[11]+1839030562&4294967295,b=L+(x<<16&4294967295|x>>>16),x=D+(b^L^R)+C[14]+4259657740&4294967295,D=b+(x<<23&4294967295|x>>>9),x=R+(D^b^L)+C[1]+2763975236&4294967295,R=D+(x<<4&4294967295|x>>>28),x=L+(R^D^b)+C[4]+1272893353&4294967295,L=R+(x<<11&4294967295|x>>>21),x=b+(L^R^D)+C[7]+4139469664&4294967295,b=L+(x<<16&4294967295|x>>>16),x=D+(b^L^R)+C[10]+3200236656&4294967295,D=b+(x<<23&4294967295|x>>>9),x=R+(D^b^L)+C[13]+681279174&4294967295,R=D+(x<<4&4294967295|x>>>28),x=L+(R^D^b)+C[0]+3936430074&4294967295,L=R+(x<<11&4294967295|x>>>21),x=b+(L^R^D)+C[3]+3572445317&4294967295,b=L+(x<<16&4294967295|x>>>16),x=D+(b^L^R)+C[6]+76029189&4294967295,D=b+(x<<23&4294967295|x>>>9),x=R+(D^b^L)+C[9]+3654602809&4294967295,R=D+(x<<4&4294967295|x>>>28),x=L+(R^D^b)+C[12]+3873151461&4294967295,L=R+(x<<11&4294967295|x>>>21),x=b+(L^R^D)+C[15]+530742520&4294967295,b=L+(x<<16&4294967295|x>>>16),x=D+(b^L^R)+C[2]+3299628645&4294967295,D=b+(x<<23&4294967295|x>>>9),x=R+(b^(D|~L))+C[0]+4096336452&4294967295,R=D+(x<<6&4294967295|x>>>26),x=L+(D^(R|~b))+C[7]+1126891415&4294967295,L=R+(x<<10&4294967295|x>>>22),x=b+(R^(L|~D))+C[14]+2878612391&4294967295,b=L+(x<<15&4294967295|x>>>17),x=D+(L^(b|~R))+C[5]+4237533241&4294967295,D=b+(x<<21&4294967295|x>>>11),x=R+(b^(D|~L))+C[12]+1700485571&4294967295,R=D+(x<<6&4294967295|x>>>26),x=L+(D^(R|~b))+C[3]+2399980690&4294967295,L=R+(x<<10&4294967295|x>>>22),x=b+(R^(L|~D))+C[10]+4293915773&4294967295,b=L+(x<<15&4294967295|x>>>17),x=D+(L^(b|~R))+C[1]+2240044497&4294967295,D=b+(x<<21&4294967295|x>>>11),x=R+(b^(D|~L))+C[8]+1873313359&4294967295,R=D+(x<<6&4294967295|x>>>26),x=L+(D^(R|~b))+C[15]+4264355552&4294967295,L=R+(x<<10&4294967295|x>>>22),x=b+(R^(L|~D))+C[6]+2734768916&4294967295,b=L+(x<<15&4294967295|x>>>17),x=D+(L^(b|~R))+C[13]+1309151649&4294967295,D=b+(x<<21&4294967295|x>>>11),x=R+(b^(D|~L))+C[4]+4149444226&4294967295,R=D+(x<<6&4294967295|x>>>26),x=L+(D^(R|~b))+C[11]+3174756917&4294967295,L=R+(x<<10&4294967295|x>>>22),x=b+(R^(L|~D))+C[2]+718787259&4294967295,b=L+(x<<15&4294967295|x>>>17),x=D+(L^(b|~R))+C[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(b+(x<<21&4294967295|x>>>11))&4294967295,O.g[2]=O.g[2]+b&4294967295,O.g[3]=O.g[3]+L&4294967295}i.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var D=R-this.blockSize,C=this.B,b=this.h,L=0;L<R;){if(b==0)for(;L<=D;)o(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<R;)if(C[b++]=O.charCodeAt(L++),b==this.blockSize){o(this,C),b=0;break}}else for(;L<R;)if(C[b++]=O[L++],b==this.blockSize){o(this,C),b=0;break}}this.h=b,this.o+=R},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var D=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=D&255,D/=256;for(this.u(O),O=Array(16),R=D=0;4>R;++R)for(var C=0;32>C;C+=8)O[D++]=this.g[R]>>>C&255;return O};function a(O,R){var D=f;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=R(O)}function u(O,R){this.h=R;for(var D=[],C=!0,b=O.length-1;0<=b;b--){var L=O[b]|0;C&&L==R||(D[b]=L,C=!1)}this.g=D}var f={};function d(O){return-128<=O&&128>O?a(O,function(R){return new u([R|0],0>R?-1:0)}):new u([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return g;if(0>O)return E(v(-O));for(var R=[],D=1,C=0;O>=D;C++)R[C]=O/D|0,D*=4294967296;return new u(R,0)}function y(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return E(y(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=v(Math.pow(R,8)),C=g,b=0;b<O.length;b+=8){var L=Math.min(8,O.length-b),x=parseInt(O.substring(b,b+L),R);8>L?(L=v(Math.pow(R,L)),C=C.j(L).add(v(x))):(C=C.j(D),C=C.add(v(x)))}return C}var g=d(0),p=d(1),m=d(16777216);r=u.prototype,r.m=function(){if(T(this))return-E(this).m();for(var O=0,R=1,D=0;D<this.g.length;D++){var C=this.i(D);O+=(0<=C?C:4294967296+C)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(A(this))return"0";if(T(this))return"-"+E(this).toString(O);for(var R=v(Math.pow(O,6)),D=this,C="";;){var b=I(D,R).g;D=_(D,b.j(R));var L=((0<D.g.length?D.g[0]:D.h)>>>0).toString(O);if(D=b,A(D))return L+C;for(;6>L.length;)L="0"+L;C=L+C}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function A(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function T(O){return O.h==-1}r.l=function(O){return O=_(this,O),T(O)?-1:A(O)?0:1};function E(O){for(var R=O.g.length,D=[],C=0;C<R;C++)D[C]=~O.g[C];return new u(D,~O.h).add(p)}r.abs=function(){return T(this)?E(this):this},r.add=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],C=0,b=0;b<=R;b++){var L=C+(this.i(b)&65535)+(O.i(b)&65535),x=(L>>>16)+(this.i(b)>>>16)+(O.i(b)>>>16);C=x>>>16,L&=65535,x&=65535,D[b]=x<<16|L}return new u(D,D[D.length-1]&-2147483648?-1:0)};function _(O,R){return O.add(E(R))}r.j=function(O){if(A(this)||A(O))return g;if(T(this))return T(O)?E(this).j(E(O)):E(E(this).j(O));if(T(O))return E(this.j(E(O)));if(0>this.l(m)&&0>O.l(m))return v(this.m()*O.m());for(var R=this.g.length+O.g.length,D=[],C=0;C<2*R;C++)D[C]=0;for(C=0;C<this.g.length;C++)for(var b=0;b<O.g.length;b++){var L=this.i(C)>>>16,x=this.i(C)&65535,$=O.i(b)>>>16,W=O.i(b)&65535;D[2*C+2*b]+=x*W,S(D,2*C+2*b),D[2*C+2*b+1]+=L*W,S(D,2*C+2*b+1),D[2*C+2*b+1]+=x*$,S(D,2*C+2*b+1),D[2*C+2*b+2]+=L*$,S(D,2*C+2*b+2)}for(C=0;C<R;C++)D[C]=D[2*C+1]<<16|D[2*C];for(C=R;C<2*R;C++)D[C]=0;return new u(D,0)};function S(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function N(O,R){this.g=O,this.h=R}function I(O,R){if(A(R))throw Error("division by zero");if(A(O))return new N(g,g);if(T(O))return R=I(E(O),R),new N(E(R.g),E(R.h));if(T(R))return R=I(O,E(R)),new N(E(R.g),R.h);if(30<O.g.length){if(T(O)||T(R))throw Error("slowDivide_ only works with positive integers.");for(var D=p,C=R;0>=C.l(O);)D=M(D),C=M(C);var b=F(D,1),L=F(C,1);for(C=F(C,2),D=F(D,2);!A(C);){var x=L.add(C);0>=x.l(O)&&(b=b.add(D),L=x),C=F(C,1),D=F(D,1)}return R=_(O,b.j(R)),new N(b,R)}for(b=g;0<=O.l(R);){for(D=Math.max(1,Math.floor(O.m()/R.m())),C=Math.ceil(Math.log(D)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),L=v(D),x=L.j(R);T(x)||0<x.l(O);)D-=C,L=v(D),x=L.j(R);A(L)&&(L=p),b=b.add(L),O=_(O,x)}return new N(b,O)}r.A=function(O){return I(this,O).h},r.and=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],C=0;C<R;C++)D[C]=this.i(C)&O.i(C);return new u(D,this.h&O.h)},r.or=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],C=0;C<R;C++)D[C]=this.i(C)|O.i(C);return new u(D,this.h|O.h)},r.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),D=[],C=0;C<R;C++)D[C]=this.i(C)^O.i(C);return new u(D,this.h^O.h)};function M(O){for(var R=O.g.length+1,D=[],C=0;C<R;C++)D[C]=O.i(C)<<1|O.i(C-1)>>>31;return new u(D,O.h)}function F(O,R){var D=R>>5;R%=32;for(var C=O.g.length-D,b=[],L=0;L<C;L++)b[L]=0<R?O.i(L+D)>>>R|O.i(L+D+1)<<32-R:O.i(L+D);return new u(b,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,k1=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=v,u.fromString=y,fo=u}).apply(typeof uy<"u"?uy:typeof self<"u"?self:typeof window<"u"?window:{});var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var P1,Ra,O1,Nu,gp,C1,N1,x1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,k,q){return c==Array.prototype||c==Object.prototype||(c[k]=q.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Au=="object"&&Au];for(var k=0;k<c.length;++k){var q=c[k];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var i=t(this);function o(c,k){if(k)e:{var q=i;c=c.split(".");for(var B=0;B<c.length-1;B++){var se=c[B];if(!(se in q))break e;q=q[se]}c=c[c.length-1],B=q[c],k=k(B),k!=B&&k!=null&&e(q,c,{configurable:!0,writable:!0,value:k})}}function a(c,k){c instanceof String&&(c+="");var q=0,B=!1,se={next:function(){if(!B&&q<c.length){var ce=q++;return{value:k(ce,c[ce]),done:!1}}return B=!0,{done:!0,value:void 0}}};return se[Symbol.iterator]=function(){return se},se}o("Array.prototype.values",function(c){return c||function(){return a(this,function(k,q){return q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function d(c){var k=typeof c;return k=k!="object"?k:c?Array.isArray(c)?"array":k:"null",k=="array"||k=="object"&&typeof c.length=="number"}function v(c){var k=typeof c;return k=="object"&&c!=null||k=="function"}function y(c,k,q){return c.call.apply(c.bind,arguments)}function g(c,k,q){if(!c)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(se,B),c.apply(k,se)}}return function(){return c.apply(k,arguments)}}function p(c,k,q){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:g,p.apply(null,arguments)}function m(c,k){var q=Array.prototype.slice.call(arguments,1);return function(){var B=q.slice();return B.push.apply(B,arguments),c.apply(this,B)}}function A(c,k){function q(){}q.prototype=k.prototype,c.aa=k.prototype,c.prototype=new q,c.prototype.constructor=c,c.Qb=function(B,se,ce){for(var Ae=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)Ae[lt-2]=arguments[lt];return k.prototype[se].apply(B,Ae)}}function T(c){const k=c.length;if(0<k){const q=Array(k);for(let B=0;B<k;B++)q[B]=c[B];return q}return[]}function E(c,k){for(let q=1;q<arguments.length;q++){const B=arguments[q];if(d(B)){const se=c.length||0,ce=B.length||0;c.length=se+ce;for(let Ae=0;Ae<ce;Ae++)c[se+Ae]=B[Ae]}else c.push(B)}}class _{constructor(k,q){this.i=k,this.j=q,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function S(c){return/^[\s\xa0]*$/.test(c)}function N(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function I(c){return I[" "](c),c}I[" "]=function(){};var M=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function F(c,k,q){for(const B in c)k.call(q,c[B],B,c)}function O(c,k){for(const q in c)k.call(void 0,c[q],q,c)}function R(c){const k={};for(const q in c)k[q]=c[q];return k}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,k){let q,B;for(let se=1;se<arguments.length;se++){B=arguments[se];for(q in B)c[q]=B[q];for(let ce=0;ce<D.length;ce++)q=D[ce],Object.prototype.hasOwnProperty.call(B,q)&&(c[q]=B[q])}}function b(c){var k=1;c=c.split(":");const q=[];for(;0<k&&c.length;)q.push(c.shift()),k--;return c.length&&q.push(c.join(":")),q}function L(c){f.setTimeout(()=>{throw c},0)}function x(){var c=Q;let k=null;return c.g&&(k=c.g,c.g=c.g.next,c.g||(c.h=null),k.next=null),k}class ${constructor(){this.h=this.g=null}add(k,q){const B=W.get();B.set(k,q),this.h?this.h.next=B:this.g=B,this.h=B}}var W=new _(()=>new ne,c=>c.reset());class ne{constructor(){this.next=this.g=this.h=null}set(k,q){this.h=k,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let te,re=!1,Q=new $,H=()=>{const c=f.Promise.resolve(void 0);te=()=>{c.then(V)}};var V=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(q){L(q)}var k=W;k.j(c),100>k.h&&(k.h++,c.next=k.g,k.g=c)}re=!1};function j(){this.s=this.s,this.C=this.C}j.prototype.s=!1,j.prototype.ma=function(){this.s||(this.s=!0,this.N())},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(c,k){this.type=c,this.g=this.target=k,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,k=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const q=()=>{};f.addEventListener("test",q,k),f.removeEventListener("test",q,k)}catch{}return c}();function J(c,k){if(K.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var q=this.type=c.type,B=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=k,k=c.relatedTarget){if(M){e:{try{I(k.nodeName);var se=!0;break e}catch{}se=!1}se||(k=null)}}else q=="mouseover"?k=c.fromElement:q=="mouseout"&&(k=c.toElement);this.relatedTarget=k,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:z[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&J.aa.h.call(this)}}A(J,K);var z={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Y="closure_listenable_"+(1e6*Math.random()|0),ie=0;function oe(c,k,q,B,se){this.listener=c,this.proxy=null,this.src=k,this.type=q,this.capture=!!B,this.ha=se,this.key=++ie,this.da=this.fa=!1}function he(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c){this.src=c,this.g={},this.h=0}Ie.prototype.add=function(c,k,q,B,se){var ce=c.toString();c=this.g[ce],c||(c=this.g[ce]=[],this.h++);var Ae=Ve(c,k,B,se);return-1<Ae?(k=c[Ae],q||(k.fa=!1)):(k=new oe(k,this.src,ce,!!B,se),k.fa=q,c.push(k)),k};function Le(c,k){var q=k.type;if(q in c.g){var B=c.g[q],se=Array.prototype.indexOf.call(B,k,void 0),ce;(ce=0<=se)&&Array.prototype.splice.call(B,se,1),ce&&(he(k),c.g[q].length==0&&(delete c.g[q],c.h--))}}function Ve(c,k,q,B){for(var se=0;se<c.length;++se){var ce=c[se];if(!ce.da&&ce.listener==k&&ce.capture==!!q&&ce.ha==B)return se}return-1}var He="closure_lm_"+(1e6*Math.random()|0),Ge={};function It(c,k,q,B,se){if(Array.isArray(k)){for(var ce=0;ce<k.length;ce++)It(c,k[ce],q,B,se);return null}return q=Ke(q),c&&c[Y]?c.K(k,q,v(B)?!!B.capture:!!B,se):ht(c,k,q,!1,B,se)}function ht(c,k,q,B,se,ce){if(!k)throw Error("Invalid event type");var Ae=v(se)?!!se.capture:!!se,lt=je(c);if(lt||(c[He]=lt=new Ie(c)),q=lt.add(k,q,B,Ae,ce),q.proxy)return q;if(B=fe(),q.proxy=B,B.src=c,B.listener=q,c.addEventListener)Z||(se=Ae),se===void 0&&(se=!1),c.addEventListener(k.toString(),B,se);else if(c.attachEvent)c.attachEvent(Se(k.toString()),B);else if(c.addListener&&c.removeListener)c.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return q}function fe(){function c(q){return k.call(c.src,c.listener,q)}const k=ve;return c}function de(c,k,q,B,se){if(Array.isArray(k))for(var ce=0;ce<k.length;ce++)de(c,k[ce],q,B,se);else B=v(B)?!!B.capture:!!B,q=Ke(q),c&&c[Y]?(c=c.i,k=String(k).toString(),k in c.g&&(ce=c.g[k],q=Ve(ce,q,B,se),-1<q&&(he(ce[q]),Array.prototype.splice.call(ce,q,1),ce.length==0&&(delete c.g[k],c.h--)))):c&&(c=je(c))&&(k=c.g[k.toString()],c=-1,k&&(c=Ve(k,q,B,se)),(q=-1<c?k[c]:null)&&Te(q))}function Te(c){if(typeof c!="number"&&c&&!c.da){var k=c.src;if(k&&k[Y])Le(k.i,c);else{var q=c.type,B=c.proxy;k.removeEventListener?k.removeEventListener(q,B,c.capture):k.detachEvent?k.detachEvent(Se(q),B):k.addListener&&k.removeListener&&k.removeListener(B),(q=je(k))?(Le(q,c),q.h==0&&(q.src=null,k[He]=null)):he(c)}}}function Se(c){return c in Ge?Ge[c]:Ge[c]="on"+c}function ve(c,k){if(c.da)c=!0;else{k=new J(k,this);var q=c.listener,B=c.ha||c.src;c.fa&&Te(c),c=q.call(B,k)}return c}function je(c){return c=c[He],c instanceof Ie?c:null}var Be="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ke(c){return typeof c=="function"?c:(c[Be]||(c[Be]=function(k){return c.handleEvent(k)}),c[Be])}function rt(){j.call(this),this.i=new Ie(this),this.M=this,this.F=null}A(rt,j),rt.prototype[Y]=!0,rt.prototype.removeEventListener=function(c,k,q,B){de(this,c,k,q,B)};function st(c,k){var q,B=c.F;if(B)for(q=[];B;B=B.F)q.push(B);if(c=c.M,B=k.type||k,typeof k=="string")k=new K(k,c);else if(k instanceof K)k.target=k.target||c;else{var se=k;k=new K(B,c),C(k,se)}if(se=!0,q)for(var ce=q.length-1;0<=ce;ce--){var Ae=k.g=q[ce];se=tt(Ae,B,!0,k)&&se}if(Ae=k.g=c,se=tt(Ae,B,!0,k)&&se,se=tt(Ae,B,!1,k)&&se,q)for(ce=0;ce<q.length;ce++)Ae=k.g=q[ce],se=tt(Ae,B,!1,k)&&se}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var c=this.i,k;for(k in c.g){for(var q=c.g[k],B=0;B<q.length;B++)he(q[B]);delete c.g[k],c.h--}}this.F=null},rt.prototype.K=function(c,k,q,B){return this.i.add(String(c),k,!1,q,B)},rt.prototype.L=function(c,k,q,B){return this.i.add(String(c),k,!0,q,B)};function tt(c,k,q,B){if(k=c.i.g[String(k)],!k)return!0;k=k.concat();for(var se=!0,ce=0;ce<k.length;++ce){var Ae=k[ce];if(Ae&&!Ae.da&&Ae.capture==q){var lt=Ae.listener,Ot=Ae.ha||Ae.src;Ae.fa&&Le(c.i,Ae),se=lt.call(Ot,B)!==!1&&se}}return se&&!B.defaultPrevented}function Mi(c,k,q){if(typeof c=="function")q&&(c=p(c,q));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:f.setTimeout(c,k||0)}function at(c){c.g=Mi(()=>{c.g=null,c.i&&(c.i=!1,at(c))},c.l);const k=c.h;c.h=null,c.m.apply(null,k)}class Gt extends j{constructor(k,q){super(),this.m=k,this.l=q,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:at(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vi(c){j.call(this),this.h=c,this.g={}}A(Vi,j);var Ds=[];function Ms(c){F(c.g,function(k,q){this.g.hasOwnProperty(q)&&Te(k)},c),c.g={}}Vi.prototype.N=function(){Vi.aa.N.call(this),Ms(this)},Vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vs=f.JSON.stringify,qs=f.JSON.parse,Fs=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function qi(){}qi.prototype.h=null;function Eo(c){return c.h||(c.h=c.i())}function wo(){}var Pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){K.call(this,"d")}A(nr,K);function To(){K.call(this,"c")}A(To,K);var rr={},Us=null;function Fi(){return Us=Us||new rt}rr.La="serverreachability";function js(c){K.call(this,rr.La,c)}A(js,K);function wr(c){const k=Fi();st(k,new js(k))}rr.STAT_EVENT="statevent";function Bs(c,k){K.call(this,rr.STAT_EVENT,c),this.stat=k}A(Bs,K);function Tt(c){const k=Fi();st(k,new Bs(k,c))}rr.Ma="timingevent";function Ao(c,k){K.call(this,rr.Ma,c),this.size=k}A(Ao,K);function Fn(c,k){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},k)}function Ui(){this.g=!0}Ui.prototype.xa=function(){this.g=!1};function ji(c,k,q,B,se,ce){c.info(function(){if(c.g)if(ce)for(var Ae="",lt=ce.split("&"),Ot=0;Ot<lt.length;Ot++){var Ze=lt[Ot].split("=");if(1<Ze.length){var Mt=Ze[0];Ze=Ze[1];var bt=Mt.split("_");Ae=2<=bt.length&&bt[1]=="type"?Ae+(Mt+"="+Ze+"&"):Ae+(Mt+"=redacted&")}}else Ae=null;else Ae=ce;return"XMLHTTP REQ ("+B+") [attempt "+se+"]: "+k+`
`+q+`
`+Ae})}function So(c,k,q,B,se,ce,Ae){c.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+se+"]: "+k+`
`+q+`
`+ce+" "+Ae})}function Un(c,k,q,B){c.info(function(){return"XMLHTTP TEXT ("+k+"): "+qc(c,q)+(B?" "+B:"")})}function zs(c,k){c.info(function(){return"TIMEOUT: "+k})}Ui.prototype.info=function(){};function qc(c,k){if(!c.g)return k;if(!k)return null;try{var q=JSON.parse(k);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var B=q[c];if(!(2>B.length)){var se=B[1];if(Array.isArray(se)&&!(1>se.length)){var ce=se[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var Ae=1;Ae<se.length;Ae++)se[Ae]=""}}}}return Vs(q)}catch{return k}}var Io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function Bi(){}A(Bi,qi),Bi.prototype.g=function(){return new XMLHttpRequest},Bi.prototype.i=function(){return{}},jn=new Bi;function Bn(c,k,q,B){this.j=c,this.i=k,this.l=q,this.R=B||1,this.U=new Vi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new al}function al(){this.i=null,this.g="",this.h=!1}var $s={},bo={};function Ro(c,k,q){c.L=1,c.v=Xr(wn(k)),c.m=q,c.P=!0,Hs(c,null)}function Hs(c,k){c.F=Date.now(),ct(c),c.A=wn(c.v);var q=c.A,B=c.R;Array.isArray(B)||(B=[String(B)]),Zr(q.i,"t",B),c.C=0,q=c.j.J,c.h=new al,c.g=Il(c.j,q?k:null,!c.m),0<c.O&&(c.M=new Gt(p(c.Y,c,c.g),c.O)),k=c.U,q=c.g,B=c.ca;var se="readystatechange";Array.isArray(se)||(se&&(Ds[0]=se.toString()),se=Ds);for(var ce=0;ce<se.length;ce++){var Ae=It(q,se[ce],B||k.handleEvent,!1,k.h||k);if(!Ae)break;k.g[Ae.key]=Ae}k=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,k)):(c.u="GET",c.g.ea(c.A,c.u,null,k)),wr(),ji(c.i,c.u,c.A,c.l,c.R,c.m)}Bn.prototype.ca=function(c){c=c.target;const k=this.M;k&&cn(c)==3?k.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)e:{const bt=cn(this.g);var k=this.g.Ba();const Nn=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||Xs(this.g)))){this.J||bt!=4||k==7||(k==8||0>=Nn?wr(3):wr(2)),zi(this);var q=this.g.Z();this.X=q;t:if(ll(this)){var B=Xs(this.g);c="";var se=B.length,ce=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){On(this),Wr(this);var Ae="";break t}this.h.i=new f.TextDecoder}for(k=0;k<se;k++)this.h.h=!0,c+=this.h.i.decode(B[k],{stream:!(ce&&k==se-1)});B.length=0,this.h.g+=c,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=q==200,So(this.i,this.u,this.A,this.l,this.R,bt,q),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,Ot=this.g;if((lt=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(lt)){var Ze=lt;break t}}Ze=null}if(q=Ze)Un(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ks(this,q);else{this.o=!1,this.s=3,Tt(12),On(this),Wr(this);break e}}if(this.P){q=!0;let An;for(;!this.J&&this.C<Ae.length;)if(An=Fc(this,Ae),An==bo){bt==4&&(this.s=4,Tt(14),q=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(An==$s){this.s=4,Tt(15),Un(this.i,this.l,Ae,"[Invalid Chunk]"),q=!1;break}else Un(this.i,this.l,An,null),Ks(this,An);if(ll(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||Ae.length!=0||this.h.h||(this.s=1,Tt(16),q=!1),this.o=this.o&&q,!q)Un(this.i,this.l,Ae,"[Invalid Chunked Response]"),On(this),Wr(this);else if(0<Ae.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),Zs(Mt),Mt.M=!0,Tt(11))}}else Un(this.i,this.l,Ae,null),Ks(this,Ae);bt==4&&On(this),this.o&&!this.J&&(bt==4?qo(this.j,this):(this.o=!1,ct(this)))}else xo(this.g),q==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),On(this),Wr(this)}}}catch{}finally{}};function ll(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Fc(c,k){var q=c.C,B=k.indexOf(`
`,q);return B==-1?bo:(q=Number(k.substring(q,B)),isNaN(q)?$s:(B+=1,B+q>k.length?bo:(k=k.slice(B,B+q),c.C=B+q,k)))}Bn.prototype.cancel=function(){this.J=!0,On(this)};function ct(c){c.S=Date.now()+c.I,ul(c,c.I)}function ul(c,k){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Fn(p(c.ba,c),k)}function zi(c){c.B&&(f.clearTimeout(c.B),c.B=null)}Bn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(zs(this.i,this.A),this.L!=2&&(wr(),Tt(17)),On(this),this.s=2,Wr(this)):ul(this,this.S-c)};function Wr(c){c.j.G==0||c.J||qo(c.j,c)}function On(c){zi(c);var k=c.M;k&&typeof k.ma=="function"&&k.ma(),c.M=null,Ms(c.U),c.g&&(k=c.g,c.g=null,k.abort(),k.ma())}function Ks(c,k){try{var q=c.j;if(q.G!=0&&(q.g==c||rn(q.h,c))){if(!c.K&&rn(q.h,c)&&q.G==3){try{var B=q.Da.g.parse(k)}catch{B=null}if(Array.isArray(B)&&B.length==3){var se=B;if(se[0]==0){e:if(!q.u){if(q.g)if(q.g.F+3e3<c.F)Vo(q),Wn(q);else break e;Mo(q),Tt(18)}}else q.za=se[1],0<q.za-q.T&&37500>se[2]&&q.F&&q.v==0&&!q.C&&(q.C=Fn(p(q.Za,q),6e3));if(1>=fl(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else br(q,11)}else if((c.K||q.g==c)&&Vo(q),!S(k))for(se=q.Da.g.parse(k),k=0;k<se.length;k++){let Ze=se[k];if(q.T=Ze[0],Ze=Ze[1],q.G==2)if(Ze[0]=="c"){q.K=Ze[1],q.ia=Ze[2];const Mt=Ze[3];Mt!=null&&(q.la=Mt,q.j.info("VER="+q.la));const bt=Ze[4];bt!=null&&(q.Aa=bt,q.j.info("SVER="+q.Aa));const Nn=Ze[5];Nn!=null&&typeof Nn=="number"&&0<Nn&&(B=1.5*Nn,q.L=B,q.j.info("backChannelRequestTimeoutMs_="+B)),B=q;const An=c.g;if(An){const Yi=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yi){var ce=B.h;ce.g||Yi.indexOf("spdy")==-1&&Yi.indexOf("quic")==-1&&Yi.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(Ws(ce,ce.h),ce.h=null))}if(B.D){const Uo=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(B.ya=Uo,ut(B.I,B.D,Uo))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-c.F,q.j.info("Handshake RTT: "+q.R+"ms")),B=q;var Ae=c;if(B.qa=Sl(B,B.J?B.ia:null,B.W),Ae.K){hl(B.h,Ae);var lt=Ae,Ot=B.L;Ot&&(lt.I=Ot),lt.B&&(zi(lt),ct(lt)),B.g=Ae}else Qi(B);0<q.i.length&&ar(q)}else Ze[0]!="stop"&&Ze[0]!="close"||br(q,7);else q.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?br(q,7):Bt(q):Ze[0]!="noop"&&q.l&&q.l.ta(Ze),q.v=0)}}wr(4)}catch{}}var cl=class{constructor(c,k){this.g=c,this.map=k}};function $i(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function En(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fl(c){return c.h?1:c.g?c.g.size:0}function rn(c,k){return c.h?c.h==k:c.g?c.g.has(k):!1}function Ws(c,k){c.g?c.g.add(k):c.h=k}function hl(c,k){c.h&&c.h==k?c.h=null:c.g&&c.g.has(k)&&c.g.delete(k)}$i.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function dl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let k=c.i;for(const q of c.g.values())k=k.concat(q.D);return k}return T(c.i)}function ko(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(d(c)){for(var k=[],q=c.length,B=0;B<q;B++)k.push(c[B]);return k}k=[],q=0;for(B in c)k[q++]=c[B];return k}function Po(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(d(c)||typeof c=="string"){var k=[];c=c.length;for(var q=0;q<c;q++)k.push(q);return k}k=[],q=0;for(const B in c)k[q++]=B;return k}}}function Gr(c,k){if(c.forEach&&typeof c.forEach=="function")c.forEach(k,void 0);else if(d(c)||typeof c=="string")Array.prototype.forEach.call(c,k,void 0);else for(var q=Po(c),B=ko(c),se=B.length,ce=0;ce<se;ce++)k.call(void 0,B[ce],q&&q[ce],c)}var Hi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uc(c,k){if(c){c=c.split("&");for(var q=0;q<c.length;q++){var B=c[q].indexOf("="),se=null;if(0<=B){var ce=c[q].substring(0,B);se=c[q].substring(B+1)}else ce=c[q];k(ce,se?decodeURIComponent(se.replace(/\+/g," ")):"")}}}function Tr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tr){this.h=c.h,Ki(this,c.j),this.o=c.o,this.g=c.g,Qr(this,c.s),this.l=c.l;var k=c.i,q=new ir;q.i=k.i,k.g&&(q.g=new Map(k.g),q.h=k.h),Yr(this,q),this.m=c.m}else c&&(k=String(c).match(Hi))?(this.h=!1,Ki(this,k[1]||"",!0),this.o=Xe(k[2]||""),this.g=Xe(k[3]||"",!0),Qr(this,k[4]),this.l=Xe(k[5]||"",!0),Yr(this,k[6]||"",!0),this.m=Xe(k[7]||"")):(this.h=!1,this.i=new ir(null,this.h))}Tr.prototype.toString=function(){var c=[],k=this.j;k&&c.push(Jr(k,Oo,!0),":");var q=this.g;return(q||k=="file")&&(c.push("//"),(k=this.o)&&c.push(Jr(k,Oo,!0),"@"),c.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.s,q!=null&&c.push(":",String(q))),(q=this.l)&&(this.g&&q.charAt(0)!="/"&&c.push("/"),c.push(Jr(q,q.charAt(0)=="/"?gl:ml,!0))),(q=this.i.toString())&&c.push("?",q),(q=this.m)&&c.push("#",Jr(q,Gs)),c.join("")};function wn(c){return new Tr(c)}function Ki(c,k,q){c.j=q?Xe(k,!0):k,c.j&&(c.j=c.j.replace(/:$/,""))}function Qr(c,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);c.s=k}else c.s=null}function Yr(c,k,q){k instanceof ir?(c.i=k,or(c.i,c.h)):(q||(k=Jr(k,vl)),c.i=new ir(k,c.h))}function ut(c,k,q){c.i.set(k,q)}function Xr(c){return ut(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Xe(c,k){return c?k?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Jr(c,k,q){return typeof c=="string"?(c=encodeURI(c).replace(k,pl),q&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Oo=/[#\/\?@]/g,ml=/[#\?:]/g,gl=/[#\?]/g,vl=/[#\?@]/g,Gs=/#/g;function ir(c,k){this.h=this.g=null,this.i=c||null,this.j=!!k}function jt(c){c.g||(c.g=new Map,c.h=0,c.i&&Uc(c.i,function(k,q){c.add(decodeURIComponent(k.replace(/\+/g," ")),q)}))}r=ir.prototype,r.add=function(c,k){jt(this),this.i=null,c=Cn(this,c);var q=this.g.get(c);return q||this.g.set(c,q=[]),q.push(k),this.h+=1,this};function zn(c,k){jt(c),k=Cn(c,k),c.g.has(k)&&(c.i=null,c.h-=c.g.get(k).length,c.g.delete(k))}function $n(c,k){return jt(c),k=Cn(c,k),c.g.has(k)}r.forEach=function(c,k){jt(this),this.g.forEach(function(q,B){q.forEach(function(se){c.call(k,se,B,this)},this)},this)},r.na=function(){jt(this);const c=Array.from(this.g.values()),k=Array.from(this.g.keys()),q=[];for(let B=0;B<k.length;B++){const se=c[B];for(let ce=0;ce<se.length;ce++)q.push(k[B])}return q},r.V=function(c){jt(this);let k=[];if(typeof c=="string")$n(this,c)&&(k=k.concat(this.g.get(Cn(this,c))));else{c=Array.from(this.g.values());for(let q=0;q<c.length;q++)k=k.concat(c[q])}return k},r.set=function(c,k){return jt(this),this.i=null,c=Cn(this,c),$n(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[k]),this.h+=1,this},r.get=function(c,k){return c?(c=this.V(c),0<c.length?String(c[0]):k):k};function Zr(c,k,q){zn(c,k),0<q.length&&(c.i=null,c.g.set(Cn(c,k),T(q)),c.h+=q.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],k=Array.from(this.g.keys());for(var q=0;q<k.length;q++){var B=k[q];const ce=encodeURIComponent(String(B)),Ae=this.V(B);for(B=0;B<Ae.length;B++){var se=ce;Ae[B]!==""&&(se+="="+encodeURIComponent(String(Ae[B]))),c.push(se)}}return this.i=c.join("&")};function Cn(c,k){return k=String(k),c.j&&(k=k.toLowerCase()),k}function or(c,k){k&&!c.j&&(jt(c),c.i=null,c.g.forEach(function(q,B){var se=B.toLowerCase();B!=se&&(zn(this,B),Zr(this,se,q))},c)),c.j=k}function jc(c,k){const q=new Ui;if(f.Image){const B=new Image;B.onload=m(un,q,"TestLoadImage: loaded",!0,k,B),B.onerror=m(un,q,"TestLoadImage: error",!1,k,B),B.onabort=m(un,q,"TestLoadImage: abort",!1,k,B),B.ontimeout=m(un,q,"TestLoadImage: timeout",!1,k,B),f.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=c}else k(!1)}function yl(c,k){const q=new Ui,B=new AbortController,se=setTimeout(()=>{B.abort(),un(q,"TestPingServer: timeout",!1,k)},1e4);fetch(c,{signal:B.signal}).then(ce=>{clearTimeout(se),ce.ok?un(q,"TestPingServer: ok",!0,k):un(q,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(se),un(q,"TestPingServer: error",!1,k)})}function un(c,k,q,B,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),B(q)}catch{}}function Bc(){this.g=new Fs}function _l(c,k,q){const B=q||"";try{Gr(c,function(se,ce){let Ae=se;v(se)&&(Ae=Vs(se)),k.push(B+ce+"="+encodeURIComponent(Ae))})}catch(se){throw k.push(B+"type="+encodeURIComponent("_badmap")),se}}function Ar(c){this.l=c.Ub||null,this.j=c.eb||!1}A(Ar,qi),Ar.prototype.g=function(){return new Wi(this.l,this.j)},Ar.prototype.i=function(c){return function(){return c}}({});function Wi(c,k){rt.call(this),this.D=c,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Wi,rt),r=Wi.prototype,r.open=function(c,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=k,this.readyState=1,Kn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(k.body=c),(this.D||f).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;El(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function El(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var k=c.value?c.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!c.done}))&&(this.response=this.responseText+=k)}c.done?Hn(this):Kn(this),this.readyState==3&&El(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Hn(this))},r.Qa=function(c){this.g&&(this.response=c,Hn(this))},r.ga=function(){this.g&&Hn(this)};function Hn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Kn(c)}r.setRequestHeader=function(c,k){this.u.append(c,k)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],k=this.h.entries();for(var q=k.next();!q.done;)q=q.value,c.push(q[0]+": "+q[1]),q=k.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Sr(c){let k="";return F(c,function(q,B){k+=B,k+=":",k+=q,k+=`\r
`}),k}function ei(c,k,q){e:{for(B in q){var B=!1;break e}B=!0}B||(q=Sr(q),typeof c=="string"?q!=null&&encodeURIComponent(String(q)):ut(c,k,q))}function gt(c){rt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(gt,rt);var zc=/^https?$/i,Qs=["POST","PUT"];r=gt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,k,q,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);k=k?k.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?Eo(this.o):Eo(jn),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(k,String(c),!0),this.B=!1}catch(ce){Gi(this,ce);return}if(c=q||"",q=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var se in B)q.set(se,B[se]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const ce of B.keys())q.set(ce,B.get(ce));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(q.keys()).find(ce=>ce.toLowerCase()=="content-type"),se=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Qs,k,void 0))||B||se||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Ae]of q)this.g.setRequestHeader(ce,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{No(this),this.u=!0,this.g.send(c),this.u=!1}catch(ce){Gi(this,ce)}};function Gi(c,k){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=k,c.m=5,Co(c),Tn(c)}function Co(c){c.A||(c.A=!0,st(c,"complete"),st(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,st(this,"complete"),st(this,"abort"),Tn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tn(this,!0)),gt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ys(this):this.bb())},r.bb=function(){Ys(this)};function Ys(c){if(c.h&&typeof u<"u"&&(!c.v[1]||cn(c)!=4||c.Z()!=2)){if(c.u&&cn(c)==4)Mi(c.Ea,0,c);else if(st(c,"readystatechange"),cn(c)==4){c.h=!1;try{const Ae=c.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var q;if(!(q=k)){var B;if(B=Ae===0){var se=String(c.D).match(Hi)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),B=!zc.test(se?se.toLowerCase():"")}q=B}if(q)st(c,"complete"),st(c,"success");else{c.m=6;try{var ce=2<cn(c)?c.g.statusText:""}catch{ce=""}c.l=ce+" ["+c.Z()+"]",Co(c)}}finally{Tn(c)}}}}function Tn(c,k){if(c.g){No(c);const q=c.g,B=c.v[0]?()=>{}:null;c.g=null,c.v=null,k||st(c,"ready");try{q.onreadystatechange=B}catch{}}}function No(c){c.I&&(f.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function cn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var k=this.g.responseText;return c&&k.indexOf(c)==0&&(k=k.substring(c.length)),qs(k)}};function Xs(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xo(c){const k={};c=(c.g&&2<=cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<c.length;B++){if(S(c[B]))continue;var q=b(c[B]);const se=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const ce=k[se]||[];k[se]=ce,ce.push(q)}O(k,function(B){return B.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sr(c,k,q){return q&&q.internalChannelParams&&q.internalChannelParams[c]||k}function Js(c){this.Aa=0,this.i=[],this.j=new Ui,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sr("baseRetryDelayMs",5e3,c),this.cb=sr("retryDelaySeedMs",1e4,c),this.Wa=sr("forwardChannelMaxRetries",2,c),this.wa=sr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new $i(c&&c.concurrentRequestLimit),this.Da=new Bc,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Js.prototype,r.la=8,r.G=1,r.connect=function(c,k,q,B){Tt(0),this.W=c,this.H=k||{},q&&B!==void 0&&(this.H.OSID=q,this.H.OAID=B),this.F=this.X,this.I=Sl(this,null,this.W),ar(this)};function Bt(c){if(Lo(c),c.G==3){var k=c.U++,q=wn(c.I);if(ut(q,"SID",c.K),ut(q,"RID",k),ut(q,"TYPE","terminate"),Ir(c,q),k=new Bn(c,c.j,k),k.L=2,k.v=Xr(wn(q)),q=!1,f.navigator&&f.navigator.sendBeacon)try{q=f.navigator.sendBeacon(k.v.toString(),"")}catch{}!q&&f.Image&&(new Image().src=k.v,q=!0),q||(k.g=Il(k.j,null),k.g.ea(k.v)),k.F=Date.now(),ct(k)}Al(c)}function Wn(c){c.g&&(Zs(c),c.g.cancel(),c.g=null)}function Lo(c){Wn(c),c.u&&(f.clearTimeout(c.u),c.u=null),Vo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function ar(c){if(!En(c.h)&&!c.s){c.s=!0;var k=c.Ga;te||H(),re||(te(),re=!0),Q.add(k,c),c.B=0}}function $c(c,k){return fl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=k.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Fn(p(c.Ga,c,k),Tl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const se=new Bn(this,this.j,c);let ce=this.o;if(this.S&&(ce?(ce=R(ce),C(ce,this.S)):ce=this.S),this.m!==null||this.O||(se.H=ce,ce=null),this.P)e:{for(var k=0,q=0;q<this.i.length;q++){t:{var B=this.i[q];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(k+=B,4096<k){k=q;break e}if(k===4096||q===this.i.length-1){k=q+1;break e}}k=1e3}else k=1e3;k=ti(this,se,k),q=wn(this.I),ut(q,"RID",c),ut(q,"CVER",22),this.D&&ut(q,"X-HTTP-Session-Id",this.D),Ir(this,q),ce&&(this.O?k="headers="+encodeURIComponent(String(Sr(ce)))+"&"+k:this.m&&ei(q,this.m,ce)),Ws(this.h,se),this.Ua&&ut(q,"TYPE","init"),this.P?(ut(q,"$req",k),ut(q,"SID","null"),se.T=!0,Ro(se,q,null)):Ro(se,q,k),this.G=2}}else this.G==3&&(c?Do(this,c):this.i.length==0||En(this.h)||Do(this))};function Do(c,k){var q;k?q=k.l:q=c.U++;const B=wn(c.I);ut(B,"SID",c.K),ut(B,"RID",q),ut(B,"AID",c.T),Ir(c,B),c.m&&c.o&&ei(B,c.m,c.o),q=new Bn(c,c.j,q,c.B+1),c.m===null&&(q.H=c.o),k&&(c.i=k.D.concat(c.i)),k=ti(c,q,1e3),q.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ws(c.h,q),Ro(q,B,k)}function Ir(c,k){c.H&&F(c.H,function(q,B){ut(k,B,q)}),c.l&&Gr({},function(q,B){ut(k,B,q)})}function ti(c,k,q){q=Math.min(c.i.length,q);var B=c.l?p(c.l.Na,c.l,c):null;e:{var se=c.i;let ce=-1;for(;;){const Ae=["count="+q];ce==-1?0<q?(ce=se[0].g,Ae.push("ofs="+ce)):ce=0:Ae.push("ofs="+ce);let lt=!0;for(let Ot=0;Ot<q;Ot++){let Ze=se[Ot].g;const Mt=se[Ot].map;if(Ze-=ce,0>Ze)ce=Math.max(0,se[Ot].g-100),lt=!1;else try{_l(Mt,Ae,"req"+Ze+"_")}catch{B&&B(Mt)}}if(lt){B=Ae.join("&");break e}}}return c=c.i.splice(0,q),k.D=c,B}function Qi(c){if(!c.g&&!c.u){c.Y=1;var k=c.Fa;te||H(),re||(te(),re=!0),Q.add(k,c),c.v=0}}function Mo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Fn(p(c.Fa,c),Tl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,wl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Fn(p(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Wn(this),wl(this))};function Zs(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function wl(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var k=wn(c.qa);ut(k,"RID","rpc"),ut(k,"SID",c.K),ut(k,"AID",c.T),ut(k,"CI",c.F?"0":"1"),!c.F&&c.ja&&ut(k,"TO",c.ja),ut(k,"TYPE","xmlhttp"),Ir(c,k),c.m&&c.o&&ei(k,c.m,c.o),c.L&&(c.g.I=c.L);var q=c.g;c=c.ia,q.L=1,q.v=Xr(wn(k)),q.m=null,q.P=!0,Hs(q,c)}r.Za=function(){this.C!=null&&(this.C=null,Wn(this),Mo(this),Tt(19))};function Vo(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function qo(c,k){var q=null;if(c.g==k){Vo(c),Zs(c),c.g=null;var B=2}else if(rn(c.h,k))q=k.D,hl(c.h,k),B=1;else return;if(c.G!=0){if(k.o)if(B==1){q=k.m?k.m.length:0,k=Date.now()-k.F;var se=c.B;B=Fi(),st(B,new Ao(B,q)),ar(c)}else Qi(c);else if(se=k.s,se==3||se==0&&0<k.X||!(B==1&&$c(c,k)||B==2&&Mo(c)))switch(q&&0<q.length&&(k=c.h,k.i=k.i.concat(q)),se){case 1:br(c,5);break;case 4:br(c,10);break;case 3:br(c,6);break;default:br(c,2)}}}function Tl(c,k){let q=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(q*=2),q*k}function br(c,k){if(c.j.info("Error code "+k),k==2){var q=p(c.fb,c),B=c.Xa;const se=!B;B=new Tr(B||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ki(B,"https"),Xr(B),se?jc(B.toString(),q):yl(B.toString(),q)}else Tt(2);c.G=0,c.l&&c.l.sa(k),Al(c),Lo(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Al(c){if(c.G=0,c.ka=[],c.l){const k=dl(c.h);(k.length!=0||c.i.length!=0)&&(E(c.ka,k),E(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function Sl(c,k,q){var B=q instanceof Tr?wn(q):new Tr(q);if(B.g!="")k&&(B.g=k+"."+B.g),Qr(B,B.s);else{var se=f.location;B=se.protocol,k=k?k+"."+se.hostname:se.hostname,se=+se.port;var ce=new Tr(null);B&&Ki(ce,B),k&&(ce.g=k),se&&Qr(ce,se),q&&(ce.l=q),B=ce}return q=c.D,k=c.ya,q&&k&&ut(B,q,k),ut(B,"VER",c.la),Ir(c,B),B}function Il(c,k,q){if(k&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=c.Ca&&!c.pa?new gt(new Ar({eb:q})):new gt(c.pa),k.Ha(c.J),k}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ea(){}r=ea.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Fo(){}Fo.prototype.g=function(c,k){return new on(c,k)};function on(c,k){rt.call(this),this.g=new Js(k),this.l=c,this.h=k&&k.messageUrlParams||null,c=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(c?c["X-WebChannel-Content-Type"]=k.messageContentType:c={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(c?c["X-WebChannel-Client-Profile"]=k.va:c={"X-WebChannel-Client-Profile":k.va}),this.g.S=c,(c=k&&k.Sb)&&!S(c)&&(this.g.m=c),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!S(k)&&(this.g.D=k,c=this.h,c!==null&&k in c&&(c=this.h,k in c&&delete c[k])),this.j=new lr(this)}A(on,rt),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Bt(this.g)},on.prototype.o=function(c){var k=this.g;if(typeof c=="string"){var q={};q.__data__=c,c=q}else this.u&&(q={},q.__data__=Vs(c),c=q);k.i.push(new cl(k.Ya++,c)),k.G==3&&ar(k)},on.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,on.aa.N.call(this)};function bl(c){nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var k=c.__sm__;if(k){e:{for(const q in k){c=q;break e}c=void 0}(this.i=c)&&(c=this.i,k=k!==null&&c in k?k[c]:void 0),this.data=k}else this.data=c}A(bl,nr);function Rl(){To.call(this),this.status=1}A(Rl,To);function lr(c){this.g=c}A(lr,ea),lr.prototype.ua=function(){st(this.g,"a")},lr.prototype.ta=function(c){st(this.g,new bl(c))},lr.prototype.sa=function(c){st(this.g,new Rl)},lr.prototype.ra=function(){st(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,x1=function(){return new Fo},N1=function(){return Fi()},C1=rr,gp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Io.NO_ERROR=0,Io.TIMEOUT=8,Io.HTTP_ERROR=6,Nu=Io,sl.COMPLETE="complete",O1=sl,wo.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",rt.prototype.listen=rt.prototype.K,Ra=wo,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,P1=gt}).apply(typeof Au<"u"?Au:typeof self<"u"?self:typeof window<"u"?window:{});const cy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ks="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new Up("@firebase/firestore");function as(){return mo.logLevel}function Re(r,...e){if(mo.logLevel<=Qe.DEBUG){const t=e.map(zp);mo.debug(`Firestore (${ks}): ${r}`,...t)}}function Ur(r,...e){if(mo.logLevel<=Qe.ERROR){const t=e.map(zp);mo.error(`Firestore (${ks}): ${r}`,...t)}}function vs(r,...e){if(mo.logLevel<=Qe.WARN){const t=e.map(zp);mo.warn(`Firestore (${ks}): ${r}`,...t)}}function zp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(r="Unexpected state"){const e=`FIRESTORE (${ks}) INTERNAL ASSERTION FAILED: `+r;throw Ur(e),new Error(e)}function ot(r,e){r||Fe()}function $e(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Hr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(en.UNAUTHENTICATED))}shutdown(){}}class ZI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class eb{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ot(this.o===void 0);let i=this.i;const o=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let a=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new bi,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await o(this.currentUser)})},f=d=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>f(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new bi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ot(typeof i.accessToken=="string"),new L1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string"),new en(e)}}class tb{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class nb{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new tb(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ib{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ot(this.o===void 0);const i=a=>{a.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,Re("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ot(typeof t.token=="string"),this.R=t.token,new rb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=ob(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function Je(r,e){return r<e?-1:r>e?1:0}function ys(r,e,t){return r.length===e.length&&r.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Lt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Lt(0,0))}static max(){return new ze(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,t,i){t===void 0?t=0:t>e.length&&Fe(),i===void 0?i=e.length-t:i>e.length-t&&Fe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Fa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fa?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),u=t.get(o);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mt extends Fa{construct(e,t,i){return new mt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Oe(ge.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new mt(t)}static emptyPath(){return new mt([])}}const sb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Fa{construct(e,t,i){return new Kt(e,t,i)}static isValidIdentifier(e){return sb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new Oe(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Oe(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[o+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Oe(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(a(),o++)}if(a(),u)throw new Oe(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(mt.fromString(e))}static fromName(e){return new xe(mt.fromString(e).popFirst(5))}static empty(){return new xe(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new mt(e.slice()))}}function ab(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=ze.fromTimestamp(i===1e9?new Lt(t+1,0):new Lt(t,i));return new Pi(o,xe.empty(),e)}function lb(r){return new Pi(r.readTime,r.key,-1)}class Pi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Pi(ze.min(),xe.empty(),-1)}static max(){return new Pi(ze.max(),xe.empty(),-1)}}function ub(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(r.documentKey,e.documentKey),t!==0?t:Je(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(r){if(r.code!==ge.FAILED_PRECONDITION||r.message!==cb)throw r;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,i)=>{t(e)})}static reject(e){return new pe((t,i)=>{i(e)})}static waitFor(e){return new pe((t,i)=>{let o=0,a=0,u=!1;e.forEach(f=>{++o,f.next(()=>{++a,u&&a===o&&t()},d=>i(d))}),u=!0,a===o&&t()})}static or(e){let t=pe.resolve(!1);for(const i of e)t=t.next(o=>o?pe.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new pe((i,o)=>{const a=e.length,u=new Array(a);let f=0;for(let d=0;d<a;d++){const v=d;t(e[v]).next(y=>{u[v]=y,++f,f===a&&i(u)},y=>o(y))}})}static doWhile(e,t){return new pe((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function hb(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Os(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}dc.oe=-1;function pc(r){return r==null}function Wu(r){return r===0&&1/r==-1/0}function db(r){return typeof r=="number"&&Number.isInteger(r)&&!Wu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=fy(e)),e=mb(r.get(t),e);return fy(e)}function mb(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const a=r.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function fy(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Li(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function M1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Su(this.root,e,this.comparator,!1)}getReverseIterator(){return new Su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Su(this.root,e,this.comparator,!0)}}class Su{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Ht.RED,this.left=o??Ht.EMPTY,this.right=a??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Ht(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dy(this.data.getIterator())}getIteratorFrom(e){return new dy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class dy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Rn([])}unionWith(e){let t=new Dt(Kt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Rn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new V1("Invalid base64 string: "+a):a}}(e);return new Wt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Wt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const gb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(r){if(ot(!!r),typeof r=="string"){let e=0;const t=gb.exec(r);if(ot(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:St(r.seconds),nanos:St(r.nanos)}}function St(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ci(r){return typeof r=="string"?Wt.fromBase64String(r):Wt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function mc(r){const e=r.mapValue.fields.__previous_value__;return $p(e)?mc(e):e}function Ua(r){const e=Oi(r.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,t,i,o,a,u,f,d,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=v}}class ja{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ja("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ni(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?$p(r)?4:_b(r)?9007199254740991:yb(r)?10:11:Fe()}function _r(r,e){if(r===e)return!0;const t=Ni(r);if(t!==Ni(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ua(r).isEqual(Ua(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Oi(o.timestampValue),f=Oi(a.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,a){return Ci(o.bytesValue).isEqual(Ci(a.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,a){return St(o.geoPointValue.latitude)===St(a.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(a.geoPointValue.longitude)}(r,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return St(o.integerValue)===St(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=St(o.doubleValue),f=St(a.doubleValue);return u===f?Wu(u)===Wu(f):isNaN(u)&&isNaN(f)}return!1}(r,e);case 9:return ys(r.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},f=a.mapValue.fields||{};if(hy(u)!==hy(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!_r(u[d],f[d])))return!1;return!0}(r,e);default:return Fe()}}function Ba(r,e){return(r.values||[]).find(t=>_r(t,e))!==void 0}function _s(r,e){if(r===e)return 0;const t=Ni(r),i=Ni(e);if(t!==i)return Je(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Je(r.booleanValue,e.booleanValue);case 2:return function(a,u){const f=St(a.integerValue||a.doubleValue),d=St(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1}(r,e);case 3:return py(r.timestampValue,e.timestampValue);case 4:return py(Ua(r),Ua(e));case 5:return Je(r.stringValue,e.stringValue);case 6:return function(a,u){const f=Ci(a),d=Ci(u);return f.compareTo(d)}(r.bytesValue,e.bytesValue);case 7:return function(a,u){const f=a.split("/"),d=u.split("/");for(let v=0;v<f.length&&v<d.length;v++){const y=Je(f[v],d[v]);if(y!==0)return y}return Je(f.length,d.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,u){const f=Je(St(a.latitude),St(u.latitude));return f!==0?f:Je(St(a.longitude),St(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return my(r.arrayValue,e.arrayValue);case 10:return function(a,u){var f,d,v,y;const g=a.fields||{},p=u.fields||{},m=(f=g.value)===null||f===void 0?void 0:f.arrayValue,A=(d=p.value)===null||d===void 0?void 0:d.arrayValue,T=Je(((v=m==null?void 0:m.values)===null||v===void 0?void 0:v.length)||0,((y=A==null?void 0:A.values)===null||y===void 0?void 0:y.length)||0);return T!==0?T:my(m,A)}(r.mapValue,e.mapValue);case 11:return function(a,u){if(a===Iu.mapValue&&u===Iu.mapValue)return 0;if(a===Iu.mapValue)return 1;if(u===Iu.mapValue)return-1;const f=a.fields||{},d=Object.keys(f),v=u.fields||{},y=Object.keys(v);d.sort(),y.sort();for(let g=0;g<d.length&&g<y.length;++g){const p=Je(d[g],y[g]);if(p!==0)return p;const m=_s(f[d[g]],v[y[g]]);if(m!==0)return m}return Je(d.length,y.length)}(r.mapValue,e.mapValue);default:throw Fe()}}function py(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Je(r,e);const t=Oi(r),i=Oi(e),o=Je(t.seconds,i.seconds);return o!==0?o:Je(t.nanos,i.nanos)}function my(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=_s(t[o],i[o]);if(a)return a}return Je(t.length,i.length)}function Es(r){return vp(r)}function vp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const i=Oi(t);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ci(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return xe.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=vp(a);return i+"]"}(r.arrayValue):"mapValue"in r?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${vp(t.fields[u])}`;return o+"}"}(r.mapValue):Fe()}function xu(r){switch(Ni(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mc(r);return e?16+xu(e):16;case 5:return 2*r.stringValue.length;case 6:return Ci(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+xu(a),0)}(r.arrayValue);case 10:case 11:return function(i){let o=0;return Li(i.fields,(a,u)=>{o+=a.length+xu(u)}),o}(r.mapValue);default:throw Fe()}}function gy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function yp(r){return!!r&&"integerValue"in r}function Hp(r){return!!r&&"arrayValue"in r}function vy(r){return!!r&&"nullValue"in r}function yy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lu(r){return!!r&&"mapValue"in r}function yb(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Na(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Li(r.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Na(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Na(r.arrayValue.values[t]);return e}return Object.assign({},r)}function _b(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Lu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Na(t)}setAll(e){let t=Kt.emptyPath(),i={},o=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const d=this.getFieldsMap(t);this.applyChanges(d,i,o),i={},o=[],t=f.popLast()}u?i[f.lastSegment()]=Na(u):o.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Lu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Lu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Li(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new _n(Na(this.value))}}function q1(r){const e=[];return Li(r.fields,(t,i)=>{const o=new Kt([t]);if(Lu(i)){const a=q1(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t,i,o,a,u,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new tn(e,0,ze.min(),ze.min(),ze.min(),_n.empty(),0)}static newFoundDocument(e,t,i,o){return new tn(e,1,t,ze.min(),i,o,0)}static newNoDocument(e,t){return new tn(e,2,t,ze.min(),ze.min(),_n.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,ze.min(),ze.min(),_n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,t){this.position=e,this.inclusive=t}}function _y(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const a=e[o],u=r.position[o];if(a.field.isKeyField()?i=xe.comparator(xe.fromName(u.referenceValue),t.key):i=_s(u,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ey(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!_r(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Eb(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{}class Pt extends F1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Tb(e,t,i):t==="array-contains"?new Ib(e,i):t==="in"?new bb(e,i):t==="not-in"?new Rb(e,i):t==="array-contains-any"?new kb(e,i):new Pt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Ab(e,i):new Sb(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(_s(t,this.value)):t!==null&&Ni(this.value)===Ni(t)&&this.matchesComparison(_s(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends F1{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new tr(e,t)}matches(e){return U1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function U1(r){return r.op==="and"}function j1(r){return wb(r)&&U1(r)}function wb(r){for(const e of r.filters)if(e instanceof tr)return!1;return!0}function _p(r){if(r instanceof Pt)return r.field.canonicalString()+r.op.toString()+Es(r.value);if(j1(r))return r.filters.map(e=>_p(e)).join(",");{const e=r.filters.map(t=>_p(t)).join(",");return`${r.op}(${e})`}}function B1(r,e){return r instanceof Pt?function(i,o){return o instanceof Pt&&i.op===o.op&&i.field.isEqual(o.field)&&_r(i.value,o.value)}(r,e):r instanceof tr?function(i,o){return o instanceof tr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,f)=>a&&B1(u,o.filters[f]),!0):!1}(r,e):void Fe()}function z1(r){return r instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${Es(t.value)}`}(r):r instanceof tr?function(t){return t.op.toString()+" {"+t.getFilters().map(z1).join(" ,")+"}"}(r):"Filter"}class Tb extends Pt{constructor(e,t,i){super(e,t,i),this.key=xe.fromName(i.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ab extends Pt{constructor(e,t){super(e,"in",t),this.keys=$1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Sb extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=$1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $1(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>xe.fromName(i.referenceValue))}class Ib extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hp(t)&&Ba(t.arrayValue,this.value)}}class bb extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ba(this.value.arrayValue,t)}}class Rb extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ba(this.value.arrayValue,t)}}class kb extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ba(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,t=null,i=[],o=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=f,this.ue=null}}function wy(r,e=null,t=[],i=[],o=null,a=null,u=null){return new Pb(r,e,t,i,o,a,u)}function Kp(r){const e=$e(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>_p(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),pc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Es(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Es(i)).join(",")),e.ue=t}return e.ue}function Wp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Eb(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!B1(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ey(r.startAt,e.startAt)&&Ey(r.endAt,e.endAt)}function Ep(r){return xe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,t=null,i=[],o=[],a=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=d,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Ob(r,e,t,i,o,a,u,f){return new Xa(r,e,t,i,o,a,u,f)}function H1(r){return new Xa(r)}function Ty(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function K1(r){return r.collectionGroup!==null}function xa(r){const e=$e(r);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Dt(Kt.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(v=>{v.isInequality()&&(f=f.add(v.field))})}),f})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Qu(a,i))}),t.has(Kt.keyField().canonicalString())||e.ce.push(new Qu(Kt.keyField(),i))}return e.ce}function dr(r){const e=$e(r);return e.le||(e.le=Cb(e,xa(r))),e.le}function Cb(r,e){if(r.limitType==="F")return wy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Qu(o.field,a)});const t=r.endAt?new Gu(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Gu(r.startAt.position,r.startAt.inclusive):null;return wy(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function wp(r,e){const t=r.filters.concat([e]);return new Xa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Tp(r,e,t){return new Xa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function gc(r,e){return Wp(dr(r),dr(e))&&r.limitType===e.limitType}function W1(r){return`${Kp(dr(r))}|lt:${r.limitType}`}function ls(r){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>z1(o)).join(", ")}]`),pc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Es(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Es(o)).join(",")),`Target(${i})`}(dr(r))}; limitType=${r.limitType})`}function vc(r,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):xe.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(r,e)&&function(i,o){for(const a of xa(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(r,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(r,e)&&function(i,o){return!(i.startAt&&!function(u,f,d){const v=_y(u,f,d);return u.inclusive?v<=0:v<0}(i.startAt,xa(i),o)||i.endAt&&!function(u,f,d){const v=_y(u,f,d);return u.inclusive?v>=0:v>0}(i.endAt,xa(i),o))}(r,e)}function Nb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function G1(r){return(e,t)=>{let i=!1;for(const o of xa(r)){const a=xb(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function xb(r,e,t){const i=r.field.isKeyField()?xe.comparator(e.key,t.key):function(a,u,f){const d=u.data.field(a),v=f.data.field(a);return d!==null&&v!==null?_s(d,v):Fe()}(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Li(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return M1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=new Et(xe.comparator);function jr(){return Lb}const Q1=new Et(xe.comparator);function ka(...r){let e=Q1;for(const t of r)e=e.insert(t.key,t);return e}function Y1(r){let e=Q1;return r.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function co(){return La()}function X1(){return La()}function La(){return new yo(r=>r.toString(),(r,e)=>r.isEqual(e))}const Db=new Et(xe.comparator),Mb=new Dt(xe.comparator);function Ye(...r){let e=Mb;for(const t of r)e=e.add(t);return e}const Vb=new Dt(Je);function qb(){return Vb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function J1(r){return{integerValue:""+r}}function Fb(r,e){return db(e)?J1(e):Gp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this._=void 0}}function Ub(r,e,t){return r instanceof Yu?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&$p(a)&&(a=mc(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):r instanceof za?eE(r,e):r instanceof $a?tE(r,e):function(o,a){const u=Z1(o,a),f=Ay(u)+Ay(o.Pe);return yp(u)&&yp(o.Pe)?J1(f):Gp(o.serializer,f)}(r,e)}function jb(r,e,t){return r instanceof za?eE(r,e):r instanceof $a?tE(r,e):t}function Z1(r,e){return r instanceof Xu?function(i){return yp(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Yu extends yc{}class za extends yc{constructor(e){super(),this.elements=e}}function eE(r,e){const t=nE(e);for(const i of r.elements)t.some(o=>_r(o,i))||t.push(i);return{arrayValue:{values:t}}}class $a extends yc{constructor(e){super(),this.elements=e}}function tE(r,e){let t=nE(e);for(const i of r.elements)t=t.filter(o=>!_r(o,i));return{arrayValue:{values:t}}}class Xu extends yc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Ay(r){return St(r.integerValue||r.doubleValue)}function nE(r){return Hp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Bb(r,e){return r.field.isEqual(e.field)&&function(i,o){return i instanceof za&&o instanceof za||i instanceof $a&&o instanceof $a?ys(i.elements,o.elements,_r):i instanceof Xu&&o instanceof Xu?_r(i.Pe,o.Pe):i instanceof Yu&&o instanceof Yu}(r.transform,e.transform)}class zb{constructor(e,t){this.version=e,this.transformResults=t}}class pr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Du(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class _c{}function rE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new oE(r.key,pr.none()):new Ja(r.key,r.data,pr.none());{const t=r.data,i=_n.empty();let o=new Dt(Kt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new Di(r.key,i,new Rn(o.toArray()),pr.none())}}function $b(r,e,t){r instanceof Ja?function(o,a,u){const f=o.value.clone(),d=Iy(o.fieldTransforms,a,u.transformResults);f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Di?function(o,a,u){if(!Du(o.precondition,a))return void a.convertToUnknownDocument(u.version);const f=Iy(o.fieldTransforms,a,u.transformResults),d=a.data;d.setAll(iE(o)),d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(r,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Da(r,e,t,i){return r instanceof Ja?function(a,u,f,d){if(!Du(a.precondition,u))return f;const v=a.value.clone(),y=by(a.fieldTransforms,d,u);return v.setAll(y),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),null}(r,e,t,i):r instanceof Di?function(a,u,f,d){if(!Du(a.precondition,u))return f;const v=by(a.fieldTransforms,d,u),y=u.data;return y.setAll(iE(a)),y.setAll(v),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(g=>g.field))}(r,e,t,i):function(a,u,f){return Du(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(r,e,t)}function Hb(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),a=Z1(i.transform,o||null);a!=null&&(t===null&&(t=_n.empty()),t.set(i.field,a))}return t||null}function Sy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ys(i,o,(a,u)=>Bb(a,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ja extends _c{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Di extends _c{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function iE(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}}),e}function Iy(r,e,t){const i=new Map;ot(r.length===t.length);for(let o=0;o<t.length;o++){const a=r[o],u=a.transform,f=e.data.field(a.field);i.set(a.field,jb(u,f,t[o]))}return i}function by(r,e,t){const i=new Map;for(const o of r){const a=o.transform,u=t.data.field(o.field);i.set(o.field,Ub(a,u,e))}return i}class oE extends _c{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kb extends _c{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&$b(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Da(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Da(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=X1();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(o.key)?null:f;const d=rE(u,f);d!==null&&i.set(o.key,d),u.isValidDocument()||u.convertToNoDocument(ze.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ye())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(t,i)=>Sy(t,i))&&ys(this.baseMutations,e.baseMutations,(t,i)=>Sy(t,i))}}class Qp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){ot(e.mutations.length===i.length);let o=function(){return Db}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new Qp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,et;function Yb(r){switch(r){default:return Fe();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function sE(r){if(r===void 0)return Ur("GRPC error has no .code"),ge.UNKNOWN;switch(r){case kt.OK:return ge.OK;case kt.CANCELLED:return ge.CANCELLED;case kt.UNKNOWN:return ge.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ge.INTERNAL;case kt.UNAVAILABLE:return ge.UNAVAILABLE;case kt.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case kt.NOT_FOUND:return ge.NOT_FOUND;case kt.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case kt.ABORTED:return ge.ABORTED;case kt.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case kt.DATA_LOSS:return ge.DATA_LOSS;default:return Fe()}}(et=kt||(kt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=new fo([4294967295,4294967295],0);function Ry(r){const e=Xb().encode(r),t=new k1;return t.update(e),new Uint8Array(t.digest())}function ky(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new fo([t,i],0),new fo([o,a],0)]}class Yp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Pa(`Invalid padding: ${t}`);if(i<0)throw new Pa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Pa(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Pa(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=fo.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(fo.fromNumber(i)));return o.compare(Jb)===1&&(o=new fo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Ry(e),[i,o]=ky(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);if(!this.de(u))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Yp(a,o,t);return i.forEach(f=>u.insert(f)),u}insert(e){if(this.Te===0)return;const t=Ry(e),[i,o]=ky(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(i,o,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Pa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Za.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ec(ze.min(),o,new Et(Je),jr(),Ye())}}class Za{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Za(i,t,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class aE{constructor(e,t){this.targetId=e,this.me=t}}class lE{constructor(e,t,i=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Py{constructor(){this.fe=0,this.ge=Oy(),this.pe=Wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ye(),t=Ye(),i=Ye();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Fe()}}),new Za(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Oy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ot(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Zb{constructor(e){this.Le=e,this.Be=new Map,this.ke=jr(),this.qe=bu(),this.Qe=bu(),this.Ke=new Et(Je)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Fe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(Ep(a))if(i===0){const u=new xe(a.path);this.We(t,u,tn.newNoDocument(u,ze.min()))}else ot(i===1);else{const u=this.Ze(t);if(u!==i){const f=this.Xe(e),d=f?this.et(f,e,u):1;if(d!==0){this.He(t);const v=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,v)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let u,f;try{u=Ci(i).toUint8Array()}catch(d){if(d instanceof V1)return vs("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new Yp(u,o,a)}catch(d){return vs(d instanceof Pa?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.Te===0?null:f}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const u=this.Le.nt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(f)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,u)=>{const f=this.Ye(u);if(f){if(a.current&&Ep(f.target)){const d=new xe(f.target.path);this.st(d).has(u)||this.ot(u,d)||this.We(u,d,tn.newNoDocument(d,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let i=Ye();this.Qe.forEach((a,u)=>{let f=!0;u.forEachWhile(d=>{const v=this.Ye(d);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const o=new Ec(e,t,this.Ke,this.ke,i);return this.ke=jr(),this.qe=bu(),this.Qe=bu(),this.Ke=new Et(Je),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Py,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Dt(Je),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Dt(Je),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Py),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function bu(){return new Et(xe.comparator)}function Oy(){return new Et(xe.comparator)}const eR={asc:"ASCENDING",desc:"DESCENDING"},tR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nR={and:"AND",or:"OR"};class rR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ap(r,e){return r.useProto3Json||pc(e)?e:{value:e}}function Ju(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function iR(r,e){return Ju(r,e.toTimestamp())}function mr(r){return ot(!!r),ze.fromTimestamp(function(t){const i=Oi(t);return new Lt(i.seconds,i.nanos)}(r))}function Xp(r,e){return Sp(r,e).canonicalString()}function Sp(r,e){const t=function(o){return new mt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function cE(r){const e=mt.fromString(r);return ot(mE(e)),e}function Ip(r,e){return Xp(r.databaseId,e.path)}function Ah(r,e){const t=cE(e);if(t.get(1)!==r.databaseId.projectId)throw new Oe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Oe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new xe(hE(t))}function fE(r,e){return Xp(r.databaseId,e)}function oR(r){const e=cE(r);return e.length===4?mt.emptyPath():hE(e)}function bp(r){return new mt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function hE(r){return ot(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Cy(r,e,t){return{name:Ip(r,e),fields:t.value.mapValue.fields}}function sR(r,e){let t;if("targetChange"in e){e.targetChange;const i=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(v,y){return v.useProto3Json?(ot(y===void 0||typeof y=="string"),Wt.fromBase64String(y||"")):(ot(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Wt.fromUint8Array(y||new Uint8Array))}(r,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(v){const y=v.code===void 0?ge.UNKNOWN:sE(v.code);return new Oe(y,v.message||"")}(u);t=new lE(i,o,a,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Ah(r,i.document.name),a=mr(i.document.updateTime),u=i.document.createTime?mr(i.document.createTime):ze.min(),f=new _n({mapValue:{fields:i.document.fields}}),d=tn.newFoundDocument(o,a,u,f),v=i.targetIds||[],y=i.removedTargetIds||[];t=new Mu(v,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Ah(r,i.document),a=i.readTime?mr(i.readTime):ze.min(),u=tn.newNoDocument(o,a),f=i.removedTargetIds||[];t=new Mu([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Ah(r,i.document),a=i.removedTargetIds||[];t=new Mu([],a,o,null)}else{if(!("filter"in e))return Fe();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new Qb(o,a),f=i.targetId;t=new aE(f,u)}}return t}function aR(r,e){let t;if(e instanceof Ja)t={update:Cy(r,e.key,e.value)};else if(e instanceof oE)t={delete:Ip(r,e.key)};else if(e instanceof Di)t={update:Cy(r,e.key,e.data),updateMask:gR(e.fieldMask)};else{if(!(e instanceof Kb))return Fe();t={verify:Ip(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const f=u.transform;if(f instanceof Yu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof za)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof $a)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Xu)return{fieldPath:u.field.canonicalString(),increment:f.Pe};throw Fe()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:iR(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe()}(r,e.precondition)),t}function lR(r,e){return r&&r.length>0?(ot(e!==void 0),r.map(t=>function(o,a){let u=o.updateTime?mr(o.updateTime):mr(a);return u.isEqual(ze.min())&&(u=mr(a)),new zb(u,o.transformResults||[])}(t,e))):[]}function uR(r,e){return{documents:[fE(r,e.path)]}}function cR(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=fE(r,o);const a=function(v){if(v.length!==0)return pE(tr.create(v,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(v){if(v.length!==0)return v.map(y=>function(p){return{field:us(p.field),direction:dR(p.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Ap(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:t,parent:o}}function fR(r){let e=oR(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){ot(i===1);const y=t.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(g){const p=dE(g);return p instanceof tr&&j1(p)?p.getFilters():[p]}(t.where));let u=[];t.orderBy&&(u=function(g){return g.map(p=>function(A){return new Qu(cs(A.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(p))}(t.orderBy));let f=null;t.limit&&(f=function(g){let p;return p=typeof g=="object"?g.value:g,pc(p)?null:p}(t.limit));let d=null;t.startAt&&(d=function(g){const p=!!g.before,m=g.values||[];return new Gu(m,p)}(t.startAt));let v=null;return t.endAt&&(v=function(g){const p=!g.before,m=g.values||[];return new Gu(m,p)}(t.endAt)),Ob(e,o,u,a,f,"F",d,v)}function hR(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dE(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=cs(t.unaryFilter.field);return Pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=cs(t.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=cs(t.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=cs(t.unaryFilter.field);return Pt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(r):r.fieldFilter!==void 0?function(t){return Pt.create(cs(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return tr.create(t.compositeFilter.filters.map(i=>dE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Fe()}}(t.compositeFilter.op))}(r):Fe()}function dR(r){return eR[r]}function pR(r){return tR[r]}function mR(r){return nR[r]}function us(r){return{fieldPath:r.canonicalString()}}function cs(r){return Kt.fromServerFormat(r.fieldPath)}function pE(r){return r instanceof Pt?function(t){if(t.op==="=="){if(yy(t.value))return{unaryFilter:{field:us(t.field),op:"IS_NAN"}};if(vy(t.value))return{unaryFilter:{field:us(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(yy(t.value))return{unaryFilter:{field:us(t.field),op:"IS_NOT_NAN"}};if(vy(t.value))return{unaryFilter:{field:us(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(t.field),op:pR(t.op),value:t.value}}}(r):r instanceof tr?function(t){const i=t.getFilters().map(o=>pE(o));return i.length===1?i[0]:{compositeFilter:{op:mR(t.op),filters:i}}}(r):Fe()}function gR(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,t,i,o,a=ze.min(),u=ze.min(),f=Wt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new Ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.ht=e}}function yR(r){const e=fR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Tp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.ln=new ER}addToCollectionParentIndex(e,t){return this.ln.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(Pi.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(Pi.min())}updateCollectionGroup(e,t,i){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class ER{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Dt(mt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Dt(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ws(0)}static Qn(){return new ws(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy([r,e],[t,i]){const o=Je(r,t);return o===0?Je(e,i):o}class wR{constructor(e){this.Gn=e,this.buffer=new Dt(xy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();xy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class TR{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Os(t)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ps(t)}await this.Yn(3e5)})}}class AR{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return pe.resolve(dc.oe);const i=new wR(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(Ny)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ny):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,a,u,f,d,v;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),o=this.params.maximumSequenceNumbersToCollect):o=g,u=Date.now(),this.nthSequenceNumber(e,o))).next(g=>(i=g,f=Date.now(),this.removeTargets(e,i,t))).next(g=>(a=g,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(g=>(v=Date.now(),as()<=Qe.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${a} targets in `+(d-f)+`ms
	Removed ${g} documents in `+(v-d)+`ms
Total Duration: ${v-y}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:g})))}}function SR(r,e){return new AR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.changes=new yo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?pe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Da(i.mutation,o,Rn.empty(),Lt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ye()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ye()){const o=co();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let u=ka();return a.forEach((f,d)=>{u=u.insert(f,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=co();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ye()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,o){let a=jr();const u=La(),f=function(){return La()}();return t.forEach((d,v)=>{const y=i.get(v.key);o.has(v.key)&&(y===void 0||y.mutation instanceof Di)?a=a.insert(v.key,v):y!==void 0?(u.set(v.key,y.mutation.getFieldMask()),Da(y.mutation,v,y.mutation.getFieldMask(),Lt.now())):u.set(v.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((v,y)=>u.set(v,y)),t.forEach((v,y)=>{var g;return f.set(v,new bR(y,(g=u.get(v))!==null&&g!==void 0?g:null))}),f))}recalculateAndSaveOverlays(e,t){const i=La();let o=new Et((u,f)=>u-f),a=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(d=>{const v=t.get(d);if(v===null)return;let y=i.get(d)||Rn.empty();y=f.applyToLocalView(v,y),i.set(d,y);const g=(o.get(f.batchId)||Ye()).add(d);o=o.insert(f.batchId,g)})}).next(()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),v=d.key,y=d.value,g=X1();y.forEach(p=>{if(!a.has(p)){const m=rE(t.get(p),i.get(p));m!==null&&g.set(p,m),a=a.add(p)}}),u.push(this.documentOverlayCache.saveOverlays(e,v,g))}return pe.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(u){return xe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):K1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):pe.resolve(co());let f=-1,d=a;return u.next(v=>pe.forEach(v,(y,g)=>(f<g.largestBatchId&&(f=g.largestBatchId),a.get(y)?pe.resolve():this.remoteDocumentCache.getEntry(e,y).next(p=>{d=d.insert(y,p)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,d,v,Ye())).next(y=>({batchId:f,changes:Y1(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next(i=>{let o=ka();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let u=ka();return this.indexManager.getCollectionParents(e,a).next(f=>pe.forEach(f,d=>{const v=function(g,p){return new Xa(p,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,v,i,o).next(y=>{y.forEach((g,p)=>{u=u.insert(g,p)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(u=>{a.forEach((d,v)=>{const y=v.getKey();u.get(y)===null&&(u=u.insert(y,tn.newInvalidDocument(y)))});let f=ka();return u.forEach((d,v)=>{const y=a.get(d);y!==void 0&&Da(y.mutation,v,Rn.empty(),Lt.now()),vc(t,v)&&(f=f.insert(d,v))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return pe.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:mr(o.createTime)}}(t)),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:yR(o.bundledQuery),readTime:mr(o.readTime)}}(t)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.overlays=new Et(xe.comparator),this.Er=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=co();return pe.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Tt(e,t,a)}),pe.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),pe.resolve()}getOverlaysForCollection(e,t,i){const o=co(),a=t.length+1,u=new xe(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,v=d.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&d.largestBatchId>i&&o.set(d.getKey(),d)}return pe.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new Et((v,y)=>v-y);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let y=a.get(v.largestBatchId);y===null&&(y=co(),a=a.insert(v.largestBatchId,y)),y.set(v.getKey(),v)}}const f=co(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((v,y)=>f.set(v,y)),!(f.size()>=o)););return pe.resolve(f)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Gb(t,i));let a=this.Er.get(t);a===void 0&&(a=Ye(),this.Er.set(t,a)),this.Er.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this.dr=new Dt(Ut.Ar),this.Rr=new Dt(Ut.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Ut(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Ut(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new xe(new mt([])),i=new Ut(t,e),o=new Ut(t,e+1),a=[];return this.Rr.forEachInRange([i,o],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new xe(new mt([])),i=new Ut(t,e),o=new Ut(t,e+1);let a=Ye();return this.Rr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ut(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ut{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return xe.comparator(e.key,t.key)||Je(e.br,t.br)}static Vr(e,t){return Je(e.br,t.br)||xe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Dt(Ut.Ar)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Wb(a,t,i,o);this.mutationQueue.push(u);for(const f of o)this.vr=this.vr.add(new Ut(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return pe.resolve(u)}lookupMutationBatch(e,t){return pe.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),a=o<0?0:o;return pe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ut(t,0),o=new Ut(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],u=>{const f=this.Cr(u.br);a.push(f)}),pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Dt(Je);return t.forEach(o=>{const a=new Ut(o,0),u=new Ut(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],f=>{i=i.add(f.br)})}),pe.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;xe.isDocumentKey(a)||(a=a.child(""));const u=new Ut(new xe(a),0);let f=new Dt(Je);return this.vr.forEachWhile(d=>{const v=d.key.path;return!!i.isPrefixOf(v)&&(v.length===o&&(f=f.add(d.br)),!0)},u),pe.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ot(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return pe.forEach(t.mutations,o=>{const a=new Ut(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Ut(t,0),o=this.vr.firstAfterOrEqual(i);return pe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.Nr=e,this.docs=function(){return new Et(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,u=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return pe.resolve(i?i.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let i=jr();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():tn.newInvalidDocument(o))}),pe.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=jr();const u=t.path,f=new xe(u.child("")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:v,value:{document:y}}=d.getNext();if(!u.isPrefixOf(v.path))break;v.path.length>u.length+1||ub(lb(y),i)<=0||(o.has(y.key)||vc(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return pe.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Fe()}Lr(e,t){return pe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new xR(this)}getSize(e){return pe.resolve(this.size)}}class xR extends IR{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),pe.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.persistence=e,this.Br=new yo(t=>Kp(t),Wp),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.kr=0,this.qr=new Jp,this.targetCount=0,this.Qr=ws.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),pe.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ws(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.Un(t),pe.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Br.forEach((u,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),pe.waitFor(a).next(()=>o)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return pe.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),pe.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),pe.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return pe.resolve(i)}containsKey(e,t){return pe.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,t){this.Kr={},this.overlays={},this.$r=new dc(0),this.Ur=!1,this.Ur=!0,this.Wr=new OR,this.referenceDelegate=e(this),this.Gr=new LR(this),this.indexManager=new _R,this.remoteDocumentCache=function(o){return new NR(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new vR(t),this.jr=new kR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new CR(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){Re("MemoryPersistence","Starting transaction:",e);const o=new DR(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return pe.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class DR extends fb{constructor(e){super(),this.currentSequenceNumber=e}}class Zp{constructor(e){this.persistence=e,this.Zr=new Jp,this.Xr=null}static ei(e){return new Zp(e)}get ti(){if(this.Xr)return this.Xr;throw Fe()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),pe.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.ti,i=>{const o=xe.fromPath(i);return this.ni(e,o).next(a=>{a||t.removeEntry(o,ze.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return pe.or([()=>pe.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Zu{constructor(e,t){this.persistence=e,this.ri=new yo(i=>pb(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=SR(this,t)}static ei(e,t){return new Zu(e,t)}Hr(){}Jr(e){return pe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return pe.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?pe.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,u=>this.ir(e,u,t).next(f=>{f||(i++,a.removeEntry(u,ze.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),pe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),pe.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),pe.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xu(e.data.value)),t}ir(e,t,i){return pe.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return pe.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=Ye(),o=Ye();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new em(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return xS()?8:hb(nn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new MR;return this.ts(e,t,u).next(f=>{if(a.result=f,this.Hi)return this.ns(e,t,u,f.size)})}).next(()=>a.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(as()<=Qe.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",ls(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),pe.resolve()):(as()<=Qe.DEBUG&&Re("QueryEngine","Query:",ls(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(as()<=Qe.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",ls(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(t))):pe.resolve())}Xi(e,t){if(Ty(t))return pe.resolve(null);let i=dr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Tp(t,null,"F"),i=dr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Ye(...a);return this.Zi.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(d=>{const v=this.rs(t,f);return this.ss(t,v,u,d.readTime)?this.Xi(e,Tp(t,null,"F")):this.os(e,v,t,d)}))})))}es(e,t,i,o){return Ty(t)||o.isEqual(ze.min())?pe.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const u=this.rs(t,a);return this.ss(t,u,i,o)?pe.resolve(null):(as()<=Qe.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ls(t)),this.os(e,u,t,ab(o,-1)).next(f=>f))})}rs(e,t){let i=new Dt(G1(e));return t.forEach((o,a)=>{vc(e,a)&&(i=i.add(a))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,i){return as()<=Qe.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",ls(t)),this.Zi.getDocumentsMatchingQuery(e,t,Pi.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new Et(Je),this.cs=new yo(a=>Kp(a),Wp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RR(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function FR(r,e,t,i){return new qR(r,e,t,i)}async function vE(r,e){const t=$e(r);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let d=Ye();for(const v of o){u.push(v.batchId);for(const y of v.mutations)d=d.add(y.key)}for(const v of a){f.push(v.batchId);for(const y of v.mutations)d=d.add(y.key)}return t.localDocuments.getDocuments(i,d).next(v=>({Ts:v,removedBatchIds:u,addedBatchIds:f}))})})}function UR(r,e){const t=$e(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,d,v,y){const g=v.batch,p=g.keys();let m=pe.resolve();return p.forEach(A=>{m=m.next(()=>y.getEntry(d,A)).next(T=>{const E=v.docVersions.get(A);ot(E!==null),T.version.compareTo(E)<0&&(g.applyToRemoteDocument(T,v),T.isValidDocument()&&(T.setReadTime(v.commitVersion),y.addEntry(T)))})}),m.next(()=>f.mutationQueue.removeMutationBatch(d,g))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let d=Ye();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(d=d.add(f.batch.mutations[v].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function yE(r){const e=$e(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function jR(r,e){const t=$e(r),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((y,g)=>{const p=o.get(g);if(!p)return;f.push(t.Gr.removeMatchingKeys(a,y.removedDocuments,g).next(()=>t.Gr.addMatchingKeys(a,y.addedDocuments,g)));let m=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?m=m.withResumeToken(Wt.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):y.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(y.resumeToken,i)),o=o.insert(g,m),function(T,E,_){return T.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,y)&&f.push(t.Gr.updateTargetData(a,m))});let d=jr(),v=Ye();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),f.push(BR(a,u,e.documentUpdates).next(y=>{d=y.Is,v=y.Es})),!i.isEqual(ze.min())){const y=t.Gr.getLastRemoteSnapshotVersion(a).next(g=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(y)}return pe.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,v)).next(()=>d)}).then(a=>(t.us=o,a))}function BR(r,e,t){let i=Ye(),o=Ye();return t.forEach(a=>i=i.add(a)),e.getEntries(r,i).next(a=>{let u=jr();return t.forEach((f,d)=>{const v=a.get(f);d.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),d.isNoDocument()&&d.version.isEqual(ze.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!v.isValidDocument()||d.version.compareTo(v.version)>0||d.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):Re("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",d.version)}),{Is:u,Es:o}})}function zR(r,e){const t=$e(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function $R(r,e){const t=$e(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(a=>a?(o=a,pe.resolve(o)):t.Gr.allocateTargetId(i).next(u=>(o=new Ti(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Rp(r,e,t){const i=$e(r),o=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Os(u))throw u;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Ly(r,e,t){const i=$e(r);let o=ze.min(),a=Ye();return i.persistence.runTransaction("Execute query","readwrite",u=>function(d,v,y){const g=$e(d),p=g.cs.get(y);return p!==void 0?pe.resolve(g.us.get(p)):g.Gr.getTargetData(v,y)}(i,u,dr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(u,f.targetId).next(d=>{a=d})}).next(()=>i._s.getDocumentsMatchingQuery(u,e,t?o:ze.min(),t?a:Ye())).next(f=>(HR(i,Nb(e),f),{documents:f,ds:a})))}function HR(r,e,t){let i=r.ls.get(e)||ze.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),r.ls.set(e,i)}class Dy{constructor(){this.activeTargetIds=qb()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KR{constructor(){this._o=new Dy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Dy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru=null;function Sh(){return Ru===null?Ru=function(){return 268435456+Math.round(2147483648*Math.random())}():Ru++,"0x"+Ru.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class YR extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,i,o,a,u){const f=Sh(),d=this.No(t,i.toUriEncodedString());Re("RestConnection",`Sending RPC '${t}' ${f}:`,d,o);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(v,a,u),this.Bo(t,d,v,o).then(y=>(Re("RestConnection",`Received RPC '${t}' ${f}: `,y),y),y=>{throw vs("RestConnection",`RPC '${t}' ${f} failed with error: `,y,"url: ",d,"request:",o),y})}ko(t,i,o,a,u,f){return this.Oo(t,i,o,a,u)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ks}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,u)=>t[u]=a),o&&o.headers.forEach((a,u)=>t[u]=a)}No(t,i){const o=GR[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const a=Sh();return new Promise((u,f)=>{const d=new P1;d.setWithCredentials(!0),d.listenOnce(O1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Nu.NO_ERROR:const y=d.getResponseJson();Re(Zt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),u(y);break;case Nu.TIMEOUT:Re(Zt,`RPC '${e}' ${a} timed out`),f(new Oe(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Nu.HTTP_ERROR:const g=d.getStatus();if(Re(Zt,`RPC '${e}' ${a} failed with status:`,g,"response text:",d.getResponseText()),g>0){let p=d.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const A=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(_)>=0?_:ge.UNKNOWN}(m.status);f(new Oe(A,m.message))}else f(new Oe(ge.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new Oe(ge.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{Re(Zt,`RPC '${e}' ${a} completed.`)}});const v=JSON.stringify(o);Re(Zt,`RPC '${e}' ${a} sending request:`,o),d.send(t,"POST",v,i,15)})}qo(e,t,i){const o=Sh(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=x1(),f=N1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(d.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Lo(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const y=a.join("");Re(Zt,`Creating RPC '${e}' stream ${o}: ${y}`,d);const g=u.createWebChannel(y,d);let p=!1,m=!1;const A=new QR({Eo:E=>{m?Re(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,E):(p||(Re(Zt,`Opening RPC '${e}' stream ${o} transport.`),g.open(),p=!0),Re(Zt,`RPC '${e}' stream ${o} sending:`,E),g.send(E))},Ao:()=>g.close()}),T=(E,_,S)=>{E.listen(_,N=>{try{S(N)}catch(I){setTimeout(()=>{throw I},0)}})};return T(g,Ra.EventType.OPEN,()=>{m||(Re(Zt,`RPC '${e}' stream ${o} transport opened.`),A.So())}),T(g,Ra.EventType.CLOSE,()=>{m||(m=!0,Re(Zt,`RPC '${e}' stream ${o} transport closed`),A.Do())}),T(g,Ra.EventType.ERROR,E=>{m||(m=!0,vs(Zt,`RPC '${e}' stream ${o} transport errored:`,E),A.Do(new Oe(ge.UNAVAILABLE,"The operation could not be completed")))}),T(g,Ra.EventType.MESSAGE,E=>{var _;if(!m){const S=E.data[0];ot(!!S);const N=S,I=(N==null?void 0:N.error)||((_=N[0])===null||_===void 0?void 0:_.error);if(I){Re(Zt,`RPC '${e}' stream ${o} received error:`,I);const M=I.status;let F=function(D){const C=kt[D];if(C!==void 0)return sE(C)}(M),O=I.message;F===void 0&&(F=ge.INTERNAL,O="Unknown error status: "+M+" with message "+I.message),m=!0,A.Do(new Oe(F,O)),g.close()}else Re(Zt,`RPC '${e}' stream ${o} received:`,S),A.vo(S)}}),T(f,C1.STAT_EVENT,E=>{E.stat===gp.PROXY?Re(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):E.stat===gp.NOPROXY&&Re(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{A.bo()},0),A}}function Ih(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(r){return new rR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,t,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&Re("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,t,i,o,a,u,f,d){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new _E(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(Ur(t.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new Oe(ge.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XR extends EE{constructor(e,t,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=sR(this.serializer,e),i=function(a){if(!("targetChange"in a))return ze.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?ze.min():u.readTime?mr(u.readTime):ze.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=bp(this.serializer),t.addTarget=function(a,u){let f;const d=u.target;if(f=Ep(d)?{documents:uR(a,d)}:{query:cR(a,d).ct},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=uE(a,u.resumeToken);const v=Ap(a,u.expectedCount);v!==null&&(f.expectedCount=v)}else if(u.snapshotVersion.compareTo(ze.min())>0){f.readTime=Ju(a,u.snapshotVersion.toTimestamp());const v=Ap(a,u.expectedCount);v!==null&&(f.expectedCount=v)}return f}(this.serializer,e);const i=hR(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=bp(this.serializer),t.removeTarget=e,this.c_(t)}}class JR extends EE{constructor(e,t,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return ot(!!e.streamToken),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=lR(e.writeResults,e.commitTime),i=mr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=bp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>aR(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new Oe(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,Sp(t,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(ge.UNKNOWN,a.toString())})}ko(e,t,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.ko(e,Sp(t,i),o,u,f,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Oe(ge.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class ek{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ur(t),this.C_=!1):Re("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{i.enqueueAndForget(async()=>{_o(this)&&(Re("RemoteStore","Restarting streams for network reachability change."),await async function(d){const v=$e(d);v.k_.add(4),await el(v),v.K_.set("Unknown"),v.k_.delete(4),await Tc(v)}(this))})}),this.K_=new ek(i,o)}}async function Tc(r){if(_o(r))for(const e of r.q_)await e(!0)}async function el(r){for(const e of r.q_)await e(!1)}function wE(r,e){const t=$e(r);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),im(t)?rm(t):Cs(t).s_()&&nm(t,e))}function tm(r,e){const t=$e(r),i=Cs(t);t.B_.delete(e),i.s_()&&TE(t,e),t.B_.size===0&&(i.s_()?i.a_():_o(t)&&t.K_.set("Unknown"))}function nm(r,e){if(r.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Cs(r).V_(e)}function TE(r,e){r.U_.xe(e),Cs(r).m_(e)}function rm(r){r.U_=new Zb({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>r.B_.get(e)||null,nt:()=>r.datastore.serializer.databaseId}),Cs(r).start(),r.K_.F_()}function im(r){return _o(r)&&!Cs(r).i_()&&r.B_.size>0}function _o(r){return $e(r).k_.size===0}function AE(r){r.U_=void 0}async function nk(r){r.K_.set("Online")}async function rk(r){r.B_.forEach((e,t)=>{nm(r,e)})}async function ik(r,e){AE(r),im(r)?(r.K_.O_(e),rm(r)):r.K_.set("Unknown")}async function ok(r,e,t){if(r.K_.set("Online"),e instanceof lE&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const f of a.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.B_.delete(f),o.U_.removeTarget(f))}(r,e)}catch(i){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ec(r,i)}else if(e instanceof Mu?r.U_.$e(e):e instanceof aE?r.U_.Je(e):r.U_.Ge(e),!t.isEqual(ze.min()))try{const i=await yE(r.localStore);t.compareTo(i)>=0&&await function(a,u){const f=a.U_.it(u);return f.targetChanges.forEach((d,v)=>{if(d.resumeToken.approximateByteSize()>0){const y=a.B_.get(v);y&&a.B_.set(v,y.withResumeToken(d.resumeToken,u))}}),f.targetMismatches.forEach((d,v)=>{const y=a.B_.get(d);if(!y)return;a.B_.set(d,y.withResumeToken(Wt.EMPTY_BYTE_STRING,y.snapshotVersion)),TE(a,d);const g=new Ti(y.target,d,v,y.sequenceNumber);nm(a,g)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(i){Re("RemoteStore","Failed to raise snapshot:",i),await ec(r,i)}}async function ec(r,e,t){if(!Os(e))throw e;r.k_.add(1),await el(r),r.K_.set("Offline"),t||(t=()=>yE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Re("RemoteStore","Retrying IndexedDB access"),await t(),r.k_.delete(1),await Tc(r)})}function SE(r,e){return e().catch(t=>ec(r,t,e))}async function Ac(r){const e=$e(r),t=xi(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;sk(e);)try{const o=await zR(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,ak(e,o)}catch(o){await ec(e,o)}IE(e)&&bE(e)}function sk(r){return _o(r)&&r.L_.length<10}function ak(r,e){r.L_.push(e);const t=xi(r);t.s_()&&t.f_&&t.g_(e.mutations)}function IE(r){return _o(r)&&!xi(r).i_()&&r.L_.length>0}function bE(r){xi(r).start()}async function lk(r){xi(r).w_()}async function uk(r){const e=xi(r);for(const t of r.L_)e.g_(t.mutations)}async function ck(r,e,t){const i=r.L_.shift(),o=Qp.from(i,e,t);await SE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Ac(r)}async function fk(r,e){e&&xi(r).f_&&await async function(i,o){if(function(u){return Yb(u)&&u!==ge.ABORTED}(o.code)){const a=i.L_.shift();xi(i).__(),await SE(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Ac(i)}}(r,e),IE(r)&&bE(r)}async function Vy(r,e){const t=$e(r);t.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const i=_o(t);t.k_.add(3),await el(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Tc(t)}async function hk(r,e){const t=$e(r);e?(t.k_.delete(2),await Tc(t)):e||(t.k_.add(2),await el(t),t.K_.set("Unknown"))}function Cs(r){return r.W_||(r.W_=function(t,i,o){const a=$e(t);return a.b_(),new XR(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{Ro:nk.bind(null,r),mo:rk.bind(null,r),po:ik.bind(null,r),R_:ok.bind(null,r)}),r.q_.push(async e=>{e?(r.W_.__(),im(r)?rm(r):r.K_.set("Unknown")):(await r.W_.stop(),AE(r))})),r.W_}function xi(r){return r.G_||(r.G_=function(t,i,o){const a=$e(t);return a.b_(),new JR(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(r.datastore,r.asyncQueue,{Ro:()=>Promise.resolve(),mo:lk.bind(null,r),po:fk.bind(null,r),p_:uk.bind(null,r),y_:ck.bind(null,r)}),r.q_.push(async e=>{e?(r.G_.__(),await Ac(r)):(await r.G_.stop(),r.L_.length>0&&(Re("RemoteStore",`Stopping write stream with ${r.L_.length} pending writes`),r.L_=[]))})),r.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const u=Date.now()+i,f=new om(e,t,u,o,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Oe(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sm(r,e){if(Ur("AsyncQueue",`${e}: ${r}`),Os(r))return new Oe(ge.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{static emptySet(e){return new hs(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||xe.comparator(t.key,i.key):(t,i)=>xe.comparator(t.key,i.key),this.keyedMap=ka(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof hs)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new hs;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(){this.z_=new Et(xe.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Fe():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Ts{constructor(e,t,i,o,a,u,f,d,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,o,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Ts(e,t,hs.emptySet(t),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class pk{constructor(){this.queries=Fy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=$e(t),a=o.queries;o.queries=Fy(),a.forEach((u,f)=>{for(const d of f.J_)d.onError(i)})})(this,new Oe(ge.ABORTED,"Firestore shutting down"))}}function Fy(){return new yo(r=>W1(r),gc)}async function mk(r,e){const t=$e(r);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new dk,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const f=sm(u,`Initialization of query '${ls(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&am(t)}async function gk(r,e){const t=$e(r),i=e.query;let o=3;const a=t.queries.get(i);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function vk(r,e){const t=$e(r);let i=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const f of u.J_)f.ta(o)&&(i=!0);u.H_=o}}i&&am(t)}function yk(r,e,t){const i=$e(r),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(t);i.queries.delete(e)}function am(r){r.X_.forEach(e=>{e.next()})}var kp,Uy;(Uy=kp||(kp={})).na="default",Uy.Cache="cache";class _k{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Ts(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Ts.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==kp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.key=e}}class kE{constructor(e){this.key=e}}class Ek{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ye(),this.mutatedKeys=Ye(),this.Va=G1(e),this.ma=new hs(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new qy,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,f=!1;const d=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((y,g)=>{const p=o.get(y),m=vc(this.query,g)?g:null,A=!!p&&this.mutatedKeys.has(p.key),T=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;p&&m?p.data.isEqual(m.data)?A!==T&&(i.track({type:3,doc:m}),E=!0):this.ya(p,m)||(i.track({type:2,doc:m}),E=!0,(d&&this.Va(m,d)>0||v&&this.Va(m,v)<0)&&(f=!0)):!p&&m?(i.track({type:0,doc:m}),E=!0):p&&!m&&(i.track({type:1,doc:p}),E=!0,(d||v)&&(f=!0)),E&&(m?(u=u.add(m),a=T?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),i.track({type:1,doc:y})}return{ma:u,pa:i,ss:f,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((y,g)=>function(m,A){const T=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return T(m)-T(A)}(y.type,g.type)||this.Va(y.doc,g.doc)),this.wa(i),o=o!=null&&o;const f=t&&!o?this.Sa():[],d=this.Ra.size===0&&this.current&&!o?1:0,v=d!==this.Aa;return this.Aa=d,u.length!==0||v?{snapshot:new Ts(this.query,e.ma,a,u,e.mutatedKeys,d===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new qy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ye(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new kE(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new RE(i))}),t}va(e){this.da=e.ds,this.Ra=Ye();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Ts.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class wk{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Tk{constructor(e){this.key=e,this.Fa=!1}}class Ak{constructor(e,t,i,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new yo(f=>W1(f),gc),this.Oa=new Map,this.Na=new Set,this.La=new Et(xe.comparator),this.Ba=new Map,this.ka=new Jp,this.qa={},this.Qa=new Map,this.Ka=ws.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Sk(r,e,t=!0){const i=LE(r);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await PE(i,e,t,!0),o}async function Ik(r,e){const t=LE(r);await PE(t,e,!0,!1)}async function PE(r,e,t,i){const o=await $R(r.localStore,dr(e)),a=o.targetId,u=r.sharedClientState.addLocalQueryTarget(a,t);let f;return i&&(f=await bk(r,e,a,u==="current",o.resumeToken)),r.isPrimaryClient&&t&&wE(r.remoteStore,o),f}async function bk(r,e,t,i,o){r.Ua=(g,p,m)=>async function(T,E,_,S){let N=E.view.ga(_);N.ss&&(N=await Ly(T.localStore,E.query,!1).then(({documents:O})=>E.view.ga(O,N)));const I=S&&S.targetChanges.get(E.targetId),M=S&&S.targetMismatches.get(E.targetId)!=null,F=E.view.applyChanges(N,T.isPrimaryClient,I,M);return By(T,E.targetId,F.ba),F.snapshot}(r,g,p,m);const a=await Ly(r.localStore,e,!0),u=new Ek(e,a.ds),f=u.ga(a.documents),d=Za.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),v=u.applyChanges(f,r.isPrimaryClient,d);By(r,t,v.ba);const y=new wk(e,t,u);return r.xa.set(e,y),r.Oa.has(t)?r.Oa.get(t).push(e):r.Oa.set(t,[e]),v.snapshot}async function Rk(r,e,t){const i=$e(r),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(u=>!gc(u,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Rp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&tm(i.remoteStore,o.targetId),Pp(i,o.targetId)}).catch(Ps)):(Pp(i,o.targetId),await Rp(i.localStore,o.targetId,!0))}async function kk(r,e){const t=$e(r),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),tm(t.remoteStore,i.targetId))}async function Pk(r,e,t){const i=Mk(r);try{const o=await function(u,f){const d=$e(u),v=Lt.now(),y=f.reduce((m,A)=>m.add(A.key),Ye());let g,p;return d.persistence.runTransaction("Locally write mutations","readwrite",m=>{let A=jr(),T=Ye();return d.hs.getEntries(m,y).next(E=>{A=E,A.forEach((_,S)=>{S.isValidDocument()||(T=T.add(_))})}).next(()=>d.localDocuments.getOverlayedDocuments(m,A)).next(E=>{g=E;const _=[];for(const S of f){const N=Hb(S,g.get(S.key).overlayedDocument);N!=null&&_.push(new Di(S.key,N,q1(N.value.mapValue),pr.exists(!0)))}return d.mutationQueue.addMutationBatch(m,v,_,f)}).next(E=>{p=E;const _=E.applyToLocalDocumentSet(g,T);return d.documentOverlayCache.saveOverlays(m,E.batchId,_)})}).then(()=>({batchId:p.batchId,changes:Y1(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,f,d){let v=u.qa[u.currentUser.toKey()];v||(v=new Et(Je)),v=v.insert(f,d),u.qa[u.currentUser.toKey()]=v}(i,o.batchId,t),await tl(i,o.changes),await Ac(i.remoteStore)}catch(o){const a=sm(o,"Failed to persist write");t.reject(a)}}async function OE(r,e){const t=$e(r);try{const i=await jR(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ba.get(a);u&&(ot(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Fa=!0:o.modifiedDocuments.size>0?ot(u.Fa):o.removedDocuments.size>0&&(ot(u.Fa),u.Fa=!1))}),await tl(t,i,e)}catch(i){await Ps(i)}}function jy(r,e,t){const i=$e(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((a,u)=>{const f=u.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(u,f){const d=$e(u);d.onlineState=f;let v=!1;d.queries.forEach((y,g)=>{for(const p of g.J_)p.ea(f)&&(v=!0)}),v&&am(d)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Ok(r,e,t){const i=$e(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),a=o&&o.key;if(a){let u=new Et(xe.comparator);u=u.insert(a,tn.newNoDocument(a,ze.min()));const f=Ye().add(a),d=new Ec(ze.min(),new Map,new Et(Je),u,f);await OE(i,d),i.La=i.La.remove(a),i.Ba.delete(e),lm(i)}else await Rp(i.localStore,e,!1).then(()=>Pp(i,e,t)).catch(Ps)}async function Ck(r,e){const t=$e(r),i=e.batch.batchId;try{const o=await UR(t.localStore,e);NE(t,i,null),CE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await tl(t,o)}catch(o){await Ps(o)}}async function Nk(r,e,t){const i=$e(r);try{const o=await function(u,f){const d=$e(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let y;return d.mutationQueue.lookupMutationBatch(v,f).next(g=>(ot(g!==null),y=g.keys(),d.mutationQueue.removeMutationBatch(v,g))).next(()=>d.mutationQueue.performConsistencyCheck(v)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(v,y,f)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,y)).next(()=>d.localDocuments.getDocuments(v,y))})}(i.localStore,e);NE(i,e,t),CE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await tl(i,o)}catch(o){await Ps(o)}}function CE(r,e){(r.Qa.get(e)||[]).forEach(t=>{t.resolve()}),r.Qa.delete(e)}function NE(r,e,t){const i=$e(r);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Pp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Oa.get(e))r.xa.delete(i),t&&r.Ma.Wa(i,t);r.Oa.delete(e),r.isPrimaryClient&&r.ka.yr(e).forEach(i=>{r.ka.containsKey(i)||xE(r,i)})}function xE(r,e){r.Na.delete(e.path.canonicalString());const t=r.La.get(e);t!==null&&(tm(r.remoteStore,t),r.La=r.La.remove(e),r.Ba.delete(t),lm(r))}function By(r,e,t){for(const i of t)i instanceof RE?(r.ka.addReference(i.key,e),xk(r,i)):i instanceof kE?(Re("SyncEngine","Document no longer in limbo: "+i.key),r.ka.removeReference(i.key,e),r.ka.containsKey(i.key)||xE(r,i.key)):Fe()}function xk(r,e){const t=e.key,i=t.path.canonicalString();r.La.get(t)||r.Na.has(i)||(Re("SyncEngine","New document in limbo: "+t),r.Na.add(i),lm(r))}function lm(r){for(;r.Na.size>0&&r.La.size<r.maxConcurrentLimboResolutions;){const e=r.Na.values().next().value;r.Na.delete(e);const t=new xe(mt.fromString(e)),i=r.Ka.next();r.Ba.set(i,new Tk(t)),r.La=r.La.insert(t,i),wE(r.remoteStore,new Ti(dr(H1(t.path)),i,"TargetPurposeLimboResolution",dc.oe))}}async function tl(r,e,t){const i=$e(r),o=[],a=[],u=[];i.xa.isEmpty()||(i.xa.forEach((f,d)=>{u.push(i.Ua(d,e,t).then(v=>{var y;if((v||t)&&i.isPrimaryClient){const g=v?!v.fromCache:(y=t==null?void 0:t.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(v){o.push(v);const g=em.zi(d.targetId,v);a.push(g)}}))}),await Promise.all(u),i.Ma.R_(o),await async function(d,v){const y=$e(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>pe.forEach(v,p=>pe.forEach(p.Wi,m=>y.persistence.referenceDelegate.addReference(g,p.targetId,m)).next(()=>pe.forEach(p.Gi,m=>y.persistence.referenceDelegate.removeReference(g,p.targetId,m)))))}catch(g){if(!Os(g))throw g;Re("LocalStore","Failed to update sequence numbers: "+g)}for(const g of v){const p=g.targetId;if(!g.fromCache){const m=y.us.get(p),A=m.snapshotVersion,T=m.withLastLimboFreeSnapshotVersion(A);y.us=y.us.insert(p,T)}}}(i.localStore,a))}async function Lk(r,e){const t=$e(r);if(!t.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const i=await vE(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(f=>{f.forEach(d=>{d.reject(new Oe(ge.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await tl(t,i.Ts)}}function Dk(r,e){const t=$e(r),i=t.Ba.get(e);if(i&&i.Fa)return Ye().add(i.key);{let o=Ye();const a=t.Oa.get(e);if(!a)return o;for(const u of a){const f=t.xa.get(u);o=o.unionWith(f.view.fa)}return o}}function LE(r){const e=$e(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=OE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ok.bind(null,e),e.Ma.R_=vk.bind(null,e.eventManager),e.Ma.Wa=yk.bind(null,e.eventManager),e}function Mk(r){const e=$e(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ck.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nk.bind(null,e),e}class tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return FR(this.persistence,new VR,e.initialUser,this.serializer)}ja(e){return new gE(Zp.ei,this.serializer)}za(e){return new KR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tc.provider={build:()=>new tc};class Vk extends tc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){ot(this.persistence.referenceDelegate instanceof Zu);const i=this.persistence.referenceDelegate.garbageCollector;return new TR(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new gE(i=>Zu.ei(i,t),this.serializer)}}class Op{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>jy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lk.bind(null,this.syncEngine),await hk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pk}()}createDatastore(e){const t=wc(e.databaseInfo.databaseId),i=function(a){return new YR(a)}(e.databaseInfo);return function(a,u,f,d){return new ZR(a,u,f,d)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,u,f){return new tk(i,o,a,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>jy(this.syncEngine,t,0),function(){return My.p()?new My:new WR}())}createSyncEngine(e,t){return function(o,a,u,f,d,v,y){const g=new Ak(o,a,u,f,d,v);return y&&(g.$a=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=$e(o);Re("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await el(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Op.provider={build:()=>new Op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=D1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{Re("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(Re("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=sm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function bh(r,e){r.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(async o=>{i.isEqual(o)||(await vE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function zy(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Uk(r);Re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(i=>Vy(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,o)=>Vy(e.remoteStore,o)),r._onlineComponents=e}async function Uk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{await bh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ge.FAILED_PRECONDITION||o.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;vs("Error using user provided cache. Falling back to memory cache: "+t),await bh(r,new tc)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),await bh(r,new Vk(void 0));return r._offlineComponents}async function DE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),await zy(r,r._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),await zy(r,new Op))),r._onlineComponents}function jk(r){return DE(r).then(e=>e.syncEngine)}async function Bk(r){const e=await DE(r),t=e.eventManager;return t.onListen=Sk.bind(null,e.syncEngine),t.onUnlisten=Rk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Ik.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kk.bind(null,e.syncEngine),t}function zk(r,e,t={}){const i=new bi;return r.asyncQueue.enqueueAndForget(async()=>function(a,u,f,d,v){const y=new qk({next:p=>{y.eu(),u.enqueueAndForget(()=>gk(a,g)),p.fromCache&&d.source==="server"?v.reject(new Oe(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(p)},error:p=>v.reject(p)}),g=new _k(f,y,{includeMetadataChanges:!0,ua:!0});return mk(a,g)}(await Bk(r),r.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(r,e,t){if(!t)throw new Oe(ge.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function $k(r,e,t,i){if(e===!0&&i===!0)throw new Oe(ge.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Hy(r){if(!xe.isDocumentKey(r))throw new Oe(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ky(r){if(xe.isDocumentKey(r))throw new Oe(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Sc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Fe()}function As(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Oe(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sc(r);throw new Oe(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Oe(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Oe(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$k("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ME((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Oe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Oe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Oe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ic{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Oe(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Oe(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wy(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new JI;switch(i.type){case"firstParty":return new nb(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Oe(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=$y.get(t);i&&(Re("ComponentProvider","Removing Datastore"),$y.delete(t),i.terminate())}(this),Promise.resolve()}}function Hk(r,e,t,i={}){var o;const a=(r=As(r,Ic))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&vs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),i.mockUserToken){let f,d;if(typeof i.mockUserToken=="string")f=i.mockUserToken,d=en.MOCK_USER;else{f=bS(i.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Oe(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new en(v)}r._authCredentials=new ZI(new L1(f,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class kn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class Ri extends Ns{constructor(e,t,i){super(e,t,H1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new xe(e))}withConverter(e){return new Ri(this.firestore,e,this._path)}}function Rh(r,e,...t){if(r=ln(r),VE("collection","path",e),r instanceof Ic){const i=mt.fromString(e,...t);return Ky(i),new Ri(r,null,i)}{if(!(r instanceof kn||r instanceof Ri))throw new Oe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(mt.fromString(e,...t));return Ky(i),new Ri(r.firestore,null,i)}}function Kk(r,e,...t){if(r=ln(r),arguments.length===1&&(e=D1.newId()),VE("doc","path",e),r instanceof Ic){const i=mt.fromString(e,...t);return Hy(i),new kn(r,null,new xe(i))}{if(!(r instanceof kn||r instanceof Ri))throw new Oe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(mt.fromString(e,...t));return Hy(i),new kn(r.firestore,r instanceof Ri?r.converter:null,new xe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new _E(this,"async_queue_retry"),this.fu=()=>{const i=Ih();i&&Re("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Ih();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Ih();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new bi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Os(e))throw e;Re("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(i);throw Ur("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=om.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&Fe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class bc extends Ic{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Gy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gy(e),this._firestoreClient=void 0,await e}}}function Wk(r,e){const t=typeof r=="object"?r:I1(),i=typeof r=="string"?r:"(default)",o=Bp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=SS("firestore");a&&Hk(o,...a)}return o}function qE(r){if(r._terminated)throw new Oe(ge.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Gk(r),r._firestoreClient}function Gk(r){var e,t,i;const o=r._freezeSettings(),a=function(f,d,v,y){return new vb(f,d,v,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,ME(y.experimentalLongPollingOptions),y.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Fk(r._authCredentials,r._appCheckCredentials,r._queue,a,r._componentsProvider&&function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ss(Wt.fromBase64String(e))}catch(t){throw new Oe(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ss(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Oe(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=/^__.*__$/;class Yk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ja(e,this.data,t,this.fieldTransforms)}}class FE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Di(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function UE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class hm{constructor(e,t,i,o,a,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new hm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return nc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(UE(this.Mu)&&Qk.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Xk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||wc(e)}$u(e,t,i,o=!1){return new hm({Mu:e,methodName:t,Ku:i,path:Kt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dm(r){const e=r._freezeSettings(),t=wc(r._databaseId);return new Xk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Jk(r,e,t,i,o,a={}){const u=r.$u(a.merge||a.mergeFields?2:0,e,t,o);pm("Data must be an object, but it was:",u,i);const f=jE(i,u);let d,v;if(a.merge)d=new Rn(u.fieldMask),v=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const g of a.mergeFields){const p=Cp(e,g,t);if(!u.contains(p))throw new Oe(ge.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);zE(y,p)||y.push(p)}d=new Rn(y),v=u.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,v=u.fieldTransforms;return new Yk(new _n(f),d,v)}class kc extends um{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kc}}function Zk(r,e,t,i){const o=r.$u(1,e,t);pm("Data must be an object, but it was:",o,i);const a=[],u=_n.empty();Li(i,(d,v)=>{const y=mm(e,d,t);v=ln(v);const g=o.Bu(y);if(v instanceof kc)a.push(y);else{const p=nl(v,g);p!=null&&(a.push(y),u.set(y,p))}});const f=new Rn(a);return new FE(u,f,o.fieldTransforms)}function eP(r,e,t,i,o,a){const u=r.$u(1,e,t),f=[Cp(e,i,t)],d=[o];if(a.length%2!=0)throw new Oe(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)f.push(Cp(e,a[p])),d.push(a[p+1]);const v=[],y=_n.empty();for(let p=f.length-1;p>=0;--p)if(!zE(v,f[p])){const m=f[p];let A=d[p];A=ln(A);const T=u.Bu(m);if(A instanceof kc)v.push(m);else{const E=nl(A,T);E!=null&&(v.push(m),y.set(m,E))}}const g=new Rn(v);return new FE(y,g,u.fieldTransforms)}function tP(r,e,t,i=!1){return nl(t,r.$u(i?4:3,e))}function nl(r,e){if(BE(r=ln(r)))return pm("Unsupported field value:",e,r),jE(r,e);if(r instanceof um)return function(i,o){if(!UE(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const f of i){let d=nl(f,o.ku(u));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),u++}return{arrayValue:{values:a}}}(r,e)}return function(i,o){if((i=ln(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Fb(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Lt.fromDate(i);return{timestampValue:Ju(o.serializer,a)}}if(i instanceof Lt){const a=new Lt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ju(o.serializer,a)}}if(i instanceof cm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ss)return{bytesValue:uE(o.serializer,i._byteString)};if(i instanceof kn){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Xp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof fm)return function(u,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(d=>{if(typeof d!="number")throw f.qu("VectorValues must only contain numeric values.");return Gp(f.serializer,d)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Sc(i)}`)}(r,e)}function jE(r,e){const t={};return M1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Li(r,(i,o)=>{const a=nl(o,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function BE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Lt||r instanceof cm||r instanceof Ss||r instanceof kn||r instanceof um||r instanceof fm)}function pm(r,e,t){if(!BE(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Sc(t);throw i==="an object"?e.qu(r+" a custom object"):e.qu(r+" "+i)}}function Cp(r,e,t){if((e=ln(e))instanceof Rc)return e._internalPath;if(typeof e=="string")return mm(r,e);throw nc("Field path arguments must be of type string or ",r,!1,void 0,t)}const nP=new RegExp("[~\\*/\\[\\]]");function mm(r,e,t){if(e.search(nP)>=0)throw nc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Rc(...e.split("."))._internalPath}catch{throw nc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function nc(r,e,t,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(a||u)&&(d+=" (found",a&&(d+=` in field ${i}`),u&&(d+=` in document ${o}`),d+=")"),new Oe(ge.INVALID_ARGUMENT,f+r+d)}function zE(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rP extends $E{data(){return super.data()}}function gm(r,e){return typeof e=="string"?mm(r,e):e instanceof Rc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Oe(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vm{}class oP extends vm{}function Qy(r,e,...t){let i=[];e instanceof vm&&i.push(e),i=i.concat(t),function(a){const u=a.filter(d=>d instanceof ym).length,f=a.filter(d=>d instanceof Pc).length;if(u>1||u>0&&f>0)throw new Oe(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)r=o._apply(r);return r}class Pc extends oP{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Pc(e,t,i)}_apply(e){const t=this._parse(e);return HE(e._query,t),new Ns(e.firestore,e.converter,wp(e._query,t))}_parse(e){const t=dm(e.firestore);return function(a,u,f,d,v,y,g){let p;if(v.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Oe(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Jy(g,y);const m=[];for(const A of g)m.push(Xy(d,a,A));p={arrayValue:{values:m}}}else p=Xy(d,a,g)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Jy(g,y),p=tP(f,u,g,y==="in"||y==="not-in");return Pt.create(v,y,p)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Yy(r,e,t){const i=e,o=gm("where",r);return Pc._create(o,i,t)}class ym extends vm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ym(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:tr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let u=o;const f=a.getFlattenedFilters();for(const d of f)HE(u,d),u=wp(u,d)}(e._query,t),new Ns(e.firestore,e.converter,wp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Xy(r,e,t){if(typeof(t=ln(t))=="string"){if(t==="")throw new Oe(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K1(e)&&t.indexOf("/")!==-1)throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(mt.fromString(t));if(!xe.isDocumentKey(i))throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return gy(r,new xe(i))}if(t instanceof kn)return gy(r,t._key);throw new Oe(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sc(t)}.`)}function Jy(r,e){if(!Array.isArray(r)||r.length===0)throw new Oe(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HE(r,e){const t=function(o,a){for(const u of o)for(const f of u.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Oe(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Oe(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class sP{convertValue(e,t="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ci(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Li(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>St(u.doubleValue));return new fm(a)}convertGeoPoint(e){return new cm(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=mc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ua(e));default:return null}}convertTimestamp(e){const t=Oi(e);return new Lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=mt.fromString(e);ot(mE(i));const o=new ja(i.get(1),i.get(3)),a=new xe(i.popFirst(5));return o.isEqual(t)||Ur(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(r,e,t){let i;return i=r?r.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lP extends $E{constructor(e,t,i,o,a,u){super(e,t,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(gm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Vu extends lP{data(e={}){return super.data(e)}}class uP{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ku(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Vu(this._firestore,this._userDataWriter,i.key,i,new ku(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(f=>{const d=new Vu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ku(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>a||f.type!==3).map(f=>{const d=new Vu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ku(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,y=-1;return f.type!==0&&(v=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:cP(f.type),doc:d,oldIndex:v,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}class fP extends sP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ss(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,t)}}function Zy(r){r=As(r,Ns);const e=As(r.firestore,bc),t=qE(e),i=new fP(e);return iP(r._query),zk(t,r._query).then(o=>new uP(e,i,r,o))}function hP(r,e,t,...i){r=As(r,kn);const o=As(r.firestore,bc),a=dm(o);let u;return u=typeof(e=ln(e))=="string"||e instanceof Rc?eP(a,"updateDoc",r._key,e,t,i):Zk(a,"updateDoc",r._key,e),KE(o,[u.toMutation(r._key,pr.exists(!0))])}function dP(r,e){const t=As(r.firestore,bc),i=Kk(r),o=aP(r.converter,e);return KE(t,[Jk(dm(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,pr.exists(!1))]).then(()=>i)}function KE(r,e){return function(i,o){const a=new bi;return i.asyncQueue.enqueueAndForget(async()=>Pk(await jk(i),o,a)),a.promise}(qE(r),e)}(function(e,t=!0){(function(o){ks=o})(Rs),gs(new po("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),f=new bc(new eb(i.getProvider("auth-internal")),new ib(i.getProvider("app-check-internal")),function(v,y){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Oe(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ja(v.options.projectId,y)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),Ii(cy,"4.7.5",e),Ii(cy,"4.7.5","esm2017")})();function _m(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t}function WE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pP=WE,GE=new Qa("auth","Firebase",WE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new Up("@firebase/auth");function mP(r,...e){rc.logLevel<=Qe.WARN&&rc.warn(`Auth (${Rs}): ${r}`,...e)}function qu(r,...e){rc.logLevel<=Qe.ERROR&&rc.error(`Auth (${Rs}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(r,...e){throw Em(r,...e)}function gr(r,...e){return Em(r,...e)}function QE(r,e,t){const i=Object.assign(Object.assign({},pP()),{[e]:t});return new Qa("auth","Firebase",i).create(e,{appName:r.name})}function ho(r){return QE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Em(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return GE.create(r,...e)}function Ue(r,e,...t){if(!r)throw Em(e,...t)}function Dr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw qu(e),new Error(e)}function zr(r,e){r||Dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function gP(){return e_()==="http:"||e_()==="https:"}function e_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gP()||OS()||"connection"in navigator)?navigator.onLine:!0}function yP(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t){this.shortDelay=e,this.longDelay=t,zr(t>e,"Short delay should be less than long delay!"),this.isMobile=RS()||CS()}get(){return vP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(r,e){zr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=new rl(3e4,6e4);function Tm(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function xs(r,e,t,i,o={}){return XE(r,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const f=Ya(Object.assign({key:r.config.apiKey},u)).slice(1),d=await r._getAdditionalHeaders();d["Content-Type"]="application/json",r.languageCode&&(d["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:e,headers:d},a);return PS()||(v.referrerPolicy="no-referrer"),YE.fetch()(JE(r,r.config.apiHost,t,f),v)})}async function XE(r,e,t){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},_P),e);try{const o=new TP(r),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Pu(r,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const f=a.ok?u.errorMessage:u.error.message,[d,v]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pu(r,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Pu(r,"email-already-in-use",u);if(d==="USER_DISABLED")throw Pu(r,"user-disabled",u);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw QE(r,y,v);Br(r,y)}}catch(o){if(o instanceof Hr)throw o;Br(r,"network-request-failed",{message:String(o)})}}async function wP(r,e,t,i,o={}){const a=await xs(r,e,t,i,o);return"mfaPendingCredential"in a&&Br(r,"multi-factor-auth-required",{_serverResponse:a}),a}function JE(r,e,t,i){const o=`${e}${t}?${i}`;return r.config.emulator?wm(r.config,o):`${r.config.apiScheme}://${o}`}class TP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(gr(this.auth,"network-request-failed")),EP.get())})}}function Pu(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=gr(r,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(r,e){return xs(r,"POST","/v1/accounts:delete",e)}async function ZE(r,e){return xs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SP(r,e=!1){const t=ln(r),i=await t.getIdToken(e),o=Am(i);Ue(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Ma(kh(o.auth_time)),issuedAtTime:Ma(kh(o.iat)),expirationTime:Ma(kh(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function kh(r){return Number(r)*1e3}function Am(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return qu("JWT malformed, contained fewer than 3 sections"),null;try{const o=y1(t);return o?JSON.parse(o):(qu("Failed to decode base64 JWT payload"),null)}catch(o){return qu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function t_(r){const e=Am(r);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Hr&&IP(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function IP({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ma(this.lastLoginAt),this.creationTime=Ma(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(r){var e;const t=r.auth,i=await r.getIdToken(),o=await Ha(r,ZE(t,{idToken:i}));Ue(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];r._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?ew(a.providerUserInfo):[],f=kP(r.providerData,u),d=r.isAnonymous,v=!(r.email&&a.passwordHash)&&!(f!=null&&f.length),y=d?v:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new xp(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(r,g)}async function RP(r){const e=ln(r);await ic(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kP(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function ew(r){return r.map(e=>{var{providerId:t}=e,i=_m(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(r,e){const t=await XE(r,{},async()=>{const i=Ya({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=r.config,u=JE(r,o,"/v1/token",`key=${a}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",YE.fetch()(u,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function OP(r,e){return xs(r,"POST","/v2/accounts:revokeToken",Tm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=t_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await PP(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,u=new ds;return i&&(Ue(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(Ue(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ue(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ds,this.toJSON())}_performRefresh(){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(r,e){Ue(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Mr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=_m(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new xp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ha(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return SP(this,e)}reload(){return RP(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ic(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wi(this.auth.app))return Promise.reject(ho(this.auth));const e=await this.getIdToken();return await Ha(this,AP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,u,f,d,v,y;const g=(i=t.displayName)!==null&&i!==void 0?i:void 0,p=(o=t.email)!==null&&o!==void 0?o:void 0,m=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,A=(u=t.photoURL)!==null&&u!==void 0?u:void 0,T=(f=t.tenantId)!==null&&f!==void 0?f:void 0,E=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,_=(v=t.createdAt)!==null&&v!==void 0?v:void 0,S=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:N,emailVerified:I,isAnonymous:M,providerData:F,stsTokenManager:O}=t;Ue(N&&O,e,"internal-error");const R=ds.fromJSON(this.name,O);Ue(typeof N=="string",e,"internal-error"),gi(g,e.name),gi(p,e.name),Ue(typeof I=="boolean",e,"internal-error"),Ue(typeof M=="boolean",e,"internal-error"),gi(m,e.name),gi(A,e.name),gi(T,e.name),gi(E,e.name),gi(_,e.name),gi(S,e.name);const D=new Mr({uid:N,auth:e,email:p,emailVerified:I,displayName:g,isAnonymous:M,photoURL:A,phoneNumber:m,tenantId:T,stsTokenManager:R,createdAt:_,lastLoginAt:S});return F&&Array.isArray(F)&&(D.providerData=F.map(C=>Object.assign({},C))),E&&(D._redirectEventId=E),D}static async _fromIdTokenResponse(e,t,i=!1){const o=new ds;o.updateFromServerResponse(t);const a=new Mr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await ic(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ue(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?ew(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),f=new ds;f.updateFromIdToken(i);const d=new Mr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:u}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new xp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,v),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=new Map;function Vr(r){zr(r instanceof Function,"Expected a class definition");let e=n_.get(r);return e?(zr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,n_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}tw.type="NONE";const r_=tw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(r,e,t){return`firebase:${r}:${e}:${t}`}class ps{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Fu(this.userKey,o.apiKey,a),this.fullPersistenceKey=Fu("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ps(Vr(r_),e,i);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let a=o[0]||Vr(r_);const u=Fu(i,e.config.apiKey,e.name);let f=null;for(const v of t)try{const y=await v._get(u);if(y){const g=Mr._fromJSON(e,y);v!==a&&(f=g),a=v;break}}catch{}const d=o.filter(v=>v._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new ps(a,e,i):(a=d[0],f&&await a._set(u,f.toJSON()),await Promise.all(t.map(async v=>{if(v!==a)try{await v._remove(u)}catch{}})),new ps(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ow(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aw(e))return"Blackberry";if(lw(e))return"Webos";if(rw(e))return"Safari";if((e.includes("chrome/")||iw(e))&&!e.includes("edge/"))return"Chrome";if(sw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function nw(r=nn()){return/firefox\//i.test(r)}function rw(r=nn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iw(r=nn()){return/crios\//i.test(r)}function ow(r=nn()){return/iemobile/i.test(r)}function sw(r=nn()){return/android/i.test(r)}function aw(r=nn()){return/blackberry/i.test(r)}function lw(r=nn()){return/webos/i.test(r)}function Sm(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function CP(r=nn()){var e;return Sm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NP(){return NS()&&document.documentMode===10}function uw(r=nn()){return Sm(r)||sw(r)||lw(r)||aw(r)||/windows phone/i.test(r)||ow(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(r,e=[]){let t;switch(r){case"Browser":t=i_(nn());break;case"Worker":t=`${i_(nn())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Rs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((u,f)=>{try{const d=e(a);u(d)}catch(d){f(d)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(r,e={}){return xs(r,"GET","/v2/passwordPolicy",Tm(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=6;class MP{constructor(e){var t,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:DP,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,u,f;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsLowercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(a=d.containsUppercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(f=d.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),d}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o_(this),this.idTokenSubscription=new o_(this),this.beforeStateQueue=new xP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await ps.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ZE(this,{idToken:e}),i=await Mr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(wi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&(d!=null&&d.user)&&(o=d.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ic(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wi(this.app))return Promise.reject(ho(this));const t=e?ln(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wi(this.app)?Promise.reject(ho(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wi(this.app)?Promise.reject(ho(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LP(this),t=new MP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qa("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await OP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vr(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await ps.create(this,[Vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(f,this,"internal-error"),f.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,i,o);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&mP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Im(r){return ln(r)}class o_{constructor(e){this.auth=e,this.observer=null,this.addObserver=US(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qP(r){bm=r}function FP(r){return bm.loadJS(r)}function UP(){return bm.gapiScript}function jP(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(r,e){const t=Bp(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Hu(a,e??{}))return o;Br(o,"already-initialized")}return t.initialize({options:e})}function zP(r,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Vr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function $P(r,e,t){const i=Im(r);Ue(i._canInitEmulator,i,"emulator-config-failed"),Ue(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=fw(e),{host:u,port:f}=HP(e),d=f===null?"":`:${f}`;i.config.emulator={url:`${a}//${u}${d}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:f,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),KP()}function fw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function HP(r){const e=fw(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:s_(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:s_(u)}}}function s_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function KP(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,t){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ms(r,e){return wP(r,"POST","/v1/accounts:signInWithIdp",Tm(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="http://localhost";class go extends hw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new go(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Br("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=_m(t,["providerId","signInMethod"]);if(!i||!o)return null;const u=new go(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ms(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ms(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ms(e,t)}buildRequest(){const e={requestUri:WP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ya(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends dw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends il{constructor(){super("facebook.com")}static credential(e){return go._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends il{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return go._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return yi.credential(t,i)}catch{return null}}}yi.GOOGLE_SIGN_IN_METHOD="google.com";yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends il{constructor(){super("github.com")}static credential(e){return go._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends il{constructor(){super("twitter.com")}static credential(e,t){return go._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ei.credential(t,i)}catch{return null}}}Ei.TWITTER_SIGN_IN_METHOD="twitter.com";Ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await Mr._fromIdTokenResponse(e,i,o),u=a_(i);return new Is({user:a,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=a_(i);return new Is({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function a_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends Hr{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,oc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new oc(e,t,i,o)}}function pw(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?oc._fromErrorAndOperation(r,a,e,i):a})}async function GP(r,e,t=!1){const i=await Ha(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Is._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(r,e,t=!1){const{auth:i}=r;if(wi(i.app))return Promise.reject(ho(i));const o="reauthenticate";try{const a=await Ha(r,pw(i,o,e,r),t);Ue(a.idToken,i,"internal-error");const u=Am(a.idToken);Ue(u,i,"internal-error");const{sub:f}=u;return Ue(r.uid===f,i,"user-mismatch"),Is._forOperation(r,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Br(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(r,e,t=!1){if(wi(r.app))return Promise.reject(ho(r));const i="signIn",o=await pw(r,i,e),a=await Is._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(a.user),a}function XP(r,e,t,i){return ln(r).onIdTokenChanged(e,t,i)}function JP(r,e,t){return ln(r).beforeAuthStateChanged(e,t)}const sc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sc,"1"),this.storage.removeItem(sc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=1e3,eO=10;class gw extends mw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);NP()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,eO):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},ZP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gw.type="LOCAL";const tO=gw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw extends mw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}vw.type="SESSION";const yw=vw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Oc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(u).map(async v=>v(t.origin,a)),d=await nO(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((f,d)=>{const v=Rm("",20);o.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(g){const p=g;if(p.data.eventId===v)switch(p.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),f(p.data.response);break;default:clearTimeout(y),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function iO(r){vr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function oO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sO(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function aO(){return _w()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="firebaseLocalStorageDb",lO=1,ac="firebaseLocalStorage",ww="fbase_key";class ol{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Cc(r,e){return r.transaction([ac],e?"readwrite":"readonly").objectStore(ac)}function uO(){const r=indexedDB.deleteDatabase(Ew);return new ol(r).toPromise()}function Lp(){const r=indexedDB.open(Ew,lO);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(ac,{keyPath:ww})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(ac)?e(i):(i.close(),await uO(),e(await Lp()))})})}async function l_(r,e,t){const i=Cc(r,!0).put({[ww]:e,value:t});return new ol(i).toPromise()}async function cO(r,e){const t=Cc(r,!1).get(e),i=await new ol(t).toPromise();return i===void 0?null:i.value}function u_(r,e){const t=Cc(r,!0).delete(e);return new ol(t).toPromise()}const fO=800,hO=3;class Tw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>hO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _w()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oc._getInstance(aO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await oO(),!this.activeServiceWorker)return;this.sender=new rO(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lp();return await l_(e,sc,"1"),await u_(e,sc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>l_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>cO(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>u_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Cc(o,!1).getAll();return new ol(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Tw.type="LOCAL";const dO=Tw;new rl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(r,e){return e?Vr(e):(Ue(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends hw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ms(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ms(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function mO(r){return YP(r.auth,new km(r),r.bypassAuthState)}function gO(r){const{auth:e,user:t}=r;return Ue(t,e,"internal-error"),QP(t,new km(r),r.bypassAuthState)}async function vO(r){const{auth:e,user:t}=r;return Ue(t,e,"internal-error"),GP(t,new km(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mO;case"linkViaPopup":case"linkViaRedirect":return vO;case"reauthViaPopup":case"reauthViaRedirect":return gO;default:Br(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new rl(2e3,1e4);class fs extends Aw{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,fs.currentPopupAction&&fs.currentPopupAction.cancel(),fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const e=Rm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yO.get())};e()}}fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="pendingRedirect",Uu=new Map;class EO extends Aw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Uu.get(this.auth._key());if(!e){try{const i=await wO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Uu.set(this.auth._key(),e)}return this.bypassAuthState||Uu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wO(r,e){const t=SO(e),i=AO(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function TO(r,e){Uu.set(r._key(),e)}function AO(r){return Vr(r._redirectPersistence)}function SO(r){return Fu(_O,r.config.apiKey,r.name)}async function IO(r,e,t=!1){if(wi(r.app))return Promise.reject(ho(r));const i=Im(r),o=pO(i,e),u=await new EO(i,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=10*60*1e3;class RO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kO(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Sw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(gr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bO&&this.cachedEventUids.clear(),this.cachedEventUids.has(c_(e))}saveEventToCache(e){this.cachedEventUids.add(c_(e)),this.lastProcessedEventTime=Date.now()}}function c_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Sw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(r,e={}){return xs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CO=/^https?/;async function NO(r){if(r.config.emulator)return;const{authorizedDomains:e}=await PO(r);for(const t of e)try{if(xO(t))return}catch{}Br(r,"unauthorized-domain")}function xO(r){const e=Np(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!CO.test(t))return!1;if(OO.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=new rl(3e4,6e4);function f_(){const r=vr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function DO(r){return new Promise((e,t)=>{var i,o,a;function u(){f_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f_(),t(gr(r,"network-request-failed"))},timeout:LO.get()})}if(!((o=(i=vr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=vr().gapi)===null||a===void 0)&&a.load)u();else{const f=jP("iframefcb");return vr()[f]=()=>{gapi.load?u():t(gr(r,"network-request-failed"))},FP(`${UP()}?onload=${f}`).catch(d=>t(d))}}).catch(e=>{throw ju=null,e})}let ju=null;function MO(r){return ju=ju||DO(r),ju}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO=new rl(5e3,15e3),qO="__/auth/iframe",FO="emulator/auth/iframe",UO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BO(r){const e=r.config;Ue(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?wm(e,FO):`https://${r.config.authDomain}/${qO}`,i={apiKey:e.apiKey,appName:r.name,v:Rs},o=jO.get(r.config.apiHost);o&&(i.eid=o);const a=r._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Ya(i).slice(1)}`}async function zO(r){const e=await MO(r),t=vr().gapi;return Ue(t,r,"internal-error"),e.open({where:document.body,url:BO(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UO,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=gr(r,"network-request-failed"),f=vr().setTimeout(()=>{a(u)},VO.get());function d(){vr().clearTimeout(f),o(i)}i.ping(d).then(d,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HO=500,KO=600,WO="_blank",GO="http://localhost";class h_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QO(r,e,t,i=HO,o=KO){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const d=Object.assign(Object.assign({},$O),{width:i.toString(),height:o.toString(),top:a,left:u}),v=nn().toLowerCase();t&&(f=iw(v)?WO:t),nw(v)&&(e=e||GO,d.scrollbars="yes");const y=Object.entries(d).reduce((p,[m,A])=>`${p}${m}=${A},`,"");if(CP(v)&&f!=="_self")return YO(e||"",f),new h_(null);const g=window.open(e||"",f,y);Ue(g,r,"popup-blocked");try{g.focus()}catch{}return new h_(g)}function YO(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="__/auth/handler",JO="emulator/auth/handler",ZO=encodeURIComponent("fac");async function d_(r,e,t,i,o,a){Ue(r.config.authDomain,r,"auth-domain-config-required"),Ue(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:Rs,eventId:o};if(e instanceof dw){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",FS(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,g]of Object.entries({}))u[y]=g}if(e instanceof il){const y=e.getScopes().filter(g=>g!=="");y.length>0&&(u.scopes=y.join(","))}r.tenantId&&(u.tid=r.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const d=await r._getAppCheckToken(),v=d?`#${ZO}=${encodeURIComponent(d)}`:"";return`${eC(r)}?${Ya(f).slice(1)}${v}`}function eC({config:r}){return r.emulator?wm(r,JO):`https://${r.authDomain}/${XO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph="webStorageSupport";class tC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yw,this._completeRedirectFn=IO,this._overrideRedirectResult=TO}async _openPopup(e,t,i,o){var a;zr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await d_(e,t,i,Np(),o);return QO(e,u,Rm())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await d_(e,t,i,Np(),o);return iO(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(zr(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await zO(e),i=new RO(e);return t.register("authEvent",o=>(Ue(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ph,{type:Ph},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Ph];u!==void 0&&t(!!u),Br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=NO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uw()||rw()||Sm()}}const nC=tC;var p_="@firebase/auth",m_="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oC(r){gs(new po("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Ue(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cw(r)},v=new VP(i,o,a,d);return zP(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),gs(new po("auth-internal",e=>{const t=Im(e.getProvider("auth").getImmediate());return(i=>new rC(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(p_,m_,iC(r)),Ii(p_,m_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=5*60,aC=w1("authIdTokenMaxAge")||sC;let g_=null;const lC=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>aC)return;const o=t==null?void 0:t.token;g_!==o&&(g_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function uC(r=I1()){const e=Bp(r,"auth");if(e.isInitialized())return e.getImmediate();const t=BP(r,{popupRedirectResolver:nC,persistence:[dO,tO,yw]}),i=w1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=lC(a.toString());JP(t,u,()=>u(t.currentUser)),XP(t,f=>u(f))}}const o=_1("auth");return o&&$P(t,`http://${o}`),t}function cC(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}qP({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const a=gr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",cC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oC("Browser");const fC={apiKey:"AIzaSyDAe6YMmfpghOz5sLlLZQkRTplrEbMBxqU",authDomain:"firepad-fd222.firebaseapp.com",projectId:"firepad-fd222",storageBucket:"firepad-fd222.firebasestorage.app",messagingSenderId:"292305692063",appId:"1:292305692063:web:ca68f6385c2541e10c49aa",measurementId:"G-7XMKY69DKC"},Iw=S1(fC),Oh=Wk(Iw);uC(Iw);var Ch,v_;function hC(){if(v_)return Ch;v_=1;function r(){this.__data__=[],this.size=0}return Ch=r,Ch}var Nh,y_;function bw(){if(y_)return Nh;y_=1;function r(e,t){return e===t||e!==e&&t!==t}return Nh=r,Nh}var xh,__;function Nc(){if(__)return xh;__=1;var r=bw();function e(t,i){for(var o=t.length;o--;)if(r(t[o][0],i))return o;return-1}return xh=e,xh}var Lh,E_;function dC(){if(E_)return Lh;E_=1;var r=Nc(),e=Array.prototype,t=e.splice;function i(o){var a=this.__data__,u=r(a,o);if(u<0)return!1;var f=a.length-1;return u==f?a.pop():t.call(a,u,1),--this.size,!0}return Lh=i,Lh}var Dh,w_;function pC(){if(w_)return Dh;w_=1;var r=Nc();function e(t){var i=this.__data__,o=r(i,t);return o<0?void 0:i[o][1]}return Dh=e,Dh}var Mh,T_;function mC(){if(T_)return Mh;T_=1;var r=Nc();function e(t){return r(this.__data__,t)>-1}return Mh=e,Mh}var Vh,A_;function gC(){if(A_)return Vh;A_=1;var r=Nc();function e(t,i){var o=this.__data__,a=r(o,t);return a<0?(++this.size,o.push([t,i])):o[a][1]=i,this}return Vh=e,Vh}var qh,S_;function xc(){if(S_)return qh;S_=1;var r=hC(),e=dC(),t=pC(),i=mC(),o=gC();function a(u){var f=-1,d=u==null?0:u.length;for(this.clear();++f<d;){var v=u[f];this.set(v[0],v[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=i,a.prototype.set=o,qh=a,qh}var Fh,I_;function vC(){if(I_)return Fh;I_=1;var r=xc();function e(){this.__data__=new r,this.size=0}return Fh=e,Fh}var Uh,b_;function yC(){if(b_)return Uh;b_=1;function r(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}return Uh=r,Uh}var jh,R_;function _C(){if(R_)return jh;R_=1;function r(e){return this.__data__.get(e)}return jh=r,jh}var Bh,k_;function EC(){if(k_)return Bh;k_=1;function r(e){return this.__data__.has(e)}return Bh=r,Bh}var zh,P_;function Rw(){if(P_)return zh;P_=1;var r=typeof Eu=="object"&&Eu&&Eu.Object===Object&&Eu;return zh=r,zh}var $h,O_;function Kr(){if(O_)return $h;O_=1;var r=Rw(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return $h=t,$h}var Hh,C_;function Pm(){if(C_)return Hh;C_=1;var r=Kr(),e=r.Symbol;return Hh=e,Hh}var Kh,N_;function wC(){if(N_)return Kh;N_=1;var r=Pm(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,o=r?r.toStringTag:void 0;function a(u){var f=t.call(u,o),d=u[o];try{u[o]=void 0;var v=!0}catch{}var y=i.call(u);return v&&(f?u[o]=d:delete u[o]),y}return Kh=a,Kh}var Wh,x_;function TC(){if(x_)return Wh;x_=1;var r=Object.prototype,e=r.toString;function t(i){return e.call(i)}return Wh=t,Wh}var Gh,L_;function Lc(){if(L_)return Gh;L_=1;var r=Pm(),e=wC(),t=TC(),i="[object Null]",o="[object Undefined]",a=r?r.toStringTag:void 0;function u(f){return f==null?f===void 0?o:i:a&&a in Object(f)?e(f):t(f)}return Gh=u,Gh}var Qh,D_;function kw(){if(D_)return Qh;D_=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Qh=r,Qh}var Yh,M_;function Pw(){if(M_)return Yh;M_=1;var r=Lc(),e=kw(),t="[object AsyncFunction]",i="[object Function]",o="[object GeneratorFunction]",a="[object Proxy]";function u(f){if(!e(f))return!1;var d=r(f);return d==i||d==o||d==t||d==a}return Yh=u,Yh}var Xh,V_;function AC(){if(V_)return Xh;V_=1;var r=Kr(),e=r["__core-js_shared__"];return Xh=e,Xh}var Jh,q_;function SC(){if(q_)return Jh;q_=1;var r=AC(),e=function(){var i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function t(i){return!!e&&e in i}return Jh=t,Jh}var Zh,F_;function Ow(){if(F_)return Zh;F_=1;var r=Function.prototype,e=r.toString;function t(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return Zh=t,Zh}var ed,U_;function IC(){if(U_)return ed;U_=1;var r=Pw(),e=SC(),t=kw(),i=Ow(),o=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,u=Function.prototype,f=Object.prototype,d=u.toString,v=f.hasOwnProperty,y=RegExp("^"+d.call(v).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(p){if(!t(p)||e(p))return!1;var m=r(p)?y:a;return m.test(i(p))}return ed=g,ed}var td,j_;function bC(){if(j_)return td;j_=1;function r(e,t){return e==null?void 0:e[t]}return td=r,td}var nd,B_;function Ls(){if(B_)return nd;B_=1;var r=IC(),e=bC();function t(i,o){var a=e(i,o);return r(a)?a:void 0}return nd=t,nd}var rd,z_;function Om(){if(z_)return rd;z_=1;var r=Ls(),e=Kr(),t=r(e,"Map");return rd=t,rd}var id,$_;function Dc(){if($_)return id;$_=1;var r=Ls(),e=r(Object,"create");return id=e,id}var od,H_;function RC(){if(H_)return od;H_=1;var r=Dc();function e(){this.__data__=r?r(null):{},this.size=0}return od=e,od}var sd,K_;function kC(){if(K_)return sd;K_=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return sd=r,sd}var ad,W_;function PC(){if(W_)return ad;W_=1;var r=Dc(),e="__lodash_hash_undefined__",t=Object.prototype,i=t.hasOwnProperty;function o(a){var u=this.__data__;if(r){var f=u[a];return f===e?void 0:f}return i.call(u,a)?u[a]:void 0}return ad=o,ad}var ld,G_;function OC(){if(G_)return ld;G_=1;var r=Dc(),e=Object.prototype,t=e.hasOwnProperty;function i(o){var a=this.__data__;return r?a[o]!==void 0:t.call(a,o)}return ld=i,ld}var ud,Q_;function CC(){if(Q_)return ud;Q_=1;var r=Dc(),e="__lodash_hash_undefined__";function t(i,o){var a=this.__data__;return this.size+=this.has(i)?0:1,a[i]=r&&o===void 0?e:o,this}return ud=t,ud}var cd,Y_;function NC(){if(Y_)return cd;Y_=1;var r=RC(),e=kC(),t=PC(),i=OC(),o=CC();function a(u){var f=-1,d=u==null?0:u.length;for(this.clear();++f<d;){var v=u[f];this.set(v[0],v[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=i,a.prototype.set=o,cd=a,cd}var fd,X_;function xC(){if(X_)return fd;X_=1;var r=NC(),e=xc(),t=Om();function i(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return fd=i,fd}var hd,J_;function LC(){if(J_)return hd;J_=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return hd=r,hd}var dd,Z_;function Mc(){if(Z_)return dd;Z_=1;var r=LC();function e(t,i){var o=t.__data__;return r(i)?o[typeof i=="string"?"string":"hash"]:o.map}return dd=e,dd}var pd,e0;function DC(){if(e0)return pd;e0=1;var r=Mc();function e(t){var i=r(this,t).delete(t);return this.size-=i?1:0,i}return pd=e,pd}var md,t0;function MC(){if(t0)return md;t0=1;var r=Mc();function e(t){return r(this,t).get(t)}return md=e,md}var gd,n0;function VC(){if(n0)return gd;n0=1;var r=Mc();function e(t){return r(this,t).has(t)}return gd=e,gd}var vd,r0;function qC(){if(r0)return vd;r0=1;var r=Mc();function e(t,i){var o=r(this,t),a=o.size;return o.set(t,i),this.size+=o.size==a?0:1,this}return vd=e,vd}var yd,i0;function Cw(){if(i0)return yd;i0=1;var r=xC(),e=DC(),t=MC(),i=VC(),o=qC();function a(u){var f=-1,d=u==null?0:u.length;for(this.clear();++f<d;){var v=u[f];this.set(v[0],v[1])}}return a.prototype.clear=r,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=i,a.prototype.set=o,yd=a,yd}var _d,o0;function FC(){if(o0)return _d;o0=1;var r=xc(),e=Om(),t=Cw(),i=200;function o(a,u){var f=this.__data__;if(f instanceof r){var d=f.__data__;if(!e||d.length<i-1)return d.push([a,u]),this.size=++f.size,this;f=this.__data__=new t(d)}return f.set(a,u),this.size=f.size,this}return _d=o,_d}var Ed,s0;function UC(){if(s0)return Ed;s0=1;var r=xc(),e=vC(),t=yC(),i=_C(),o=EC(),a=FC();function u(f){var d=this.__data__=new r(f);this.size=d.size}return u.prototype.clear=e,u.prototype.delete=t,u.prototype.get=i,u.prototype.has=o,u.prototype.set=a,Ed=u,Ed}var wd,a0;function jC(){if(a0)return wd;a0=1;var r="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,r),this}return wd=e,wd}var Td,l0;function BC(){if(l0)return Td;l0=1;function r(e){return this.__data__.has(e)}return Td=r,Td}var Ad,u0;function zC(){if(u0)return Ad;u0=1;var r=Cw(),e=jC(),t=BC();function i(o){var a=-1,u=o==null?0:o.length;for(this.__data__=new r;++a<u;)this.add(o[a])}return i.prototype.add=i.prototype.push=e,i.prototype.has=t,Ad=i,Ad}var Sd,c0;function $C(){if(c0)return Sd;c0=1;function r(e,t){for(var i=-1,o=e==null?0:e.length;++i<o;)if(t(e[i],i,e))return!0;return!1}return Sd=r,Sd}var Id,f0;function HC(){if(f0)return Id;f0=1;function r(e,t){return e.has(t)}return Id=r,Id}var bd,h0;function Nw(){if(h0)return bd;h0=1;var r=zC(),e=$C(),t=HC(),i=1,o=2;function a(u,f,d,v,y,g){var p=d&i,m=u.length,A=f.length;if(m!=A&&!(p&&A>m))return!1;var T=g.get(u),E=g.get(f);if(T&&E)return T==f&&E==u;var _=-1,S=!0,N=d&o?new r:void 0;for(g.set(u,f),g.set(f,u);++_<m;){var I=u[_],M=f[_];if(v)var F=p?v(M,I,_,f,u,g):v(I,M,_,u,f,g);if(F!==void 0){if(F)continue;S=!1;break}if(N){if(!e(f,function(O,R){if(!t(N,R)&&(I===O||y(I,O,d,v,g)))return N.push(R)})){S=!1;break}}else if(!(I===M||y(I,M,d,v,g))){S=!1;break}}return g.delete(u),g.delete(f),S}return bd=a,bd}var Rd,d0;function KC(){if(d0)return Rd;d0=1;var r=Kr(),e=r.Uint8Array;return Rd=e,Rd}var kd,p0;function WC(){if(p0)return kd;p0=1;function r(e){var t=-1,i=Array(e.size);return e.forEach(function(o,a){i[++t]=[a,o]}),i}return kd=r,kd}var Pd,m0;function GC(){if(m0)return Pd;m0=1;function r(e){var t=-1,i=Array(e.size);return e.forEach(function(o){i[++t]=o}),i}return Pd=r,Pd}var Od,g0;function QC(){if(g0)return Od;g0=1;var r=Pm(),e=KC(),t=bw(),i=Nw(),o=WC(),a=GC(),u=1,f=2,d="[object Boolean]",v="[object Date]",y="[object Error]",g="[object Map]",p="[object Number]",m="[object RegExp]",A="[object Set]",T="[object String]",E="[object Symbol]",_="[object ArrayBuffer]",S="[object DataView]",N=r?r.prototype:void 0,I=N?N.valueOf:void 0;function M(F,O,R,D,C,b,L){switch(R){case S:if(F.byteLength!=O.byteLength||F.byteOffset!=O.byteOffset)return!1;F=F.buffer,O=O.buffer;case _:return!(F.byteLength!=O.byteLength||!b(new e(F),new e(O)));case d:case v:case p:return t(+F,+O);case y:return F.name==O.name&&F.message==O.message;case m:case T:return F==O+"";case g:var x=o;case A:var $=D&u;if(x||(x=a),F.size!=O.size&&!$)return!1;var W=L.get(F);if(W)return W==O;D|=f,L.set(F,O);var ne=i(x(F),x(O),D,C,b,L);return L.delete(F),ne;case E:if(I)return I.call(F)==I.call(O)}return!1}return Od=M,Od}var Cd,v0;function YC(){if(v0)return Cd;v0=1;function r(e,t){for(var i=-1,o=t.length,a=e.length;++i<o;)e[a+i]=t[i];return e}return Cd=r,Cd}var Nd,y0;function Cm(){if(y0)return Nd;y0=1;var r=Array.isArray;return Nd=r,Nd}var xd,_0;function XC(){if(_0)return xd;_0=1;var r=YC(),e=Cm();function t(i,o,a){var u=o(i);return e(i)?u:r(u,a(i))}return xd=t,xd}var Ld,E0;function JC(){if(E0)return Ld;E0=1;function r(e,t){for(var i=-1,o=e==null?0:e.length,a=0,u=[];++i<o;){var f=e[i];t(f,i,e)&&(u[a++]=f)}return u}return Ld=r,Ld}var Dd,w0;function ZC(){if(w0)return Dd;w0=1;function r(){return[]}return Dd=r,Dd}var Md,T0;function e2(){if(T0)return Md;T0=1;var r=JC(),e=ZC(),t=Object.prototype,i=t.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(u){return u==null?[]:(u=Object(u),r(o(u),function(f){return i.call(u,f)}))}:e;return Md=a,Md}var Vd,A0;function t2(){if(A0)return Vd;A0=1;function r(e,t){for(var i=-1,o=Array(e);++i<e;)o[i]=t(i);return o}return Vd=r,Vd}var qd,S0;function Vc(){if(S0)return qd;S0=1;function r(e){return e!=null&&typeof e=="object"}return qd=r,qd}var Fd,I0;function n2(){if(I0)return Fd;I0=1;var r=Lc(),e=Vc(),t="[object Arguments]";function i(o){return e(o)&&r(o)==t}return Fd=i,Fd}var Ud,b0;function r2(){if(b0)return Ud;b0=1;var r=n2(),e=Vc(),t=Object.prototype,i=t.hasOwnProperty,o=t.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(u){return e(u)&&i.call(u,"callee")&&!o.call(u,"callee")};return Ud=a,Ud}var Oa={exports:{}},jd,R0;function i2(){if(R0)return jd;R0=1;function r(){return!1}return jd=r,jd}Oa.exports;var k0;function xw(){return k0||(k0=1,function(r,e){var t=Kr(),i=i2(),o=e&&!e.nodeType&&e,a=o&&!0&&r&&!r.nodeType&&r,u=a&&a.exports===o,f=u?t.Buffer:void 0,d=f?f.isBuffer:void 0,v=d||i;r.exports=v}(Oa,Oa.exports)),Oa.exports}var Bd,P0;function o2(){if(P0)return Bd;P0=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(i,o){var a=typeof i;return o=o??r,!!o&&(a=="number"||a!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<o}return Bd=t,Bd}var zd,O0;function Lw(){if(O0)return zd;O0=1;var r=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r}return zd=e,zd}var $d,C0;function s2(){if(C0)return $d;C0=1;var r=Lc(),e=Lw(),t=Vc(),i="[object Arguments]",o="[object Array]",a="[object Boolean]",u="[object Date]",f="[object Error]",d="[object Function]",v="[object Map]",y="[object Number]",g="[object Object]",p="[object RegExp]",m="[object Set]",A="[object String]",T="[object WeakMap]",E="[object ArrayBuffer]",_="[object DataView]",S="[object Float32Array]",N="[object Float64Array]",I="[object Int8Array]",M="[object Int16Array]",F="[object Int32Array]",O="[object Uint8Array]",R="[object Uint8ClampedArray]",D="[object Uint16Array]",C="[object Uint32Array]",b={};b[S]=b[N]=b[I]=b[M]=b[F]=b[O]=b[R]=b[D]=b[C]=!0,b[i]=b[o]=b[E]=b[a]=b[_]=b[u]=b[f]=b[d]=b[v]=b[y]=b[g]=b[p]=b[m]=b[A]=b[T]=!1;function L(x){return t(x)&&e(x.length)&&!!b[r(x)]}return $d=L,$d}var Hd,N0;function a2(){if(N0)return Hd;N0=1;function r(e){return function(t){return e(t)}}return Hd=r,Hd}var Ca={exports:{}};Ca.exports;var x0;function l2(){return x0||(x0=1,function(r,e){var t=Rw(),i=e&&!e.nodeType&&e,o=i&&!0&&r&&!r.nodeType&&r,a=o&&o.exports===i,u=a&&t.process,f=function(){try{var d=o&&o.require&&o.require("util").types;return d||u&&u.binding&&u.binding("util")}catch{}}();r.exports=f}(Ca,Ca.exports)),Ca.exports}var Kd,L0;function Dw(){if(L0)return Kd;L0=1;var r=s2(),e=a2(),t=l2(),i=t&&t.isTypedArray,o=i?e(i):r;return Kd=o,Kd}var Wd,D0;function u2(){if(D0)return Wd;D0=1;var r=t2(),e=r2(),t=Cm(),i=xw(),o=o2(),a=Dw(),u=Object.prototype,f=u.hasOwnProperty;function d(v,y){var g=t(v),p=!g&&e(v),m=!g&&!p&&i(v),A=!g&&!p&&!m&&a(v),T=g||p||m||A,E=T?r(v.length,String):[],_=E.length;for(var S in v)(y||f.call(v,S))&&!(T&&(S=="length"||m&&(S=="offset"||S=="parent")||A&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||o(S,_)))&&E.push(S);return E}return Wd=d,Wd}var Gd,M0;function c2(){if(M0)return Gd;M0=1;var r=Object.prototype;function e(t){var i=t&&t.constructor,o=typeof i=="function"&&i.prototype||r;return t===o}return Gd=e,Gd}var Qd,V0;function f2(){if(V0)return Qd;V0=1;function r(e,t){return function(i){return e(t(i))}}return Qd=r,Qd}var Yd,q0;function h2(){if(q0)return Yd;q0=1;var r=f2(),e=r(Object.keys,Object);return Yd=e,Yd}var Xd,F0;function d2(){if(F0)return Xd;F0=1;var r=c2(),e=h2(),t=Object.prototype,i=t.hasOwnProperty;function o(a){if(!r(a))return e(a);var u=[];for(var f in Object(a))i.call(a,f)&&f!="constructor"&&u.push(f);return u}return Xd=o,Xd}var Jd,U0;function p2(){if(U0)return Jd;U0=1;var r=Pw(),e=Lw();function t(i){return i!=null&&e(i.length)&&!r(i)}return Jd=t,Jd}var Zd,j0;function m2(){if(j0)return Zd;j0=1;var r=u2(),e=d2(),t=p2();function i(o){return t(o)?r(o):e(o)}return Zd=i,Zd}var ep,B0;function g2(){if(B0)return ep;B0=1;var r=XC(),e=e2(),t=m2();function i(o){return r(o,t,e)}return ep=i,ep}var tp,z0;function v2(){if(z0)return tp;z0=1;var r=g2(),e=1,t=Object.prototype,i=t.hasOwnProperty;function o(a,u,f,d,v,y){var g=f&e,p=r(a),m=p.length,A=r(u),T=A.length;if(m!=T&&!g)return!1;for(var E=m;E--;){var _=p[E];if(!(g?_ in u:i.call(u,_)))return!1}var S=y.get(a),N=y.get(u);if(S&&N)return S==u&&N==a;var I=!0;y.set(a,u),y.set(u,a);for(var M=g;++E<m;){_=p[E];var F=a[_],O=u[_];if(d)var R=g?d(O,F,_,u,a,y):d(F,O,_,a,u,y);if(!(R===void 0?F===O||v(F,O,f,d,y):R)){I=!1;break}M||(M=_=="constructor")}if(I&&!M){var D=a.constructor,C=u.constructor;D!=C&&"constructor"in a&&"constructor"in u&&!(typeof D=="function"&&D instanceof D&&typeof C=="function"&&C instanceof C)&&(I=!1)}return y.delete(a),y.delete(u),I}return tp=o,tp}var np,$0;function y2(){if($0)return np;$0=1;var r=Ls(),e=Kr(),t=r(e,"DataView");return np=t,np}var rp,H0;function _2(){if(H0)return rp;H0=1;var r=Ls(),e=Kr(),t=r(e,"Promise");return rp=t,rp}var ip,K0;function E2(){if(K0)return ip;K0=1;var r=Ls(),e=Kr(),t=r(e,"Set");return ip=t,ip}var op,W0;function w2(){if(W0)return op;W0=1;var r=Ls(),e=Kr(),t=r(e,"WeakMap");return op=t,op}var sp,G0;function T2(){if(G0)return sp;G0=1;var r=y2(),e=Om(),t=_2(),i=E2(),o=w2(),a=Lc(),u=Ow(),f="[object Map]",d="[object Object]",v="[object Promise]",y="[object Set]",g="[object WeakMap]",p="[object DataView]",m=u(r),A=u(e),T=u(t),E=u(i),_=u(o),S=a;return(r&&S(new r(new ArrayBuffer(1)))!=p||e&&S(new e)!=f||t&&S(t.resolve())!=v||i&&S(new i)!=y||o&&S(new o)!=g)&&(S=function(N){var I=a(N),M=I==d?N.constructor:void 0,F=M?u(M):"";if(F)switch(F){case m:return p;case A:return f;case T:return v;case E:return y;case _:return g}return I}),sp=S,sp}var ap,Q0;function A2(){if(Q0)return ap;Q0=1;var r=UC(),e=Nw(),t=QC(),i=v2(),o=T2(),a=Cm(),u=xw(),f=Dw(),d=1,v="[object Arguments]",y="[object Array]",g="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function A(T,E,_,S,N,I){var M=a(T),F=a(E),O=M?y:o(T),R=F?y:o(E);O=O==v?g:O,R=R==v?g:R;var D=O==g,C=R==g,b=O==R;if(b&&u(T)){if(!u(E))return!1;M=!0,D=!1}if(b&&!D)return I||(I=new r),M||f(T)?e(T,E,_,S,N,I):t(T,E,O,_,S,N,I);if(!(_&d)){var L=D&&m.call(T,"__wrapped__"),x=C&&m.call(E,"__wrapped__");if(L||x){var $=L?T.value():T,W=x?E.value():E;return I||(I=new r),N($,W,_,S,I)}}return b?(I||(I=new r),i(T,E,_,S,N,I)):!1}return ap=A,ap}var lp,Y0;function S2(){if(Y0)return lp;Y0=1;var r=A2(),e=Vc();function t(i,o,a,u,f){return i===o?!0:i==null||o==null||!e(i)&&!e(o)?i!==i&&o!==o:r(i,o,a,u,t,f)}return lp=t,lp}var up,X0;function I2(){if(X0)return up;X0=1;var r=S2();function e(t,i){return r(t,i)}return up=e,up}var Bu={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */var b2=Bu.exports,J0;function R2(){return J0||(J0=1,function(r,e){(function(i,o){r.exports=o()})(typeof self<"u"?self:b2,function(){return function(t){var i={};function o(a){if(i[a])return i[a].exports;var u=i[a]={i:a,l:!1,exports:{}};return t[a].call(u.exports,u,u.exports,o),u.l=!0,u.exports}return o.m=t,o.c=i,o.d=function(a,u,f){o.o(a,u)||Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:f})},o.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(u,"a",u),u},o.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},o.p="",o(o.s=109)}([function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(17),u=o(18),f=o(19),d=o(45),v=o(46),y=o(47),g=o(48),p=o(49),m=o(12),A=o(32),T=o(33),E=o(31),_=o(1),S={Scope:_.Scope,create:_.create,find:_.find,query:_.query,register:_.register,Container:a.default,Format:u.default,Leaf:f.default,Embed:g.default,Scroll:d.default,Block:y.default,Inline:v.default,Text:p.default,Attributor:{Attribute:m.default,Class:A.default,Style:T.default,Store:E.default}};i.default=S},function(t,i,o){var a=this&&this.__extends||function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,S){_.__proto__=S}||function(_,S){for(var N in S)S.hasOwnProperty(N)&&(_[N]=S[N])};return function(_,S){E(_,S);function N(){this.constructor=_}_.prototype=S===null?Object.create(S):(N.prototype=S.prototype,new N)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=function(E){a(_,E);function _(S){var N=this;return S="[Parchment] "+S,N=E.call(this,S)||this,N.message=S,N.name=N.constructor.name,N}return _}(Error);i.ParchmentError=u;var f={},d={},v={},y={};i.DATA_KEY="__blot";var g;(function(E){E[E.TYPE=3]="TYPE",E[E.LEVEL=12]="LEVEL",E[E.ATTRIBUTE=13]="ATTRIBUTE",E[E.BLOT=14]="BLOT",E[E.INLINE=7]="INLINE",E[E.BLOCK=11]="BLOCK",E[E.BLOCK_BLOT=10]="BLOCK_BLOT",E[E.INLINE_BLOT=6]="INLINE_BLOT",E[E.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",E[E.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",E[E.ANY=15]="ANY"})(g=i.Scope||(i.Scope={}));function p(E,_){var S=A(E);if(S==null)throw new u("Unable to create "+E+" blot");var N=S,I=E instanceof Node||E.nodeType===Node.TEXT_NODE?E:N.create(_);return new N(I,_)}i.create=p;function m(E,_){return _===void 0&&(_=!1),E==null?null:E[i.DATA_KEY]!=null?E[i.DATA_KEY].blot:_?m(E.parentNode,_):null}i.find=m;function A(E,_){_===void 0&&(_=g.ANY);var S;if(typeof E=="string")S=y[E]||f[E];else if(E instanceof Text||E.nodeType===Node.TEXT_NODE)S=y.text;else if(typeof E=="number")E&g.LEVEL&g.BLOCK?S=y.block:E&g.LEVEL&g.INLINE&&(S=y.inline);else if(E instanceof HTMLElement){var N=(E.getAttribute("class")||"").split(/\s+/);for(var I in N)if(S=d[N[I]],S)break;S=S||v[E.tagName]}return S==null?null:_&g.LEVEL&S.scope&&_&g.TYPE&S.scope?S:null}i.query=A;function T(){for(var E=[],_=0;_<arguments.length;_++)E[_]=arguments[_];if(E.length>1)return E.map(function(I){return T(I)});var S=E[0];if(typeof S.blotName!="string"&&typeof S.attrName!="string")throw new u("Invalid definition");if(S.blotName==="abstract")throw new u("Cannot register abstract class");if(y[S.blotName||S.attrName]=S,typeof S.keyName=="string")f[S.keyName]=S;else if(S.className!=null&&(d[S.className]=S),S.tagName!=null){Array.isArray(S.tagName)?S.tagName=S.tagName.map(function(I){return I.toUpperCase()}):S.tagName=S.tagName.toUpperCase();var N=Array.isArray(S.tagName)?S.tagName:[S.tagName];N.forEach(function(I){(v[I]==null||S.className==null)&&(v[I]=S)})}return S}i.register=T},function(t,i,o){var a=o(51),u=o(11),f=o(3),d=o(20),v="\0",y=function(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]};y.prototype.insert=function(g,p){var m={};return g.length===0?this:(m.insert=g,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(m.attributes=p),this.push(m))},y.prototype.delete=function(g){return g<=0?this:this.push({delete:g})},y.prototype.retain=function(g,p){if(g<=0)return this;var m={retain:g};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(m.attributes=p),this.push(m)},y.prototype.push=function(g){var p=this.ops.length,m=this.ops[p-1];if(g=f(!0,{},g),typeof m=="object"){if(typeof g.delete=="number"&&typeof m.delete=="number")return this.ops[p-1]={delete:m.delete+g.delete},this;if(typeof m.delete=="number"&&g.insert!=null&&(p-=1,m=this.ops[p-1],typeof m!="object"))return this.ops.unshift(g),this;if(u(g.attributes,m.attributes)){if(typeof g.insert=="string"&&typeof m.insert=="string")return this.ops[p-1]={insert:m.insert+g.insert},typeof g.attributes=="object"&&(this.ops[p-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof m.retain=="number")return this.ops[p-1]={retain:m.retain+g.retain},typeof g.attributes=="object"&&(this.ops[p-1].attributes=g.attributes),this}}return p===this.ops.length?this.ops.push(g):this.ops.splice(p,0,g),this},y.prototype.chop=function(){var g=this.ops[this.ops.length-1];return g&&g.retain&&!g.attributes&&this.ops.pop(),this},y.prototype.filter=function(g){return this.ops.filter(g)},y.prototype.forEach=function(g){this.ops.forEach(g)},y.prototype.map=function(g){return this.ops.map(g)},y.prototype.partition=function(g){var p=[],m=[];return this.forEach(function(A){var T=g(A)?p:m;T.push(A)}),[p,m]},y.prototype.reduce=function(g,p){return this.ops.reduce(g,p)},y.prototype.changeLength=function(){return this.reduce(function(g,p){return p.insert?g+d.length(p):p.delete?g-p.delete:g},0)},y.prototype.length=function(){return this.reduce(function(g,p){return g+d.length(p)},0)},y.prototype.slice=function(g,p){g=g||0,typeof p!="number"&&(p=1/0);for(var m=[],A=d.iterator(this.ops),T=0;T<p&&A.hasNext();){var E;T<g?E=A.next(g-T):(E=A.next(p-T),m.push(E)),T+=d.length(E)}return new y(m)},y.prototype.compose=function(g){var p=d.iterator(this.ops),m=d.iterator(g.ops),A=[],T=m.peek();if(T!=null&&typeof T.retain=="number"&&T.attributes==null){for(var E=T.retain;p.peekType()==="insert"&&p.peekLength()<=E;)E-=p.peekLength(),A.push(p.next());T.retain-E>0&&m.next(T.retain-E)}for(var _=new y(A);p.hasNext()||m.hasNext();)if(m.peekType()==="insert")_.push(m.next());else if(p.peekType()==="delete")_.push(p.next());else{var S=Math.min(p.peekLength(),m.peekLength()),N=p.next(S),I=m.next(S);if(typeof I.retain=="number"){var M={};typeof N.retain=="number"?M.retain=S:M.insert=N.insert;var F=d.attributes.compose(N.attributes,I.attributes,typeof N.retain=="number");if(F&&(M.attributes=F),_.push(M),!m.hasNext()&&u(_.ops[_.ops.length-1],M)){var O=new y(p.rest());return _.concat(O).chop()}}else typeof I.delete=="number"&&typeof N.retain=="number"&&_.push(I)}return _.chop()},y.prototype.concat=function(g){var p=new y(this.ops.slice());return g.ops.length>0&&(p.push(g.ops[0]),p.ops=p.ops.concat(g.ops.slice(1))),p},y.prototype.diff=function(g,p){if(this.ops===g.ops)return new y;var m=[this,g].map(function(S){return S.map(function(N){if(N.insert!=null)return typeof N.insert=="string"?N.insert:v;var I=S===g?"on":"with";throw new Error("diff() called "+I+" non-document")}).join("")}),A=new y,T=a(m[0],m[1],p),E=d.iterator(this.ops),_=d.iterator(g.ops);return T.forEach(function(S){for(var N=S[1].length;N>0;){var I=0;switch(S[0]){case a.INSERT:I=Math.min(_.peekLength(),N),A.push(_.next(I));break;case a.DELETE:I=Math.min(N,E.peekLength()),E.next(I),A.delete(I);break;case a.EQUAL:I=Math.min(E.peekLength(),_.peekLength(),N);var M=E.next(I),F=_.next(I);u(M.insert,F.insert)?A.retain(I,d.attributes.diff(M.attributes,F.attributes)):A.push(F).delete(I);break}N-=I}}),A.chop()},y.prototype.eachLine=function(g,p){p=p||`
`;for(var m=d.iterator(this.ops),A=new y,T=0;m.hasNext();){if(m.peekType()!=="insert")return;var E=m.peek(),_=d.length(E)-m.peekLength(),S=typeof E.insert=="string"?E.insert.indexOf(p,_)-_:-1;if(S<0)A.push(m.next());else if(S>0)A.push(m.next(S));else{if(g(A,m.next(1).attributes||{},T)===!1)return;T+=1,A=new y}}A.length()>0&&g(A,{},T)},y.prototype.transform=function(g,p){if(p=!!p,typeof g=="number")return this.transformPosition(g,p);for(var m=d.iterator(this.ops),A=d.iterator(g.ops),T=new y;m.hasNext()||A.hasNext();)if(m.peekType()==="insert"&&(p||A.peekType()!=="insert"))T.retain(d.length(m.next()));else if(A.peekType()==="insert")T.push(A.next());else{var E=Math.min(m.peekLength(),A.peekLength()),_=m.next(E),S=A.next(E);if(_.delete)continue;S.delete?T.push(S):T.retain(E,d.attributes.transform(_.attributes,S.attributes,p))}return T.chop()},y.prototype.transformPosition=function(g,p){p=!!p;for(var m=d.iterator(this.ops),A=0;m.hasNext()&&A<=g;){var T=m.peekLength(),E=m.peekType();if(m.next(),E==="delete"){g-=Math.min(T,g-A);continue}else E==="insert"&&(A<g||!p)&&(g+=T);A+=T}return g},t.exports=y},function(t,i){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,u=Object.defineProperty,f=Object.getOwnPropertyDescriptor,d=function(m){return typeof Array.isArray=="function"?Array.isArray(m):a.call(m)==="[object Array]"},v=function(m){if(!m||a.call(m)!=="[object Object]")return!1;var A=o.call(m,"constructor"),T=m.constructor&&m.constructor.prototype&&o.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!A&&!T)return!1;var E;for(E in m);return typeof E>"u"||o.call(m,E)},y=function(m,A){u&&A.name==="__proto__"?u(m,A.name,{enumerable:!0,configurable:!0,value:A.newValue,writable:!0}):m[A.name]=A.newValue},g=function(m,A){if(A==="__proto__")if(o.call(m,A)){if(f)return f(m,A).value}else return;return m[A]};t.exports=function p(){var m,A,T,E,_,S,N=arguments[0],I=1,M=arguments.length,F=!1;for(typeof N=="boolean"&&(F=N,N=arguments[1]||{},I=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});I<M;++I)if(m=arguments[I],m!=null)for(A in m)T=g(N,A),E=g(m,A),N!==E&&(F&&E&&(v(E)||(_=d(E)))?(_?(_=!1,S=T&&d(T)?T:[]):S=T&&v(T)?T:{},y(N,{name:A,newValue:p(F,S,E)})):typeof E<"u"&&y(N,{name:A,newValue:E}));return N}},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BlockEmbed=i.bubbleFormats=void 0;var a=function(){function b(L,x){for(var $=0;$<x.length;$++){var W=x[$];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(L,W.key,W)}}return function(L,x,$){return x&&b(L.prototype,x),$&&b(L,$),L}}(),u=function b(L,x,$){L===null&&(L=Function.prototype);var W=Object.getOwnPropertyDescriptor(L,x);if(W===void 0){var ne=Object.getPrototypeOf(L);return ne===null?void 0:b(ne,x,$)}else{if("value"in W)return W.value;var te=W.get;return te===void 0?void 0:te.call($)}},f=o(3),d=N(f),v=o(2),y=N(v),g=o(0),p=N(g),m=o(16),A=N(m),T=o(6),E=N(T),_=o(7),S=N(_);function N(b){return b&&b.__esModule?b:{default:b}}function I(b,L){if(!(b instanceof L))throw new TypeError("Cannot call a class as a function")}function M(b,L){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:b}function F(b,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);b.prototype=Object.create(L&&L.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(b,L):b.__proto__=L)}var O=1,R=function(b){F(L,b);function L(){return I(this,L),M(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return a(L,[{key:"attach",value:function(){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"attach",this).call(this),this.attributes=new p.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new y.default().insert(this.value(),(0,d.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function($,W){var ne=p.default.query($,p.default.Scope.BLOCK_ATTRIBUTE);ne!=null&&this.attributes.attribute(ne,W)}},{key:"formatAt",value:function($,W,ne,te){this.format(ne,te)}},{key:"insertAt",value:function($,W,ne){if(typeof W=="string"&&W.endsWith(`
`)){var te=p.default.create(D.blotName);this.parent.insertBefore(te,$===0?this:this.next),te.insertAt(0,W.slice(0,-1))}else u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,$,W,ne)}}]),L}(p.default.Embed);R.scope=p.default.Scope.BLOCK_BLOT;var D=function(b){F(L,b);function L(x){I(this,L);var $=M(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,x));return $.cache={},$}return a(L,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(p.default.Leaf).reduce(function($,W){return W.length()===0?$:$.insert(W.value(),C(W))},new y.default).insert(`
`,C(this))),this.cache.delta}},{key:"deleteAt",value:function($,W){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"deleteAt",this).call(this,$,W),this.cache={}}},{key:"formatAt",value:function($,W,ne,te){W<=0||(p.default.query(ne,p.default.Scope.BLOCK)?$+W===this.length()&&this.format(ne,te):u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"formatAt",this).call(this,$,Math.min(W,this.length()-$-1),ne,te),this.cache={})}},{key:"insertAt",value:function($,W,ne){if(ne!=null)return u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,$,W,ne);if(W.length!==0){var te=W.split(`
`),re=te.shift();re.length>0&&($<this.length()-1||this.children.tail==null?u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,Math.min($,this.length()-1),re):this.children.tail.insertAt(this.children.tail.length(),re),this.cache={});var Q=this;te.reduce(function(H,V){return Q=Q.split(H,!0),Q.insertAt(0,V),V.length},$+re.length)}}},{key:"insertBefore",value:function($,W){var ne=this.children.head;u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,$,W),ne instanceof A.default&&ne.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"length",this).call(this)+O),this.cache.length}},{key:"moveChildren",value:function($,W){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"moveChildren",this).call(this,$,W),this.cache={}}},{key:"optimize",value:function($){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,$),this.cache={}}},{key:"path",value:function($){return u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"path",this).call(this,$,!0)}},{key:"removeChild",value:function($){u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"removeChild",this).call(this,$),this.cache={}}},{key:"split",value:function($){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(W&&($===0||$>=this.length()-O)){var ne=this.clone();return $===0?(this.parent.insertBefore(ne,this),this):(this.parent.insertBefore(ne,this.next),ne)}else{var te=u(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"split",this).call(this,$,W);return this.cache={},te}}}]),L}(p.default.Block);D.blotName="block",D.tagName="P",D.defaultChild="break",D.allowedChildren=[E.default,p.default.Embed,S.default];function C(b){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return b==null||(typeof b.formats=="function"&&(L=(0,d.default)(L,b.formats())),b.parent==null||b.parent.blotName=="scroll"||b.parent.statics.scope!==b.statics.scope)?L:C(b.parent,L)}i.bubbleFormats=C,i.BlockEmbed=R,i.default=D},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.overload=i.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},u=function(){function Q(H,V){var j=[],K=!0,Z=!1,J=void 0;try{for(var z=H[Symbol.iterator](),Y;!(K=(Y=z.next()).done)&&(j.push(Y.value),!(V&&j.length===V));K=!0);}catch(ie){Z=!0,J=ie}finally{try{!K&&z.return&&z.return()}finally{if(Z)throw J}}return j}return function(H,V){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return Q(H,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function Q(H,V){for(var j=0;j<V.length;j++){var K=V[j];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(H,K.key,K)}}return function(H,V,j){return V&&Q(H.prototype,V),j&&Q(H,j),H}}();o(50);var d=o(2),v=C(d),y=o(14),g=C(y),p=o(8),m=C(p),A=o(9),T=C(A),E=o(0),_=C(E),S=o(15),N=C(S),I=o(3),M=C(I),F=o(10),O=C(F),R=o(34),D=C(R);function C(Q){return Q&&Q.__esModule?Q:{default:Q}}function b(Q,H,V){return H in Q?Object.defineProperty(Q,H,{value:V,enumerable:!0,configurable:!0,writable:!0}):Q[H]=V,Q}function L(Q,H){if(!(Q instanceof H))throw new TypeError("Cannot call a class as a function")}var x=(0,O.default)("quill"),$=function(){f(Q,null,[{key:"debug",value:function(V){V===!0&&(V="log"),O.default.level(V)}},{key:"find",value:function(V){return V.__quill||_.default.find(V)}},{key:"import",value:function(V){return this.imports[V]==null&&x.error("Cannot import "+V+". Are you sure it was registered?"),this.imports[V]}},{key:"register",value:function(V,j){var K=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof V!="string"){var J=V.attrName||V.blotName;typeof J=="string"?this.register("formats/"+J,V,j):Object.keys(V).forEach(function(z){K.register(z,V[z],j)})}else this.imports[V]!=null&&!Z&&x.warn("Overwriting "+V+" with",j),this.imports[V]=j,(V.startsWith("blots/")||V.startsWith("formats/"))&&j.blotName!=="abstract"?_.default.register(j):V.startsWith("modules")&&typeof j.register=="function"&&j.register()}}]);function Q(H){var V=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,Q),this.options=W(H,j),this.container=this.options.container,this.container==null)return x.error("Invalid Quill container",H);this.options.debug&&Q.debug(this.options.debug);var K=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new m.default,this.scroll=_.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new g.default(this.scroll),this.selection=new N.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(m.default.events.EDITOR_CHANGE,function(J){J===m.default.events.TEXT_CHANGE&&V.root.classList.toggle("ql-blank",V.editor.isBlank())}),this.emitter.on(m.default.events.SCROLL_UPDATE,function(J,z){var Y=V.selection.lastRange,ie=Y&&Y.length===0?Y.index:void 0;ne.call(V,function(){return V.editor.update(null,z,ie)},J)});var Z=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+K+"<p><br></p></div>");this.setContents(Z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return f(Q,[{key:"addContainer",value:function(V){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof V=="string"){var K=V;V=document.createElement("div"),V.classList.add(K)}return this.container.insertBefore(V,j),V}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(V,j,K){var Z=this,J=te(V,j,K),z=u(J,4);return V=z[0],j=z[1],K=z[3],ne.call(this,function(){return Z.editor.deleteText(V,j)},K,V,-1*j)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(V),this.container.classList.toggle("ql-disabled",!V)}},{key:"focus",value:function(){var V=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=V,this.scrollIntoView()}},{key:"format",value:function(V,j){var K=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.default.sources.API;return ne.call(this,function(){var J=K.getSelection(!0),z=new v.default;if(J==null)return z;if(_.default.query(V,_.default.Scope.BLOCK))z=K.editor.formatLine(J.index,J.length,b({},V,j));else{if(J.length===0)return K.selection.format(V,j),z;z=K.editor.formatText(J.index,J.length,b({},V,j))}return K.setSelection(J,m.default.sources.SILENT),z},Z)}},{key:"formatLine",value:function(V,j,K,Z,J){var z=this,Y=void 0,ie=te(V,j,K,Z,J),oe=u(ie,4);return V=oe[0],j=oe[1],Y=oe[2],J=oe[3],ne.call(this,function(){return z.editor.formatLine(V,j,Y)},J,V,0)}},{key:"formatText",value:function(V,j,K,Z,J){var z=this,Y=void 0,ie=te(V,j,K,Z,J),oe=u(ie,4);return V=oe[0],j=oe[1],Y=oe[2],J=oe[3],ne.call(this,function(){return z.editor.formatText(V,j,Y)},J,V,0)}},{key:"getBounds",value:function(V){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=void 0;typeof V=="number"?K=this.selection.getBounds(V,j):K=this.selection.getBounds(V.index,V.length);var Z=this.container.getBoundingClientRect();return{bottom:K.bottom-Z.top,height:K.height,left:K.left-Z.left,right:K.right-Z.left,top:K.top-Z.top,width:K.width}}},{key:"getContents",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-V,K=te(V,j),Z=u(K,2);return V=Z[0],j=Z[1],this.editor.getContents(V,j)}},{key:"getFormat",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof V=="number"?this.editor.getFormat(V,j):this.editor.getFormat(V.index,V.length)}},{key:"getIndex",value:function(V){return V.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(V){return this.scroll.leaf(V)}},{key:"getLine",value:function(V){return this.scroll.line(V)}},{key:"getLines",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof V!="number"?this.scroll.lines(V.index,V.length):this.scroll.lines(V,j)}},{key:"getModule",value:function(V){return this.theme.modules[V]}},{key:"getSelection",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return V&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-V,K=te(V,j),Z=u(K,2);return V=Z[0],j=Z[1],this.editor.getText(V,j)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(V,j,K){var Z=this,J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Q.sources.API;return ne.call(this,function(){return Z.editor.insertEmbed(V,j,K)},J,V)}},{key:"insertText",value:function(V,j,K,Z,J){var z=this,Y=void 0,ie=te(V,0,K,Z,J),oe=u(ie,4);return V=oe[0],Y=oe[2],J=oe[3],ne.call(this,function(){return z.editor.insertText(V,j,Y)},J,V,j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(V,j,K){this.clipboard.dangerouslyPasteHTML(V,j,K)}},{key:"removeFormat",value:function(V,j,K){var Z=this,J=te(V,j,K),z=u(J,4);return V=z[0],j=z[1],K=z[3],ne.call(this,function(){return Z.editor.removeFormat(V,j)},K,V)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(V){var j=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return ne.call(this,function(){V=new v.default(V);var Z=j.getLength(),J=j.editor.deleteText(0,Z),z=j.editor.applyDelta(V),Y=z.ops[z.ops.length-1];Y!=null&&typeof Y.insert=="string"&&Y.insert[Y.insert.length-1]===`
`&&(j.editor.deleteText(j.getLength()-1,1),z.delete(1));var ie=J.compose(z);return ie},K)}},{key:"setSelection",value:function(V,j,K){if(V==null)this.selection.setRange(null,j||Q.sources.API);else{var Z=te(V,j,K),J=u(Z,4);V=J[0],j=J[1],K=J[3],this.selection.setRange(new S.Range(V,j),K),K!==m.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(V){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API,K=new v.default().insert(V);return this.setContents(K,j)}},{key:"update",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.default.sources.USER,j=this.scroll.update(V);return this.selection.update(V),j}},{key:"updateContents",value:function(V){var j=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.default.sources.API;return ne.call(this,function(){return V=new v.default(V),j.editor.applyDelta(V,K)},K,!0)}}]),Q}();$.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},$.events=m.default.events,$.sources=m.default.sources,$.version="1.3.7",$.imports={delta:v.default,parchment:_.default,"core/module":T.default,"core/theme":D.default};function W(Q,H){if(H=(0,M.default)(!0,{container:Q,modules:{clipboard:!0,keyboard:!0,history:!0}},H),!H.theme||H.theme===$.DEFAULTS.theme)H.theme=D.default;else if(H.theme=$.import("themes/"+H.theme),H.theme==null)throw new Error("Invalid theme "+H.theme+". Did you register it?");var V=(0,M.default)(!0,{},H.theme.DEFAULTS);[V,H].forEach(function(Z){Z.modules=Z.modules||{},Object.keys(Z.modules).forEach(function(J){Z.modules[J]===!0&&(Z.modules[J]={})})});var j=Object.keys(V.modules).concat(Object.keys(H.modules)),K=j.reduce(function(Z,J){var z=$.import("modules/"+J);return z==null?x.error("Cannot load "+J+" module. Are you sure you registered it?"):Z[J]=z.DEFAULTS||{},Z},{});return H.modules!=null&&H.modules.toolbar&&H.modules.toolbar.constructor!==Object&&(H.modules.toolbar={container:H.modules.toolbar}),H=(0,M.default)(!0,{},$.DEFAULTS,{modules:K},V,H),["bounds","container","scrollingContainer"].forEach(function(Z){typeof H[Z]=="string"&&(H[Z]=document.querySelector(H[Z]))}),H.modules=Object.keys(H.modules).reduce(function(Z,J){return H.modules[J]&&(Z[J]=H.modules[J]),Z},{}),H}function ne(Q,H,V,j){if(this.options.strict&&!this.isEnabled()&&H===m.default.sources.USER)return new v.default;var K=V==null?null:this.getSelection(),Z=this.editor.delta,J=Q();if(K!=null&&(V===!0&&(V=K.index),j==null?K=re(K,J,H):j!==0&&(K=re(K,V,j,H)),this.setSelection(K,m.default.sources.SILENT)),J.length()>0){var z,Y=[m.default.events.TEXT_CHANGE,J,Z,H];if((z=this.emitter).emit.apply(z,[m.default.events.EDITOR_CHANGE].concat(Y)),H!==m.default.sources.SILENT){var ie;(ie=this.emitter).emit.apply(ie,Y)}}return J}function te(Q,H,V,j,K){var Z={};return typeof Q.index=="number"&&typeof Q.length=="number"?typeof H!="number"?(K=j,j=V,V=H,H=Q.length,Q=Q.index):(H=Q.length,Q=Q.index):typeof H!="number"&&(K=j,j=V,V=H,H=0),(typeof V>"u"?"undefined":a(V))==="object"?(Z=V,K=j):typeof V=="string"&&(j!=null?Z[V]=j:K=V),K=K||m.default.sources.API,[Q,H,Z,K]}function re(Q,H,V,j){if(Q==null)return null;var K=void 0,Z=void 0;if(H instanceof v.default){var J=[Q.index,Q.index+Q.length].map(function(oe){return H.transformPosition(oe,j!==m.default.sources.USER)}),z=u(J,2);K=z[0],Z=z[1]}else{var Y=[Q.index,Q.index+Q.length].map(function(oe){return oe<H||oe===H&&j===m.default.sources.USER?oe:V>=0?oe+V:Math.max(H,oe+V)}),ie=u(Y,2);K=ie[0],Z=ie[1]}return new S.Range(K,Z-K)}i.expandConfig=W,i.overload=te,i.default=$},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function E(_,S){for(var N=0;N<S.length;N++){var I=S[N];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,S,N){return S&&E(_.prototype,S),N&&E(_,N),_}}(),u=function E(_,S,N){_===null&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,S);if(I===void 0){var M=Object.getPrototypeOf(_);return M===null?void 0:E(M,S,N)}else{if("value"in I)return I.value;var F=I.get;return F===void 0?void 0:F.call(N)}},f=o(7),d=g(f),v=o(0),y=g(v);function g(E){return E&&E.__esModule?E:{default:E}}function p(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function m(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function A(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var T=function(E){A(_,E);function _(){return p(this,_),m(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"formatAt",value:function(N,I,M,F){if(_.compare(this.statics.blotName,M)<0&&y.default.query(M,y.default.Scope.BLOT)){var O=this.isolate(N,I);F&&O.wrap(M,F)}else u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"formatAt",this).call(this,N,I,M,F)}},{key:"optimize",value:function(N){if(u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,N),this.parent instanceof _&&_.compare(this.statics.blotName,this.parent.statics.blotName)>0){var I=this.parent.isolate(this.offset(),this.length());this.moveChildren(I),I.wrap(this)}}}],[{key:"compare",value:function(N,I){var M=_.order.indexOf(N),F=_.order.indexOf(I);return M>=0||F>=0?M-F:N===I?0:N<I?-1:1}}]),_}(y.default.Inline);T.allowedChildren=[T,y.default.Embed,d.default],T.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],i.default=T},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(0),u=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function d(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function v(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function y(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var g=function(p){y(m,p);function m(){return d(this,m),v(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(u.default.Text);i.default=g},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function S(N,I){for(var M=0;M<I.length;M++){var F=I[M];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(N,F.key,F)}}return function(N,I,M){return I&&S(N.prototype,I),M&&S(N,M),N}}(),u=function S(N,I,M){N===null&&(N=Function.prototype);var F=Object.getOwnPropertyDescriptor(N,I);if(F===void 0){var O=Object.getPrototypeOf(N);return O===null?void 0:S(O,I,M)}else{if("value"in F)return F.value;var R=F.get;return R===void 0?void 0:R.call(M)}},f=o(54),d=g(f),v=o(10),y=g(v);function g(S){return S&&S.__esModule?S:{default:S}}function p(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}function m(S,N){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:S}function A(S,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);S.prototype=Object.create(N&&N.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(S,N):S.__proto__=N)}var T=(0,y.default)("quill:events"),E=["selectionchange","mousedown","mouseup","click"];E.forEach(function(S){document.addEventListener(S,function(){for(var N=arguments.length,I=Array(N),M=0;M<N;M++)I[M]=arguments[M];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(F){if(F.__quill&&F.__quill.emitter){var O;(O=F.__quill.emitter).handleDOM.apply(O,I)}})})});var _=function(S){A(N,S);function N(){p(this,N);var I=m(this,(N.__proto__||Object.getPrototypeOf(N)).call(this));return I.listeners={},I.on("error",T.error),I}return a(N,[{key:"emit",value:function(){T.log.apply(T,arguments),u(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(M){for(var F=arguments.length,O=Array(F>1?F-1:0),R=1;R<F;R++)O[R-1]=arguments[R];(this.listeners[M.type]||[]).forEach(function(D){var C=D.node,b=D.handler;(M.target===C||C.contains(M.target))&&b.apply(void 0,[M].concat(O))})}},{key:"listenDOM",value:function(M,F,O){this.listeners[M]||(this.listeners[M]=[]),this.listeners[M].push({node:F,handler:O})}}]),N}(d.default);_.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},_.sources={API:"api",SILENT:"silent",USER:"user"},i.default=_},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});function a(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}var u=function f(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,f),this.quill=d,this.options=v};u.DEFAULTS={},i.default=u},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=["error","warn","log","info"],u="warn";function f(v){if(a.indexOf(v)<=a.indexOf(u)){for(var y,g=arguments.length,p=Array(g>1?g-1:0),m=1;m<g;m++)p[m-1]=arguments[m];(y=console)[v].apply(y,p)}}function d(v){return a.reduce(function(y,g){return y[g]=f.bind(console,g,v),y},{})}f.level=d.level=function(v){u=v},i.default=d},function(t,i,o){var a=Array.prototype.slice,u=o(52),f=o(53),d=t.exports=function(p,m,A){return A||(A={}),p===m?!0:p instanceof Date&&m instanceof Date?p.getTime()===m.getTime():!p||!m||typeof p!="object"&&typeof m!="object"?A.strict?p===m:p==m:g(p,m,A)};function v(p){return p==null}function y(p){return!(!p||typeof p!="object"||typeof p.length!="number"||typeof p.copy!="function"||typeof p.slice!="function"||p.length>0&&typeof p[0]!="number")}function g(p,m,A){var T,E;if(v(p)||v(m)||p.prototype!==m.prototype)return!1;if(f(p))return f(m)?(p=a.call(p),m=a.call(m),d(p,m,A)):!1;if(y(p)){if(!y(m)||p.length!==m.length)return!1;for(T=0;T<p.length;T++)if(p[T]!==m[T])return!1;return!0}try{var _=u(p),S=u(m)}catch{return!1}if(_.length!=S.length)return!1;for(_.sort(),S.sort(),T=_.length-1;T>=0;T--)if(_[T]!=S[T])return!1;for(T=_.length-1;T>=0;T--)if(E=_[T],!d(p[E],m[E],A))return!1;return typeof p==typeof m}},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(1),u=function(){function f(d,v,y){y===void 0&&(y={}),this.attrName=d,this.keyName=v;var g=a.Scope.TYPE&a.Scope.ATTRIBUTE;y.scope!=null?this.scope=y.scope&a.Scope.LEVEL|g:this.scope=a.Scope.ATTRIBUTE,y.whitelist!=null&&(this.whitelist=y.whitelist)}return f.keys=function(d){return[].map.call(d.attributes,function(v){return v.name})},f.prototype.add=function(d,v){return this.canAdd(d,v)?(d.setAttribute(this.keyName,v),!0):!1},f.prototype.canAdd=function(d,v){var y=a.query(d,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return y==null?!1:this.whitelist==null?!0:typeof v=="string"?this.whitelist.indexOf(v.replace(/["']/g,""))>-1:this.whitelist.indexOf(v)>-1},f.prototype.remove=function(d){d.removeAttribute(this.keyName)},f.prototype.value=function(d){var v=d.getAttribute(this.keyName);return this.canAdd(d,v)&&v?v:""},f}();i.default=u},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Code=void 0;var a=function(){function R(D,C){var b=[],L=!0,x=!1,$=void 0;try{for(var W=D[Symbol.iterator](),ne;!(L=(ne=W.next()).done)&&(b.push(ne.value),!(C&&b.length===C));L=!0);}catch(te){x=!0,$=te}finally{try{!L&&W.return&&W.return()}finally{if(x)throw $}}return b}return function(D,C){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return R(D,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function R(D,C){for(var b=0;b<C.length;b++){var L=C[b];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(D,L.key,L)}}return function(D,C,b){return C&&R(D.prototype,C),b&&R(D,b),D}}(),f=function R(D,C,b){D===null&&(D=Function.prototype);var L=Object.getOwnPropertyDescriptor(D,C);if(L===void 0){var x=Object.getPrototypeOf(D);return x===null?void 0:R(x,C,b)}else{if("value"in L)return L.value;var $=L.get;return $===void 0?void 0:$.call(b)}},d=o(2),v=S(d),y=o(0),g=S(y),p=o(4),m=S(p),A=o(6),T=S(A),E=o(7),_=S(E);function S(R){return R&&R.__esModule?R:{default:R}}function N(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function I(R,D){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:R}function M(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(R,D):R.__proto__=D)}var F=function(R){M(D,R);function D(){return N(this,D),I(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return D}(T.default);F.blotName="code",F.tagName="CODE";var O=function(R){M(D,R);function D(){return N(this,D),I(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return u(D,[{key:"delta",value:function(){var b=this,L=this.domNode.textContent;return L.endsWith(`
`)&&(L=L.slice(0,-1)),L.split(`
`).reduce(function(x,$){return x.insert($).insert(`
`,b.formats())},new v.default)}},{key:"format",value:function(b,L){if(!(b===this.statics.blotName&&L)){var x=this.descendant(_.default,this.length()-1),$=a(x,1),W=$[0];W!=null&&W.deleteAt(W.length()-1,1),f(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,b,L)}}},{key:"formatAt",value:function(b,L,x,$){if(L!==0&&!(g.default.query(x,g.default.Scope.BLOCK)==null||x===this.statics.blotName&&$===this.statics.formats(this.domNode))){var W=this.newlineIndex(b);if(!(W<0||W>=b+L)){var ne=this.newlineIndex(b,!0)+1,te=W-ne+1,re=this.isolate(ne,te),Q=re.next;re.format(x,$),Q instanceof D&&Q.formatAt(0,b-ne+L-te,x,$)}}}},{key:"insertAt",value:function(b,L,x){if(x==null){var $=this.descendant(_.default,b),W=a($,2),ne=W[0],te=W[1];ne.insertAt(te,L)}}},{key:"length",value:function(){var b=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?b:b+1}},{key:"newlineIndex",value:function(b){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L)return this.domNode.textContent.slice(0,b).lastIndexOf(`
`);var x=this.domNode.textContent.slice(b).indexOf(`
`);return x>-1?b+x:-1}},{key:"optimize",value:function(b){this.domNode.textContent.endsWith(`
`)||this.appendChild(g.default.create("text",`
`)),f(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,b);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===L.statics.formats(L.domNode)&&(L.optimize(b),L.moveChildren(this),L.remove())}},{key:"replace",value:function(b){f(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replace",this).call(this,b),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(L){var x=g.default.find(L);x==null?L.parentNode.removeChild(L):x instanceof g.default.Embed?x.remove():x.unwrap()})}}],[{key:"create",value:function(b){var L=f(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,b);return L.setAttribute("spellcheck",!1),L}},{key:"formats",value:function(){return!0}}]),D}(m.default);O.blotName="code-block",O.tagName="PRE",O.TAB="  ",i.Code=F,i.default=O},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},u=function(){function Q(H,V){var j=[],K=!0,Z=!1,J=void 0;try{for(var z=H[Symbol.iterator](),Y;!(K=(Y=z.next()).done)&&(j.push(Y.value),!(V&&j.length===V));K=!0);}catch(ie){Z=!0,J=ie}finally{try{!K&&z.return&&z.return()}finally{if(Z)throw J}}return j}return function(H,V){if(Array.isArray(H))return H;if(Symbol.iterator in Object(H))return Q(H,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function Q(H,V){for(var j=0;j<V.length;j++){var K=V[j];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(H,K.key,K)}}return function(H,V,j){return V&&Q(H.prototype,V),j&&Q(H,j),H}}(),d=o(2),v=L(d),y=o(20),g=L(y),p=o(0),m=L(p),A=o(13),T=L(A),E=o(24),_=L(E),S=o(4),N=L(S),I=o(16),M=L(I),F=o(21),O=L(F),R=o(11),D=L(R),C=o(3),b=L(C);function L(Q){return Q&&Q.__esModule?Q:{default:Q}}function x(Q,H,V){return H in Q?Object.defineProperty(Q,H,{value:V,enumerable:!0,configurable:!0,writable:!0}):Q[H]=V,Q}function $(Q,H){if(!(Q instanceof H))throw new TypeError("Cannot call a class as a function")}var W=/^[ -~]*$/,ne=function(){function Q(H){$(this,Q),this.scroll=H,this.delta=this.getDelta()}return f(Q,[{key:"applyDelta",value:function(V){var j=this,K=!1;this.scroll.update();var Z=this.scroll.length();return this.scroll.batchStart(),V=re(V),V.reduce(function(J,z){var Y=z.retain||z.delete||z.insert.length||1,ie=z.attributes||{};if(z.insert!=null){if(typeof z.insert=="string"){var oe=z.insert;oe.endsWith(`
`)&&K&&(K=!1,oe=oe.slice(0,-1)),J>=Z&&!oe.endsWith(`
`)&&(K=!0),j.scroll.insertAt(J,oe);var he=j.scroll.line(J),Ie=u(he,2),Le=Ie[0],Ve=Ie[1],He=(0,b.default)({},(0,S.bubbleFormats)(Le));if(Le instanceof N.default){var Ge=Le.descendant(m.default.Leaf,Ve),It=u(Ge,1),ht=It[0];He=(0,b.default)(He,(0,S.bubbleFormats)(ht))}ie=g.default.attributes.diff(He,ie)||{}}else if(a(z.insert)==="object"){var fe=Object.keys(z.insert)[0];if(fe==null)return J;j.scroll.insertAt(J,fe,z.insert[fe])}Z+=Y}return Object.keys(ie).forEach(function(de){j.scroll.formatAt(J,Y,de,ie[de])}),J+Y},0),V.reduce(function(J,z){return typeof z.delete=="number"?(j.scroll.deleteAt(J,z.delete),J):J+(z.retain||z.insert.length||1)},0),this.scroll.batchEnd(),this.update(V)}},{key:"deleteText",value:function(V,j){return this.scroll.deleteAt(V,j),this.update(new v.default().retain(V).delete(j))}},{key:"formatLine",value:function(V,j){var K=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Z).forEach(function(J){if(!(K.scroll.whitelist!=null&&!K.scroll.whitelist[J])){var z=K.scroll.lines(V,Math.max(j,1)),Y=j;z.forEach(function(ie){var oe=ie.length();if(!(ie instanceof T.default))ie.format(J,Z[J]);else{var he=V-ie.offset(K.scroll),Ie=ie.newlineIndex(he+Y)-he+1;ie.formatAt(he,Ie,J,Z[J])}Y-=oe})}}),this.scroll.optimize(),this.update(new v.default().retain(V).retain(j,(0,O.default)(Z)))}},{key:"formatText",value:function(V,j){var K=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Z).forEach(function(J){K.scroll.formatAt(V,j,J,Z[J])}),this.update(new v.default().retain(V).retain(j,(0,O.default)(Z)))}},{key:"getContents",value:function(V,j){return this.delta.slice(V,V+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(V,j){return V.concat(j.delta())},new v.default)}},{key:"getFormat",value:function(V){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=[],Z=[];j===0?this.scroll.path(V).forEach(function(z){var Y=u(z,1),ie=Y[0];ie instanceof N.default?K.push(ie):ie instanceof m.default.Leaf&&Z.push(ie)}):(K=this.scroll.lines(V,j),Z=this.scroll.descendants(m.default.Leaf,V,j));var J=[K,Z].map(function(z){if(z.length===0)return{};for(var Y=(0,S.bubbleFormats)(z.shift());Object.keys(Y).length>0;){var ie=z.shift();if(ie==null)return Y;Y=te((0,S.bubbleFormats)(ie),Y)}return Y});return b.default.apply(b.default,J)}},{key:"getText",value:function(V,j){return this.getContents(V,j).filter(function(K){return typeof K.insert=="string"}).map(function(K){return K.insert}).join("")}},{key:"insertEmbed",value:function(V,j,K){return this.scroll.insertAt(V,j,K),this.update(new v.default().retain(V).insert(x({},j,K)))}},{key:"insertText",value:function(V,j){var K=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(V,j),Object.keys(Z).forEach(function(J){K.scroll.formatAt(V,j.length,J,Z[J])}),this.update(new v.default().retain(V).insert(j,(0,O.default)(Z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var V=this.scroll.children.head;return V.statics.blotName!==N.default.blotName||V.children.length>1?!1:V.children.head instanceof M.default}},{key:"removeFormat",value:function(V,j){var K=this.getText(V,j),Z=this.scroll.line(V+j),J=u(Z,2),z=J[0],Y=J[1],ie=0,oe=new v.default;z!=null&&(z instanceof T.default?ie=z.newlineIndex(Y)-Y+1:ie=z.length()-Y,oe=z.delta().slice(Y,Y+ie-1).insert(`
`));var he=this.getContents(V,j+ie),Ie=he.diff(new v.default().insert(K).concat(oe)),Le=new v.default().retain(V).concat(Ie);return this.applyDelta(Le)}},{key:"update",value:function(V){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Z=this.delta;if(j.length===1&&j[0].type==="characterData"&&j[0].target.data.match(W)&&m.default.find(j[0].target)){var J=m.default.find(j[0].target),z=(0,S.bubbleFormats)(J),Y=J.offset(this.scroll),ie=j[0].oldValue.replace(_.default.CONTENTS,""),oe=new v.default().insert(ie),he=new v.default().insert(J.value()),Ie=new v.default().retain(Y).concat(oe.diff(he,K));V=Ie.reduce(function(Le,Ve){return Ve.insert?Le.insert(Ve.insert,z):Le.push(Ve)},new v.default),this.delta=Z.compose(V)}else this.delta=this.getDelta(),(!V||!(0,D.default)(Z.compose(V),this.delta))&&(V=Z.diff(this.delta,K));return V}}]),Q}();function te(Q,H){return Object.keys(H).reduce(function(V,j){return Q[j]==null||(H[j]===Q[j]?V[j]=H[j]:Array.isArray(H[j])?H[j].indexOf(Q[j])<0&&(V[j]=H[j].concat([Q[j]])):V[j]=[H[j],Q[j]]),V},{})}function re(Q){return Q.reduce(function(H,V){if(V.insert===1){var j=(0,O.default)(V.attributes);return delete j.image,H.insert({image:V.attributes.image},j)}if(V.attributes!=null&&(V.attributes.list===!0||V.attributes.bullet===!0)&&(V=(0,O.default)(V),V.attributes.list?V.attributes.list="ordered":(V.attributes.list="bullet",delete V.attributes.bullet)),typeof V.insert=="string"){var K=V.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return H.insert(K,V.attributes)}return H.push(V)},new v.default)}i.default=ne},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Range=void 0;var a=function(){function R(D,C){var b=[],L=!0,x=!1,$=void 0;try{for(var W=D[Symbol.iterator](),ne;!(L=(ne=W.next()).done)&&(b.push(ne.value),!(C&&b.length===C));L=!0);}catch(te){x=!0,$=te}finally{try{!L&&W.return&&W.return()}finally{if(x)throw $}}return b}return function(D,C){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return R(D,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function R(D,C){for(var b=0;b<C.length;b++){var L=C[b];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(D,L.key,L)}}return function(D,C,b){return C&&R(D.prototype,C),b&&R(D,b),D}}(),f=o(0),d=_(f),v=o(21),y=_(v),g=o(11),p=_(g),m=o(8),A=_(m),T=o(10),E=_(T);function _(R){return R&&R.__esModule?R:{default:R}}function S(R){if(Array.isArray(R)){for(var D=0,C=Array(R.length);D<R.length;D++)C[D]=R[D];return C}else return Array.from(R)}function N(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}var I=(0,E.default)("quill:selection"),M=function R(D){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;N(this,R),this.index=D,this.length=C},F=function(){function R(D,C){var b=this;N(this,R),this.emitter=C,this.scroll=D,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=d.default.create("cursor",this),this.lastRange=this.savedRange=new M(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){b.mouseDown||setTimeout(b.update.bind(b,A.default.sources.USER),1)}),this.emitter.on(A.default.events.EDITOR_CHANGE,function(L,x){L===A.default.events.TEXT_CHANGE&&x.length()>0&&b.update(A.default.sources.SILENT)}),this.emitter.on(A.default.events.SCROLL_BEFORE_UPDATE,function(){if(b.hasFocus()){var L=b.getNativeRange();L!=null&&L.start.node!==b.cursor.textNode&&b.emitter.once(A.default.events.SCROLL_UPDATE,function(){try{b.setNativeRange(L.start.node,L.start.offset,L.end.node,L.end.offset)}catch{}})}}),this.emitter.on(A.default.events.SCROLL_OPTIMIZE,function(L,x){if(x.range){var $=x.range,W=$.startNode,ne=$.startOffset,te=$.endNode,re=$.endOffset;b.setNativeRange(W,ne,te,re)}}),this.update(A.default.sources.SILENT)}return u(R,[{key:"handleComposition",value:function(){var C=this;this.root.addEventListener("compositionstart",function(){C.composing=!0}),this.root.addEventListener("compositionend",function(){if(C.composing=!1,C.cursor.parent){var b=C.cursor.restore();if(!b)return;setTimeout(function(){C.setNativeRange(b.startNode,b.startOffset,b.endNode,b.endOffset)},1)}})}},{key:"handleDragging",value:function(){var C=this;this.emitter.listenDOM("mousedown",document.body,function(){C.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){C.mouseDown=!1,C.update(A.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(C,b){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[C])){this.scroll.update();var L=this.getNativeRange();if(!(L==null||!L.native.collapsed||d.default.query(C,d.default.Scope.BLOCK))){if(L.start.node!==this.cursor.textNode){var x=d.default.find(L.start.node,!1);if(x==null)return;if(x instanceof d.default.Leaf){var $=x.split(L.start.offset);x.parent.insertBefore(this.cursor,$)}else x.insertBefore(this.cursor,L.start.node);this.cursor.attach()}this.cursor.format(C,b),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(C){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=this.scroll.length();C=Math.min(C,L-1),b=Math.min(C+b,L-1)-C;var x=void 0,$=this.scroll.leaf(C),W=a($,2),ne=W[0],te=W[1];if(ne==null)return null;var re=ne.position(te,!0),Q=a(re,2);x=Q[0],te=Q[1];var H=document.createRange();if(b>0){H.setStart(x,te);var V=this.scroll.leaf(C+b),j=a(V,2);if(ne=j[0],te=j[1],ne==null)return null;var K=ne.position(te,!0),Z=a(K,2);return x=Z[0],te=Z[1],H.setEnd(x,te),H.getBoundingClientRect()}else{var J="left",z=void 0;return x instanceof Text?(te<x.data.length?(H.setStart(x,te),H.setEnd(x,te+1)):(H.setStart(x,te-1),H.setEnd(x,te),J="right"),z=H.getBoundingClientRect()):(z=ne.domNode.getBoundingClientRect(),te>0&&(J="right")),{bottom:z.top+z.height,height:z.height,left:z[J],right:z[J],top:z.top,width:0}}}},{key:"getNativeRange",value:function(){var C=document.getSelection();if(C==null||C.rangeCount<=0)return null;var b=C.getRangeAt(0);if(b==null)return null;var L=this.normalizeNative(b);return I.info("getNativeRange",L),L}},{key:"getRange",value:function(){var C=this.getNativeRange();if(C==null)return[null,null];var b=this.normalizedToRange(C);return[b,C]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(C){var b=this,L=[[C.start.node,C.start.offset]];C.native.collapsed||L.push([C.end.node,C.end.offset]);var x=L.map(function(ne){var te=a(ne,2),re=te[0],Q=te[1],H=d.default.find(re,!0),V=H.offset(b.scroll);return Q===0?V:H instanceof d.default.Container?V+H.length():V+H.index(re,Q)}),$=Math.min(Math.max.apply(Math,S(x)),this.scroll.length()-1),W=Math.min.apply(Math,[$].concat(S(x)));return new M(W,$-W)}},{key:"normalizeNative",value:function(C){if(!O(this.root,C.startContainer)||!C.collapsed&&!O(this.root,C.endContainer))return null;var b={start:{node:C.startContainer,offset:C.startOffset},end:{node:C.endContainer,offset:C.endOffset},native:C};return[b.start,b.end].forEach(function(L){for(var x=L.node,$=L.offset;!(x instanceof Text)&&x.childNodes.length>0;)if(x.childNodes.length>$)x=x.childNodes[$],$=0;else if(x.childNodes.length===$)x=x.lastChild,$=x instanceof Text?x.data.length:x.childNodes.length+1;else break;L.node=x,L.offset=$}),b}},{key:"rangeToNative",value:function(C){var b=this,L=C.collapsed?[C.index]:[C.index,C.index+C.length],x=[],$=this.scroll.length();return L.forEach(function(W,ne){W=Math.min($-1,W);var te=void 0,re=b.scroll.leaf(W),Q=a(re,2),H=Q[0],V=Q[1],j=H.position(V,ne!==0),K=a(j,2);te=K[0],V=K[1],x.push(te,V)}),x.length<2&&(x=x.concat(x)),x}},{key:"scrollIntoView",value:function(C){var b=this.lastRange;if(b!=null){var L=this.getBounds(b.index,b.length);if(L!=null){var x=this.scroll.length()-1,$=this.scroll.line(Math.min(b.index,x)),W=a($,1),ne=W[0],te=ne;if(b.length>0){var re=this.scroll.line(Math.min(b.index+b.length,x)),Q=a(re,1);te=Q[0]}if(!(ne==null||te==null)){var H=C.getBoundingClientRect();L.top<H.top?C.scrollTop-=H.top-L.top:L.bottom>H.bottom&&(C.scrollTop+=L.bottom-H.bottom)}}}}},{key:"setNativeRange",value:function(C,b){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:b,$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(I.info("setNativeRange",C,b,L,x),!(C!=null&&(this.root.parentNode==null||C.parentNode==null||L.parentNode==null))){var W=document.getSelection();if(W!=null)if(C!=null){this.hasFocus()||this.root.focus();var ne=(this.getNativeRange()||{}).native;if(ne==null||$||C!==ne.startContainer||b!==ne.startOffset||L!==ne.endContainer||x!==ne.endOffset){C.tagName=="BR"&&(b=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode),L.tagName=="BR"&&(x=[].indexOf.call(L.parentNode.childNodes,L),L=L.parentNode);var te=document.createRange();te.setStart(C,b),te.setEnd(L,x),W.removeAllRanges(),W.addRange(te)}}else W.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(C){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A.default.sources.API;if(typeof b=="string"&&(L=b,b=!1),I.info("setRange",C),C!=null){var x=this.rangeToNative(C);this.setNativeRange.apply(this,S(x).concat([b]))}else this.setNativeRange(null);this.update(L)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A.default.sources.USER,b=this.lastRange,L=this.getRange(),x=a(L,2),$=x[0],W=x[1];if(this.lastRange=$,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,p.default)(b,this.lastRange)){var ne;!this.composing&&W!=null&&W.native.collapsed&&W.start.node!==this.cursor.textNode&&this.cursor.restore();var te=[A.default.events.SELECTION_CHANGE,(0,y.default)(this.lastRange),(0,y.default)(b),C];if((ne=this.emitter).emit.apply(ne,[A.default.events.EDITOR_CHANGE].concat(te)),C!==A.default.sources.SILENT){var re;(re=this.emitter).emit.apply(re,te)}}}}]),R}();function O(R,D){try{D.parentNode}catch{return!1}return D instanceof Text&&(D=D.parentNode),R.contains(D)}i.Range=M,i.default=F},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function A(T,E){for(var _=0;_<E.length;_++){var S=E[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,E,_){return E&&A(T.prototype,E),_&&A(T,_),T}}(),u=function A(T,E,_){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,E);if(S===void 0){var N=Object.getPrototypeOf(T);return N===null?void 0:A(N,E,_)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(_)}},f=o(0),d=v(f);function v(A){return A&&A.__esModule?A:{default:A}}function y(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function g(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function p(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var m=function(A){p(T,A);function T(){return y(this,T),g(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"insertInto",value:function(_,S){_.children.length===0?u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertInto",this).call(this,_,S):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),T}(d.default.Embed);m.blotName="break",m.tagName="BR",i.default=m},function(t,i,o){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var A in m)m.hasOwnProperty(A)&&(p[A]=m[A])};return function(p,m){g(p,m);function A(){this.constructor=p}p.prototype=m===null?Object.create(m):(A.prototype=m.prototype,new A)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(44),f=o(30),d=o(1),v=function(g){a(p,g);function p(m){var A=g.call(this,m)||this;return A.build(),A}return p.prototype.appendChild=function(m){this.insertBefore(m)},p.prototype.attach=function(){g.prototype.attach.call(this),this.children.forEach(function(m){m.attach()})},p.prototype.build=function(){var m=this;this.children=new u.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(A){try{var T=y(A);m.insertBefore(T,m.children.head||void 0)}catch(E){if(E instanceof d.ParchmentError)return;throw E}})},p.prototype.deleteAt=function(m,A){if(m===0&&A===this.length())return this.remove();this.children.forEachAt(m,A,function(T,E,_){T.deleteAt(E,_)})},p.prototype.descendant=function(m,A){var T=this.children.find(A),E=T[0],_=T[1];return m.blotName==null&&m(E)||m.blotName!=null&&E instanceof m?[E,_]:E instanceof p?E.descendant(m,_):[null,-1]},p.prototype.descendants=function(m,A,T){A===void 0&&(A=0),T===void 0&&(T=Number.MAX_VALUE);var E=[],_=T;return this.children.forEachAt(A,T,function(S,N,I){(m.blotName==null&&m(S)||m.blotName!=null&&S instanceof m)&&E.push(S),S instanceof p&&(E=E.concat(S.descendants(m,N,_))),_-=I}),E},p.prototype.detach=function(){this.children.forEach(function(m){m.detach()}),g.prototype.detach.call(this)},p.prototype.formatAt=function(m,A,T,E){this.children.forEachAt(m,A,function(_,S,N){_.formatAt(S,N,T,E)})},p.prototype.insertAt=function(m,A,T){var E=this.children.find(m),_=E[0],S=E[1];if(_)_.insertAt(S,A,T);else{var N=T==null?d.create("text",A):d.create(A,T);this.appendChild(N)}},p.prototype.insertBefore=function(m,A){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(T){return m instanceof T}))throw new d.ParchmentError("Cannot insert "+m.statics.blotName+" into "+this.statics.blotName);m.insertInto(this,A)},p.prototype.length=function(){return this.children.reduce(function(m,A){return m+A.length()},0)},p.prototype.moveChildren=function(m,A){this.children.forEach(function(T){m.insertBefore(T,A)})},p.prototype.optimize=function(m){if(g.prototype.optimize.call(this,m),this.children.length===0)if(this.statics.defaultChild!=null){var A=d.create(this.statics.defaultChild);this.appendChild(A),A.optimize(m)}else this.remove()},p.prototype.path=function(m,A){A===void 0&&(A=!1);var T=this.children.find(m,A),E=T[0],_=T[1],S=[[this,m]];return E instanceof p?S.concat(E.path(_,A)):(E!=null&&S.push([E,_]),S)},p.prototype.removeChild=function(m){this.children.remove(m)},p.prototype.replace=function(m){m instanceof p&&m.moveChildren(this),g.prototype.replace.call(this,m)},p.prototype.split=function(m,A){if(A===void 0&&(A=!1),!A){if(m===0)return this;if(m===this.length())return this.next}var T=this.clone();return this.parent.insertBefore(T,this.next),this.children.forEachAt(m,this.length(),function(E,_,S){E=E.split(_,A),T.appendChild(E)}),T},p.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},p.prototype.update=function(m,A){var T=this,E=[],_=[];m.forEach(function(S){S.target===T.domNode&&S.type==="childList"&&(E.push.apply(E,S.addedNodes),_.push.apply(_,S.removedNodes))}),_.forEach(function(S){if(!(S.parentNode!=null&&S.tagName!=="IFRAME"&&document.body.compareDocumentPosition(S)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var N=d.find(S);N!=null&&(N.domNode.parentNode==null||N.domNode.parentNode===T.domNode)&&N.detach()}}),E.filter(function(S){return S.parentNode==T.domNode}).sort(function(S,N){return S===N?0:S.compareDocumentPosition(N)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(S){var N=null;S.nextSibling!=null&&(N=d.find(S.nextSibling));var I=y(S);(I.next!=N||I.next==null)&&(I.parent!=null&&I.parent.removeChild(T),T.insertBefore(I,N||void 0))})},p}(f.default);function y(g){var p=d.find(g);if(p==null)try{p=d.create(g)}catch{p=d.create(d.Scope.INLINE),[].slice.call(g.childNodes).forEach(function(A){p.domNode.appendChild(A)}),g.parentNode&&g.parentNode.replaceChild(p.domNode,g),p.attach()}return p}i.default=v},function(t,i,o){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var A in m)m.hasOwnProperty(A)&&(p[A]=m[A])};return function(p,m){g(p,m);function A(){this.constructor=p}p.prototype=m===null?Object.create(m):(A.prototype=m.prototype,new A)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(12),f=o(31),d=o(17),v=o(1),y=function(g){a(p,g);function p(m){var A=g.call(this,m)||this;return A.attributes=new f.default(A.domNode),A}return p.formats=function(m){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return m.tagName.toLowerCase()},p.prototype.format=function(m,A){var T=v.query(m);T instanceof u.default?this.attributes.attribute(T,A):A&&T!=null&&(m!==this.statics.blotName||this.formats()[m]!==A)&&this.replaceWith(m,A)},p.prototype.formats=function(){var m=this.attributes.values(),A=this.statics.formats(this.domNode);return A!=null&&(m[this.statics.blotName]=A),m},p.prototype.replaceWith=function(m,A){var T=g.prototype.replaceWith.call(this,m,A);return this.attributes.copy(T),T},p.prototype.update=function(m,A){var T=this;g.prototype.update.call(this,m,A),m.some(function(E){return E.target===T.domNode&&E.type==="attributes"})&&this.attributes.build()},p.prototype.wrap=function(m,A){var T=g.prototype.wrap.call(this,m,A);return T instanceof p&&T.statics.scope===this.statics.scope&&this.attributes.move(T),T},p}(d.default);i.default=y},function(t,i,o){var a=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){v(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(30),f=o(1),d=function(v){a(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.value=function(g){return!0},y.prototype.index=function(g,p){return this.domNode===g||this.domNode.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(p,1):-1},y.prototype.position=function(g,p){var m=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return g>0&&(m+=1),[this.parent.domNode,m]},y.prototype.value=function(){var g;return g={},g[this.statics.blotName]=this.statics.value(this.domNode)||!0,g},y.scope=f.Scope.INLINE_BLOT,y}(u.default);i.default=d},function(t,i,o){var a=o(11),u=o(3),f={attributes:{compose:function(v,y,g){typeof v!="object"&&(v={}),typeof y!="object"&&(y={});var p=u(!0,{},y);g||(p=Object.keys(p).reduce(function(A,T){return p[T]!=null&&(A[T]=p[T]),A},{}));for(var m in v)v[m]!==void 0&&y[m]===void 0&&(p[m]=v[m]);return Object.keys(p).length>0?p:void 0},diff:function(v,y){typeof v!="object"&&(v={}),typeof y!="object"&&(y={});var g=Object.keys(v).concat(Object.keys(y)).reduce(function(p,m){return a(v[m],y[m])||(p[m]=y[m]===void 0?null:y[m]),p},{});return Object.keys(g).length>0?g:void 0},transform:function(v,y,g){if(typeof v!="object")return y;if(typeof y=="object"){if(!g)return y;var p=Object.keys(y).reduce(function(m,A){return v[A]===void 0&&(m[A]=y[A]),m},{});return Object.keys(p).length>0?p:void 0}}},iterator:function(v){return new d(v)},length:function(v){return typeof v.delete=="number"?v.delete:typeof v.retain=="number"?v.retain:typeof v.insert=="string"?v.insert.length:1}};function d(v){this.ops=v,this.index=0,this.offset=0}d.prototype.hasNext=function(){return this.peekLength()<1/0},d.prototype.next=function(v){v||(v=1/0);var y=this.ops[this.index];if(y){var g=this.offset,p=f.length(y);if(v>=p-g?(v=p-g,this.index+=1,this.offset=0):this.offset+=v,typeof y.delete=="number")return{delete:v};var m={};return y.attributes&&(m.attributes=y.attributes),typeof y.retain=="number"?m.retain=v:typeof y.insert=="string"?m.insert=y.insert.substr(g,v):m.insert=y.insert,m}else return{retain:1/0}},d.prototype.peek=function(){return this.ops[this.index]},d.prototype.peekLength=function(){return this.ops[this.index]?f.length(this.ops[this.index])-this.offset:1/0},d.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},d.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var v=this.offset,y=this.index,g=this.next(),p=this.ops.slice(this.index);return this.offset=v,this.index=y,[g].concat(p)}else return[]},t.exports=f},function(t,i){var o=function(){function a(T,E){return E!=null&&T instanceof E}var u;try{u=Map}catch{u=function(){}}var f;try{f=Set}catch{f=function(){}}var d;try{d=Promise}catch{d=function(){}}function v(T,E,_,S,N){typeof E=="object"&&(_=E.depth,S=E.prototype,N=E.includeNonEnumerable,E=E.circular);var I=[],M=[],F=typeof Buffer<"u";typeof E>"u"&&(E=!0),typeof _>"u"&&(_=1/0);function O(R,D){if(R===null)return null;if(D===0)return R;var C,b;if(typeof R!="object")return R;if(a(R,u))C=new u;else if(a(R,f))C=new f;else if(a(R,d))C=new d(function(H,V){R.then(function(j){H(O(j,D-1))},function(j){V(O(j,D-1))})});else if(v.__isArray(R))C=[];else if(v.__isRegExp(R))C=new RegExp(R.source,A(R)),R.lastIndex&&(C.lastIndex=R.lastIndex);else if(v.__isDate(R))C=new Date(R.getTime());else{if(F&&Buffer.isBuffer(R))return Buffer.allocUnsafe?C=Buffer.allocUnsafe(R.length):C=new Buffer(R.length),R.copy(C),C;a(R,Error)?C=Object.create(R):typeof S>"u"?(b=Object.getPrototypeOf(R),C=Object.create(b)):(C=Object.create(S),b=S)}if(E){var L=I.indexOf(R);if(L!=-1)return M[L];I.push(R),M.push(C)}a(R,u)&&R.forEach(function(H,V){var j=O(V,D-1),K=O(H,D-1);C.set(j,K)}),a(R,f)&&R.forEach(function(H){var V=O(H,D-1);C.add(V)});for(var x in R){var $;b&&($=Object.getOwnPropertyDescriptor(b,x)),!($&&$.set==null)&&(C[x]=O(R[x],D-1))}if(Object.getOwnPropertySymbols)for(var W=Object.getOwnPropertySymbols(R),x=0;x<W.length;x++){var ne=W[x],te=Object.getOwnPropertyDescriptor(R,ne);te&&!te.enumerable&&!N||(C[ne]=O(R[ne],D-1),te.enumerable||Object.defineProperty(C,ne,{enumerable:!1}))}if(N)for(var re=Object.getOwnPropertyNames(R),x=0;x<re.length;x++){var Q=re[x],te=Object.getOwnPropertyDescriptor(R,Q);te&&te.enumerable||(C[Q]=O(R[Q],D-1),Object.defineProperty(C,Q,{enumerable:!1}))}return C}return O(T,_)}v.clonePrototype=function(E){if(E===null)return null;var _=function(){};return _.prototype=E,new _};function y(T){return Object.prototype.toString.call(T)}v.__objToStr=y;function g(T){return typeof T=="object"&&y(T)==="[object Date]"}v.__isDate=g;function p(T){return typeof T=="object"&&y(T)==="[object Array]"}v.__isArray=p;function m(T){return typeof T=="object"&&y(T)==="[object RegExp]"}v.__isRegExp=m;function A(T){var E="";return T.global&&(E+="g"),T.ignoreCase&&(E+="i"),T.multiline&&(E+="m"),E}return v.__getRegExpFlags=A,v}();typeof t=="object"&&t.exports&&(t.exports=o)},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function C(b,L){var x=[],$=!0,W=!1,ne=void 0;try{for(var te=b[Symbol.iterator](),re;!($=(re=te.next()).done)&&(x.push(re.value),!(L&&x.length===L));$=!0);}catch(Q){W=!0,ne=Q}finally{try{!$&&te.return&&te.return()}finally{if(W)throw ne}}return x}return function(b,L){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return C(b,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function C(b,L){for(var x=0;x<L.length;x++){var $=L[x];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(b,$.key,$)}}return function(b,L,x){return L&&C(b.prototype,L),x&&C(b,x),b}}(),f=function C(b,L,x){b===null&&(b=Function.prototype);var $=Object.getOwnPropertyDescriptor(b,L);if($===void 0){var W=Object.getPrototypeOf(b);return W===null?void 0:C(W,L,x)}else{if("value"in $)return $.value;var ne=$.get;return ne===void 0?void 0:ne.call(x)}},d=o(0),v=I(d),y=o(8),g=I(y),p=o(4),m=I(p),A=o(16),T=I(A),E=o(13),_=I(E),S=o(25),N=I(S);function I(C){return C&&C.__esModule?C:{default:C}}function M(C,b){if(!(C instanceof b))throw new TypeError("Cannot call a class as a function")}function F(C,b){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:C}function O(C,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);C.prototype=Object.create(b&&b.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(C,b):C.__proto__=b)}function R(C){return C instanceof m.default||C instanceof p.BlockEmbed}var D=function(C){O(b,C);function b(L,x){M(this,b);var $=F(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,L));return $.emitter=x.emitter,Array.isArray(x.whitelist)&&($.whitelist=x.whitelist.reduce(function(W,ne){return W[ne]=!0,W},{})),$.domNode.addEventListener("DOMNodeInserted",function(){}),$.optimize(),$.enable(),$}return u(b,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(x,$){var W=this.line(x),ne=a(W,2),te=ne[0],re=ne[1],Q=this.line(x+$),H=a(Q,1),V=H[0];if(f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"deleteAt",this).call(this,x,$),V!=null&&te!==V&&re>0){if(te instanceof p.BlockEmbed||V instanceof p.BlockEmbed){this.optimize();return}if(te instanceof _.default){var j=te.newlineIndex(te.length(),!0);if(j>-1&&(te=te.split(j+1),te===V)){this.optimize();return}}else if(V instanceof _.default){var K=V.newlineIndex(0);K>-1&&V.split(K+1)}var Z=V.children.head instanceof T.default?null:V.children.head;te.moveChildren(V,Z),te.remove()}this.optimize()}},{key:"enable",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",x)}},{key:"formatAt",value:function(x,$,W,ne){this.whitelist!=null&&!this.whitelist[W]||(f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,x,$,W,ne),this.optimize())}},{key:"insertAt",value:function(x,$,W){if(!(W!=null&&this.whitelist!=null&&!this.whitelist[$])){if(x>=this.length())if(W==null||v.default.query($,v.default.Scope.BLOCK)==null){var ne=v.default.create(this.statics.defaultChild);this.appendChild(ne),W==null&&$.endsWith(`
`)&&($=$.slice(0,-1)),ne.insertAt(0,$,W)}else{var te=v.default.create($,W);this.appendChild(te)}else f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertAt",this).call(this,x,$,W);this.optimize()}}},{key:"insertBefore",value:function(x,$){if(x.statics.scope===v.default.Scope.INLINE_BLOT){var W=v.default.create(this.statics.defaultChild);W.appendChild(x),x=W}f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,x,$)}},{key:"leaf",value:function(x){return this.path(x).pop()||[null,-1]}},{key:"line",value:function(x){return x===this.length()?this.line(x-1):this.descendant(R,x)}},{key:"lines",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,W=function ne(te,re,Q){var H=[],V=Q;return te.children.forEachAt(re,Q,function(j,K,Z){R(j)?H.push(j):j instanceof v.default.Container&&(H=H.concat(ne(j,K,V))),V-=Z}),H};return W(this,x,$)}},{key:"optimize",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,x,$),x.length>0&&this.emitter.emit(g.default.events.SCROLL_OPTIMIZE,x,$))}},{key:"path",value:function(x){return f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"path",this).call(this,x).slice(1)}},{key:"update",value:function(x){if(this.batch!==!0){var $=g.default.sources.USER;typeof x=="string"&&($=x),Array.isArray(x)||(x=this.observer.takeRecords()),x.length>0&&this.emitter.emit(g.default.events.SCROLL_BEFORE_UPDATE,$,x),f(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"update",this).call(this,x.concat([])),x.length>0&&this.emitter.emit(g.default.events.SCROLL_UPDATE,$,x)}}}]),b}(v.default.Scroll);D.blotName="scroll",D.className="ql-editor",D.tagName="DIV",D.defaultChild="block",D.allowedChildren=[m.default,p.BlockEmbed,N.default],i.default=D},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.SHORTKEY=i.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},u=function(){function z(Y,ie){var oe=[],he=!0,Ie=!1,Le=void 0;try{for(var Ve=Y[Symbol.iterator](),He;!(he=(He=Ve.next()).done)&&(oe.push(He.value),!(ie&&oe.length===ie));he=!0);}catch(Ge){Ie=!0,Le=Ge}finally{try{!he&&Ve.return&&Ve.return()}finally{if(Ie)throw Le}}return oe}return function(Y,ie){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return z(Y,ie);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function z(Y,ie){for(var oe=0;oe<ie.length;oe++){var he=ie[oe];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(Y,he.key,he)}}return function(Y,ie,oe){return ie&&z(Y.prototype,ie),oe&&z(Y,oe),Y}}(),d=o(21),v=C(d),y=o(11),g=C(y),p=o(3),m=C(p),A=o(2),T=C(A),E=o(20),_=C(E),S=o(0),N=C(S),I=o(5),M=C(I),F=o(10),O=C(F),R=o(9),D=C(R);function C(z){return z&&z.__esModule?z:{default:z}}function b(z,Y,ie){return Y in z?Object.defineProperty(z,Y,{value:ie,enumerable:!0,configurable:!0,writable:!0}):z[Y]=ie,z}function L(z,Y){if(!(z instanceof Y))throw new TypeError("Cannot call a class as a function")}function x(z,Y){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:z}function $(z,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);z.prototype=Object.create(Y&&Y.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(z,Y):z.__proto__=Y)}var W=(0,O.default)("quill:keyboard"),ne=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",te=function(z){$(Y,z),f(Y,null,[{key:"match",value:function(oe,he){return he=J(he),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Ie){return!!he[Ie]!==oe[Ie]&&he[Ie]!==null})?!1:he.key===(oe.which||oe.keyCode)}}]);function Y(ie,oe){L(this,Y);var he=x(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,ie,oe));return he.bindings={},Object.keys(he.options.bindings).forEach(function(Ie){Ie==="list autofill"&&ie.scroll.whitelist!=null&&!ie.scroll.whitelist.list||he.options.bindings[Ie]&&he.addBinding(he.options.bindings[Ie])}),he.addBinding({key:Y.keys.ENTER,shiftKey:null},j),he.addBinding({key:Y.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(he.addBinding({key:Y.keys.BACKSPACE},{collapsed:!0},Q),he.addBinding({key:Y.keys.DELETE},{collapsed:!0},H)):(he.addBinding({key:Y.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Q),he.addBinding({key:Y.keys.DELETE},{collapsed:!0,suffix:/^.?$/},H)),he.addBinding({key:Y.keys.BACKSPACE},{collapsed:!1},V),he.addBinding({key:Y.keys.DELETE},{collapsed:!1},V),he.addBinding({key:Y.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Q),he.listen(),he}return f(Y,[{key:"addBinding",value:function(oe){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Le=J(oe);if(Le==null||Le.key==null)return W.warn("Attempted to add invalid keyboard binding",Le);typeof he=="function"&&(he={handler:he}),typeof Ie=="function"&&(Ie={handler:Ie}),Le=(0,m.default)(Le,he,Ie),this.bindings[Le.key]=this.bindings[Le.key]||[],this.bindings[Le.key].push(Le)}},{key:"listen",value:function(){var oe=this;this.quill.root.addEventListener("keydown",function(he){if(!he.defaultPrevented){var Ie=he.which||he.keyCode,Le=(oe.bindings[Ie]||[]).filter(function(at){return Y.match(he,at)});if(Le.length!==0){var Ve=oe.quill.getSelection();if(!(Ve==null||!oe.quill.hasFocus())){var He=oe.quill.getLine(Ve.index),Ge=u(He,2),It=Ge[0],ht=Ge[1],fe=oe.quill.getLeaf(Ve.index),de=u(fe,2),Te=de[0],Se=de[1],ve=Ve.length===0?[Te,Se]:oe.quill.getLeaf(Ve.index+Ve.length),je=u(ve,2),Be=je[0],Ke=je[1],rt=Te instanceof N.default.Text?Te.value().slice(0,Se):"",st=Be instanceof N.default.Text?Be.value().slice(Ke):"",tt={collapsed:Ve.length===0,empty:Ve.length===0&&It.length()<=1,format:oe.quill.getFormat(Ve),offset:ht,prefix:rt,suffix:st},Mi=Le.some(function(at){if(at.collapsed!=null&&at.collapsed!==tt.collapsed||at.empty!=null&&at.empty!==tt.empty||at.offset!=null&&at.offset!==tt.offset)return!1;if(Array.isArray(at.format)){if(at.format.every(function(Gt){return tt.format[Gt]==null}))return!1}else if(a(at.format)==="object"&&!Object.keys(at.format).every(function(Gt){return at.format[Gt]===!0?tt.format[Gt]!=null:at.format[Gt]===!1?tt.format[Gt]==null:(0,g.default)(at.format[Gt],tt.format[Gt])}))return!1;return at.prefix!=null&&!at.prefix.test(tt.prefix)||at.suffix!=null&&!at.suffix.test(tt.suffix)?!1:at.handler.call(oe,Ve,tt)!==!0});Mi&&he.preventDefault()}}}})}}]),Y}(D.default);te.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},te.DEFAULTS={bindings:{bold:Z("bold"),italic:Z("italic"),underline:Z("underline"),indent:{key:te.keys.TAB,format:["blockquote","indent","list"],handler:function(Y,ie){if(ie.collapsed&&ie.offset!==0)return!0;this.quill.format("indent","+1",M.default.sources.USER)}},outdent:{key:te.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Y,ie){if(ie.collapsed&&ie.offset!==0)return!0;this.quill.format("indent","-1",M.default.sources.USER)}},"outdent backspace":{key:te.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Y,ie){ie.format.indent!=null?this.quill.format("indent","-1",M.default.sources.USER):ie.format.list!=null&&this.quill.format("list",!1,M.default.sources.USER)}},"indent code-block":K(!0),"outdent code-block":K(!1),"remove tab":{key:te.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Y){this.quill.deleteText(Y.index-1,1,M.default.sources.USER)}},tab:{key:te.keys.TAB,handler:function(Y){this.quill.history.cutoff();var ie=new T.default().retain(Y.index).delete(Y.length).insert("	");this.quill.updateContents(ie,M.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Y.index+1,M.default.sources.SILENT)}},"list empty enter":{key:te.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Y,ie){this.quill.format("list",!1,M.default.sources.USER),ie.format.indent&&this.quill.format("indent",!1,M.default.sources.USER)}},"checklist enter":{key:te.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Y){var ie=this.quill.getLine(Y.index),oe=u(ie,2),he=oe[0],Ie=oe[1],Le=(0,m.default)({},he.formats(),{list:"checked"}),Ve=new T.default().retain(Y.index).insert(`
`,Le).retain(he.length()-Ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ve,M.default.sources.USER),this.quill.setSelection(Y.index+1,M.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:te.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Y,ie){var oe=this.quill.getLine(Y.index),he=u(oe,2),Ie=he[0],Le=he[1],Ve=new T.default().retain(Y.index).insert(`
`,ie.format).retain(Ie.length()-Le-1).retain(1,{header:null});this.quill.updateContents(Ve,M.default.sources.USER),this.quill.setSelection(Y.index+1,M.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Y,ie){var oe=ie.prefix.length,he=this.quill.getLine(Y.index),Ie=u(he,2),Le=Ie[0],Ve=Ie[1];if(Ve>oe)return!0;var He=void 0;switch(ie.prefix.trim()){case"[]":case"[ ]":He="unchecked";break;case"[x]":He="checked";break;case"-":case"*":He="bullet";break;default:He="ordered"}this.quill.insertText(Y.index," ",M.default.sources.USER),this.quill.history.cutoff();var Ge=new T.default().retain(Y.index-Ve).delete(oe+1).retain(Le.length()-2-Ve).retain(1,{list:He});this.quill.updateContents(Ge,M.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Y.index-oe,M.default.sources.SILENT)}},"code exit":{key:te.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Y){var ie=this.quill.getLine(Y.index),oe=u(ie,2),he=oe[0],Ie=oe[1],Le=new T.default().retain(Y.index+he.length()-Ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Le,M.default.sources.USER)}},"embed left":re(te.keys.LEFT,!1),"embed left shift":re(te.keys.LEFT,!0),"embed right":re(te.keys.RIGHT,!1),"embed right shift":re(te.keys.RIGHT,!0)}};function re(z,Y){var ie,oe=z===te.keys.LEFT?"prefix":"suffix";return ie={key:z,shiftKey:Y,altKey:null},b(ie,oe,/^$/),b(ie,"handler",function(Ie){var Le=Ie.index;z===te.keys.RIGHT&&(Le+=Ie.length+1);var Ve=this.quill.getLeaf(Le),He=u(Ve,1),Ge=He[0];return Ge instanceof N.default.Embed?(z===te.keys.LEFT?Y?this.quill.setSelection(Ie.index-1,Ie.length+1,M.default.sources.USER):this.quill.setSelection(Ie.index-1,M.default.sources.USER):Y?this.quill.setSelection(Ie.index,Ie.length+1,M.default.sources.USER):this.quill.setSelection(Ie.index+Ie.length+1,M.default.sources.USER),!1):!0}),ie}function Q(z,Y){if(!(z.index===0||this.quill.getLength()<=1)){var ie=this.quill.getLine(z.index),oe=u(ie,1),he=oe[0],Ie={};if(Y.offset===0){var Le=this.quill.getLine(z.index-1),Ve=u(Le,1),He=Ve[0];if(He!=null&&He.length()>1){var Ge=he.formats(),It=this.quill.getFormat(z.index-1,1);Ie=_.default.attributes.diff(Ge,It)||{}}}var ht=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Y.prefix)?2:1;this.quill.deleteText(z.index-ht,ht,M.default.sources.USER),Object.keys(Ie).length>0&&this.quill.formatLine(z.index-ht,ht,Ie,M.default.sources.USER),this.quill.focus()}}function H(z,Y){var ie=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Y.suffix)?2:1;if(!(z.index>=this.quill.getLength()-ie)){var oe={},he=0,Ie=this.quill.getLine(z.index),Le=u(Ie,1),Ve=Le[0];if(Y.offset>=Ve.length()-1){var He=this.quill.getLine(z.index+1),Ge=u(He,1),It=Ge[0];if(It){var ht=Ve.formats(),fe=this.quill.getFormat(z.index,1);oe=_.default.attributes.diff(ht,fe)||{},he=It.length()}}this.quill.deleteText(z.index,ie,M.default.sources.USER),Object.keys(oe).length>0&&this.quill.formatLine(z.index+he-1,ie,oe,M.default.sources.USER)}}function V(z){var Y=this.quill.getLines(z),ie={};if(Y.length>1){var oe=Y[0].formats(),he=Y[Y.length-1].formats();ie=_.default.attributes.diff(he,oe)||{}}this.quill.deleteText(z,M.default.sources.USER),Object.keys(ie).length>0&&this.quill.formatLine(z.index,1,ie,M.default.sources.USER),this.quill.setSelection(z.index,M.default.sources.SILENT),this.quill.focus()}function j(z,Y){var ie=this;z.length>0&&this.quill.scroll.deleteAt(z.index,z.length);var oe=Object.keys(Y.format).reduce(function(he,Ie){return N.default.query(Ie,N.default.Scope.BLOCK)&&!Array.isArray(Y.format[Ie])&&(he[Ie]=Y.format[Ie]),he},{});this.quill.insertText(z.index,`
`,oe,M.default.sources.USER),this.quill.setSelection(z.index+1,M.default.sources.SILENT),this.quill.focus(),Object.keys(Y.format).forEach(function(he){oe[he]==null&&(Array.isArray(Y.format[he])||he!=="link"&&ie.quill.format(he,Y.format[he],M.default.sources.USER))})}function K(z){return{key:te.keys.TAB,shiftKey:!z,format:{"code-block":!0},handler:function(ie){var oe=N.default.query("code-block"),he=ie.index,Ie=ie.length,Le=this.quill.scroll.descendant(oe,he),Ve=u(Le,2),He=Ve[0],Ge=Ve[1];if(He!=null){var It=this.quill.getIndex(He),ht=He.newlineIndex(Ge,!0)+1,fe=He.newlineIndex(It+Ge+Ie),de=He.domNode.textContent.slice(ht,fe).split(`
`);Ge=0,de.forEach(function(Te,Se){z?(He.insertAt(ht+Ge,oe.TAB),Ge+=oe.TAB.length,Se===0?he+=oe.TAB.length:Ie+=oe.TAB.length):Te.startsWith(oe.TAB)&&(He.deleteAt(ht+Ge,oe.TAB.length),Ge-=oe.TAB.length,Se===0?he-=oe.TAB.length:Ie-=oe.TAB.length),Ge+=Te.length+1}),this.quill.update(M.default.sources.USER),this.quill.setSelection(he,Ie,M.default.sources.SILENT)}}}}function Z(z){return{key:z[0].toUpperCase(),shortKey:!0,handler:function(ie,oe){this.quill.format(z,!oe.format[z],M.default.sources.USER)}}}function J(z){if(typeof z=="string"||typeof z=="number")return J({key:z});if((typeof z>"u"?"undefined":a(z))==="object"&&(z=(0,v.default)(z,!1)),typeof z.key=="string")if(te.keys[z.key.toUpperCase()]!=null)z.key=te.keys[z.key.toUpperCase()];else if(z.key.length===1)z.key=z.key.toUpperCase().charCodeAt(0);else return null;return z.shortKey&&(z[ne]=z.shortKey,delete z.shortKey),z}i.default=te,i.SHORTKEY=ne},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function _(S,N){var I=[],M=!0,F=!1,O=void 0;try{for(var R=S[Symbol.iterator](),D;!(M=(D=R.next()).done)&&(I.push(D.value),!(N&&I.length===N));M=!0);}catch(C){F=!0,O=C}finally{try{!M&&R.return&&R.return()}finally{if(F)throw O}}return I}return function(S,N){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return _(S,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function _(S,N,I){S===null&&(S=Function.prototype);var M=Object.getOwnPropertyDescriptor(S,N);if(M===void 0){var F=Object.getPrototypeOf(S);return F===null?void 0:_(F,N,I)}else{if("value"in M)return M.value;var O=M.get;return O===void 0?void 0:O.call(I)}},f=function(){function _(S,N){for(var I=0;I<N.length;I++){var M=N[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,N,I){return N&&_(S.prototype,N),I&&_(S,I),S}}(),d=o(0),v=p(d),y=o(7),g=p(y);function p(_){return _&&_.__esModule?_:{default:_}}function m(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function A(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:_}function T(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}var E=function(_){T(S,_),f(S,null,[{key:"value",value:function(){}}]);function S(N,I){m(this,S);var M=A(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N));return M.selection=I,M.textNode=document.createTextNode(S.CONTENTS),M.domNode.appendChild(M.textNode),M._length=0,M}return f(S,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(I,M){if(this._length!==0)return u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,I,M);for(var F=this,O=0;F!=null&&F.statics.scope!==v.default.Scope.BLOCK_BLOT;)O+=F.offset(F.parent),F=F.parent;F!=null&&(this._length=S.CONTENTS.length,F.optimize(),F.formatAt(O,S.CONTENTS.length,I,M),this._length=0)}},{key:"index",value:function(I,M){return I===this.textNode?0:u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"index",this).call(this,I,M)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var I=this.textNode,M=this.selection.getNativeRange(),F=void 0,O=void 0,R=void 0;if(M!=null&&M.start.node===I&&M.end.node===I){var D=[I,M.start.offset,M.end.offset];F=D[0],O=D[1],R=D[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==S.CONTENTS){var C=this.textNode.data.split(S.CONTENTS).join("");this.next instanceof g.default?(F=this.next.domNode,this.next.insertAt(0,C),this.textNode.data=S.CONTENTS):(this.textNode.data=C,this.parent.insertBefore(v.default.create(this.textNode),this),this.textNode=document.createTextNode(S.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),O!=null){var b=[O,R].map(function(x){return Math.max(0,Math.min(F.data.length,x-1))}),L=a(b,2);return O=L[0],R=L[1],{startNode:F,startOffset:O,endNode:F,endOffset:R}}}}},{key:"update",value:function(I,M){var F=this;if(I.some(function(R){return R.type==="characterData"&&R.target===F.textNode})){var O=this.restore();O&&(M.range=O)}}},{key:"value",value:function(){return""}}]),S}(v.default.Embed);E.blotName="cursor",E.className="ql-cursor",E.tagName="span",E.CONTENTS="\uFEFF",i.default=E},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(0),u=v(a),f=o(4),d=v(f);function v(A){return A&&A.__esModule?A:{default:A}}function y(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function g(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function p(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var m=function(A){p(T,A);function T(){return y(this,T),g(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return T}(u.default.Container);m.allowedChildren=[d.default,f.BlockEmbed,m],i.default=m},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.ColorStyle=i.ColorClass=i.ColorAttributor=void 0;var a=function(){function E(_,S){for(var N=0;N<S.length;N++){var I=S[N];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,S,N){return S&&E(_.prototype,S),N&&E(_,N),_}}(),u=function E(_,S,N){_===null&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,S);if(I===void 0){var M=Object.getPrototypeOf(_);return M===null?void 0:E(M,S,N)}else{if("value"in I)return I.value;var F=I.get;return F===void 0?void 0:F.call(N)}},f=o(0),d=v(f);function v(E){return E&&E.__esModule?E:{default:E}}function y(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function g(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function p(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var m=function(E){p(_,E);function _(){return y(this,_),g(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"value",value:function(N){var I=u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,N);return I.startsWith("rgb(")?(I=I.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+I.split(",").map(function(M){return("00"+parseInt(M).toString(16)).slice(-2)}).join("")):I}}]),_}(d.default.Attributor.Style),A=new d.default.Attributor.Class("color","ql-color",{scope:d.default.Scope.INLINE}),T=new m("color","color",{scope:d.default.Scope.INLINE});i.ColorAttributor=m,i.ColorClass=A,i.ColorStyle=T},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.sanitize=i.default=void 0;var a=function(){function T(E,_){for(var S=0;S<_.length;S++){var N=_[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,N.key,N)}}return function(E,_,S){return _&&T(E.prototype,_),S&&T(E,S),E}}(),u=function T(E,_,S){E===null&&(E=Function.prototype);var N=Object.getOwnPropertyDescriptor(E,_);if(N===void 0){var I=Object.getPrototypeOf(E);return I===null?void 0:T(I,_,S)}else{if("value"in N)return N.value;var M=N.get;return M===void 0?void 0:M.call(S)}},f=o(6),d=v(f);function v(T){return T&&T.__esModule?T:{default:T}}function y(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function g(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function p(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var m=function(T){p(E,T);function E(){return y(this,E),g(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"format",value:function(S,N){if(S!==this.statics.blotName||!N)return u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,S,N);N=this.constructor.sanitize(N),this.domNode.setAttribute("href",N)}}],[{key:"create",value:function(S){var N=u(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,S);return S=this.sanitize(S),N.setAttribute("href",S),N.setAttribute("rel","noopener noreferrer"),N.setAttribute("target","_blank"),N}},{key:"formats",value:function(S){return S.getAttribute("href")}},{key:"sanitize",value:function(S){return A(S,this.PROTOCOL_WHITELIST)?S:this.SANITIZED_URL}}]),E}(d.default);m.blotName="link",m.tagName="A",m.SANITIZED_URL="about:blank",m.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function A(T,E){var _=document.createElement("a");_.href=T;var S=_.href.slice(0,_.href.indexOf(":"));return E.indexOf(S)>-1}i.default=m,i.sanitize=A},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},u=function(){function E(_,S){for(var N=0;N<S.length;N++){var I=S[N];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,S,N){return S&&E(_.prototype,S),N&&E(_,N),_}}(),f=o(23),d=g(f),v=o(107),y=g(v);function g(E){return E&&E.__esModule?E:{default:E}}function p(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}var m=0;function A(E,_){E.setAttribute(_,E.getAttribute(_)!=="true")}var T=function(){function E(_){var S=this;p(this,E),this.select=_,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){S.togglePicker()}),this.label.addEventListener("keydown",function(N){switch(N.keyCode){case d.default.keys.ENTER:S.togglePicker();break;case d.default.keys.ESCAPE:S.escape(),N.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return u(E,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),A(this.label,"aria-expanded"),A(this.options,"aria-hidden")}},{key:"buildItem",value:function(S){var N=this,I=document.createElement("span");return I.tabIndex="0",I.setAttribute("role","button"),I.classList.add("ql-picker-item"),S.hasAttribute("value")&&I.setAttribute("data-value",S.getAttribute("value")),S.textContent&&I.setAttribute("data-label",S.textContent),I.addEventListener("click",function(){N.selectItem(I,!0)}),I.addEventListener("keydown",function(M){switch(M.keyCode){case d.default.keys.ENTER:N.selectItem(I,!0),M.preventDefault();break;case d.default.keys.ESCAPE:N.escape(),M.preventDefault();break}}),I}},{key:"buildLabel",value:function(){var S=document.createElement("span");return S.classList.add("ql-picker-label"),S.innerHTML=y.default,S.tabIndex="0",S.setAttribute("role","button"),S.setAttribute("aria-expanded","false"),this.container.appendChild(S),S}},{key:"buildOptions",value:function(){var S=this,N=document.createElement("span");N.classList.add("ql-picker-options"),N.setAttribute("aria-hidden","true"),N.tabIndex="-1",N.id="ql-picker-options-"+m,m+=1,this.label.setAttribute("aria-controls",N.id),this.options=N,[].slice.call(this.select.options).forEach(function(I){var M=S.buildItem(I);N.appendChild(M),I.selected===!0&&S.selectItem(M)}),this.container.appendChild(N)}},{key:"buildPicker",value:function(){var S=this;[].slice.call(this.select.attributes).forEach(function(N){S.container.setAttribute(N.name,N.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var S=this;this.close(),setTimeout(function(){return S.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(S){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=this.container.querySelector(".ql-selected");if(S!==I&&(I!=null&&I.classList.remove("ql-selected"),S!=null&&(S.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(S.parentNode.children,S),S.hasAttribute("data-value")?this.label.setAttribute("data-value",S.getAttribute("data-value")):this.label.removeAttribute("data-value"),S.hasAttribute("data-label")?this.label.setAttribute("data-label",S.getAttribute("data-label")):this.label.removeAttribute("data-label"),N))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var M=document.createEvent("Event");M.initEvent("change",!0,!0),this.select.dispatchEvent(M)}this.close()}}},{key:"update",value:function(){var S=void 0;if(this.select.selectedIndex>-1){var N=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];S=this.select.options[this.select.selectedIndex],this.selectItem(N)}else this.selectItem(null);var I=S!=null&&S!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",I)}}]),E}();i.default=T},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(0),u=W(a),f=o(5),d=W(f),v=o(4),y=W(v),g=o(16),p=W(g),m=o(25),A=W(m),T=o(24),E=W(T),_=o(35),S=W(_),N=o(6),I=W(N),M=o(22),F=W(M),O=o(7),R=W(O),D=o(55),C=W(D),b=o(42),L=W(b),x=o(23),$=W(x);function W(ne){return ne&&ne.__esModule?ne:{default:ne}}d.default.register({"blots/block":y.default,"blots/block/embed":v.BlockEmbed,"blots/break":p.default,"blots/container":A.default,"blots/cursor":E.default,"blots/embed":S.default,"blots/inline":I.default,"blots/scroll":F.default,"blots/text":R.default,"modules/clipboard":C.default,"modules/history":L.default,"modules/keyboard":$.default}),u.default.register(y.default,p.default,E.default,I.default,F.default,R.default),i.default=d.default},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(1),u=function(){function f(d){this.domNode=d,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(f.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),f.create=function(d){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var v;return Array.isArray(this.tagName)?(typeof d=="string"&&(d=d.toUpperCase(),parseInt(d).toString()===d&&(d=parseInt(d))),typeof d=="number"?v=document.createElement(this.tagName[d-1]):this.tagName.indexOf(d)>-1?v=document.createElement(d):v=document.createElement(this.tagName[0])):v=document.createElement(this.tagName),this.className&&v.classList.add(this.className),v},f.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},f.prototype.clone=function(){var d=this.domNode.cloneNode(!1);return a.create(d)},f.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},f.prototype.deleteAt=function(d,v){var y=this.isolate(d,v);y.remove()},f.prototype.formatAt=function(d,v,y,g){var p=this.isolate(d,v);if(a.query(y,a.Scope.BLOT)!=null&&g)p.wrap(y,g);else if(a.query(y,a.Scope.ATTRIBUTE)!=null){var m=a.create(this.statics.scope);p.wrap(m),m.format(y,g)}},f.prototype.insertAt=function(d,v,y){var g=y==null?a.create("text",v):a.create(v,y),p=this.split(d);this.parent.insertBefore(g,p)},f.prototype.insertInto=function(d,v){v===void 0&&(v=null),this.parent!=null&&this.parent.children.remove(this);var y=null;d.children.insertBefore(this,v),v!=null&&(y=v.domNode),(this.domNode.parentNode!=d.domNode||this.domNode.nextSibling!=y)&&d.domNode.insertBefore(this.domNode,y),this.parent=d,this.attach()},f.prototype.isolate=function(d,v){var y=this.split(d);return y.split(v),y},f.prototype.length=function(){return 1},f.prototype.offset=function(d){return d===void 0&&(d=this.parent),this.parent==null||this==d?0:this.parent.children.offset(this)+this.parent.offset(d)},f.prototype.optimize=function(d){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},f.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},f.prototype.replace=function(d){d.parent!=null&&(d.parent.insertBefore(this,d.next),d.remove())},f.prototype.replaceWith=function(d,v){var y=typeof d=="string"?a.create(d,v):d;return y.replace(this),y},f.prototype.split=function(d,v){return d===0?this:this.next},f.prototype.update=function(d,v){},f.prototype.wrap=function(d,v){var y=typeof d=="string"?a.create(d,v):d;return this.parent!=null&&this.parent.insertBefore(y,this.next),y.appendChild(this),y},f.blotName="abstract",f}();i.default=u},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(12),u=o(32),f=o(33),d=o(1),v=function(){function y(g){this.attributes={},this.domNode=g,this.build()}return y.prototype.attribute=function(g,p){p?g.add(this.domNode,p)&&(g.value(this.domNode)!=null?this.attributes[g.attrName]=g:delete this.attributes[g.attrName]):(g.remove(this.domNode),delete this.attributes[g.attrName])},y.prototype.build=function(){var g=this;this.attributes={};var p=a.default.keys(this.domNode),m=u.default.keys(this.domNode),A=f.default.keys(this.domNode);p.concat(m).concat(A).forEach(function(T){var E=d.query(T,d.Scope.ATTRIBUTE);E instanceof a.default&&(g.attributes[E.attrName]=E)})},y.prototype.copy=function(g){var p=this;Object.keys(this.attributes).forEach(function(m){var A=p.attributes[m].value(p.domNode);g.format(m,A)})},y.prototype.move=function(g){var p=this;this.copy(g),Object.keys(this.attributes).forEach(function(m){p.attributes[m].remove(p.domNode)}),this.attributes={}},y.prototype.values=function(){var g=this;return Object.keys(this.attributes).reduce(function(p,m){return p[m]=g.attributes[m].value(g.domNode),p},{})},y}();i.default=v},function(t,i,o){var a=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){v(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(12);function f(v,y){var g=v.getAttribute("class")||"";return g.split(/\s+/).filter(function(p){return p.indexOf(y+"-")===0})}var d=function(v){a(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.keys=function(g){return(g.getAttribute("class")||"").split(/\s+/).map(function(p){return p.split("-").slice(0,-1).join("-")})},y.prototype.add=function(g,p){return this.canAdd(g,p)?(this.remove(g),g.classList.add(this.keyName+"-"+p),!0):!1},y.prototype.remove=function(g){var p=f(g,this.keyName);p.forEach(function(m){g.classList.remove(m)}),g.classList.length===0&&g.removeAttribute("class")},y.prototype.value=function(g){var p=f(g,this.keyName)[0]||"",m=p.slice(this.keyName.length+1);return this.canAdd(g,m)?m:""},y}(u.default);i.default=d},function(t,i,o){var a=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){v(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(12);function f(v){var y=v.split("-"),g=y.slice(1).map(function(p){return p[0].toUpperCase()+p.slice(1)}).join("");return y[0]+g}var d=function(v){a(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.keys=function(g){return(g.getAttribute("style")||"").split(";").map(function(p){var m=p.split(":");return m[0].trim()})},y.prototype.add=function(g,p){return this.canAdd(g,p)?(g.style[f(this.keyName)]=p,!0):!1},y.prototype.remove=function(g){g.style[f(this.keyName)]="",g.getAttribute("style")||g.removeAttribute("style")},y.prototype.value=function(g){var p=g.style[f(this.keyName)];return this.canAdd(g,p)?p:""},y}(u.default);i.default=d},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function d(v,y){for(var g=0;g<y.length;g++){var p=y[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,y,g){return y&&d(v.prototype,y),g&&d(v,g),v}}();function u(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}var f=function(){function d(v,y){u(this,d),this.quill=v,this.options=y,this.modules={}}return a(d,[{key:"init",value:function(){var y=this;Object.keys(this.options.modules).forEach(function(g){y.modules[g]==null&&y.addModule(g)})}},{key:"addModule",value:function(y){var g=this.quill.constructor.import("modules/"+y);return this.modules[y]=new g(this.quill,this.options.modules[y]||{}),this.modules[y]}}]),d}();f.DEFAULTS={modules:{}},f.themes={default:f},i.default=f},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function _(S,N){for(var I=0;I<N.length;I++){var M=N[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,N,I){return N&&_(S.prototype,N),I&&_(S,I),S}}(),u=function _(S,N,I){S===null&&(S=Function.prototype);var M=Object.getOwnPropertyDescriptor(S,N);if(M===void 0){var F=Object.getPrototypeOf(S);return F===null?void 0:_(F,N,I)}else{if("value"in M)return M.value;var O=M.get;return O===void 0?void 0:O.call(I)}},f=o(0),d=g(f),v=o(7),y=g(v);function g(_){return _&&_.__esModule?_:{default:_}}function p(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function m(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:_}function A(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}var T="\uFEFF",E=function(_){A(S,_);function S(N){p(this,S);var I=m(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N));return I.contentNode=document.createElement("span"),I.contentNode.setAttribute("contenteditable",!1),[].slice.call(I.domNode.childNodes).forEach(function(M){I.contentNode.appendChild(M)}),I.leftGuard=document.createTextNode(T),I.rightGuard=document.createTextNode(T),I.domNode.appendChild(I.leftGuard),I.domNode.appendChild(I.contentNode),I.domNode.appendChild(I.rightGuard),I}return a(S,[{key:"index",value:function(I,M){return I===this.leftGuard?0:I===this.rightGuard?1:u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"index",this).call(this,I,M)}},{key:"restore",value:function(I){var M=void 0,F=void 0,O=I.data.split(T).join("");if(I===this.leftGuard)if(this.prev instanceof y.default){var R=this.prev.length();this.prev.insertAt(R,O),M={startNode:this.prev.domNode,startOffset:R+O.length}}else F=document.createTextNode(O),this.parent.insertBefore(d.default.create(F),this),M={startNode:F,startOffset:O.length};else I===this.rightGuard&&(this.next instanceof y.default?(this.next.insertAt(0,O),M={startNode:this.next.domNode,startOffset:O.length}):(F=document.createTextNode(O),this.parent.insertBefore(d.default.create(F),this.next),M={startNode:F,startOffset:O.length}));return I.data=T,M}},{key:"update",value:function(I,M){var F=this;I.forEach(function(O){if(O.type==="characterData"&&(O.target===F.leftGuard||O.target===F.rightGuard)){var R=F.restore(O.target);R&&(M.range=R)}})}}]),S}(d.default.Embed);i.default=E},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.AlignStyle=i.AlignClass=i.AlignAttribute=void 0;var a=o(0),u=f(a);function f(p){return p&&p.__esModule?p:{default:p}}var d={scope:u.default.Scope.BLOCK,whitelist:["right","center","justify"]},v=new u.default.Attributor.Attribute("align","align",d),y=new u.default.Attributor.Class("align","ql-align",d),g=new u.default.Attributor.Style("align","text-align",d);i.AlignAttribute=v,i.AlignClass=y,i.AlignStyle=g},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.BackgroundStyle=i.BackgroundClass=void 0;var a=o(0),u=d(a),f=o(26);function d(g){return g&&g.__esModule?g:{default:g}}var v=new u.default.Attributor.Class("background","ql-bg",{scope:u.default.Scope.INLINE}),y=new f.ColorAttributor("background","background-color",{scope:u.default.Scope.INLINE});i.BackgroundClass=v,i.BackgroundStyle=y},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.DirectionStyle=i.DirectionClass=i.DirectionAttribute=void 0;var a=o(0),u=f(a);function f(p){return p&&p.__esModule?p:{default:p}}var d={scope:u.default.Scope.BLOCK,whitelist:["rtl"]},v=new u.default.Attributor.Attribute("direction","dir",d),y=new u.default.Attributor.Class("direction","ql-direction",d),g=new u.default.Attributor.Style("direction","direction",d);i.DirectionAttribute=v,i.DirectionClass=y,i.DirectionStyle=g},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.FontClass=i.FontStyle=void 0;var a=function(){function _(S,N){for(var I=0;I<N.length;I++){var M=N[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,N,I){return N&&_(S.prototype,N),I&&_(S,I),S}}(),u=function _(S,N,I){S===null&&(S=Function.prototype);var M=Object.getOwnPropertyDescriptor(S,N);if(M===void 0){var F=Object.getPrototypeOf(S);return F===null?void 0:_(F,N,I)}else{if("value"in M)return M.value;var O=M.get;return O===void 0?void 0:O.call(I)}},f=o(0),d=v(f);function v(_){return _&&_.__esModule?_:{default:_}}function y(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function g(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:_}function p(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}var m={scope:d.default.Scope.INLINE,whitelist:["serif","monospace"]},A=new d.default.Attributor.Class("font","ql-font",m),T=function(_){p(S,_);function S(){return y(this,S),g(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,[{key:"value",value:function(I){return u(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"value",this).call(this,I).replace(/["']/g,"")}}]),S}(d.default.Attributor.Style),E=new T("font","font-family",m);i.FontStyle=E,i.FontClass=A},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.SizeStyle=i.SizeClass=void 0;var a=o(0),u=f(a);function f(y){return y&&y.__esModule?y:{default:y}}var d=new u.default.Attributor.Class("size","ql-size",{scope:u.default.Scope.INLINE,whitelist:["small","large","huge"]}),v=new u.default.Attributor.Style("size","font-size",{scope:u.default.Scope.INLINE,whitelist:["10px","18px","32px"]});i.SizeClass=d,i.SizeStyle=v},function(t,i,o){t.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.getLastChangeIndex=i.default=void 0;var a=function(){function N(I,M){for(var F=0;F<M.length;F++){var O=M[F];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(I,O.key,O)}}return function(I,M,F){return M&&N(I.prototype,M),F&&N(I,F),I}}(),u=o(0),f=p(u),d=o(5),v=p(d),y=o(9),g=p(y);function p(N){return N&&N.__esModule?N:{default:N}}function m(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}function A(N,I){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:N}function T(N,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);N.prototype=Object.create(I&&I.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(N,I):N.__proto__=I)}var E=function(N){T(I,N);function I(M,F){m(this,I);var O=A(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,M,F));return O.lastRecorded=0,O.ignoreChange=!1,O.clear(),O.quill.on(v.default.events.EDITOR_CHANGE,function(R,D,C,b){R!==v.default.events.TEXT_CHANGE||O.ignoreChange||(!O.options.userOnly||b===v.default.sources.USER?O.record(D,C):O.transform(D))}),O.quill.keyboard.addBinding({key:"Z",shortKey:!0},O.undo.bind(O)),O.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},O.redo.bind(O)),/Win/i.test(navigator.platform)&&O.quill.keyboard.addBinding({key:"Y",shortKey:!0},O.redo.bind(O)),O}return a(I,[{key:"change",value:function(F,O){if(this.stack[F].length!==0){var R=this.stack[F].pop();this.stack[O].push(R),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(R[F],v.default.sources.USER),this.ignoreChange=!1;var D=S(R[F]);this.quill.setSelection(D)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(F,O){if(F.ops.length!==0){this.stack.redo=[];var R=this.quill.getContents().diff(O),D=Date.now();if(this.lastRecorded+this.options.delay>D&&this.stack.undo.length>0){var C=this.stack.undo.pop();R=R.compose(C.undo),F=C.redo.compose(F)}else this.lastRecorded=D;this.stack.undo.push({redo:F,undo:R}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(F){this.stack.undo.forEach(function(O){O.undo=F.transform(O.undo,!0),O.redo=F.transform(O.redo,!0)}),this.stack.redo.forEach(function(O){O.undo=F.transform(O.undo,!0),O.redo=F.transform(O.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),I}(g.default);E.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function _(N){var I=N.ops[N.ops.length-1];return I==null?!1:I.insert!=null?typeof I.insert=="string"&&I.insert.endsWith(`
`):I.attributes!=null?Object.keys(I.attributes).some(function(M){return f.default.query(M,f.default.Scope.BLOCK)!=null}):!1}function S(N){var I=N.reduce(function(F,O){return F+=O.delete||0,F},0),M=N.length()-I;return _(N)&&(M-=1),M}i.default=E,i.getLastChangeIndex=S},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BaseTooltip=void 0;var a=function(){function j(K,Z){for(var J=0;J<Z.length;J++){var z=Z[J];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(K,z.key,z)}}return function(K,Z,J){return Z&&j(K.prototype,Z),J&&j(K,J),K}}(),u=function j(K,Z,J){K===null&&(K=Function.prototype);var z=Object.getOwnPropertyDescriptor(K,Z);if(z===void 0){var Y=Object.getPrototypeOf(K);return Y===null?void 0:j(Y,Z,J)}else{if("value"in z)return z.value;var ie=z.get;return ie===void 0?void 0:ie.call(J)}},f=o(3),d=D(f),v=o(2),y=D(v),g=o(8),p=D(g),m=o(23),A=D(m),T=o(34),E=D(T),_=o(59),S=D(_),N=o(60),I=D(N),M=o(28),F=D(M),O=o(61),R=D(O);function D(j){return j&&j.__esModule?j:{default:j}}function C(j,K){if(!(j instanceof K))throw new TypeError("Cannot call a class as a function")}function b(j,K){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:j}function L(j,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);j.prototype=Object.create(K&&K.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(j,K):j.__proto__=K)}var x=[!1,"center","right","justify"],$=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],W=[!1,"serif","monospace"],ne=["1","2","3",!1],te=["small",!1,"large","huge"],re=function(j){L(K,j);function K(Z,J){C(this,K);var z=b(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,Z,J)),Y=function ie(oe){if(!document.body.contains(Z.root))return document.body.removeEventListener("click",ie);z.tooltip!=null&&!z.tooltip.root.contains(oe.target)&&document.activeElement!==z.tooltip.textbox&&!z.quill.hasFocus()&&z.tooltip.hide(),z.pickers!=null&&z.pickers.forEach(function(he){he.container.contains(oe.target)||he.close()})};return Z.emitter.listenDOM("click",document.body,Y),z}return a(K,[{key:"addModule",value:function(J){var z=u(K.prototype.__proto__||Object.getPrototypeOf(K.prototype),"addModule",this).call(this,J);return J==="toolbar"&&this.extendToolbar(z),z}},{key:"buildButtons",value:function(J,z){J.forEach(function(Y){var ie=Y.getAttribute("class")||"";ie.split(/\s+/).forEach(function(oe){if(oe.startsWith("ql-")&&(oe=oe.slice(3),z[oe]!=null))if(oe==="direction")Y.innerHTML=z[oe][""]+z[oe].rtl;else if(typeof z[oe]=="string")Y.innerHTML=z[oe];else{var he=Y.value||"";he!=null&&z[oe][he]&&(Y.innerHTML=z[oe][he])}})})}},{key:"buildPickers",value:function(J,z){var Y=this;this.pickers=J.map(function(oe){if(oe.classList.contains("ql-align"))return oe.querySelector("option")==null&&V(oe,x),new I.default(oe,z.align);if(oe.classList.contains("ql-background")||oe.classList.contains("ql-color")){var he=oe.classList.contains("ql-background")?"background":"color";return oe.querySelector("option")==null&&V(oe,$,he==="background"?"#ffffff":"#000000"),new S.default(oe,z[he])}else return oe.querySelector("option")==null&&(oe.classList.contains("ql-font")?V(oe,W):oe.classList.contains("ql-header")?V(oe,ne):oe.classList.contains("ql-size")&&V(oe,te)),new F.default(oe)});var ie=function(){Y.pickers.forEach(function(he){he.update()})};this.quill.on(p.default.events.EDITOR_CHANGE,ie)}}]),K}(E.default);re.DEFAULTS=(0,d.default)(!0,{},E.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var K=this,Z=this.container.querySelector("input.ql-image[type=file]");Z==null&&(Z=document.createElement("input"),Z.setAttribute("type","file"),Z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Z.classList.add("ql-image"),Z.addEventListener("change",function(){if(Z.files!=null&&Z.files[0]!=null){var J=new FileReader;J.onload=function(z){var Y=K.quill.getSelection(!0);K.quill.updateContents(new y.default().retain(Y.index).delete(Y.length).insert({image:z.target.result}),p.default.sources.USER),K.quill.setSelection(Y.index+1,p.default.sources.SILENT),Z.value=""},J.readAsDataURL(Z.files[0])}}),this.container.appendChild(Z)),Z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Q=function(j){L(K,j);function K(Z,J){C(this,K);var z=b(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,Z,J));return z.textbox=z.root.querySelector('input[type="text"]'),z.listen(),z}return a(K,[{key:"listen",value:function(){var J=this;this.textbox.addEventListener("keydown",function(z){A.default.match(z,"enter")?(J.save(),z.preventDefault()):A.default.match(z,"escape")&&(J.cancel(),z.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),z!=null?this.textbox.value=z:J!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+J)||""),this.root.setAttribute("data-mode",J)}},{key:"restoreFocus",value:function(){var J=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=J}},{key:"save",value:function(){var J=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var z=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",J,p.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",J,p.default.sources.USER)),this.quill.root.scrollTop=z;break}case"video":J=H(J);case"formula":{if(!J)break;var Y=this.quill.getSelection(!0);if(Y!=null){var ie=Y.index+Y.length;this.quill.insertEmbed(ie,this.root.getAttribute("data-mode"),J,p.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ie+1," ",p.default.sources.USER),this.quill.setSelection(ie+2,p.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),K}(R.default);function H(j){var K=j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return K?(K[1]||"https")+"://www.youtube.com/embed/"+K[2]+"?showinfo=0":(K=j.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(K[1]||"https")+"://player.vimeo.com/video/"+K[2]+"/":j}function V(j,K){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;K.forEach(function(J){var z=document.createElement("option");J===Z?z.setAttribute("selected","selected"):z.setAttribute("value",J),j.appendChild(z)})}i.BaseTooltip=Q,i.default=re},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function u(){this.head=this.tail=null,this.length=0}return u.prototype.append=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];this.insertBefore(f[0],null),f.length>1&&this.append.apply(this,f.slice(1))},u.prototype.contains=function(f){for(var d,v=this.iterator();d=v();)if(d===f)return!0;return!1},u.prototype.insertBefore=function(f,d){f&&(f.next=d,d!=null?(f.prev=d.prev,d.prev!=null&&(d.prev.next=f),d.prev=f,d===this.head&&(this.head=f)):this.tail!=null?(this.tail.next=f,f.prev=this.tail,this.tail=f):(f.prev=null,this.head=this.tail=f),this.length+=1)},u.prototype.offset=function(f){for(var d=0,v=this.head;v!=null;){if(v===f)return d;d+=v.length(),v=v.next}return-1},u.prototype.remove=function(f){this.contains(f)&&(f.prev!=null&&(f.prev.next=f.next),f.next!=null&&(f.next.prev=f.prev),f===this.head&&(this.head=f.next),f===this.tail&&(this.tail=f.prev),this.length-=1)},u.prototype.iterator=function(f){return f===void 0&&(f=this.head),function(){var d=f;return f!=null&&(f=f.next),d}},u.prototype.find=function(f,d){d===void 0&&(d=!1);for(var v,y=this.iterator();v=y();){var g=v.length();if(f<g||d&&f===g&&(v.next==null||v.next.length()!==0))return[v,f];f-=g}return[null,0]},u.prototype.forEach=function(f){for(var d,v=this.iterator();d=v();)f(d)},u.prototype.forEachAt=function(f,d,v){if(!(d<=0))for(var y=this.find(f),g=y[0],p=y[1],m,A=f-p,T=this.iterator(g);(m=T())&&A<f+d;){var E=m.length();f>A?v(m,f-A,Math.min(d,A+E-f)):v(m,0,Math.min(E,f+d-A)),A+=E}},u.prototype.map=function(f){return this.reduce(function(d,v){return d.push(f(v)),d},[])},u.prototype.reduce=function(f,d){for(var v,y=this.iterator();v=y();)d=f(d,v);return d},u}();i.default=a},function(t,i,o){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var A in m)m.hasOwnProperty(A)&&(p[A]=m[A])};return function(p,m){g(p,m);function A(){this.constructor=p}p.prototype=m===null?Object.create(m):(A.prototype=m.prototype,new A)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(17),f=o(1),d={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},v=100,y=function(g){a(p,g);function p(m){var A=g.call(this,m)||this;return A.scroll=A,A.observer=new MutationObserver(function(T){A.update(T)}),A.observer.observe(A.domNode,d),A.attach(),A}return p.prototype.detach=function(){g.prototype.detach.call(this),this.observer.disconnect()},p.prototype.deleteAt=function(m,A){this.update(),m===0&&A===this.length()?this.children.forEach(function(T){T.remove()}):g.prototype.deleteAt.call(this,m,A)},p.prototype.formatAt=function(m,A,T,E){this.update(),g.prototype.formatAt.call(this,m,A,T,E)},p.prototype.insertAt=function(m,A,T){this.update(),g.prototype.insertAt.call(this,m,A,T)},p.prototype.optimize=function(m,A){var T=this;m===void 0&&(m=[]),A===void 0&&(A={}),g.prototype.optimize.call(this,A);for(var E=[].slice.call(this.observer.takeRecords());E.length>0;)m.push(E.pop());for(var _=function(M,F){F===void 0&&(F=!0),!(M==null||M===T)&&M.domNode.parentNode!=null&&(M.domNode[f.DATA_KEY].mutations==null&&(M.domNode[f.DATA_KEY].mutations=[]),F&&_(M.parent))},S=function(M){M.domNode[f.DATA_KEY]==null||M.domNode[f.DATA_KEY].mutations==null||(M instanceof u.default&&M.children.forEach(S),M.optimize(A))},N=m,I=0;N.length>0;I+=1){if(I>=v)throw new Error("[Parchment] Maximum optimize iterations reached");for(N.forEach(function(M){var F=f.find(M.target,!0);F!=null&&(F.domNode===M.target&&(M.type==="childList"?(_(f.find(M.previousSibling,!1)),[].forEach.call(M.addedNodes,function(O){var R=f.find(O,!1);_(R,!1),R instanceof u.default&&R.children.forEach(function(D){_(D,!1)})})):M.type==="attributes"&&_(F.prev)),_(F))}),this.children.forEach(S),N=[].slice.call(this.observer.takeRecords()),E=N.slice();E.length>0;)m.push(E.pop())}},p.prototype.update=function(m,A){var T=this;A===void 0&&(A={}),m=m||this.observer.takeRecords(),m.map(function(E){var _=f.find(E.target,!0);return _==null?null:_.domNode[f.DATA_KEY].mutations==null?(_.domNode[f.DATA_KEY].mutations=[E],_):(_.domNode[f.DATA_KEY].mutations.push(E),null)}).forEach(function(E){E==null||E===T||E.domNode[f.DATA_KEY]==null||E.update(E.domNode[f.DATA_KEY].mutations||[],A)}),this.domNode[f.DATA_KEY].mutations!=null&&g.prototype.update.call(this,this.domNode[f.DATA_KEY].mutations,A),this.optimize(m,A)},p.blotName="scroll",p.defaultChild="block",p.scope=f.Scope.BLOCK_BLOT,p.tagName="DIV",p}(u.default);i.default=y},function(t,i,o){var a=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,p){g.__proto__=p}||function(g,p){for(var m in p)p.hasOwnProperty(m)&&(g[m]=p[m])};return function(g,p){y(g,p);function m(){this.constructor=g}g.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(18),f=o(1);function d(y,g){if(Object.keys(y).length!==Object.keys(g).length)return!1;for(var p in y)if(y[p]!==g[p])return!1;return!0}var v=function(y){a(g,y);function g(){return y!==null&&y.apply(this,arguments)||this}return g.formats=function(p){if(p.tagName!==g.tagName)return y.formats.call(this,p)},g.prototype.format=function(p,m){var A=this;p===this.statics.blotName&&!m?(this.children.forEach(function(T){T instanceof u.default||(T=T.wrap(g.blotName,!0)),A.attributes.copy(T)}),this.unwrap()):y.prototype.format.call(this,p,m)},g.prototype.formatAt=function(p,m,A,T){if(this.formats()[A]!=null||f.query(A,f.Scope.ATTRIBUTE)){var E=this.isolate(p,m);E.format(A,T)}else y.prototype.formatAt.call(this,p,m,A,T)},g.prototype.optimize=function(p){y.prototype.optimize.call(this,p);var m=this.formats();if(Object.keys(m).length===0)return this.unwrap();var A=this.next;A instanceof g&&A.prev===this&&d(m,A.formats())&&(A.moveChildren(this),A.remove())},g.blotName="inline",g.scope=f.Scope.INLINE_BLOT,g.tagName="SPAN",g}(u.default);i.default=v},function(t,i,o){var a=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){v(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(18),f=o(1),d=function(v){a(y,v);function y(){return v!==null&&v.apply(this,arguments)||this}return y.formats=function(g){var p=f.query(y.blotName).tagName;if(g.tagName!==p)return v.formats.call(this,g)},y.prototype.format=function(g,p){f.query(g,f.Scope.BLOCK)!=null&&(g===this.statics.blotName&&!p?this.replaceWith(y.blotName):v.prototype.format.call(this,g,p))},y.prototype.formatAt=function(g,p,m,A){f.query(m,f.Scope.BLOCK)!=null?this.format(m,A):v.prototype.formatAt.call(this,g,p,m,A)},y.prototype.insertAt=function(g,p,m){if(m==null||f.query(p,f.Scope.INLINE)!=null)v.prototype.insertAt.call(this,g,p,m);else{var A=this.split(g),T=f.create(p,m);A.parent.insertBefore(T,A)}},y.prototype.update=function(g,p){navigator.userAgent.match(/Trident/)?this.build():v.prototype.update.call(this,g,p)},y.blotName="block",y.scope=f.Scope.BLOCK_BLOT,y.tagName="P",y}(u.default);i.default=d},function(t,i,o){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var g in y)y.hasOwnProperty(g)&&(v[g]=y[g])};return function(v,y){d(v,y);function g(){this.constructor=v}v.prototype=y===null?Object.create(y):(g.prototype=y.prototype,new g)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(19),f=function(d){a(v,d);function v(){return d!==null&&d.apply(this,arguments)||this}return v.formats=function(y){},v.prototype.format=function(y,g){d.prototype.formatAt.call(this,0,this.length(),y,g)},v.prototype.formatAt=function(y,g,p,m){y===0&&g===this.length()?this.format(p,m):d.prototype.formatAt.call(this,y,g,p,m)},v.prototype.formats=function(){return this.statics.formats(this.domNode)},v}(u.default);i.default=f},function(t,i,o){var a=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,g){y.__proto__=g}||function(y,g){for(var p in g)g.hasOwnProperty(p)&&(y[p]=g[p])};return function(y,g){v(y,g);function p(){this.constructor=y}y.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(i,"__esModule",{value:!0});var u=o(19),f=o(1),d=function(v){a(y,v);function y(g){var p=v.call(this,g)||this;return p.text=p.statics.value(p.domNode),p}return y.create=function(g){return document.createTextNode(g)},y.value=function(g){var p=g.data;return p.normalize&&(p=p.normalize()),p},y.prototype.deleteAt=function(g,p){this.domNode.data=this.text=this.text.slice(0,g)+this.text.slice(g+p)},y.prototype.index=function(g,p){return this.domNode===g?p:-1},y.prototype.insertAt=function(g,p,m){m==null?(this.text=this.text.slice(0,g)+p+this.text.slice(g),this.domNode.data=this.text):v.prototype.insertAt.call(this,g,p,m)},y.prototype.length=function(){return this.text.length},y.prototype.optimize=function(g){v.prototype.optimize.call(this,g),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof y&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},y.prototype.position=function(g,p){return[this.domNode,g]},y.prototype.split=function(g,p){if(p===void 0&&(p=!1),!p){if(g===0)return this;if(g===this.length())return this.next}var m=f.create(this.domNode.splitText(g));return this.parent.insertBefore(m,this.next),this.text=this.statics.value(this.domNode),m},y.prototype.update=function(g,p){var m=this;g.some(function(A){return A.type==="characterData"&&A.target===m.domNode})&&(this.text=this.statics.value(this.domNode))},y.prototype.value=function(){return this.text},y.blotName="text",y.scope=f.Scope.INLINE_BLOT,y}(u.default);i.default=d},function(t,i,o){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var u=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(f,d){return arguments.length>1&&!this.contains(f)==!d?d:u.call(this,f)}}String.prototype.startsWith||(String.prototype.startsWith=function(f,d){return d=d||0,this.substr(d,f.length)===f}),String.prototype.endsWith||(String.prototype.endsWith=function(f,d){var v=this.toString();(typeof d!="number"||!isFinite(d)||Math.floor(d)!==d||d>v.length)&&(d=v.length),d-=f.length;var y=v.indexOf(f,d);return y!==-1&&y===d}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(d){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof d!="function")throw new TypeError("predicate must be a function");for(var v=Object(this),y=v.length>>>0,g=arguments[1],p,m=0;m<y;m++)if(p=v[m],d.call(g,p,m,v))return p}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,i){var o=-1,a=1,u=0;function f(I,M,F){if(I==M)return I?[[u,I]]:[];(F<0||I.length<F)&&(F=null);var O=g(I,M),R=I.substring(0,O);I=I.substring(O),M=M.substring(O),O=p(I,M);var D=I.substring(I.length-O);I=I.substring(0,I.length-O),M=M.substring(0,M.length-O);var C=d(I,M);return R&&C.unshift([u,R]),D&&C.push([u,D]),A(C),F!=null&&(C=_(C,F)),C=S(C),C}function d(I,M){var F;if(!I)return[[a,M]];if(!M)return[[o,I]];var O=I.length>M.length?I:M,R=I.length>M.length?M:I,D=O.indexOf(R);if(D!=-1)return F=[[a,O.substring(0,D)],[u,R],[a,O.substring(D+R.length)]],I.length>M.length&&(F[0][0]=F[2][0]=o),F;if(R.length==1)return[[o,I],[a,M]];var C=m(I,M);if(C){var b=C[0],L=C[1],x=C[2],$=C[3],W=C[4],ne=f(b,x),te=f(L,$);return ne.concat([[u,W]],te)}return v(I,M)}function v(I,M){for(var F=I.length,O=M.length,R=Math.ceil((F+O)/2),D=R,C=2*R,b=new Array(C),L=new Array(C),x=0;x<C;x++)b[x]=-1,L[x]=-1;b[D+1]=0,L[D+1]=0;for(var $=F-O,W=$%2!=0,ne=0,te=0,re=0,Q=0,H=0;H<R;H++){for(var V=-H+ne;V<=H-te;V+=2){var j=D+V,K;V==-H||V!=H&&b[j-1]<b[j+1]?K=b[j+1]:K=b[j-1]+1;for(var Z=K-V;K<F&&Z<O&&I.charAt(K)==M.charAt(Z);)K++,Z++;if(b[j]=K,K>F)te+=2;else if(Z>O)ne+=2;else if(W){var J=D+$-V;if(J>=0&&J<C&&L[J]!=-1){var z=F-L[J];if(K>=z)return y(I,M,K,Z)}}}for(var Y=-H+re;Y<=H-Q;Y+=2){var J=D+Y,z;Y==-H||Y!=H&&L[J-1]<L[J+1]?z=L[J+1]:z=L[J-1]+1;for(var ie=z-Y;z<F&&ie<O&&I.charAt(F-z-1)==M.charAt(O-ie-1);)z++,ie++;if(L[J]=z,z>F)Q+=2;else if(ie>O)re+=2;else if(!W){var j=D+$-Y;if(j>=0&&j<C&&b[j]!=-1){var K=b[j],Z=D+K-j;if(z=F-z,K>=z)return y(I,M,K,Z)}}}}return[[o,I],[a,M]]}function y(I,M,F,O){var R=I.substring(0,F),D=M.substring(0,O),C=I.substring(F),b=M.substring(O),L=f(R,D),x=f(C,b);return L.concat(x)}function g(I,M){if(!I||!M||I.charAt(0)!=M.charAt(0))return 0;for(var F=0,O=Math.min(I.length,M.length),R=O,D=0;F<R;)I.substring(D,R)==M.substring(D,R)?(F=R,D=F):O=R,R=Math.floor((O-F)/2+F);return R}function p(I,M){if(!I||!M||I.charAt(I.length-1)!=M.charAt(M.length-1))return 0;for(var F=0,O=Math.min(I.length,M.length),R=O,D=0;F<R;)I.substring(I.length-R,I.length-D)==M.substring(M.length-R,M.length-D)?(F=R,D=F):O=R,R=Math.floor((O-F)/2+F);return R}function m(I,M){var F=I.length>M.length?I:M,O=I.length>M.length?M:I;if(F.length<4||O.length*2<F.length)return null;function R(te,re,Q){for(var H=te.substring(Q,Q+Math.floor(te.length/4)),V=-1,j="",K,Z,J,z;(V=re.indexOf(H,V+1))!=-1;){var Y=g(te.substring(Q),re.substring(V)),ie=p(te.substring(0,Q),re.substring(0,V));j.length<ie+Y&&(j=re.substring(V-ie,V)+re.substring(V,V+Y),K=te.substring(0,Q-ie),Z=te.substring(Q+Y),J=re.substring(0,V-ie),z=re.substring(V+Y))}return j.length*2>=te.length?[K,Z,J,z,j]:null}var D=R(F,O,Math.ceil(F.length/4)),C=R(F,O,Math.ceil(F.length/2)),b;if(!D&&!C)return null;C?D?b=D[4].length>C[4].length?D:C:b=C:b=D;var L,x,$,W;I.length>M.length?(L=b[0],x=b[1],$=b[2],W=b[3]):($=b[0],W=b[1],L=b[2],x=b[3]);var ne=b[4];return[L,x,$,W,ne]}function A(I){I.push([u,""]);for(var M=0,F=0,O=0,R="",D="",C;M<I.length;)switch(I[M][0]){case a:O++,D+=I[M][1],M++;break;case o:F++,R+=I[M][1],M++;break;case u:F+O>1?(F!==0&&O!==0&&(C=g(D,R),C!==0&&(M-F-O>0&&I[M-F-O-1][0]==u?I[M-F-O-1][1]+=D.substring(0,C):(I.splice(0,0,[u,D.substring(0,C)]),M++),D=D.substring(C),R=R.substring(C)),C=p(D,R),C!==0&&(I[M][1]=D.substring(D.length-C)+I[M][1],D=D.substring(0,D.length-C),R=R.substring(0,R.length-C))),F===0?I.splice(M-O,F+O,[a,D]):O===0?I.splice(M-F,F+O,[o,R]):I.splice(M-F-O,F+O,[o,R],[a,D]),M=M-F-O+(F?1:0)+(O?1:0)+1):M!==0&&I[M-1][0]==u?(I[M-1][1]+=I[M][1],I.splice(M,1)):M++,O=0,F=0,R="",D="";break}I[I.length-1][1]===""&&I.pop();var b=!1;for(M=1;M<I.length-1;)I[M-1][0]==u&&I[M+1][0]==u&&(I[M][1].substring(I[M][1].length-I[M-1][1].length)==I[M-1][1]?(I[M][1]=I[M-1][1]+I[M][1].substring(0,I[M][1].length-I[M-1][1].length),I[M+1][1]=I[M-1][1]+I[M+1][1],I.splice(M-1,1),b=!0):I[M][1].substring(0,I[M+1][1].length)==I[M+1][1]&&(I[M-1][1]+=I[M+1][1],I[M][1]=I[M][1].substring(I[M+1][1].length)+I[M+1][1],I.splice(M+1,1),b=!0)),M++;b&&A(I)}var T=f;T.INSERT=a,T.DELETE=o,T.EQUAL=u,t.exports=T;function E(I,M){if(M===0)return[u,I];for(var F=0,O=0;O<I.length;O++){var R=I[O];if(R[0]===o||R[0]===u){var D=F+R[1].length;if(M===D)return[O+1,I];if(M<D){I=I.slice();var C=M-F,b=[R[0],R[1].slice(0,C)],L=[R[0],R[1].slice(C)];return I.splice(O,1,b,L),[O+1,I]}else F=D}}throw new Error("cursor_pos is out of bounds!")}function _(I,M){var F=E(I,M),O=F[1],R=F[0],D=O[R],C=O[R+1];if(D==null)return I;if(D[0]!==u)return I;if(C!=null&&D[1]+C[1]===C[1]+D[1])return O.splice(R,2,C,D),N(O,R,2);if(C!=null&&C[1].indexOf(D[1])===0){O.splice(R,2,[C[0],D[1]],[0,D[1]]);var b=C[1].slice(D[1].length);return b.length>0&&O.splice(R+2,0,[C[0],b]),N(O,R,3)}else return I}function S(I){for(var M=!1,F=function(C){return C.charCodeAt(0)>=56320&&C.charCodeAt(0)<=57343},O=function(C){return C.charCodeAt(C.length-1)>=55296&&C.charCodeAt(C.length-1)<=56319},R=2;R<I.length;R+=1)I[R-2][0]===u&&O(I[R-2][1])&&I[R-1][0]===o&&F(I[R-1][1])&&I[R][0]===a&&F(I[R][1])&&(M=!0,I[R-1][1]=I[R-2][1].slice(-1)+I[R-1][1],I[R][1]=I[R-2][1].slice(-1)+I[R][1],I[R-2][1]=I[R-2][1].slice(0,-1));if(!M)return I;for(var D=[],R=0;R<I.length;R+=1)I[R][1].length>0&&D.push(I[R]);return D}function N(I,M,F){for(var O=M+F-1;O>=0&&O>=M-1;O--)if(O+1<I.length){var R=I[O],D=I[O+1];R[0]===D[1]&&I.splice(O,2,[R[0],R[1]+D[1]])}return I}},function(t,i){i=t.exports=typeof Object.keys=="function"?Object.keys:o,i.shim=o;function o(a){var u=[];for(var f in a)u.push(f);return u}},function(t,i){var o=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";i=t.exports=o?a:u,i.supported=a;function a(f){return Object.prototype.toString.call(f)=="[object Arguments]"}i.unsupported=u;function u(f){return f&&typeof f=="object"&&typeof f.length=="number"&&Object.prototype.hasOwnProperty.call(f,"callee")&&!Object.prototype.propertyIsEnumerable.call(f,"callee")||!1}},function(t,i){var o=Object.prototype.hasOwnProperty,a="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(a=!1));function f(v,y,g){this.fn=v,this.context=y,this.once=g||!1}function d(){this._events=new u,this._eventsCount=0}d.prototype.eventNames=function(){var y=[],g,p;if(this._eventsCount===0)return y;for(p in g=this._events)o.call(g,p)&&y.push(a?p.slice(1):p);return Object.getOwnPropertySymbols?y.concat(Object.getOwnPropertySymbols(g)):y},d.prototype.listeners=function(y,g){var p=a?a+y:y,m=this._events[p];if(g)return!!m;if(!m)return[];if(m.fn)return[m.fn];for(var A=0,T=m.length,E=new Array(T);A<T;A++)E[A]=m[A].fn;return E},d.prototype.emit=function(y,g,p,m,A,T){var E=a?a+y:y;if(!this._events[E])return!1;var _=this._events[E],S=arguments.length,N,I;if(_.fn){switch(_.once&&this.removeListener(y,_.fn,void 0,!0),S){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,g),!0;case 3:return _.fn.call(_.context,g,p),!0;case 4:return _.fn.call(_.context,g,p,m),!0;case 5:return _.fn.call(_.context,g,p,m,A),!0;case 6:return _.fn.call(_.context,g,p,m,A,T),!0}for(I=1,N=new Array(S-1);I<S;I++)N[I-1]=arguments[I];_.fn.apply(_.context,N)}else{var M=_.length,F;for(I=0;I<M;I++)switch(_[I].once&&this.removeListener(y,_[I].fn,void 0,!0),S){case 1:_[I].fn.call(_[I].context);break;case 2:_[I].fn.call(_[I].context,g);break;case 3:_[I].fn.call(_[I].context,g,p);break;case 4:_[I].fn.call(_[I].context,g,p,m);break;default:if(!N)for(F=1,N=new Array(S-1);F<S;F++)N[F-1]=arguments[F];_[I].fn.apply(_[I].context,N)}}return!0},d.prototype.on=function(y,g,p){var m=new f(g,p||this),A=a?a+y:y;return this._events[A]?this._events[A].fn?this._events[A]=[this._events[A],m]:this._events[A].push(m):(this._events[A]=m,this._eventsCount++),this},d.prototype.once=function(y,g,p){var m=new f(g,p||this,!0),A=a?a+y:y;return this._events[A]?this._events[A].fn?this._events[A]=[this._events[A],m]:this._events[A].push(m):(this._events[A]=m,this._eventsCount++),this},d.prototype.removeListener=function(y,g,p,m){var A=a?a+y:y;if(!this._events[A])return this;if(!g)return--this._eventsCount===0?this._events=new u:delete this._events[A],this;var T=this._events[A];if(T.fn)T.fn===g&&(!m||T.once)&&(!p||T.context===p)&&(--this._eventsCount===0?this._events=new u:delete this._events[A]);else{for(var E=0,_=[],S=T.length;E<S;E++)(T[E].fn!==g||m&&!T[E].once||p&&T[E].context!==p)&&_.push(T[E]);_.length?this._events[A]=_.length===1?_[0]:_:--this._eventsCount===0?this._events=new u:delete this._events[A]}return this},d.prototype.removeAllListeners=function(y){var g;return y?(g=a?a+y:y,this._events[g]&&(--this._eventsCount===0?this._events=new u:delete this._events[g])):(this._events=new u,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prototype.setMaxListeners=function(){return this},d.prefixed=a,d.EventEmitter=d,typeof t<"u"&&(t.exports=d)},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.matchText=i.matchSpacing=i.matchNewline=i.matchBlot=i.matchAttributor=i.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fe){return typeof fe}:function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},u=function(){function fe(de,Te){var Se=[],ve=!0,je=!1,Be=void 0;try{for(var Ke=de[Symbol.iterator](),rt;!(ve=(rt=Ke.next()).done)&&(Se.push(rt.value),!(Te&&Se.length===Te));ve=!0);}catch(st){je=!0,Be=st}finally{try{!ve&&Ke.return&&Ke.return()}finally{if(je)throw Be}}return Se}return function(de,Te){if(Array.isArray(de))return de;if(Symbol.iterator in Object(de))return fe(de,Te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function fe(de,Te){for(var Se=0;Se<Te.length;Se++){var ve=Te[Se];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(de,ve.key,ve)}}return function(de,Te,Se){return Te&&fe(de.prototype,Te),Se&&fe(de,Se),de}}(),d=o(3),v=L(d),y=o(2),g=L(y),p=o(0),m=L(p),A=o(5),T=L(A),E=o(10),_=L(E),S=o(9),N=L(S),I=o(36),M=o(37),F=o(13),O=L(F),R=o(26),D=o(38),C=o(39),b=o(40);function L(fe){return fe&&fe.__esModule?fe:{default:fe}}function x(fe,de,Te){return de in fe?Object.defineProperty(fe,de,{value:Te,enumerable:!0,configurable:!0,writable:!0}):fe[de]=Te,fe}function $(fe,de){if(!(fe instanceof de))throw new TypeError("Cannot call a class as a function")}function W(fe,de){if(!fe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de&&(typeof de=="object"||typeof de=="function")?de:fe}function ne(fe,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof de);fe.prototype=Object.create(de&&de.prototype,{constructor:{value:fe,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(fe,de):fe.__proto__=de)}var te=(0,_.default)("quill:clipboard"),re="__ql-matcher",Q=[[Node.TEXT_NODE,ht],[Node.TEXT_NODE,He],["br",Ie],[Node.ELEMENT_NODE,He],[Node.ELEMENT_NODE,he],[Node.ELEMENT_NODE,Ge],[Node.ELEMENT_NODE,oe],[Node.ELEMENT_NODE,It],["li",Ve],["b",ie.bind(ie,"bold")],["i",ie.bind(ie,"italic")],["style",Le]],H=[I.AlignAttribute,D.DirectionAttribute].reduce(function(fe,de){return fe[de.keyName]=de,fe},{}),V=[I.AlignStyle,M.BackgroundStyle,R.ColorStyle,D.DirectionStyle,C.FontStyle,b.SizeStyle].reduce(function(fe,de){return fe[de.keyName]=de,fe},{}),j=function(fe){ne(de,fe);function de(Te,Se){$(this,de);var ve=W(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,Te,Se));return ve.quill.root.addEventListener("paste",ve.onPaste.bind(ve)),ve.container=ve.quill.addContainer("ql-clipboard"),ve.container.setAttribute("contenteditable",!0),ve.container.setAttribute("tabindex",-1),ve.matchers=[],Q.concat(ve.options.matchers).forEach(function(je){var Be=u(je,2),Ke=Be[0],rt=Be[1];!Se.matchVisual&&rt===Ge||ve.addMatcher(Ke,rt)}),ve}return f(de,[{key:"addMatcher",value:function(Se,ve){this.matchers.push([Se,ve])}},{key:"convert",value:function(Se){if(typeof Se=="string")return this.container.innerHTML=Se.replace(/\>\r?\n +\</g,"><"),this.convert();var ve=this.quill.getFormat(this.quill.selection.savedRange.index);if(ve[O.default.blotName]){var je=this.container.innerText;return this.container.innerHTML="",new g.default().insert(je,x({},O.default.blotName,ve[O.default.blotName]))}var Be=this.prepareMatching(),Ke=u(Be,2),rt=Ke[0],st=Ke[1],tt=Y(this.container,rt,st);return J(tt,`
`)&&tt.ops[tt.ops.length-1].attributes==null&&(tt=tt.compose(new g.default().retain(tt.length()-1).delete(1))),te.log("convert",this.container.innerHTML,tt),this.container.innerHTML="",tt}},{key:"dangerouslyPasteHTML",value:function(Se,ve){var je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:T.default.sources.API;if(typeof Se=="string")this.quill.setContents(this.convert(Se),ve),this.quill.setSelection(0,T.default.sources.SILENT);else{var Be=this.convert(ve);this.quill.updateContents(new g.default().retain(Se).concat(Be),je),this.quill.setSelection(Se+Be.length(),T.default.sources.SILENT)}}},{key:"onPaste",value:function(Se){var ve=this;if(!(Se.defaultPrevented||!this.quill.isEnabled())){var je=this.quill.getSelection(),Be=new g.default().retain(je.index),Ke=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(T.default.sources.SILENT),setTimeout(function(){Be=Be.concat(ve.convert()).delete(je.length),ve.quill.updateContents(Be,T.default.sources.USER),ve.quill.setSelection(Be.length()-je.length,T.default.sources.SILENT),ve.quill.scrollingContainer.scrollTop=Ke,ve.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Se=this,ve=[],je=[];return this.matchers.forEach(function(Be){var Ke=u(Be,2),rt=Ke[0],st=Ke[1];switch(rt){case Node.TEXT_NODE:je.push(st);break;case Node.ELEMENT_NODE:ve.push(st);break;default:[].forEach.call(Se.container.querySelectorAll(rt),function(tt){tt[re]=tt[re]||[],tt[re].push(st)});break}}),[ve,je]}}]),de}(N.default);j.DEFAULTS={matchers:[],matchVisual:!0};function K(fe,de,Te){return(typeof de>"u"?"undefined":a(de))==="object"?Object.keys(de).reduce(function(Se,ve){return K(Se,ve,de[ve])},fe):fe.reduce(function(Se,ve){return ve.attributes&&ve.attributes[de]?Se.push(ve):Se.insert(ve.insert,(0,v.default)({},x({},de,Te),ve.attributes))},new g.default)}function Z(fe){if(fe.nodeType!==Node.ELEMENT_NODE)return{};var de="__ql-computed-style";return fe[de]||(fe[de]=window.getComputedStyle(fe))}function J(fe,de){for(var Te="",Se=fe.ops.length-1;Se>=0&&Te.length<de.length;--Se){var ve=fe.ops[Se];if(typeof ve.insert!="string")break;Te=ve.insert+Te}return Te.slice(-1*de.length)===de}function z(fe){if(fe.childNodes.length===0)return!1;var de=Z(fe);return["block","list-item"].indexOf(de.display)>-1}function Y(fe,de,Te){return fe.nodeType===fe.TEXT_NODE?Te.reduce(function(Se,ve){return ve(fe,Se)},new g.default):fe.nodeType===fe.ELEMENT_NODE?[].reduce.call(fe.childNodes||[],function(Se,ve){var je=Y(ve,de,Te);return ve.nodeType===fe.ELEMENT_NODE&&(je=de.reduce(function(Be,Ke){return Ke(ve,Be)},je),je=(ve[re]||[]).reduce(function(Be,Ke){return Ke(ve,Be)},je)),Se.concat(je)},new g.default):new g.default}function ie(fe,de,Te){return K(Te,fe,!0)}function oe(fe,de){var Te=m.default.Attributor.Attribute.keys(fe),Se=m.default.Attributor.Class.keys(fe),ve=m.default.Attributor.Style.keys(fe),je={};return Te.concat(Se).concat(ve).forEach(function(Be){var Ke=m.default.query(Be,m.default.Scope.ATTRIBUTE);Ke!=null&&(je[Ke.attrName]=Ke.value(fe),je[Ke.attrName])||(Ke=H[Be],Ke!=null&&(Ke.attrName===Be||Ke.keyName===Be)&&(je[Ke.attrName]=Ke.value(fe)||void 0),Ke=V[Be],Ke!=null&&(Ke.attrName===Be||Ke.keyName===Be)&&(Ke=V[Be],je[Ke.attrName]=Ke.value(fe)||void 0))}),Object.keys(je).length>0&&(de=K(de,je)),de}function he(fe,de){var Te=m.default.query(fe);if(Te==null)return de;if(Te.prototype instanceof m.default.Embed){var Se={},ve=Te.value(fe);ve!=null&&(Se[Te.blotName]=ve,de=new g.default().insert(Se,Te.formats(fe)))}else typeof Te.formats=="function"&&(de=K(de,Te.blotName,Te.formats(fe)));return de}function Ie(fe,de){return J(de,`
`)||de.insert(`
`),de}function Le(){return new g.default}function Ve(fe,de){var Te=m.default.query(fe);if(Te==null||Te.blotName!=="list-item"||!J(de,`
`))return de;for(var Se=-1,ve=fe.parentNode;!ve.classList.contains("ql-clipboard");)(m.default.query(ve)||{}).blotName==="list"&&(Se+=1),ve=ve.parentNode;return Se<=0?de:de.compose(new g.default().retain(de.length()-1).retain(1,{indent:Se}))}function He(fe,de){return J(de,`
`)||(z(fe)||de.length()>0&&fe.nextSibling&&z(fe.nextSibling))&&de.insert(`
`),de}function Ge(fe,de){if(z(fe)&&fe.nextElementSibling!=null&&!J(de,`

`)){var Te=fe.offsetHeight+parseFloat(Z(fe).marginTop)+parseFloat(Z(fe).marginBottom);fe.nextElementSibling.offsetTop>fe.offsetTop+Te*1.5&&de.insert(`
`)}return de}function It(fe,de){var Te={},Se=fe.style||{};return Se.fontStyle&&Z(fe).fontStyle==="italic"&&(Te.italic=!0),Se.fontWeight&&(Z(fe).fontWeight.startsWith("bold")||parseInt(Z(fe).fontWeight)>=700)&&(Te.bold=!0),Object.keys(Te).length>0&&(de=K(de,Te)),parseFloat(Se.textIndent||0)>0&&(de=new g.default().insert("	").concat(de)),de}function ht(fe,de){var Te=fe.data;if(fe.parentNode.tagName==="O:P")return de.insert(Te.trim());if(Te.trim().length===0&&fe.parentNode.classList.contains("ql-clipboard"))return de;if(!Z(fe.parentNode).whiteSpace.startsWith("pre")){var Se=function(je,Be){return Be=Be.replace(/[^\u00a0]/g,""),Be.length<1&&je?" ":Be};Te=Te.replace(/\r\n/g," ").replace(/\n/g," "),Te=Te.replace(/\s\s+/g,Se.bind(Se,!0)),(fe.previousSibling==null&&z(fe.parentNode)||fe.previousSibling!=null&&z(fe.previousSibling))&&(Te=Te.replace(/^\s+/,Se.bind(Se,!1))),(fe.nextSibling==null&&z(fe.parentNode)||fe.nextSibling!=null&&z(fe.nextSibling))&&(Te=Te.replace(/\s+$/,Se.bind(Se,!1)))}return de.insert(Te)}i.default=j,i.matchAttributor=oe,i.matchBlot=he,i.matchNewline=He,i.matchSpacing=Ge,i.matchText=ht},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function A(T,E){for(var _=0;_<E.length;_++){var S=E[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,E,_){return E&&A(T.prototype,E),_&&A(T,_),T}}(),u=function A(T,E,_){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,E);if(S===void 0){var N=Object.getPrototypeOf(T);return N===null?void 0:A(N,E,_)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(_)}},f=o(6),d=v(f);function v(A){return A&&A.__esModule?A:{default:A}}function y(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function g(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function p(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var m=function(A){p(T,A);function T(){return y(this,T),g(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"optimize",value:function(_){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,_),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return u(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),T}(d.default);m.blotName="bold",m.tagName=["STRONG","B"],i.default=m},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.addControls=i.default=void 0;var a=function(){function b(L,x){var $=[],W=!0,ne=!1,te=void 0;try{for(var re=L[Symbol.iterator](),Q;!(W=(Q=re.next()).done)&&($.push(Q.value),!(x&&$.length===x));W=!0);}catch(H){ne=!0,te=H}finally{try{!W&&re.return&&re.return()}finally{if(ne)throw te}}return $}return function(L,x){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return b(L,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function b(L,x){for(var $=0;$<x.length;$++){var W=x[$];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(L,W.key,W)}}return function(L,x,$){return x&&b(L.prototype,x),$&&b(L,$),L}}(),f=o(2),d=_(f),v=o(0),y=_(v),g=o(5),p=_(g),m=o(10),A=_(m),T=o(9),E=_(T);function _(b){return b&&b.__esModule?b:{default:b}}function S(b,L,x){return L in b?Object.defineProperty(b,L,{value:x,enumerable:!0,configurable:!0,writable:!0}):b[L]=x,b}function N(b,L){if(!(b instanceof L))throw new TypeError("Cannot call a class as a function")}function I(b,L){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:b}function M(b,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);b.prototype=Object.create(L&&L.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(b,L):b.__proto__=L)}var F=(0,A.default)("quill:toolbar"),O=function(b){M(L,b);function L(x,$){N(this,L);var W=I(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,x,$));if(Array.isArray(W.options.container)){var ne=document.createElement("div");D(ne,W.options.container),x.container.parentNode.insertBefore(ne,x.container),W.container=ne}else typeof W.options.container=="string"?W.container=document.querySelector(W.options.container):W.container=W.options.container;if(!(W.container instanceof HTMLElement)){var te;return te=F.error("Container required for toolbar",W.options),I(W,te)}return W.container.classList.add("ql-toolbar"),W.controls=[],W.handlers={},Object.keys(W.options.handlers).forEach(function(re){W.addHandler(re,W.options.handlers[re])}),[].forEach.call(W.container.querySelectorAll("button, select"),function(re){W.attach(re)}),W.quill.on(p.default.events.EDITOR_CHANGE,function(re,Q){re===p.default.events.SELECTION_CHANGE&&W.update(Q)}),W.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){var re=W.quill.selection.getRange(),Q=a(re,1),H=Q[0];W.update(H)}),W}return u(L,[{key:"addHandler",value:function($,W){this.handlers[$]=W}},{key:"attach",value:function($){var W=this,ne=[].find.call($.classList,function(re){return re.indexOf("ql-")===0});if(ne){if(ne=ne.slice(3),$.tagName==="BUTTON"&&$.setAttribute("type","button"),this.handlers[ne]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[ne]==null){F.warn("ignoring attaching to disabled format",ne,$);return}if(y.default.query(ne)==null){F.warn("ignoring attaching to nonexistent format",ne,$);return}}var te=$.tagName==="SELECT"?"change":"click";$.addEventListener(te,function(re){var Q=void 0;if($.tagName==="SELECT"){if($.selectedIndex<0)return;var H=$.options[$.selectedIndex];H.hasAttribute("selected")?Q=!1:Q=H.value||!1}else $.classList.contains("ql-active")?Q=!1:Q=$.value||!$.hasAttribute("value"),re.preventDefault();W.quill.focus();var V=W.quill.selection.getRange(),j=a(V,1),K=j[0];if(W.handlers[ne]!=null)W.handlers[ne].call(W,Q);else if(y.default.query(ne).prototype instanceof y.default.Embed){if(Q=prompt("Enter "+ne),!Q)return;W.quill.updateContents(new d.default().retain(K.index).delete(K.length).insert(S({},ne,Q)),p.default.sources.USER)}else W.quill.format(ne,Q,p.default.sources.USER);W.update(K)}),this.controls.push([ne,$])}}},{key:"update",value:function($){var W=$==null?{}:this.quill.getFormat($);this.controls.forEach(function(ne){var te=a(ne,2),re=te[0],Q=te[1];if(Q.tagName==="SELECT"){var H=void 0;if($==null)H=null;else if(W[re]==null)H=Q.querySelector("option[selected]");else if(!Array.isArray(W[re])){var V=W[re];typeof V=="string"&&(V=V.replace(/\"/g,'\\"')),H=Q.querySelector('option[value="'+V+'"]')}H==null?(Q.value="",Q.selectedIndex=-1):H.selected=!0}else if($==null)Q.classList.remove("ql-active");else if(Q.hasAttribute("value")){var j=W[re]===Q.getAttribute("value")||W[re]!=null&&W[re].toString()===Q.getAttribute("value")||W[re]==null&&!Q.getAttribute("value");Q.classList.toggle("ql-active",j)}else Q.classList.toggle("ql-active",W[re]!=null)})}}]),L}(E.default);O.DEFAULTS={};function R(b,L,x){var $=document.createElement("button");$.setAttribute("type","button"),$.classList.add("ql-"+L),x!=null&&($.value=x),b.appendChild($)}function D(b,L){Array.isArray(L[0])||(L=[L]),L.forEach(function(x){var $=document.createElement("span");$.classList.add("ql-formats"),x.forEach(function(W){if(typeof W=="string")R($,W);else{var ne=Object.keys(W)[0],te=W[ne];Array.isArray(te)?C($,ne,te):R($,ne,te)}}),b.appendChild($)})}function C(b,L,x){var $=document.createElement("select");$.classList.add("ql-"+L),x.forEach(function(W){var ne=document.createElement("option");W!==!1?ne.setAttribute("value",W):ne.setAttribute("selected","selected"),$.appendChild(ne)}),b.appendChild($)}O.DEFAULTS={container:null,handlers:{clean:function(){var L=this,x=this.quill.getSelection();if(x!=null)if(x.length==0){var $=this.quill.getFormat();Object.keys($).forEach(function(W){y.default.query(W,y.default.Scope.INLINE)!=null&&L.quill.format(W,!1)})}else this.quill.removeFormat(x,p.default.sources.USER)},direction:function(L){var x=this.quill.getFormat().align;L==="rtl"&&x==null?this.quill.format("align","right",p.default.sources.USER):!L&&x==="right"&&this.quill.format("align",!1,p.default.sources.USER),this.quill.format("direction",L,p.default.sources.USER)},indent:function(L){var x=this.quill.getSelection(),$=this.quill.getFormat(x),W=parseInt($.indent||0);if(L==="+1"||L==="-1"){var ne=L==="+1"?1:-1;$.direction==="rtl"&&(ne*=-1),this.quill.format("indent",W+ne,p.default.sources.USER)}},link:function(L){L===!0&&(L=prompt("Enter link URL:")),this.quill.format("link",L,p.default.sources.USER)},list:function(L){var x=this.quill.getSelection(),$=this.quill.getFormat(x);L==="check"?$.list==="checked"||$.list==="unchecked"?this.quill.format("list",!1,p.default.sources.USER):this.quill.format("list","unchecked",p.default.sources.USER):this.quill.format("list",L,p.default.sources.USER)}}},i.default=O,i.addControls=D},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function A(T,E){for(var _=0;_<E.length;_++){var S=E[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,E,_){return E&&A(T.prototype,E),_&&A(T,_),T}}(),u=function A(T,E,_){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,E);if(S===void 0){var N=Object.getPrototypeOf(T);return N===null?void 0:A(N,E,_)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(_)}},f=o(28),d=v(f);function v(A){return A&&A.__esModule?A:{default:A}}function y(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function g(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function p(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var m=function(A){p(T,A);function T(E,_){y(this,T);var S=g(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,E));return S.label.innerHTML=_,S.container.classList.add("ql-color-picker"),[].slice.call(S.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(N){N.classList.add("ql-primary")}),S}return a(T,[{key:"buildItem",value:function(_){var S=u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"buildItem",this).call(this,_);return S.style.backgroundColor=_.getAttribute("value")||"",S}},{key:"selectItem",value:function(_,S){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"selectItem",this).call(this,_,S);var N=this.label.querySelector(".ql-color-label"),I=_&&_.getAttribute("data-value")||"";N&&(N.tagName==="line"?N.style.stroke=I:N.style.fill=I)}}]),T}(d.default);i.default=m},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function A(T,E){for(var _=0;_<E.length;_++){var S=E[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,E,_){return E&&A(T.prototype,E),_&&A(T,_),T}}(),u=function A(T,E,_){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,E);if(S===void 0){var N=Object.getPrototypeOf(T);return N===null?void 0:A(N,E,_)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(_)}},f=o(28),d=v(f);function v(A){return A&&A.__esModule?A:{default:A}}function y(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function g(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function p(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var m=function(A){p(T,A);function T(E,_){y(this,T);var S=g(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,E));return S.container.classList.add("ql-icon-picker"),[].forEach.call(S.container.querySelectorAll(".ql-picker-item"),function(N){N.innerHTML=_[N.getAttribute("data-value")||""]}),S.defaultItem=S.container.querySelector(".ql-selected"),S.selectItem(S.defaultItem),S}return a(T,[{key:"selectItem",value:function(_,S){u(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"selectItem",this).call(this,_,S),_=_||this.defaultItem,this.label.innerHTML=_.innerHTML}}]),T}(d.default);i.default=m},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function d(v,y){for(var g=0;g<y.length;g++){var p=y[g];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(v,p.key,p)}}return function(v,y,g){return y&&d(v.prototype,y),g&&d(v,g),v}}();function u(d,v){if(!(d instanceof v))throw new TypeError("Cannot call a class as a function")}var f=function(){function d(v,y){var g=this;u(this,d),this.quill=v,this.boundsContainer=y||document.body,this.root=v.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){g.root.style.marginTop=-1*g.quill.root.scrollTop+"px"}),this.hide()}return a(d,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(y){var g=y.left+y.width/2-this.root.offsetWidth/2,p=y.bottom+this.quill.root.scrollTop;this.root.style.left=g+"px",this.root.style.top=p+"px",this.root.classList.remove("ql-flip");var m=this.boundsContainer.getBoundingClientRect(),A=this.root.getBoundingClientRect(),T=0;if(A.right>m.right&&(T=m.right-A.right,this.root.style.left=g+T+"px"),A.left<m.left&&(T=m.left-A.left,this.root.style.left=g+T+"px"),A.bottom>m.bottom){var E=A.bottom-A.top,_=y.bottom-y.top+E;this.root.style.top=p-_+"px",this.root.classList.add("ql-flip")}return T}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),d}();i.default=f},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function C(b,L){var x=[],$=!0,W=!1,ne=void 0;try{for(var te=b[Symbol.iterator](),re;!($=(re=te.next()).done)&&(x.push(re.value),!(L&&x.length===L));$=!0);}catch(Q){W=!0,ne=Q}finally{try{!$&&te.return&&te.return()}finally{if(W)throw ne}}return x}return function(b,L){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return C(b,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function C(b,L,x){b===null&&(b=Function.prototype);var $=Object.getOwnPropertyDescriptor(b,L);if($===void 0){var W=Object.getPrototypeOf(b);return W===null?void 0:C(W,L,x)}else{if("value"in $)return $.value;var ne=$.get;return ne===void 0?void 0:ne.call(x)}},f=function(){function C(b,L){for(var x=0;x<L.length;x++){var $=L[x];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(b,$.key,$)}}return function(b,L,x){return L&&C(b.prototype,L),x&&C(b,x),b}}(),d=o(3),v=N(d),y=o(8),g=N(y),p=o(43),m=N(p),A=o(27),T=N(A),E=o(15),_=o(41),S=N(_);function N(C){return C&&C.__esModule?C:{default:C}}function I(C,b){if(!(C instanceof b))throw new TypeError("Cannot call a class as a function")}function M(C,b){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:C}function F(C,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);C.prototype=Object.create(b&&b.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(C,b):C.__proto__=b)}var O=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],R=function(C){F(b,C);function b(L,x){I(this,b),x.modules.toolbar!=null&&x.modules.toolbar.container==null&&(x.modules.toolbar.container=O);var $=M(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,L,x));return $.quill.container.classList.add("ql-snow"),$}return f(b,[{key:"extendToolbar",value:function(x){x.container.classList.add("ql-snow"),this.buildButtons([].slice.call(x.container.querySelectorAll("button")),S.default),this.buildPickers([].slice.call(x.container.querySelectorAll("select")),S.default),this.tooltip=new D(this.quill,this.options.bounds),x.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function($,W){x.handlers.link.call(x,!W.format.link)})}}]),b}(m.default);R.DEFAULTS=(0,v.default)(!0,{},m.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(b){if(b){var L=this.quill.getSelection();if(L==null||L.length==0)return;var x=this.quill.getText(L);/^\S+@\S+\.\S+$/.test(x)&&x.indexOf("mailto:")!==0&&(x="mailto:"+x);var $=this.quill.theme.tooltip;$.edit("link",x)}else this.quill.format("link",!1)}}}}});var D=function(C){F(b,C);function b(L,x){I(this,b);var $=M(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,L,x));return $.preview=$.root.querySelector("a.ql-preview"),$}return f(b,[{key:"listen",value:function(){var x=this;u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function($){x.root.classList.contains("ql-editing")?x.save():x.edit("link",x.preview.textContent),$.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function($){if(x.linkRange!=null){var W=x.linkRange;x.restoreFocus(),x.quill.formatText(W,"link",!1,g.default.sources.USER),delete x.linkRange}$.preventDefault(),x.hide()}),this.quill.on(g.default.events.SELECTION_CHANGE,function($,W,ne){if($!=null){if($.length===0&&ne===g.default.sources.USER){var te=x.quill.scroll.descendant(T.default,$.index),re=a(te,2),Q=re[0],H=re[1];if(Q!=null){x.linkRange=new E.Range($.index-H,Q.length());var V=T.default.formats(Q.domNode);x.preview.textContent=V,x.preview.setAttribute("href",V),x.show(),x.position(x.quill.getBounds(x.linkRange));return}}else delete x.linkRange;x.hide()}})}},{key:"show",value:function(){u(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),b}(p.BaseTooltip);D.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),i.default=R},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(29),u=ve(a),f=o(36),d=o(38),v=o(64),y=o(65),g=ve(y),p=o(66),m=ve(p),A=o(67),T=ve(A),E=o(37),_=o(26),S=o(39),N=o(40),I=o(56),M=ve(I),F=o(68),O=ve(F),R=o(27),D=ve(R),C=o(69),b=ve(C),L=o(70),x=ve(L),$=o(71),W=ve($),ne=o(72),te=ve(ne),re=o(73),Q=ve(re),H=o(13),V=ve(H),j=o(74),K=ve(j),Z=o(75),J=ve(Z),z=o(57),Y=ve(z),ie=o(41),oe=ve(ie),he=o(28),Ie=ve(he),Le=o(59),Ve=ve(Le),He=o(60),Ge=ve(He),It=o(61),ht=ve(It),fe=o(108),de=ve(fe),Te=o(62),Se=ve(Te);function ve(je){return je&&je.__esModule?je:{default:je}}u.default.register({"attributors/attribute/direction":d.DirectionAttribute,"attributors/class/align":f.AlignClass,"attributors/class/background":E.BackgroundClass,"attributors/class/color":_.ColorClass,"attributors/class/direction":d.DirectionClass,"attributors/class/font":S.FontClass,"attributors/class/size":N.SizeClass,"attributors/style/align":f.AlignStyle,"attributors/style/background":E.BackgroundStyle,"attributors/style/color":_.ColorStyle,"attributors/style/direction":d.DirectionStyle,"attributors/style/font":S.FontStyle,"attributors/style/size":N.SizeStyle},!0),u.default.register({"formats/align":f.AlignClass,"formats/direction":d.DirectionClass,"formats/indent":v.IndentClass,"formats/background":E.BackgroundStyle,"formats/color":_.ColorStyle,"formats/font":S.FontClass,"formats/size":N.SizeClass,"formats/blockquote":g.default,"formats/code-block":V.default,"formats/header":m.default,"formats/list":T.default,"formats/bold":M.default,"formats/code":H.Code,"formats/italic":O.default,"formats/link":D.default,"formats/script":b.default,"formats/strike":x.default,"formats/underline":W.default,"formats/image":te.default,"formats/video":Q.default,"formats/list/item":A.ListItem,"modules/formula":K.default,"modules/syntax":J.default,"modules/toolbar":Y.default,"themes/bubble":de.default,"themes/snow":Se.default,"ui/icons":oe.default,"ui/picker":Ie.default,"ui/icon-picker":Ge.default,"ui/color-picker":Ve.default,"ui/tooltip":ht.default},!0),i.default=u.default},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.IndentClass=void 0;var a=function(){function T(E,_){for(var S=0;S<_.length;S++){var N=_[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,N.key,N)}}return function(E,_,S){return _&&T(E.prototype,_),S&&T(E,S),E}}(),u=function T(E,_,S){E===null&&(E=Function.prototype);var N=Object.getOwnPropertyDescriptor(E,_);if(N===void 0){var I=Object.getPrototypeOf(E);return I===null?void 0:T(I,_,S)}else{if("value"in N)return N.value;var M=N.get;return M===void 0?void 0:M.call(S)}},f=o(0),d=v(f);function v(T){return T&&T.__esModule?T:{default:T}}function y(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function g(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function p(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var m=function(T){p(E,T);function E(){return y(this,E),g(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"add",value:function(S,N){if(N==="+1"||N==="-1"){var I=this.value(S)||0;N=N==="+1"?I+1:I-1}return N===0?(this.remove(S),!0):u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"add",this).call(this,S,N)}},{key:"canAdd",value:function(S,N){return u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,S,N)||u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,S,parseInt(N))}},{key:"value",value:function(S){return parseInt(u(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,S))||void 0}}]),E}(d.default.Attributor.Class),A=new m("indent","ql-indent",{scope:d.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});i.IndentClass=A},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(4),u=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function d(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function v(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function y(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var g=function(p){y(m,p);function m(){return d(this,m),v(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(u.default);g.blotName="blockquote",g.tagName="blockquote",i.default=g},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function m(A,T){for(var E=0;E<T.length;E++){var _=T[E];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(A,_.key,_)}}return function(A,T,E){return T&&m(A.prototype,T),E&&m(A,E),A}}(),u=o(4),f=d(u);function d(m){return m&&m.__esModule?m:{default:m}}function v(m,A){if(!(m instanceof A))throw new TypeError("Cannot call a class as a function")}function y(m,A){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:m}function g(m,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);m.prototype=Object.create(A&&A.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(m,A):m.__proto__=A)}var p=function(m){g(A,m);function A(){return v(this,A),y(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,null,[{key:"formats",value:function(E){return this.tagName.indexOf(E.tagName)+1}}]),A}(f.default);p.blotName="header",p.tagName=["H1","H2","H3","H4","H5","H6"],i.default=p},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.ListItem=void 0;var a=function(){function I(M,F){for(var O=0;O<F.length;O++){var R=F[O];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(M,R.key,R)}}return function(M,F,O){return F&&I(M.prototype,F),O&&I(M,O),M}}(),u=function I(M,F,O){M===null&&(M=Function.prototype);var R=Object.getOwnPropertyDescriptor(M,F);if(R===void 0){var D=Object.getPrototypeOf(M);return D===null?void 0:I(D,F,O)}else{if("value"in R)return R.value;var C=R.get;return C===void 0?void 0:C.call(O)}},f=o(0),d=m(f),v=o(4),y=m(v),g=o(25),p=m(g);function m(I){return I&&I.__esModule?I:{default:I}}function A(I,M,F){return M in I?Object.defineProperty(I,M,{value:F,enumerable:!0,configurable:!0,writable:!0}):I[M]=F,I}function T(I,M){if(!(I instanceof M))throw new TypeError("Cannot call a class as a function")}function E(I,M){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:I}function _(I,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);I.prototype=Object.create(M&&M.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(I,M):I.__proto__=M)}var S=function(I){_(M,I);function M(){return T(this,M),E(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return a(M,[{key:"format",value:function(O,R){O===N.blotName&&!R?this.replaceWith(d.default.create(this.statics.scope)):u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,O,R)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(O,R){return this.parent.isolate(this.offset(this.parent),this.length()),O===this.parent.statics.blotName?(this.parent.replaceWith(O,R),this):(this.parent.unwrap(),u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replaceWith",this).call(this,O,R))}}],[{key:"formats",value:function(O){return O.tagName===this.tagName?void 0:u(M.__proto__||Object.getPrototypeOf(M),"formats",this).call(this,O)}}]),M}(y.default);S.blotName="list-item",S.tagName="LI";var N=function(I){_(M,I),a(M,null,[{key:"create",value:function(O){var R=O==="ordered"?"OL":"UL",D=u(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,R);return(O==="checked"||O==="unchecked")&&D.setAttribute("data-checked",O==="checked"),D}},{key:"formats",value:function(O){if(O.tagName==="OL")return"ordered";if(O.tagName==="UL")return O.hasAttribute("data-checked")?O.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function M(F){T(this,M);var O=E(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,F)),R=function(C){if(C.target.parentNode===F){var b=O.statics.formats(F),L=d.default.find(C.target);b==="checked"?L.format("list","unchecked"):b==="unchecked"&&L.format("list","checked")}};return F.addEventListener("touchstart",R),F.addEventListener("mousedown",R),O}return a(M,[{key:"format",value:function(O,R){this.children.length>0&&this.children.tail.format(O,R)}},{key:"formats",value:function(){return A({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(O,R){if(O instanceof S)u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"insertBefore",this).call(this,O,R);else{var D=R==null?this.length():R.offset(this),C=this.split(D);C.parent.insertBefore(O,C)}}},{key:"optimize",value:function(O){u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,O);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&R.domNode.tagName===this.domNode.tagName&&R.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(R.moveChildren(this),R.remove())}},{key:"replace",value:function(O){if(O.statics.blotName!==this.statics.blotName){var R=d.default.create(this.statics.defaultChild);O.moveChildren(R),this.appendChild(R)}u(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replace",this).call(this,O)}}]),M}(p.default);N.blotName="list",N.scope=d.default.Scope.BLOCK_BLOT,N.tagName=["OL","UL"],N.defaultChild="list-item",N.allowedChildren=[S],i.ListItem=S,i.default=N},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(56),u=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function d(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function v(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function y(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var g=function(p){y(m,p);function m(){return d(this,m),v(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(u.default);g.blotName="italic",g.tagName=["EM","I"],i.default=g},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function A(T,E){for(var _=0;_<E.length;_++){var S=E[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(T,S.key,S)}}return function(T,E,_){return E&&A(T.prototype,E),_&&A(T,_),T}}(),u=function A(T,E,_){T===null&&(T=Function.prototype);var S=Object.getOwnPropertyDescriptor(T,E);if(S===void 0){var N=Object.getPrototypeOf(T);return N===null?void 0:A(N,E,_)}else{if("value"in S)return S.value;var I=S.get;return I===void 0?void 0:I.call(_)}},f=o(6),d=v(f);function v(A){return A&&A.__esModule?A:{default:A}}function y(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function g(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function p(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var m=function(A){p(T,A);function T(){return y(this,T),g(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,null,[{key:"create",value:function(_){return _==="super"?document.createElement("sup"):_==="sub"?document.createElement("sub"):u(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,_)}},{key:"formats",value:function(_){if(_.tagName==="SUB")return"sub";if(_.tagName==="SUP")return"super"}}]),T}(d.default);m.blotName="script",m.tagName=["SUB","SUP"],i.default=m},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(6),u=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function d(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function v(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function y(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var g=function(p){y(m,p);function m(){return d(this,m),v(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(u.default);g.blotName="strike",g.tagName="S",i.default=g},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=o(6),u=f(a);function f(p){return p&&p.__esModule?p:{default:p}}function d(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function v(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function y(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var g=function(p){y(m,p);function m(){return d(this,m),v(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return m}(u.default);g.blotName="underline",g.tagName="U",i.default=g},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function E(_,S){for(var N=0;N<S.length;N++){var I=S[N];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,S,N){return S&&E(_.prototype,S),N&&E(_,N),_}}(),u=function E(_,S,N){_===null&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,S);if(I===void 0){var M=Object.getPrototypeOf(_);return M===null?void 0:E(M,S,N)}else{if("value"in I)return I.value;var F=I.get;return F===void 0?void 0:F.call(N)}},f=o(0),d=y(f),v=o(27);function y(E){return E&&E.__esModule?E:{default:E}}function g(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function p(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function m(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var A=["alt","height","width"],T=function(E){m(_,E);function _(){return g(this,_),p(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"format",value:function(N,I){A.indexOf(N)>-1?I?this.domNode.setAttribute(N,I):this.domNode.removeAttribute(N):u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,N,I)}}],[{key:"create",value:function(N){var I=u(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,N);return typeof N=="string"&&I.setAttribute("src",this.sanitize(N)),I}},{key:"formats",value:function(N){return A.reduce(function(I,M){return N.hasAttribute(M)&&(I[M]=N.getAttribute(M)),I},{})}},{key:"match",value:function(N){return/\.(jpe?g|gif|png)$/.test(N)||/^data:image\/.+;base64/.test(N)}},{key:"sanitize",value:function(N){return(0,v.sanitize)(N,["http","https","data"])?N:"//:0"}},{key:"value",value:function(N){return N.getAttribute("src")}}]),_}(d.default.Embed);T.blotName="image",T.tagName="IMG",i.default=T},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function E(_,S){for(var N=0;N<S.length;N++){var I=S[N];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(_,I.key,I)}}return function(_,S,N){return S&&E(_.prototype,S),N&&E(_,N),_}}(),u=function E(_,S,N){_===null&&(_=Function.prototype);var I=Object.getOwnPropertyDescriptor(_,S);if(I===void 0){var M=Object.getPrototypeOf(_);return M===null?void 0:E(M,S,N)}else{if("value"in I)return I.value;var F=I.get;return F===void 0?void 0:F.call(N)}},f=o(4),d=o(27),v=y(d);function y(E){return E&&E.__esModule?E:{default:E}}function g(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function p(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function m(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var A=["height","width"],T=function(E){m(_,E);function _(){return g(this,_),p(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"format",value:function(N,I){A.indexOf(N)>-1?I?this.domNode.setAttribute(N,I):this.domNode.removeAttribute(N):u(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,N,I)}}],[{key:"create",value:function(N){var I=u(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,N);return I.setAttribute("frameborder","0"),I.setAttribute("allowfullscreen",!0),I.setAttribute("src",this.sanitize(N)),I}},{key:"formats",value:function(N){return A.reduce(function(I,M){return N.hasAttribute(M)&&(I[M]=N.getAttribute(M)),I},{})}},{key:"sanitize",value:function(N){return v.default.sanitize(N)}},{key:"value",value:function(N){return N.getAttribute("src")}}]),_}(f.BlockEmbed);T.blotName="video",T.className="ql-video",T.tagName="IFRAME",i.default=T},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.FormulaBlot=void 0;var a=function(){function N(I,M){for(var F=0;F<M.length;F++){var O=M[F];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(I,O.key,O)}}return function(I,M,F){return M&&N(I.prototype,M),F&&N(I,F),I}}(),u=function N(I,M,F){I===null&&(I=Function.prototype);var O=Object.getOwnPropertyDescriptor(I,M);if(O===void 0){var R=Object.getPrototypeOf(I);return R===null?void 0:N(R,M,F)}else{if("value"in O)return O.value;var D=O.get;return D===void 0?void 0:D.call(F)}},f=o(35),d=m(f),v=o(5),y=m(v),g=o(9),p=m(g);function m(N){return N&&N.__esModule?N:{default:N}}function A(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}function T(N,I){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:N}function E(N,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);N.prototype=Object.create(I&&I.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(N,I):N.__proto__=I)}var _=function(N){E(I,N);function I(){return A(this,I),T(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return a(I,null,[{key:"create",value:function(F){var O=u(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,F);return typeof F=="string"&&(window.katex.render(F,O,{throwOnError:!1,errorColor:"#f00"}),O.setAttribute("data-value",F)),O}},{key:"value",value:function(F){return F.getAttribute("data-value")}}]),I}(d.default);_.blotName="formula",_.className="ql-formula",_.tagName="SPAN";var S=function(N){E(I,N),a(I,null,[{key:"register",value:function(){y.default.register(_,!0)}}]);function I(){A(this,I);var M=T(this,(I.__proto__||Object.getPrototypeOf(I)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return M}return I}(p.default);i.FormulaBlot=_,i.default=S},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.CodeToken=i.CodeBlock=void 0;var a=function(){function F(O,R){for(var D=0;D<R.length;D++){var C=R[D];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(O,C.key,C)}}return function(O,R,D){return R&&F(O.prototype,R),D&&F(O,D),O}}(),u=function F(O,R,D){O===null&&(O=Function.prototype);var C=Object.getOwnPropertyDescriptor(O,R);if(C===void 0){var b=Object.getPrototypeOf(O);return b===null?void 0:F(b,R,D)}else{if("value"in C)return C.value;var L=C.get;return L===void 0?void 0:L.call(D)}},f=o(0),d=T(f),v=o(5),y=T(v),g=o(9),p=T(g),m=o(13),A=T(m);function T(F){return F&&F.__esModule?F:{default:F}}function E(F,O){if(!(F instanceof O))throw new TypeError("Cannot call a class as a function")}function _(F,O){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:F}function S(F,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);F.prototype=Object.create(O&&O.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(F,O):F.__proto__=O)}var N=function(F){S(O,F);function O(){return E(this,O),_(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return a(O,[{key:"replaceWith",value:function(D){this.domNode.textContent=this.domNode.textContent,this.attach(),u(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,D)}},{key:"highlight",value:function(D){var C=this.domNode.textContent;this.cachedText!==C&&((C.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=D(C),this.domNode.normalize(),this.attach()),this.cachedText=C)}}]),O}(A.default);N.className="ql-syntax";var I=new d.default.Attributor.Class("token","hljs",{scope:d.default.Scope.INLINE}),M=function(F){S(O,F),a(O,null,[{key:"register",value:function(){y.default.register(I,!0),y.default.register(N,!0)}}]);function O(R,D){E(this,O);var C=_(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,R,D));if(typeof C.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var b=null;return C.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(b),b=setTimeout(function(){C.highlight(),b=null},C.options.interval)}),C.highlight(),C}return a(O,[{key:"highlight",value:function(){var D=this;if(!this.quill.selection.composing){this.quill.update(y.default.sources.USER);var C=this.quill.getSelection();this.quill.scroll.descendants(N).forEach(function(b){b.highlight(D.options.highlight)}),this.quill.update(y.default.sources.SILENT),C!=null&&this.quill.setSelection(C,y.default.sources.SILENT)}}}]),O}(p.default);M.DEFAULTS={highlight:function(){return window.hljs==null?null:function(F){var O=window.hljs.highlightAuto(F);return O.value}}(),interval:1e3},i.CodeBlock=N,i.CodeToken=I,i.default=M},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,i){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,i){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,i){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,i){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BubbleTooltip=void 0;var a=function O(R,D,C){R===null&&(R=Function.prototype);var b=Object.getOwnPropertyDescriptor(R,D);if(b===void 0){var L=Object.getPrototypeOf(R);return L===null?void 0:O(L,D,C)}else{if("value"in b)return b.value;var x=b.get;return x===void 0?void 0:x.call(C)}},u=function(){function O(R,D){for(var C=0;C<D.length;C++){var b=D[C];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(R,b.key,b)}}return function(R,D,C){return D&&O(R.prototype,D),C&&O(R,C),R}}(),f=o(3),d=E(f),v=o(8),y=E(v),g=o(43),p=E(g),m=o(15),A=o(41),T=E(A);function E(O){return O&&O.__esModule?O:{default:O}}function _(O,R){if(!(O instanceof R))throw new TypeError("Cannot call a class as a function")}function S(O,R){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:O}function N(O,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);O.prototype=Object.create(R&&R.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(O,R):O.__proto__=R)}var I=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],M=function(O){N(R,O);function R(D,C){_(this,R),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=I);var b=S(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,D,C));return b.quill.container.classList.add("ql-bubble"),b}return u(R,[{key:"extendToolbar",value:function(C){this.tooltip=new F(this.quill,this.options.bounds),this.tooltip.root.appendChild(C.container),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),T.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),T.default)}}]),R}(p.default);M.DEFAULTS=(0,d.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(R){R?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var F=function(O){N(R,O);function R(D,C){_(this,R);var b=S(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,D,C));return b.quill.on(y.default.events.EDITOR_CHANGE,function(L,x,$,W){if(L===y.default.events.SELECTION_CHANGE)if(x!=null&&x.length>0&&W===y.default.sources.USER){b.show(),b.root.style.left="0px",b.root.style.width="",b.root.style.width=b.root.offsetWidth+"px";var ne=b.quill.getLines(x.index,x.length);if(ne.length===1)b.position(b.quill.getBounds(x));else{var te=ne[ne.length-1],re=b.quill.getIndex(te),Q=Math.min(te.length()-1,x.index+x.length-re),H=b.quill.getBounds(new m.Range(re,Q));b.position(H)}}else document.activeElement!==b.textbox&&b.quill.hasFocus()&&b.hide()}),b}return u(R,[{key:"listen",value:function(){var C=this;a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){C.root.classList.remove("ql-editing")}),this.quill.on(y.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!C.root.classList.contains("ql-hidden")){var b=C.quill.getSelection();b!=null&&C.position(C.quill.getBounds(b))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(C){var b=a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"position",this).call(this,C),L=this.root.querySelector(".ql-tooltip-arrow");if(L.style.marginLeft="",b===0)return b;L.style.marginLeft=-1*b-L.offsetWidth/2+"px"}}]),R}(g.BaseTooltip);F.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),i.BubbleTooltip=F,i.default=M},function(t,i,o){t.exports=o(63)}]).default})}(Bu)),Bu.exports}var er,Z0;function k2(){if(Z0)return er;Z0=1;var r=er&&er.__extends||function(){var y=function(g,p){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,A){m.__proto__=A}||function(m,A){for(var T in A)A.hasOwnProperty(T)&&(m[T]=A[T])},y(g,p)};return function(g,p){y(g,p);function m(){this.constructor=g}g.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}}(),e=er&&er.__assign||function(){return e=Object.assign||function(y){for(var g,p=1,m=arguments.length;p<m;p++){g=arguments[p];for(var A in g)Object.prototype.hasOwnProperty.call(g,A)&&(y[A]=g[A])}return y},e.apply(this,arguments)},t=er&&er.__spreadArrays||function(){for(var y=0,g=0,p=arguments.length;g<p;g++)y+=arguments[g].length;for(var m=Array(y),A=0,g=0;g<p;g++)for(var T=arguments[g],E=0,_=T.length;E<_;E++,A++)m[A]=T[E];return m},i=er&&er.__importDefault||function(y){return y&&y.__esModule?y:{default:y}},o=i(lc()),a=i(e1()),u=i(I2()),f=i(R2()),d=function(y){r(g,y);function g(p){var m=y.call(this,p)||this;m.dirtyProps=["modules","formats","bounds","theme","children"],m.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],m.state={generation:0},m.selection=null,m.onEditorChange=function(T,E,_,S){var N,I,M,F;T==="text-change"?(I=(N=m).onEditorChangeText)===null||I===void 0||I.call(N,m.editor.root.innerHTML,E,S,m.unprivilegedEditor):T==="selection-change"&&((F=(M=m).onEditorChangeSelection)===null||F===void 0||F.call(M,E,S,m.unprivilegedEditor))};var A=m.isControlled()?p.value:p.defaultValue;return m.value=A??"",m}return g.prototype.validateProps=function(p){var m;if(o.default.Children.count(p.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(o.default.Children.count(p.children)){var A=o.default.Children.only(p.children);if(((m=A)===null||m===void 0?void 0:m.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&p.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},g.prototype.shouldComponentUpdate=function(p,m){var A=this,T;if(this.validateProps(p),!this.editor||this.state.generation!==m.generation)return!0;if("value"in p){var E=this.getEditorContents(),_=(T=p.value,T??"");this.isEqualValue(_,E)||this.setEditorContents(this.editor,_)}return p.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,p.readOnly),t(this.cleanProps,this.dirtyProps).some(function(S){return!u.default(p[S],A.props[S])})},g.prototype.shouldComponentRegenerate=function(p){var m=this;return this.dirtyProps.some(function(A){return!u.default(p[A],m.props[A])})},g.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},g.prototype.componentWillUnmount=function(){this.destroyEditor()},g.prototype.componentDidUpdate=function(p,m){var A=this;if(this.editor&&this.shouldComponentRegenerate(p)){var T=this.editor.getContents(),E=this.editor.getSelection();this.regenerationSnapshot={delta:T,selection:E},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==m.generation){var _=this.regenerationSnapshot,T=_.delta,S=_.selection;delete this.regenerationSnapshot,this.instantiateEditor();var N=this.editor;N.setContents(T),v(function(){return A.setEditorSelection(N,S)})}},g.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},g.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},g.prototype.isControlled=function(){return"value"in this.props},g.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},g.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},g.prototype.createEditor=function(p,m){var A=new f.default(p,m);return m.tabIndex!=null&&this.setEditorTabIndex(A,m.tabIndex),this.hookEditor(A),A},g.prototype.hookEditor=function(p){this.unprivilegedEditor=this.makeUnprivilegedEditor(p),p.on("editor-change",this.onEditorChange)},g.prototype.unhookEditor=function(p){p.off("editor-change",this.onEditorChange)},g.prototype.getEditorContents=function(){return this.value},g.prototype.getEditorSelection=function(){return this.selection},g.prototype.isDelta=function(p){return p&&p.ops},g.prototype.isEqualValue=function(p,m){return this.isDelta(p)&&this.isDelta(m)?u.default(p.ops,m.ops):u.default(p,m)},g.prototype.setEditorContents=function(p,m){var A=this;this.value=m;var T=this.getEditorSelection();typeof m=="string"?p.setContents(p.clipboard.convert(m)):p.setContents(m),v(function(){return A.setEditorSelection(p,T)})},g.prototype.setEditorSelection=function(p,m){if(this.selection=m,m){var A=p.getLength();m.index=Math.max(0,Math.min(m.index,A-1)),m.length=Math.max(0,Math.min(m.length,A-1-m.index)),p.setSelection(m)}},g.prototype.setEditorTabIndex=function(p,m){var A,T;!((T=(A=p)===null||A===void 0?void 0:A.scroll)===null||T===void 0)&&T.domNode&&(p.scroll.domNode.tabIndex=m)},g.prototype.setEditorReadOnly=function(p,m){m?p.disable():p.enable()},g.prototype.makeUnprivilegedEditor=function(p){var m=p;return{getHTML:function(){return m.root.innerHTML},getLength:m.getLength.bind(m),getText:m.getText.bind(m),getContents:m.getContents.bind(m),getSelection:m.getSelection.bind(m),getBounds:m.getBounds.bind(m)}},g.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var p=a.default.findDOMNode(this.editingArea);if(!p)throw new Error("Cannot find element for editing area");if(p.nodeType===3)throw new Error("Editing area cannot be a text node");return p},g.prototype.renderEditingArea=function(){var p=this,m=this.props,A=m.children,T=m.preserveWhitespace,E=this.state.generation,_={key:E,ref:function(S){p.editingArea=S}};return o.default.Children.count(A)?o.default.cloneElement(o.default.Children.only(A),_):T?o.default.createElement("pre",e({},_)):o.default.createElement("div",e({},_))},g.prototype.render=function(){var p;return o.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(p=this.props.className,p??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},g.prototype.onEditorChangeText=function(p,m,A,T){var E,_;if(this.editor){var S=this.isDelta(this.value)?T.getContents():T.getHTML();S!==this.getEditorContents()&&(this.lastDeltaChangeSet=m,this.value=S,(_=(E=this.props).onChange)===null||_===void 0||_.call(E,p,m,A,T))}},g.prototype.onEditorChangeSelection=function(p,m,A){var T,E,_,S,N,I;if(this.editor){var M=this.getEditorSelection(),F=!M&&p,O=M&&!p;u.default(p,M)||(this.selection=p,(E=(T=this.props).onChangeSelection)===null||E===void 0||E.call(T,p,m,A),F?(S=(_=this.props).onFocus)===null||S===void 0||S.call(_,p,m,A):O&&((I=(N=this.props).onBlur)===null||I===void 0||I.call(N,M,m,A)))}},g.prototype.focus=function(){this.editor&&this.editor.focus()},g.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},g.displayName="React Quill",g.Quill=f.default,g.defaultProps={theme:"snow",modules:{},readOnly:!1},g}(o.default.Component);function v(y){Promise.resolve().then(y)}return er=d,er}var P2=k2();const O2=FT(P2),C2=()=>{const t=window.location.href.split("/").pop().split("#").pop();console.log(t);const[i,o]=me.useState(null),a=async()=>{const f=Qy(Rh(Oh,"txtdb"),Yy("name","==",t)),v=(await Zy(f)).docs.map(y=>y.data());v.length>0?o(v[0].txt):(o(""),t&&await dP(Rh(Oh,"txtdb"),{name:t,txt:""}))},u=async f=>{o(f)};return me.useEffect(()=>{(async()=>{const d=Qy(Rh(Oh,"txtdb"),Yy("name","==",t));(await Zy(d)).forEach(async y=>{await hP(y.ref,{txt:i})})})()},[i]),me.useEffect(()=>{t&&a()},[]),vn.jsxs("div",{className:"min-h-screen flex flex-col bg-yellow-100",children:[vn.jsx("header",{className:"flex items-center justify-between bg-yellow-300 p-2 shadow-md",children:vn.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Collaborative Text Editor"})}),vn.jsx("div",{className:"flex flex-1 overflow-hidden",children:vn.jsx("main",{className:"flex-1 p-4",children:vn.jsx(O2,{value:i,onChange:u,className:"w-full h-full p-4 border border-gray-300 rounded-md shadow-sm bg-white"})})}),vn.jsxs("footer",{className:"bg-yellow-300 p-4 text-center shadow-md",children:[vn.jsxs("p",{className:"text-gray-800 text-sm",children:["Edit with Friends | Powered by ",vn.jsx("span",{className:"font-semibold",children:"Aaadrika Enterprises Pvt.ltd"})]}),vn.jsxs("p",{className:"text-gray-800 text-sm",children:["@Developer- ",vn.jsx("span",{className:"font-semibold",children:"Chandan Kumar Soni"})]})]})]})};WT.createRoot(document.getElementById("root")).render(vn.jsx(me.StrictMode,{children:vn.jsx(aS,{basename:"firepad",children:vn.jsx(C2,{})})}));
