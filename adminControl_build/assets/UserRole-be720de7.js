import{j as e,I as Me,_ as B,s as St,g as Oe}from"./index-f77fadf7.js";import{r as l}from"./router-b87f8164.js";import{M as kt}from"./MailboxSidebar-f1039155.js";import{r as be,G as Re,S as fe,L as he,C as Ce,a as Mt}from"./ShimmerTable-e443b709.js";import{c as ye,a as T,u as je,A as I}from"./ApiHeader-4ed27c1c.js";import{a as Se,A as _,b as Ae,d as Ct,e as ke,f as $e}from"./PowerupFunctions-41197b4c.js";import{u as Ne}from"./useSetTitle-8ae58105.js";import{R as te}from"./Hourglass-24f12ff1.js";import{F as Lt}from"./index.esm-68507145.js";import{A as we}from"./ApiList-69c725a3.js";import{B as Le}from"./BottomErrorCard-0d1d1f12.js";import{u as De,b as Pt,c as At}from"./index.esm-913f8c15.js";import{a as Ge,b as Ft,c as It}from"./index.esm-d3a2968b.js";import{a as ze}from"./axios-096c69c8.js";import"./react-5403e0b7.js";import"./reactQuery-8705a202.js";import"./reactQueryDevtools-9a5be7d4.js";import"./tailwind-64fa9e48.js";function Ke(t){const h=l.useRef(),P=ye({roleName:T().required("Enter menu role name")}),g=je({initialValues:{roleName:""},onSubmit:w=>{t==null||t.postRole(w)},validationSchema:P});l.useEffect(()=>{(t==null?void 0:t.modalState)===!0?h.current.showModal():h.current.close(),(t==null?void 0:t.currentSelectedId)!==null&&F()},[t==null?void 0:t.modalState]);const F=()=>{g.setFieldValue("roleName",t==null?void 0:t.currentSelectedName)},v=w=>{let u=w.target.name,q=w.target.value;u=="roleName"&&g.setFieldValue("roleName",Se(q,g.values.roleName,100))};return e.jsxs("dialog",{ref:h,className:"shadow-xl relative",children:[e.jsxs("div",{className:"",children:[e.jsx("button",{onClick:()=>{t==null||t.setmodalState(!1),t==null||t.setcurrentSelectedId(null),addEditModal.close()},className:"absolute top-1 right-3 text-xl p-2 w-8 h-8 rounded-lg hover:bg-red-100 hover:text-red-500 font-semibold flex justify-center items-center",children:"x"}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"font-semibold",children:"Add Menu Role "})})]}),e.jsx("div",{className:"w-full max-w-xs",children:e.jsxs("form",{onSubmit:g.handleSubmit,onChange:v,className:"bg-white  rounded px-8 pt-6 pb-8 mb-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm  mb-2",htmlFor:"rolename",children:"Role Name"}),e.jsx("input",{...g.getFieldProps("roleName"),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"rolename",type:"text"}),e.jsx("span",{className:"text-red-600",children:g.touched.roleName&&g.errors.roleName?g.errors.roleName:null})]}),e.jsx("div",{className:"flex items-center justify-between",children:t!=null&&t.addEditLoading?e.jsxs("button",{className:"w-full bg-indigo-500 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline flex justify-center items-center",type:"button",children:[" ",e.jsx(te,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})]}):e.jsx("button",{className:"w-full bg-[#1A4D8C]  hover:bg-[#113766] text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:(t==null?void 0:t.currentSelectedId)===null?"Save":"Update"})})]})})]})}function _t(t){var o;l.useState("hidden");const h=l.useMemo(()=>t.columns,[]),P=l.useMemo(()=>t.dataList,[t.dataList]);l.useEffect(()=>{V(12)},[]);const{getTableProps:g,getTableBodyProps:F,headerGroups:v,page:w,nextPage:u,previousPage:q,canNextPage:c,canPreviousPage:U,prepareRow:r,pageOptions:E,gotoPage:H,pageCount:R,setPageSize:V,state:G,setGlobalFilter:O}=be.useTable({columns:h,data:P,initialState:{pageIndex:0}},be.useGlobalFilter,be.useSortBy,be.usePagination);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"  overflow-x-auto bg-white",children:e.jsxs("div",{className:"inline-block min-w-full rounded-lg overflow-hidden bg-white border ",children:[e.jsxs("table",{...F,className:"min-w-full leading-normal",children:[e.jsx("thead",{className:"font-bold text-left text-sm bg-sky-50",children:v==null?void 0:v.map(M=>e.jsx("tr",{...M.getHeaderGroupProps(),children:M.headers.map(L=>e.jsxs("th",{...L.getHeaderProps(L.getSortByToggleProps()),className:(L==null?void 0:L.className)+" px-2 py-3 border-b border-gray-200 text-gray-800  text-left text-xs capitalize",children:[L.render("Header"),e.jsx("span",{children:L.isSorted?L.isSortedDesc?"⬆️":"⬇️":""})]}))}))}),e.jsxs("tbody",{...F(),className:"text-sm",children:[(t==null?void 0:t.isLoadingSingleFetch)&&e.jsx("tr",{children:e.jsx("td",{colSpan:(o=t==null?void 0:t.columns)==null?void 0:o.length,children:e.jsx(ShimmerTableRow,{})})})," ",w==null?void 0:w.map(M=>{var L;return r(M),e.jsx("tr",{...M.getRowProps(),className:"bg-white shadow-lg border-b border-gray-200",children:(L=M==null?void 0:M.cells)==null?void 0:L.map(S=>e.jsx("td",{...S.getCellProps(),className:"px-2 py-2 text-sm text-left",children:S.render("Cell")}))})}),e.jsx("tr",{children:e.jsx("td",{})})]})]}),e.jsx("div",{className:"mt-3 grid grid-cols-12"})]})})})}function Ye(t){const h=l.useRef();l.useEffect(()=>{(t==null?void 0:t.mappingModal)===!0&&h.current.showModal()},[t==null?void 0:t.mappingModal]),l.useState(!0);const[P,g]=l.useState(null),F=w=>{g(w==P?null:w)};function v(w,u){const q=[];for(let c=0;c<w.length;c+=u)q.push(w.slice(c,c+u));return q}return e.jsx("dialog",{ref:h,className:"relative bg-transparent",children:e.jsxs("div",{className:"bg-white shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsx("div",{className:"flex flex-row-reverse",children:e.jsxs("span",{onClick:()=>{t==null||t.setmappingModal(!1),h.current.close()},className:"cursor-pointer rounded-full hover:bg-gray-400",children:[e.jsx(Re,{size:25})," "]})}),e.jsxs("p",{className:"text-center text-xl",children:[t==null?void 0:t.title,e.jsx("span",{className:"font-semibold",children:t==null?void 0:t.roleName})]}),e.jsxs("div",{className:"text-center",children:[" ",(t==null?void 0:t.isLoadingMappingUpdate)&&e.jsx(te,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:(t==null?void 0:t.menuListById)&&Object.keys(t.menuListById).map((w,u)=>e.jsxs("div",{className:`text-center ${u>0?"mt-2":""}`,children:[e.jsx("span",{className:"font-bold",children:" "}),e.jsx("button",{onClick:()=>F(w),className:`${P==w?"bg-red-700":"bg-blue-700"} text-white rounded-md px-4 py-2 transition duration-300 hover:bg-blue-900`,children:w}),P===w&&Array.isArray(t==null?void 0:t.menuListById[w])&&e.jsx("div",{className:"flex flex-wrap justify-center",children:v(t==null?void 0:t.menuListById[w],12).map((q,c)=>e.jsx("div",{className:"fixed-width-class gap-2",children:e.jsx(_t,{exportStatus:!1,searchText:"Menu",columns:t==null?void 0:t.columns,dataList:q})},c))})]},w))})]})})}function ve(t){return l.useRef(),l.useEffect(()=>{(t==null?void 0:t.deleteModal)===!0?deleteModal.showModal():deleteModal.close()},[t==null?void 0:t.deleteModal]),e.jsx("dialog",{id:"deleteModal",className:"relative bg-transparent",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl border-2 border-gray-50",children:[e.jsx("button",{onClick:()=>{t==null||t.setdeleteModal(!1),deleteModal.close()},type:"button",className:"absolute top-3 right-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center darks:hover:bg-gray-800 darks:hover:text-white",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{className:"p-6 text-center",children:[e.jsxs("div",{className:"w-full flex h-10",children:[" ",e.jsx("span",{className:"mx-auto",children:e.jsx(Lt,{size:30})})]}),(t==null?void 0:t.suspendUser)==!0&&e.jsx("h3",{className:"mb-5 text-lg font-normal text-red-500 darks:text-gray-400",children:"Are you sure want to Disable ?"}),(t==null?void 0:t.suspendUser)==!1&&e.jsx("h3",{className:"mb-5 text-lg font-normal text-green-500 darks:text-gray-400",children:"Are you sure want to Enable ?"}),t!=null&&t.deleteLoading?e.jsxs("button",{className:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 darks:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",type:"button",children:[" ",e.jsx(te,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})]}):e.jsx("button",{type:"button",className:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 darks:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center mr-2",onClick:t==null?void 0:t.enableDisableUser,children:"Yes, I'm sure"})]})]})})}function Et(){const[t,h]=l.useState(!1),[P,g]=l.useState(!1),[F,v]=l.useState(!1),[w,u]=l.useState(null),[q,c]=l.useState(!1),[U,r]=l.useState(null),[E,H]=l.useState(null),[R,V]=l.useState(null),[G,O]=l.useState(null),[o,M]=l.useState([{menu_string:"Home",menuId:1,permission_status:!0}]),[L,S]=l.useState(!1),[$,K]=l.useState(!1),[k,z]=l.useState(!1),[me,ie]=l.useState(!1),[ce,ae]=l.useState(!1),[y,Y]=l.useState(!1);Ne("Menu Role",!0);const{getMenuRole:J,api_PostMenuRole:le,api_deleteMenuRole:f,api_updateMenuRole:p,api_getMenuListByMenuRoleId:re,api_updateMenuRoleMapping:oe}=we(),ne=[{Header:"Sl.",Cell:({row:i})=>e.jsx("div",{className:"px-1",children:(i==null?void 0:i.index)+1})},{Header:"Menu Name",accessor:"menu_string"},{Header:"Module",accessor:"module_name"},{Header:"Permission",accessor:"is_suspended",Cell:i=>{var a;return e.jsx("div",{className:"",children:e.jsx("input",{checked:!((a=i.row.values)!=null&&a.is_suspended),onChange:s=>{var n;return C((n=i.row.original)==null?void 0:n.id,s.target.checked)},type:"checkbox",className:"cypress_addressCheckbox w-6 h-6 text-blue-600 bg-gray-100 border-gray-300 rounded cursor-pointer"})})}}],ee=[{Header:"#",Cell:({row:i})=>e.jsx("div",{className:"pr-2",children:i.index+1})},{Header:"Role Name",accessor:"menu_role_name"},{Header:"Created by",accessor:"created_by"},{Header:"Status",accessor:"is_suspended",Cell:i=>e.jsxs("p",{children:[i.value==!0&&e.jsx("p",{className:"text-red-400 font-semibold",children:"Suspended"}),i.value==!1&&e.jsx("p",{className:"text-green-400 font-semibold",children:"Active"})]})},{Header:"Action",accessor:"id",Cell:({cell:i})=>e.jsxs("div",{children:[e.jsx("button",{onClick:()=>{var a,s;V((a=i.row.values)==null?void 0:a.id),O((s=i.row.values)==null?void 0:s.menu_role_name),h(!0)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-green-300 ",children:"Edit"}),e.jsx("button",{onClick:()=>{var a;V((a=i.row.values)==null?void 0:a.id),v(!0)},className:"border border-red-300 text-red-400    mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white ",children:"Delete"}),e.jsx("button",{onClick:()=>{var a,s;V((a=i.row.values)==null?void 0:a.id),se((s=i.row.values)==null?void 0:s.id)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-blue-300",children:"Menu Mapping"})]})}],W=(i=null)=>{i===null?S(!0):K(!0),_.post(J,{},I()).then(function(a){var s,n;(s=a==null?void 0:a.data)!=null&&s.status?u((n=a==null?void 0:a.data)==null?void 0:n.data):u(null)}).catch(function(a){}).finally(()=>{i===null?S(!1):K(!1)})},X=()=>{Y(!0);let i={id:500005};_.post(f,i,I()).then(function(a){var s,n;(s=a==null?void 0:a.data)!=null&&s.status?(v(!1),W("action")):j(!0,(n=res==null?void 0:res.data)==null?void 0:n.message)}).catch(function(a){j(!0,"Error occured in submitting deactivation application. Please try again later.")}).finally(()=>{Y(!1),V(null)})},xe=i=>{ae(!0);let a=le,s={menuRoleName:i==null?void 0:i.roleName};R!==null&&(s.id=R,a=p),_.post(a,s,I()).then(function(n){var x,D;(x=n==null?void 0:n.data)!=null&&x.status?(h(!1),W("action")):j(!0,(D=res==null?void 0:res.data)==null?void 0:D.message)}).catch(function(n){j(!0,"Error occured in submitting deactivation application. Please try again later.")}).finally(()=>{ae(!1),V(null),O(null)})},se=i=>{z(!0);let a={menuRoleId:i};_.post(re,a,I()).then(function(s){var n,x;(n=s==null?void 0:s.data)!=null&&n.status&&(r((x=s==null?void 0:s.data)==null?void 0:x.data),g(!0))}).catch(function(s){}).finally(()=>{z(!1)})},C=(i,a)=>{ie(!0);let s={menuRoleId:R,menuId:i,isSuspended:!a};_.post(oe,s,I()).then(function(n){var x,D;(x=n==null?void 0:n.data)!=null&&x.status?(B.success("Mapping updated successfully!"),se(R)):B.error((D=n==null?void 0:n.data)==null?void 0:D.message)}).catch(function(n){B.error("Something went wrong")}).finally(()=>{ie(!1)})};l.useEffect(()=>{W()},[]);const j=(i,a)=>{H(a),c(i)};return e.jsxs(e.Fragment,{children:[e.jsx(Me,{}),q&&e.jsx(Le,{activateBottomErrorCard:j,errorTitle:E}),L&&e.jsx(te,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0}),e.jsx(Ke,{currentSelectedId:R,setcurrentSelectedId:V,currentSelectedName:G,postRole:xe,addEditLoading:ce,setmodalState:h,modalState:t}),e.jsx(Ye,{title:"Menu Role Mapping",isLoadingMappingUpdate:me,isLoadingMenuMappingUpdate:k,mappingModal:P,setmappingModal:g,columns:ne,menuListById:U,menuList:o}),e.jsx(ve,{deleteLoading:y,deleteMenuRole:X,setdeleteModal:v,deleteModal:F}),L&&e.jsx(fe,{}),!L&&w!==null&&e.jsxs("div",{className:"px-4 pt-4",children:[k&&e.jsx(te,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0}),e.jsx(he,{isLoadingSingleFetch:$,exportStatus:!1,assessmentType:!1,columns:ee,dataList:w,children:e.jsxs("button",{onClick:()=>h(!0),className:"float-right bg-[#1A4D8C] px-3 py-1 rounded-sm shadow-lg hover:shadow-xl  hover:bg-[#113766] hover:text-white text-white flex items-center",children:[e.jsx(Ce,{})," Add Rolee"]})})]})]})}function Rt(){const[t,h]=l.useState(!1),[P,g]=l.useState(!1),[F,v]=l.useState(!1),[w,u]=l.useState(null),[q,c]=l.useState(!1),[U,r]=l.useState(!1),[E,H]=l.useState(!1),[R,V]=l.useState(!1),[G,O]=l.useState(!1),[o,M]=l.useState(!1),[L,S]=l.useState(!1),[$,K]=l.useState(null),[k,z]=l.useState(null),[me,ie]=l.useState(null),[ce,ae]=l.useState(!1);Ne("API Role",!0);const{getApiRole:y,api_PostApiRole:Y,api_deleteApiRole:J,api_updateApiRole:le,api_getApiListByApiRoleId:f,api_updateApiRoleMapping:p}=we(),re=[{Header:"Sl.",Cell:({row:C})=>e.jsx("div",{className:"px-1",children:(C==null?void 0:C.index)+1})},{Header:"API Name",Cell:C=>{var j;return e.jsx("div",{className:"line-clamp-1",children:(j=C.row.original)==null?void 0:j.end_point})}},{Header:"Permission",accessor:"is_suspended",Cell:C=>{var j;return e.jsx("div",{className:"",children:e.jsx("input",{checked:!((j=C.row.values)!=null&&j.is_suspended),onChange:i=>{var a;return xe((a=C.row.original)==null?void 0:a.id,i.target.checked)},type:"checkbox",className:"cypress_addressCheckbox w-6 h-6 text-blue-600 bg-gray-100 border-gray-300 rounded cursor-pointer"})})}}],oe=[{Header:"#",Cell:({row:C})=>e.jsx("div",{className:"pr-2",children:C.index+1})},{Header:"API Role Name",accessor:"api_role_name"},{Header:"Created by",accessor:"created_by"},{Header:"Status",accessor:"is_suspended",Cell:C=>e.jsxs("p",{children:[C.value==!0&&e.jsx("p",{className:"text-red-400 font-semibold",children:"Suspended"}),C.value==!1&&e.jsx("p",{className:"text-green-400 font-semibold",children:"Active"})]})},{Header:"Action",accessor:"id",Cell:({cell:C})=>e.jsxs("div",{children:[e.jsx("button",{onClick:()=>{var j,i;z((j=C.row.values)==null?void 0:j.id),ie((i=C.row.values)==null?void 0:i.menu_role_name),h(!0)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-green-300 ",children:"Edit"}),e.jsx("button",{onClick:()=>{var j;z((j=C.row.values)==null?void 0:j.id),v(!0)},className:"border border-red-300 text-red-400    mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white ",children:"Delete"}),e.jsx("button",{onClick:()=>{var j,i;z((j=C.row.values)==null?void 0:j.id),X((i=C.row.values)==null?void 0:i.id)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-blue-300",children:"API Mapping"})]})}],ne=(C=null)=>{C===null?c(!0):ae(!0),_.post(y,{},I()).then(function(j){var i,a;(i=j==null?void 0:j.data)!=null&&i.status?u((a=j==null?void 0:j.data)==null?void 0:a.data):u(null)}).catch(function(j){}).finally(()=>{C===null?c(!1):ae(!1)})},ee=()=>{O(!0);let C={id:k};_.post(J,C,I()).then(function(j){var i,a;(i=j==null?void 0:j.data)!=null&&i.status?(v(!1),ne("action")):se(!0,(a=res==null?void 0:res.data)==null?void 0:a.message)}).catch(function(j){se(!0,"Error occured in submitting deactivation application. Please try again later.")}).finally(()=>{O(!1),z(null)})},W=C=>{r(!0);let j=Y,i={apiRoleName:C==null?void 0:C.roleName};k!==null&&(i.id=k,j=le),_.post(j,i,I()).then(function(a){var s,n;(s=a==null?void 0:a.data)!=null&&s.status?(h(!1),ne("action")):se(!0,(n=res==null?void 0:res.data)==null?void 0:n.message)}).catch(function(a){se(!0,"Error occured in submitting deactivation application. Please try again later.")}).finally(()=>{r(!1),z(null),ie(null)})},X=C=>{S(!0);let j={apiRoleId:C};_.post(f,j,I()).then(function(i){var a,s;(a=i==null?void 0:i.data)!=null&&a.status&&(H((s=i==null?void 0:i.data)==null?void 0:s.data),g(!0))}).catch(function(i){}).finally(()=>{S(!1)})},xe=(C,j)=>{V(!0);let i={apiRoleId:k,apiId:C,isSuspended:!j};_.post(p,i,I()).then(function(a){var s,n;(s=a==null?void 0:a.data)!=null&&s.status?(B.success("Successfully toasted!"),X(k)):B.error((n=a==null?void 0:a.data)==null?void 0:n.message)}).catch(function(a){B.error("Something went wrong")}).finally(()=>{V(!1)})};l.useEffect(()=>{ne()},[]);const se=(C,j)=>{K(j),M(C)};return e.jsxs(e.Fragment,{children:[o&&e.jsx(Le,{activateBottomErrorCard:se,errorTitle:$}),q&&e.jsx(te,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0}),e.jsx(Me,{}),e.jsx(Ke,{currentSelectedId:k,currentSelectedName:me,setcurrentSelectedId:z,addEditLoading:U,postRole:W,apiListByApiRoleId:E,setmodalState:h,modalState:t}),e.jsx(Ye,{title:"Api Role Mapping",isLoadingMappingUpdate:R,setmappingModal:g,mappingModal:P,columns:re,menuListById:E}),e.jsx(ve,{deleteLoading:G,deleteApiRole:ee,setdeleteModal:v,deleteModal:F}),q&&e.jsx(fe,{}),!q&&w!==null&&e.jsxs("div",{className:"px-4 pt-4",children:[L&&e.jsx(te,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0}),e.jsx(he,{isLoadingSingleFetch:ce,exportStatus:!1,assessmentType:!1,columns:oe,dataList:w,children:e.jsxs("button",{onClick:()=>h(!0),className:"float-right bg-[#1A4D8C] px-3 py-1 rounded-sm shadow-lg hover:shadow-xl  hover:bg-[#113766] hover:text-white text-white flex items-center",children:[e.jsx(Ce,{})," Add Role"]})})]})]})}function Dt(t){var w,u,q;let h=ye({menuName:T().required("Enter menu name"),route:T().required("Enter route"),parent:T(),moduleId:T().required("Select module"),workflowId:T()});const g=je({initialValues:{menuName:"",route:"",parent:"",moduleId:"",workflowId:""},enableReinitialize:!0,onSubmit:c=>{t==null||t.postMenu(c)},validationSchema:h}),F=c=>{let U=c.target.name,r=c.target.value;U==="moduleId"&&(t==null||t.fetchWorkflowByModule(r)),U=="menuName"&&g.setFieldValue("menuName",Se(r,g.values.menuName,100))},v=c=>{g.setFieldValue("menuName",c==null?void 0:c.menu_string),g.setFieldValue("route",c==null?void 0:c.route),g.setFieldValue("parent",c==null?void 0:c.parent_id),g.setFieldValue("moduleId",c==null?void 0:c.module_id),g.setFieldValue("workflowId",c==null?void 0:c.workflow_id),t==null||t.fetchWorkflowByModule(c==null?void 0:c.module_id)};return l.useEffect(()=>{(t==null?void 0:t.currentSelectedId)!==null&&v(t==null?void 0:t.currentMenuData)},[t==null?void 0:t.currentMenuData]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"block md:p-4 w-full md:py-6 rounded-lg mx-auto  bg-white px-4 sm:px-0",children:e.jsx("form",{onChange:F,onSubmit:g.handleSubmit,children:e.jsxs("div",{className:"grid grid-cols-12  sm:space-x-2 px-10",children:[e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Menu Name",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...g.getFieldProps("menuName"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:g.touched.menuName&&g.errors.menuName?g.errors.menuName:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Route",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...g.getFieldProps("route"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:g.touched.route&&g.errors.route?g.errors.route:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Parent"}),e.jsxs("select",{...g.getFieldProps("parent"),className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"#",className:"font-semibold text-red-500",children:"No Parent"}),Array.isArray(t==null?void 0:t.parentMenuList)&&((w=t==null?void 0:t.parentMenuList)==null?void 0:w.map((c,U)=>e.jsx("option",{value:c==null?void 0:c.id,children:c==null?void 0:c.menu_string})))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:g.touched.parent&&g.errors.parent?g.errors.parent:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Module"}),e.jsxs("select",{...g.getFieldProps("moduleId"),className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),Array.isArray(t==null?void 0:t.moduleList)&&((u=t==null?void 0:t.moduleList)==null?void 0:u.map((c,U)=>e.jsx("option",{value:c==null?void 0:c.id,children:c==null?void 0:c.module_name})))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:g.touched.moduleId&&g.errors.moduleId?g.errors.moduleId:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsx("label",{className:"form-label block mb-1 text-gray-600 text-xs  "}),e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Workflow ",e.jsx("span",{className:"text-xs text-gray-600",children:"(Select module to get workflow list)"})," "]}),e.jsxs("select",{...g.getFieldProps("workflowId"),className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"#",className:"font-semibold text-red-500",children:"No Workflow"}),Array.isArray(t==null?void 0:t.workflowListByModule)&&((q=t==null?void 0:t.workflowListByModule)==null?void 0:q.map((c,U)=>e.jsx("option",{value:c==null?void 0:c.id,children:c==null?void 0:c.workflow_name})))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:g.touched.workflowId&&g.errors.workflowId?g.errors.workflowId:null})]}),e.jsx("div",{className:"col-span-12 mt-10",children:t!=null&&t.addEditLoading?e.jsx("button",{type:"submit",className:"cypress_next1_button px-6 py-2.5 bg-indigo-500 text-white font-medium text-xs leading-tight  rounded  hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:e.jsx(te,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):e.jsx("button",{type:"submit",className:"cypress_next1_button px-6 py-2.5 bg-indigo-500 text-white font-medium text-xs leading-tight  rounded  hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:(t==null?void 0:t.currentSelectedId)===null?"Submit":"Update"})})]})})})})}function Ut(){const[t,h]=l.useState(!1),[P,g]=l.useState(null),[F,v]=l.useState(null),[w,u]=l.useState(null),[q,c]=l.useState(null),[U,r]=l.useState(!1),[E,H]=l.useState(!1),[R,V]=l.useState(!1),[G,O]=l.useState(!1),[o,M]=l.useState(!1),[L,S]=l.useState(!1),[$,K]=l.useState(null),[k,z]=l.useState(null),[me,ie]=l.useState(null),[ce,ae]=l.useState(!1),y=l.useRef();Ne("Menu List",!0);const{api_getMenuList:Y,api_deleteMenu:J,api_updateMenu:le,api_getModuleList:f,api_PostMenu:p,api_getWorkflowByModule:re,api_getParentMenuList:oe,api_getMenuById:ne}=we(),ee=[{Header:"Sl.",Cell:({row:s})=>e.jsx("div",{className:"px-1",children:s.index+1})},{Header:"Parent Name",accessor:"parentName",Cell:({cell:s})=>{var n;return e.jsxs("div",{children:[((n=s.row.values)==null?void 0:n.parentName)||"#"," "]})}},{Header:"Menu List",accessor:"menu_string"},{Header:"Route List",accessor:"route"},{Header:"Module",accessor:"module_name"},{Header:"Status",accessor:"is_suspended",Cell:s=>e.jsxs("p",{children:[s.value==!0&&e.jsx("p",{className:"text-red-400 font-semibold",children:"Suspended"}),s.value==!1&&e.jsx("p",{className:"text-green-400 font-semibold",children:"Active"})]})},{Header:"Action",accessor:"id",Cell:({cell:s})=>e.jsxs("div",{children:[e.jsx("button",{onClick:()=>{var n,x;z((n=s.row.values)==null?void 0:n.id),X((x=s.row.values)==null?void 0:x.id)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-green-300 ",children:"Edit"}),e.jsx("button",{onClick:()=>{var n;z((n=s.row.values)==null?void 0:n.id),h(!0)},className:"border border-red-300 text-red-400    mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white ",children:"Delete"})]})}],W=(s=null)=>{s===null?r(!0):ae(!0),_.post(Y,{},I()).then(function(n){var x,D;(x=n==null?void 0:n.data)!=null&&x.status?g((D=n==null?void 0:n.data)==null?void 0:D.data):g(null)}).catch(function(n){}).finally(()=>{s===null?r(!1):ae(!1)})},X=s=>{M(!0);let n={menuId:s};_.post(ne,n,I()).then(function(x){var D,Q;(D=x==null?void 0:x.data)!=null&&D.status&&(O((Q=x==null?void 0:x.data)==null?void 0:Q.data),menuAddEditModal.showModal())}).catch(function(x){}).finally(()=>{M(!1)})},xe=()=>{_.post(f,{},I()).then(function(s){var n,x;(n=s==null?void 0:s.data)!=null&&n.status&&v((x=s==null?void 0:s.data)==null?void 0:x.data)}).catch(function(s){}).finally(()=>{})},se=s=>{let n={moduleId:s};_.post(re,n,I()).then(function(x){var D,Q;(D=x==null?void 0:x.data)!=null&&D.status&&u((Q=x==null?void 0:x.data)==null?void 0:Q.data)}).catch(function(x){}).finally(()=>{})},C=s=>{_.post(oe,{},I()).then(function(n){var x,D;(x=n==null?void 0:n.data)!=null&&x.status&&c((D=n==null?void 0:n.data)==null?void 0:D.data)}).catch(function(n){}).finally(()=>{})},j=()=>{V(!0);let s={id:k};_.post(J,s,I()).then(function(n){var x,D;(x=n==null?void 0:n.data)!=null&&x.status?(B.success("Menu deleted successfully"),h(!1),W("action")):B.error((D=n==null?void 0:n.data)==null?void 0:D.message)}).catch(function(n){B.error("Something went wrong")}).finally(()=>{V(!1),z(null)})},i=s=>{H(!0);let n=p,x=(s==null?void 0:s.parent)==="#"?"":s==null?void 0:s.parent,D=(s==null?void 0:s.moduleId)==="#"?"":s==null?void 0:s.moduleId,Q={menuName:s==null?void 0:s.menuName,route:s==null?void 0:s.route,parentId:x,moduleId:D,workflowId:s==null?void 0:s.workflowId};k!==null&&(Q.id=k,Q.isSuspended=!1,n=le),_.post(n,Q,I()).then(function(ue){var ge,Pe;(ge=ue==null?void 0:ue.data)!=null&&ge.status?(B.success("Menu added successfully"),menuAddEditModal.close(),W("action")):B.error((Pe=ue==null?void 0:ue.data)==null?void 0:Pe.message)}).catch(function(ue){B.error("Something went wrong")}).finally(()=>{H(!1),z(null),ie(null)})};l.useEffect(()=>{W(),xe(),C()},[]);const a=(s,n)=>{K(n),S(s)};return e.jsxs(e.Fragment,{children:[L&&e.jsx(Le,{activateBottomErrorCard:a,errorTitle:$}),e.jsx(Me,{}),e.jsxs("dialog",{ref:y,className:"shadow-xl relative border-2 border-[#1A4D8C] backdrop-filter-blur ",children:[e.jsxs("div",{className:"",children:[e.jsx("button",{onClick:()=>{z(null),y.current.close()},className:"absolute top-1 right-3 text-xl p-2 w-8 h-8 rounded-lg hover:bg-red-100 hover:text-red-500 font-semibold flex justify-center items-center",children:"x"}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"font-semibold md:px-6 text-lg",children:"Add API"})})]}),e.jsx("div",{className:"w-full",children:e.jsx(Dt,{postMenu:i,parentMenuList:q,fetchWorkflowByModule:se,moduleList:F,workflowListByModule:w,addEditLoading:E,currentSelectedId:k,currentMenuData:G})})]}),e.jsx(ve,{deleteLoading:R,deleteMenuList:j,setdeleteModal:h,deleteModal:t}),U&&e.jsx(fe,{}),!U&&P!==null&&e.jsxs("div",{className:"px-4 pt-4",children:[o&&e.jsx(te,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0}),e.jsx(he,{isLoadingSingleFetch:ce,exportStatus:!1,assessmentType:!1,columns:ee,dataList:P,children:e.jsxs("button",{onClick:()=>y.current.showModal(),className:"float-right bg-[#1A4D8C] px-3 py-1 rounded-sm shadow-lg hover:shadow-xl  hover:bg-[#113766] hover:text-white text-white flex items-center",children:[e.jsx(Ce,{})," Add Menu"]})})]})]})}function Bt(t){var G,O;const[h,P]=l.useState([]),[g,F]=l.useState(!1),[v,w]=l.useState(""),[u,q]=l.useState(null);let c=ye({apiEndPoint:T().required("Enter end point"),category:T().required("Select category"),desc:T().required("Enter description"),usage:T().required("Enter usage"),preCondition:T().required("Enter pre condition"),postCondition:T().required("Enter post condition"),requestPayload:T().required("Enter request payload"),responsePayload:T().required("Enter response payload"),version:T().required("Enter version"),createdBy:T().required("Select created by"),revisionNo:T().required("Enter revision no."),remarks:T().required("Enter remarks")});const r=je({initialValues:{apiEndPoint:"",category:"",desc:"",usage:"",preCondition:"",postCondition:"",requestPayload:"",responsePayload:"",version:"",createdBy:"",revisionNo:"",remarks:""},enableReinitialize:!0,onSubmit:o=>{t==null||t.saveApiForm(o,h)},validationSchema:c}),E=o=>{r.setFieldValue("apiEndPoint",o==null?void 0:o.end_point),r.setFieldValue("category",o==null?void 0:o.category_id),r.setFieldValue("desc",o==null?void 0:o.description),r.setFieldValue("usage",o==null?void 0:o.usage),r.setFieldValue("preCondition",o==null?void 0:o.pre_condition),r.setFieldValue("postCondition",o==null?void 0:o.post_condition),r.setFieldValue("requestPayload",o==null?void 0:o.request_payload),r.setFieldValue("responsePayload",o==null?void 0:o.response_payload),r.setFieldValue("version",o==null?void 0:o.version),r.setFieldValue("createdBy",o==null?void 0:o.created_by),r.setFieldValue("revisionNo",o==null?void 0:o.revision_no),r.setFieldValue("remarks",o==null?void 0:o.remarks)};l.useEffect(()=>{(t==null?void 0:t.currentSelectedId)!==null&&E(t==null?void 0:t.editData)},[t==null?void 0:t.editData]);const H=(o,M)=>{q(M),F(o)},R=o=>{let M=o.target.name,L=o.target.value;M=="usage"&&r.setFieldValue("usage",Ae(L,r.values.usage,100)),M=="preCondition"&&r.setFieldValue("preCondition",Ae(L,r.values.preCondition,100)),M=="postCondition"&&r.setFieldValue("postCondition",Ae(L,r.values.postCondition,100)),M=="version"&&r.setFieldValue("version",Ct(L,r.values.version,10)),M=="revisionNo"&&r.setFieldValue("revisionNo",ke(L,r.values.revisionNo,10)),M=="remarks"&&r.setFieldValue("remarks",Ae(L,r.values.remarks,100))},V=o=>{if(o.keyCode===13){let M=[...h,o.target.value];P(M),w("")}};return e.jsxs(e.Fragment,{children:[g&&e.jsx(BottomErrorCard,{activateBottomErrorCard:H,errorTitle:u}),e.jsxs("div",{className:"block md:p-4 w-full md:py-6 rounded-lg mx-auto  bg-white px-4 sm:px-0   ",children:[e.jsx("form",{onChange:R,onSubmit:r.handleSubmit,children:e.jsxs("div",{className:"grid grid-cols-12  sm:space-x-2",children:[e.jsxs("div",{className:"form-group col-span-12 md:col-span-2 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["API Endpoint",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...r.getFieldProps("apiEndPoint"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:r.touched.apiEndPoint&&r.errors.apiEndPoint?r.errors.apiEndPoint:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-2 mb-6 md:px-4",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Category"}),e.jsxs("select",{...r.getFieldProps("category"),className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),(G=t==null?void 0:t.categoryList)==null?void 0:G.map((o,M)=>e.jsx("option",{value:o==null?void 0:o.id,children:o==null?void 0:o.category_name}))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:r.touched.category&&r.errors.category?r.errors.category:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-2 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Usage",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...r.getFieldProps("usage"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:r.touched.usage&&r.errors.usage?r.errors.usage:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-2 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Pre Condition",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...r.getFieldProps("preCondition"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:r.touched.preCondition&&r.errors.preCondition?r.errors.preCondition:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-2 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Post Condition",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...r.getFieldProps("postCondition"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:r.touched.postCondition&&r.errors.postCondition?r.errors.postCondition:null})]}),e.jsx("div",{className:"col-span-12"}),e.jsx("div",{className:"form-group col-span-12 md:col-span-4 grid grid-cols-12",children:e.jsxs("div",{className:"col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Request Payload",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("textarea",{...r.getFieldProps("requestPayload"),class:"h-40 resize form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:r.touched.requestPayload&&r.errors.requestPayload?r.errors.requestPayload:null})]})}),e.jsx("div",{className:"form-group col-span-12 md:col-span-4 grid grid-cols-12",children:e.jsxs("div",{className:"col-span-12  mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Response Payload",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("textarea",{...r.getFieldProps("responsePayload"),class:"h-40 resize form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:r.touched.responsePayload&&r.errors.responsePayload?r.errors.responsePayload:null})]})}),e.jsx("div",{className:"form-group col-span-12 md:col-span-4 grid grid-cols-12",children:e.jsxs("div",{className:"col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Description",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("textarea",{...r.getFieldProps("desc"),class:"h-40 resize form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:r.touched.desc&&r.errors.desc?r.errors.desc:null})]})}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-2 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Version",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...r.getFieldProps("version"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:r.touched.version&&r.errors.version?r.errors.version:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-2 mb-6 md:px-4",children:[e.jsx("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:"Created By"}),e.jsxs("select",{...r.getFieldProps("createdBy"),className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),(O=t==null?void 0:t.apiDeveloperList)==null?void 0:O.map((o,M)=>e.jsx("option",{value:o==null?void 0:o.id,children:o==null?void 0:o.developer_name}))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:r.touched.createdBy&&r.errors.createdBy?r.errors.createdBy:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-2 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Revision No.",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...r.getFieldProps("revisionNo"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:r.touched.revisionNo&&r.errors.revisionNo?r.errors.revisionNo:null})]}),e.jsxs("div",{className:"form-group col-span-12 md:col-span-2 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Remarks",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...r.getFieldProps("remarks"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:r.touched.remarks&&r.errors.remarks?r.errors.remarks:null})]})]})}),e.jsxs("div",{className:"form-group w-40 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Tags",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{onChange:o=>w(o.target.value),value:v,onKeyDown:V,type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("div",{className:"flex",children:Array.isArray(h)&&(h==null?void 0:h.map((o,M)=>e.jsx("div",{class:"flex justify-center items-center m-1 font-medium py-1 px-2 rounded-full text-blue-700 bg-blue-100 border border-blue-300 ",children:e.jsx("div",{class:"text-xs font-normal leading-none max-w-full flex-initial",children:o})})))})]}),e.jsx("div",{className:"col-span-12 mt-10",children:t!=null&&t.isSubmitLoading?e.jsx("button",{className:" px-6 py-2.5 bg-[#1A4D8C] text-white font-medium text-xs leading-tight  rounded   hover:bg-[#113766] hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:e.jsx(te,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):e.jsx("button",{onClick:r.handleSubmit,type:"button",className:" px-6 py-2.5 bg-[#1A4D8C] text-white font-medium text-xs leading-tight  rounded   hover:bg-[#113766] hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:(t==null?void 0:t.currentSelectedId)===null?"Submit":"Update"})})]})]})}function Tt(){return{apiErrorMsg:"Something went wrong",formSubmitionMsg:"Submitted Successfully!"}}function qt(){const[t,h]=l.useState(!1),[P,g]=l.useState(null),[F,v]=l.useState(!1),[w,u]=l.useState(!1),[q,c]=l.useState(null),[U,r]=l.useState(null),[E,H]=l.useState(null),[R,V]=l.useState(!1),[G,O]=l.useState(null),[o,M]=l.useState(null),[L,S]=l.useState(!1),[$,K]=l.useState(null),[k,z]=l.useState(!1),{formSubmitionMsg:me,apiErrorMsg:ie}=Tt(),[ce,ae]=l.useState(!1),y=l.useRef();Ne("API List",!0);const{api_getApiList:Y,api_deleteApi:J,api_PostApi:le,api_updateApi:f,api_getApiById:p,api_getApiCategory:re,api_getApiDeveloperList:oe}=we(),ne=[{Header:"Sl.",Cell:({row:a})=>e.jsx("div",{className:"px-1",children:a.index+1})},{Header:"API EndPoint",accessor:"end_point",Cell:({cell:a})=>{var s;return e.jsx("div",{children:e.jsx("span",{className:"",children:(s=a.row.values)==null?void 0:s.end_point})})}},{Header:"Category",accessor:"category"},{Header:"Created At",accessor:"created_at"},{Header:"Status",accessor:"is_suspended",Cell:({cell:a})=>{var s,n;return e.jsxs("div",{children:[((s=a.row.values)==null?void 0:s.discontinued)&&e.jsx("span",{className:"font-semibold text-red-400",children:"Suspended"}),!((n=a.row.values)!=null&&n.discontinued)&&e.jsx("span",{className:"font-semibold text-green-400",children:"Active"})]})}},{Header:"Action",accessor:"id",Cell:({cell:a})=>e.jsxs("div",{children:[e.jsx("button",{onClick:()=>{var s,n,x;M((s=a.row.values)==null?void 0:s.id),K((n=a.row.values)==null?void 0:n.menu_role_name),C((x=a.row.values)==null?void 0:x.id)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-green-300",children:"Edit"}),e.jsx("button",{onClick:()=>{var s;M((s=a.row.values)==null?void 0:s.id),h(!0)},className:"border border-red-300 text-red-400    mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white ",children:"Delete"})]})}],ee=(a=null)=>{a===null?v(!0):ae(!0),_.post(Y,{},I()).then(function(s){var n,x;(n=s==null?void 0:s.data)!=null&&n.status?g((x=s==null?void 0:s.data)==null?void 0:x.data):g(null)}).catch(function(s){}).finally(()=>{a===null?v(!1):ae(!1)})},W=()=>{u(!0);let a={id:o};_.post(J,a,I()).then(function(s){var n,x;(n=s==null?void 0:s.data)!=null&&n.status?(h(!1),ee("action")):i(!0,(x=res==null?void 0:res.data)==null?void 0:x.message)}).catch(function(s){i(!0,"Error occured in submitting deactivation application. Please try again later.")}).finally(()=>{u(!1),M(null)})},X=(a,s)=>{S(!0);let n,x,D={endPoint:a==null?void 0:a.apiEndPoint,category:a==null?void 0:a.category,description:a==null?void 0:a.desc,usage:a==null?void 0:a.usage,preCondition:a==null?void 0:a.preCondition,postCondition:a==null?void 0:a.postCondition,requestPayload:a==null?void 0:a.requestPayload,responsePayload:a==null?void 0:a.responsePayload,version:a==null?void 0:a.version,createdBy:a==null?void 0:a.createdBy,revisionNo:a==null?void 0:a.revisionNo,remarks:a==null?void 0:a.remarks,tags:s};o!==null?(n=f,x=D,x.id=o):(n=le,x=D),_.post(n,x,I()).then(function(Q){var ue,ge;(ue=Q==null?void 0:Q.data)!=null&&ue.status?(B.success("Api Added Successfully"),ee("action"),apiSubmitModal.close()):B.error((ge=Q==null?void 0:Q.data)==null?void 0:ge.message)}).catch(function(Q){B.error(ie)}).finally(()=>{S(!1)})},xe=()=>{v(!0),_.post(re,{},I()).then(function(a){var s,n;(s=a==null?void 0:a.data)!=null&&s.status?r((n=a==null?void 0:a.data)==null?void 0:n.data):i(!0,"Error occured in submitting deactivation application. Please try again later.")}).catch(function(a){i(!0,"Error occured in submitting deactivation application. Please try again later.")}).finally(()=>{v(!1)})},se=()=>{v(!0),_.post(oe,{},I()).then(function(a){var s,n;(s=a==null?void 0:a.data)!=null&&s.status?H((n=a==null?void 0:a.data)==null?void 0:n.data):i(!0,"Error occured in submitting deactivation application. Please try again later.")}).catch(function(a){i(!0,"Error occured in submitting deactivation application. Please try again later.")}).finally(()=>{v(!1)})},C=a=>{z(!0);let s={id:a};_.post(p,s,I()).then(function(n){var x,D;(x=n==null?void 0:n.data)!=null&&x.status?(c((D=n==null?void 0:n.data)==null?void 0:D.data),y.current.showModal()):i(!0,"Error occured in submitting deactivation application. Please try again later.")}).catch(function(n){}).finally(n=>{z(!1)})};l.useEffect(()=>{ee(),xe(),se()},[]);const j=()=>{apiSubmitModal.close()},i=(a,s)=>{O(s),V(a)};return e.jsxs(e.Fragment,{children:[e.jsx(Me,{}),R&&e.jsx(Le,{activateBottomErrorCard:i,errorTitle:G}),e.jsx(ve,{deleteLoading:w,deleteApi:W,setdeleteModal:h,deleteModal:t}),e.jsxs("dialog",{ref:y,className:"shadow-xl relative border-2 border-[#1A4D8C] backdrop-filter-blur ",children:[e.jsxs("div",{className:"",children:[e.jsx("button",{onClick:()=>{M(null),y.current.close()},className:"absolute top-1 right-3 text-xl p-2 w-8 h-8 rounded-lg hover:bg-red-100 hover:text-red-500 font-semibold flex justify-center items-center",children:"x"}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"font-semibold md:px-6 text-lg",children:"Add API"})})]}),e.jsx("div",{className:"w-full",children:e.jsx(Bt,{isSubmitLoading:L,editData:q,saveApiForm:X,categoryList:U,apiDeveloperList:E,setcurrentSelectedId:M,currentSelectedId:o,fetchApiMasterList:ee,closeApiSubmitModal:j})})]}),F&&e.jsx(fe,{}),!F&&P!==null&&e.jsxs("div",{className:"px-4 pt-4",children:[k&&e.jsx(te,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0}),e.jsx(he,{isLoadingSingleFetch:ce,exportStatus:!1,assessmentType:!1,columns:ne,dataList:P,children:e.jsxs("button",{onClick:()=>y.current.showModal(),className:"float-right bg-[#1A4D8C] px-3 py-1 rounded-sm shadow-lg hover:shadow-xl  hover:bg-[#113766] hover:text-white text-white flex items-center",children:[e.jsx(Ce,{})," Add API"]})})]})]})}function Ht(t){var r;const[h,P]=l.useState(null),[g,F]=l.useState(null);let v=ye({userType:T().required("Enter user type"),fullName:T().required("Enter full name"),mobileNo:T().required("Enter mobile no."),altMobileNo:T().required("Select alternate mobile"),email:T().required("Enter email"),address:T().required("Enter address"),userImage:T().required("Select user image")});const u=je({initialValues:{userType:"",fullName:"",mobileNo:"",altMobileNo:"",email:"",address:"",userImage:""},enableReinitialize:!0,onSubmit:E=>{t==null||t.postUser(E,h)},validationSchema:v}),q=E=>{let H=E.target.name,R=E.target.value;H==="userImage"&&c(E),H=="fullName"&&u.setFieldValue("fullName",Se(R,u.values.fullName,100)),H=="mobileNo"&&u.setFieldValue("mobileNo",ke(R,u.values.mobileNo,10)),H=="altMobileNo"&&u.setFieldValue("altMobileNo",ke(R,u.values.altMobileNo,10)),H=="email"&&u.setFieldValue("email",$e(R,u.values.email,100)),H=="address"&&u.setFieldValue("address",Se(R,u.values.address,100))},c=E=>{P(E.target.files[0]),F(URL.createObjectURL(E.target.files[0]))},U=()=>{var E,H,R,V,G,O,o;u.setFieldValue("userType",(E=t==null?void 0:t.currentUserData)==null?void 0:E.user_type),u.setFieldValue("fullName",(H=t==null?void 0:t.currentUserData)==null?void 0:H.name),u.setFieldValue("fullName",(R=t==null?void 0:t.currentUserData)==null?void 0:R.name),u.setFieldValue("mobileNo",(V=t==null?void 0:t.currentUserData)==null?void 0:V.mobile),u.setFieldValue("altMobileNo",(G=t==null?void 0:t.currentUserData)==null?void 0:G.alternate_mobile),u.setFieldValue("email",(O=t==null?void 0:t.currentUserData)==null?void 0:O.email),u.setFieldValue("address",(o=t==null?void 0:t.currentUserData)==null?void 0:o.address)};return l.useEffect(()=>{(t==null?void 0:t.currentSelectedId)!==null&&U()},[t==null?void 0:t.currentUserData]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"block md:p-4 w-full md:py-6 rounded-lg mx-auto  bg-white px-4 sm:px-0",children:e.jsx("form",{onChange:q,onSubmit:u.handleSubmit,children:e.jsxs("div",{className:"grid grid-cols-12  sm:space-x-2 px-10",children:[e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["User Type",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsxs("select",{...u.getFieldProps("userType"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),Array.isArray(t==null?void 0:t.userTypeList)&&((r=t==null?void 0:t.userTypeList)==null?void 0:r.map((E,H)=>e.jsx("option",{value:E,children:E})))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:u.touched.userType&&u.errors.userType?u.errors.userType:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Full Name",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...u.getFieldProps("fullName"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:u.touched.fullName&&u.errors.fullName?u.errors.fullName:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Mobile NO.",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...u.getFieldProps("mobileNo"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:u.touched.mobileNo&&u.errors.mobileNo?u.errors.mobileNo:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Alt Mobile No.",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...u.getFieldProps("altMobileNo"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:u.touched.altMobileNo&&u.errors.altMobileNo?u.errors.altMobileNo:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Email",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...u.getFieldProps("email"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:u.touched.email&&u.errors.email?u.errors.email:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Address",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...u.getFieldProps("address"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:u.touched.address&&u.errors.address?u.errors.address:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["User Image",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...u.getFieldProps("userImage"),type:"file",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:u.touched.userImage&&u.errors.userImage?u.errors.userImage:null}),e.jsx("div",{className:"w-32 h-32 rounded-full border shadow-xl mx-auto overflow-hidden mt-10 flex justify-center items-center",children:e.jsx("img",{src:g||De})})]}),e.jsx("div",{className:"col-span-12 mt-4",children:t!=null&&t.addEditLoading?e.jsx("button",{type:"submit",className:"w-full  cypress_next1_button px-6 py-2.5 bg-indigo-500 text-white font-medium text-xs leading-tight  rounded  hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out flex justify-center items-center",children:e.jsx(te,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):e.jsx("button",{type:"submit",className:"w-full  cypress_next1_button px-6 py-2.5 bg-indigo-500 text-white font-medium text-xs leading-tight  rounded  hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:(t==null?void 0:t.currentSelectedId)===null?"Submit":"Update"})})]})})})})}function Vt(t){const h=l.useRef();return l.useEffect(()=>{(t==null?void 0:t.mappingModal)===!0&&h.current.showModal()},[t==null?void 0:t.mappingModal]),e.jsx("dialog",{ref:h,className:"relative bg-transparent",children:e.jsxs("div",{className:"bg-white shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsx("div",{className:"flex flex-row-reverse",children:e.jsxs("span",{onClick:()=>{t==null||t.setmappingModal(!1),mappingModal.close()},className:"cursor-pointer rounded-full hover:bg-gray-400",children:[e.jsx(Re,{size:25})," "]})}),e.jsxs("p",{className:"text-center text-xl",children:[t==null?void 0:t.title,e.jsx("span",{className:"font-semibold",children:t==null?void 0:t.roleName})]}),e.jsxs("div",{className:"text-center",children:[" ",(t==null?void 0:t.isLoadingFetchRoles)&&e.jsx(te,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("div",{children:e.jsx("button",{onClick:()=>{t==null||t.fetchRoles(t==null?void 0:t.currentSelectedId,"menu"),t==null||t.setmappingTypeCurrentState(0)},type:"button",className:` rounded-md border  hover:bg-[#1A4D8C] hover:text-white px-3 py-2 text-sm font-semibold   shadow-sm  focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-black ${(t==null?void 0:t.mappingTypeCurrentState)===0?"bg-[#1A4D8C] text-white":"border-[#1A4D8C] text-[#1A4D8C]"}`,children:" Menu Role"})}),e.jsx("div",{children:e.jsx("button",{onClick:()=>{t==null||t.fetchRoles(t==null?void 0:t.currentSelectedId,"api"),t==null||t.setmappingTypeCurrentState(1)},type:"button",className:` rounded-md border  hover:bg-[#1A4D8C] hover:text-white px-3 py-2 text-sm font-semibold   shadow-sm  focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-black ${(t==null?void 0:t.mappingTypeCurrentState)===1?"bg-[#1A4D8C] text-white":"border-[#1A4D8C] text-[#1A4D8C]"}`,children:" API Role"})}),e.jsx("div",{children:e.jsx("button",{onClick:()=>{t==null||t.fetchRoles(t==null?void 0:t.currentSelectedId,"workflow"),t==null||t.setmappingTypeCurrentState(2)},type:"button",className:` rounded-md border  hover:bg-[#1A4D8C] hover:text-white px-3 py-2 text-sm font-semibold   shadow-sm  focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-black ${(t==null?void 0:t.mappingTypeCurrentState)===2?"bg-[#1A4D8C] text-white":"border-[#1A4D8C] text-[#1A4D8C]"}`,children:" Workflow Role"})})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsx("div",{children:Array.isArray(t==null?void 0:t.roleList)&&e.jsx(he,{exportStatus:!1,searchText:"Menu",columns:t==null?void 0:t.columns,dataList:t==null?void 0:t.roleList})})})]})})}function Wt(t){const h=l.useRef();return l.useEffect(()=>{(t==null?void 0:t.wardMappingModalState)===!0&&h.current.showModal()},[t==null?void 0:t.wardMappingModalState]),e.jsx("dialog",{ref:h,id:"wardMappingModal",className:"relative bg-transparent",children:e.jsxs("div",{className:"bg-white shadow-2xl border border-sky-200 p-5 m-5 rounded-md",children:[e.jsx("div",{className:"flex flex-row-reverse",children:e.jsxs("span",{onClick:()=>{t==null||t.setwardMappingModalState(!1),mappingModal.close()},className:"cursor-pointer rounded-full hover:bg-gray-400",children:[e.jsx(Re,{size:25})," "]})}),e.jsxs("p",{className:"text-center text-xl",children:[t==null?void 0:t.title,e.jsx("span",{className:"font-semibold",children:t==null?void 0:t.roleName})]}),e.jsx("div",{children:(t==null?void 0:t.wardMappingCurrentState)==="edit"?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>t==null?void 0:t.changeWardListType("read"),type:"button",className:"rounded-md border border-[#1A4D8C] px-10 py-2 text-sm font-semibold text-[#1A4D8C] shadow-sm hover:bg-[#1A4D8C]/80 hover:shadow-xl",children:[e.jsx(Pt,{className:"inline"}),"Back"]}),e.jsx("button",{onClick:()=>t==null?void 0:t.postWardToMapUser(),type:"button",className:"ml-4 rounded-md bg-[#1A4D8C] px-10 py-2 text-sm font-semibold text-white shadow-sm hover:bg-[#1A4D8C]/80 hover:shadow-xl",children:"Apply"})]}):e.jsx("button",{onClick:()=>t==null?void 0:t.changeWardListType("edit"),type:"button",className:"rounded-md border border-[#1A4D8C] px-10 py-2 text-sm font-semibold text-[#1A4D8C] shadow-sm hover:bg-[#1A4D8C]/80 hover:shadow-xl",children:"Edit"})}),e.jsxs("div",{className:"text-center",children:[" ",(t==null?void 0:t.isLoadingMappingUpdate)&&e.jsx(te,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})]}),e.jsx("p",{className:"border-b py-1 mb-3"}),e.jsx("div",{children:e.jsxs("div",{children:[Array.isArray(t==null?void 0:t.wardListToMap)&&(t==null?void 0:t.wardMappingCurrentState)==="edit"&&e.jsx(he,{exportStatus:!1,searchText:"Menu",columns:t==null?void 0:t.columns,dataList:t==null?void 0:t.wardListToMap}),Array.isArray(t==null?void 0:t.wardListToMap)&&(t==null?void 0:t.wardMappingCurrentState)!=="edit"&&e.jsx(he,{exportStatus:!1,searchText:"Menu",columns:t==null?void 0:t.columns,dataList:t==null?void 0:t.wardListToMap})]})})]})})}function Ot({filter:t,setFilter:h}){return e.jsxs(e.Fragment,{children:["Search : "," ",e.jsx("input",{className:"border-2 border-gray-600 px-2 bg-gray-200",type:"text",value:t||"",onChange:P=>h(P.target.value)})]})}function Gt(t){const[h,P]=l.useState("hidden"),g=l.useMemo(()=>t.columns,[]),F=l.useMemo(()=>t.dataList,[t.dataList,t==null?void 0:t.totalCount]),[v,w]=l.useState(10),[u,q]=l.useState(0);l.useEffect(()=>{q(0)},[t==null?void 0:t.totalCount]),l.useEffect(()=>{let S=(t==null?void 0:t.totalCount)/(t==null?void 0:t.perPage);(t==null?void 0:t.totalCount)%(t==null?void 0:t.perPage)!=0?E(parseInt(S)+1):E(parseInt(S))},[t==null?void 0:t.totalCount,v]);const{getTableBodyProps:c,headerGroups:U,prepareRow:r,setPageSize:E,state:H,rows:R,setGlobalFilter:V}=be.useTable({columns:g,data:F,initialState:{pageIndex:0}},be.useGlobalFilter,be.useSortBy,be.usePagination),{globalFilter:G,pageSize:O}=H,o=()=>{if(parseInt(u)>0&&parseInt(u)<=parseInt(t==null?void 0:t.lastPage))t==null||t.gotoPage(parseInt(u));else return!1},M=()=>{(t==null?void 0:t.lastPage)!=(t==null?void 0:t.currentPage)&&t.nextPage()},L=()=>{(t==null?void 0:t.currentPage)!=1&&t.prevPage()};return e.jsxs(e.Fragment,{children:[(t==null?void 0:t.search)==!1?e.jsxs("div",{className:"absolute -mt-[6.5vh] right-[2vw]",children:[e.jsx("div",{className:"flex-initial ml-2",children:e.jsxs("button",{className:"bg-sky-400 px-3 pr-3  shadow-lg rounded py-1 text-white hover:shadow-2xl hover:bg-green-600 text-center relative",onMouseEnter:()=>P(""),onMouseLeave:()=>P("hidden"),onClick:t.exportDataF,children:["Export",e.jsx("div",{className:h+" absolute h-full top-3 text-sm left-0 text-center animate-bounce",children:e.jsx(Ge,{})})]})}),e.jsx("div",{className:"flex-1",children:t.children})]}):e.jsxs("div",{className:"flex mb-2 pb-2",children:[e.jsx("div",{className:"flex-initial opacity-50",children:e.jsx(Ot,{filter:G,setFilter:V})}),e.jsx("div",{className:"flex-initial ml-2",children:e.jsxs("button",{className:"bg-sky-400 px-3 pr-3  shadow-lg rounded py-1 text-white hover:shadow-2xl bg-green-600 hover:bg-green-600 text-center relative",onMouseEnter:()=>P(""),onMouseLeave:()=>P("hidden"),onClick:t.exportDataF,children:["Export",e.jsx("div",{className:h+" absolute h-full top-3 text-sm left-0 text-center animate-bounce",children:e.jsx(Ge,{})})]})}),e.jsx("div",{className:"flex-1",children:t.children})]}),e.jsx("div",{className:"flex w-full",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"opacity-50",children:"Total Result : "}),e.jsx("span",{className:"font-semibold",children:t==null?void 0:t.totalCount})," "]})}),(t==null?void 0:t.feedback)!=null&&e.jsx("div",{children:e.jsxs("span",{className:"text-xs bg-gray-200 opacity-50 pr-2 pl-1 py-1 rounded-sm",children:[e.jsx(At,{className:"inline text-xs text-gray-400 mr-2"}),t.feedback]})}),e.jsx("div",{className:" py-2 overflow-x-auto bg-white",children:e.jsxs("div",{className:"inline-block min-w-full rounded-lg overflow-hidden bg-white",children:[e.jsxs("table",{...c,className:"min-w-full leading-normal",children:[e.jsx("thead",{className:"font-bold text-left text-sm bg-sky-50",children:U==null?void 0:U.map(S=>e.jsx("tr",{...S.getHeaderGroupProps(),children:S.headers.map($=>e.jsxs("th",{...$.getHeaderProps($.getSortByToggleProps()),className:($==null?void 0:$.className)+" px-2 py-3 border-b border-gray-200 text-gray-800  text-left text-xs uppercase ",children:[$.render("Header"),e.jsx("span",{children:$.isSorted?$.isSortedDesc?"⬆️":"⬇️":""})]}))}))}),e.jsxs("tbody",{...c(),className:"text-sm",children:[R.map((S,$)=>{var K;return r(S),e.jsx("tr",{...S.getRowProps(),className:"bg-white shadow-lg border-b border-gray-200",children:(K=S==null?void 0:S.cells)==null?void 0:K.map((k,z)=>e.jsx("td",{...k.getCellProps(),className:"px-2 py-2 text-sm text-left",children:k.render("Cell")}))})}),e.jsx("tr",{children:e.jsx("td",{})})]})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-12 items-center",children:[e.jsxs("div",{className:"sm:col-span-2 col-span-3 flex w-full ml-1 pr-10",children:[e.jsx("span",{children:e.jsx("input",{className:"h-10 w-[90%] placeholder:text-gray-600 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-1 ",type:"number",onChange:S=>{q(S.target.value)},placeholder:"Go to page..."})}),e.jsxs("abbr",{className:"cursor-pointer flex items-center w-[15%] no-underline",title:"Go",onClick:()=>o(),children:[" ",e.jsx("span",{className:"font-bold bg-green-300 text-xl px-2 pb-1 rounded-full hover:text-white hover:bg-green-500",children:"⇨"})," "]})]}),e.jsxs("div",{className:"col-span-2",children:["  ",e.jsx("select",{className:"h-10 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 ",value:v,onChange:S=>{w(Number(S.target.value)),t.perPageC(Number(S.target.value))},children:[5,10,25,50].map(S=>e.jsxs("option",{selected:S===10,value:S,children:["show ",S]},S))})]}),e.jsxs("div",{className:"col-span-3 sm:col-span-4 text-center sm:col-start-5 col-start-7",children:["   ",e.jsxs("span",{children:["page ","",e.jsxs("strong",{children:[t==null?void 0:t.currentPage," of ",t==null?void 0:t.lastPage]}),""]})]}),e.jsxs("div",{className:"col-span-3 sm:col-span-4 text-right",children:[e.jsx("abbr",{title:"First Page",children:e.jsxs("button",{className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:()=>t==null?void 0:t.goFirst(),disabled:(t==null?void 0:t.currentPage)==1&&!0,children:[e.jsx(Ft,{})," "]})}),e.jsx("abbr",{title:"Previous Page",children:e.jsx("button",{className:((t==null?void 0:t.currentPage)==1?"opacity-50":"opacity-100")+" text-xl hover:bg-sky-300 hover:text-white cursor-pointer",onClick:()=>L(),disabled:(t==null?void 0:t.currentPage)==1&&!0,children:"⬅️"})}),e.jsx("abbr",{title:"Next Page",children:e.jsx("button",{className:((t==null?void 0:t.currentPage)==(t==null?void 0:t.lastPage)?"opacity-50":"opacity-100")+" text-xl hover:bg-sky-300 hover:text-white cursor-pointer",onClick:()=>M(),disabled:(t==null?void 0:t.currentPage)==(t==null?void 0:t.lastPage)&&!0,children:"➡️"})}),e.jsx("abbr",{title:"Last Page",children:e.jsxs("button",{className:"cursor-pointer hover:bg-sky-300 p-2 hover:text-white",onClick:()=>t==null?void 0:t.goLast(),disabled:(t==null?void 0:t.currentPage)==(t==null?void 0:t.lastPage)&&!0,children:["  ",e.jsx(It,{})]})})]})]})]})})]})}const zt=t=>{const[h,P]=l.useState(10),[g,F]=l.useState(1),[v,w]=l.useState(0),[u,q]=l.useState(0),[c,U]=l.useState(0),[r,E]=l.useState(),[H,R]=l.useState(!1),[V,G]=l.useState(!1),[O,o]=l.useState(),[M,L]=l.useState(!1),S=()=>{G(!1),L(!0),ze.post(t==null?void 0:t.api,{...t==null?void 0:t.requestBody,perPage:h,page:g},I()).then(y=>{var Y,J,le,f,p,re,oe,ne,ee,W;((Y=y==null?void 0:y.data)==null?void 0:Y.status)==!0?(t!=null&&t.getData&&(t==null||t.allData((J=y==null?void 0:y.data)==null?void 0:J.data)),o((f=(le=y==null?void 0:y.data)==null?void 0:le.data)==null?void 0:f.data),U((re=(p=y==null?void 0:y.data)==null?void 0:p.data)==null?void 0:re.total),w((ne=(oe=y==null?void 0:y.data)==null?void 0:oe.data)==null?void 0:ne.current_page),q((W=(ee=y==null?void 0:y.data)==null?void 0:ee.data)==null?void 0:W.last_page),G(!1)):G(!0),L(!1)}).catch(y=>(L(!1),G(!0)))},$=()=>{F(v+1)},K=()=>{F(v-1)},k=y=>{let Y=parseInt(c/y),J=parseInt(c%y);if(J==0){Y<v&&F(Y),P(y);return}if(J!=0){Y+1<v&&F(Y+1),P(y);return}},z=()=>{F(1)},me=()=>{F(u)},ie=y=>{F(y)},ce=()=>{L(!0),R(!1),ze.post(t==null?void 0:t.api,{...t==null?void 0:t.requestBody,perPage:c},I()).then(y=>{var Y,J,le;((Y=y==null?void 0:y.data)==null?void 0:Y.status)==!0&&(E((le=(J=y==null?void 0:y.data)==null?void 0:J.data)==null?void 0:le.data),ae()),L(!1)}).catch(y=>{L(!1)})},ae=()=>{R(!0)};return l.useEffect(()=>{(t==null?void 0:t.requestBody)!=null&&(F(1),P(10),S())},[t==null?void 0:t.changeData]),l.useEffect(()=>{L(!0),S()},[g,h]),e.jsxs(e.Fragment,{children:[V&&e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 pl-4 pr-16 py-3 rounded relative text-center",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Sorry! "}),e.jsx("span",{className:"block sm:inline",children:"Some error occured while fetching list. Please try again later."}),e.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3"})]}),H&&e.jsx(Mt,{data:r}),M&&e.jsx(fe,{}),O!=null&&(O==null?void 0:O.length)!=0?e.jsx(e.Fragment,{children:e.jsx(Gt,{search:t==null?void 0:t.search,currentPage:v,lastPage:u,goFirst:z,goLast:me,count1:c,columns:t==null?void 0:t.columns,dataList:O,exportStatus:!0,perPage:h,perPageC:k,totalCount:c,nextPage:$,prevPage:K,exportDataF:ce,exportData:r,gotoPage:y=>ie(y)})}):e.jsx(e.Fragment,{children:!M&&!V&&e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 pl-4 pr-16 py-3 rounded relative text-center",role:"alert",children:[e.jsx("span",{className:"block sm:inline",children:"Oops! No data available."}),e.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3"})]})})]})};function $t(){const[t,h]=l.useState(!1),[P,g]=l.useState(!1),[F,v]=l.useState(!1),[w,u]=l.useState(0),[q,c]=l.useState(null),[U,r]=l.useState(!1),[E,H]=l.useState(!1),[R,V]=l.useState(null),[G,O]=l.useState(!1),[o,M]=l.useState(!1),[L,S]=l.useState(null),[$,K]=l.useState(!1),[k,z]=l.useState(!1),[me,ie]=l.useState(null),[ce,ae]=l.useState(null),[y,Y]=l.useState(null),[J,le]=l.useState(null),[f,p]=l.useState(null),[re,oe]=l.useState(!1),[ne,ee]=l.useState(null),[W,X]=l.useState(null),[xe,se]=l.useState(null),[C,j]=l.useState(0),[i,a]=l.useState({}),[s,n]=l.useState(!1),[x,D]=l.useState(!1),[Q,ue]=l.useState(null),[ge,Pe]=l.useState(null),Fe=l.useRef();Ne("User List",!0);const Je=ye({filterBy:T().required("This is a required field !")}),Ue=je({initialValues:{filterBy:""},onSubmit:d=>{a({ulbId:d==null?void 0:d.filterBy}),u(b=>b+1)},validationSchema:Je}),{api_getUserList:Be,api_EnalbeDisableUser:Qe,api_updateUser:Xe,api_PostUser:Ze,api_getUserById:pe,api_getMenuRolesByUser:et,api_getApiRolesByUser:tt,api_getWardListByUser:at,api_getWorkflowRolesByUser:lt,api_getUserTypeList:st,api_postMenuRoleUserMapping:it,api_postApiRoleUserMapping:nt,api_postWorkflowRoleUserMapping:dt,api_postWardUserMapping:rt,ulbListApi:ot}=we(),Te=[{Header:"Sl.",Cell:({row:d})=>e.jsx("div",{className:"px-1",children:(d==null?void 0:d.index)+1})},{Header:"New Ward",accessor:"ward_name"},{Header:"Old Ward",accessor:"old_ward_name"},{Header:"Permission",accessor:"permission_status",Cell:d=>{var b;return e.jsx("div",{className:"",children:e.jsx("input",{checked:(b=d.row.values)==null?void 0:b.permission_status,type:"checkbox",className:" w-6 h-6 text-blue-600 bg-gray-100 border-gray-300 rounded"})})}}],qe=[{Header:"Sl.",Cell:({row:d})=>e.jsx("div",{className:"px-1",children:(d==null?void 0:d.index)+1})},{Header:"New Ward",accessor:"ward_name"},{Header:"Old Ward",accessor:"old_ward_name"},{Header:"Permission",accessor:"permission_status",Cell:d=>e.jsx("div",{className:"",children:e.jsx("input",{onChange:b=>{var m;return Nt((m=d.row.original)==null?void 0:m.id,b.target.checked)},type:"checkbox",className:" w-6 h-6 text-blue-600 bg-gray-100 border-gray-300 rounded cursor-pointer"})})}],ct=[{Header:"Sl.",Cell:({row:d})=>e.jsx("div",{className:"px-1",children:(d==null?void 0:d.index)+1})},{Header:"Role Name",accessor:"menu_role_name"},{Header:"Permission",accessor:"permission_status",Cell:d=>{var b;return e.jsx("div",{className:"",children:e.jsx(e.Fragment,{children:e.jsx("input",{checked:(b=d.row.values)==null?void 0:b.permission_status,onChange:m=>{var N;return Ee(W,"menu",(N=d.row.original)==null?void 0:N.id,m.target.checked)},type:"checkbox",className:"cypress_addressCheckbox w-6 h-6 text-blue-600 bg-gray-100 border-gray-300 rounded cursor-pointer"})})})}}],ut=[{Header:"Sl.",Cell:({row:d})=>e.jsx("div",{className:"px-1",children:(d==null?void 0:d.index)+1})},{Header:"Role Name",accessor:"api_role_name"},{Header:"Permission",accessor:"permission_status",Cell:d=>{var b;return e.jsx("div",{className:"",children:e.jsx("input",{checked:(b=d.row.values)==null?void 0:b.permission_status,onChange:m=>{var N;return Ee(W,"api",(N=d.row.original)==null?void 0:N.id,m.target.checked)},type:"checkbox",className:"cypress_addressCheckbox w-6 h-6 text-blue-600 bg-gray-100 border-gray-300 rounded cursor-pointer"})})}}],mt=[{Header:"Sl.",Cell:({row:d})=>e.jsx("div",{className:"px-1",children:(d==null?void 0:d.index)+1})},{Header:"Role Name",accessor:"role_name"},{Header:"Permission",accessor:"permission_status",Cell:d=>{var b;return e.jsx("div",{className:"",children:e.jsx("input",{checked:(b=d.row.values)==null?void 0:b.permission_status,onChange:m=>{var N;return Ee(W,"workflow",(N=d.row.original)==null?void 0:N.id,m.target.checked)},type:"checkbox",className:"cypress_addressCheckbox w-6 h-6 text-blue-600 bg-gray-100 border-gray-300 rounded cursor-pointer"})})}}],xt=[{Header:"Sl.",Cell:({row:d})=>e.jsx("div",{className:"px-1",children:d.index+1})},{Header:"User Image",accessor:"photo",Cell:({cell:d})=>e.jsx("div",{className:"rounded-full border w-10 h-10 flex justify-center items-center",children:e.jsx("img",{className:"w-8",src:De,alt:""})})},{Header:"Employee Name",accessor:"name",Cell:({cell:d})=>{var b;return e.jsxs("div",{children:[((b=d.row.values)==null?void 0:b.name)||"NA"," "]})}},{Header:"User Name",accessor:"user_name",Cell:({cell:d})=>{var b;return e.jsxs("div",{children:[((b=d.row.values)==null?void 0:b.user_name)||"NA"," "]})}},{Header:"Mobile No.",accessor:"mobile"},{Header:"Alt Mobile No.",accessor:"alternate_mobile"},{Header:"Email",accessor:"email"},{Header:"Address",accessor:"address"},{Header:"Status",accessor:"suspended",Cell:({cell:d})=>{var b,m;return e.jsxs("p",{children:[((b=d.row.values)==null?void 0:b.suspended)==!0&&e.jsx("p",{className:"text-red-400 font-semibold",children:"Suspended"}),((m=d.row.values)==null?void 0:m.suspended)==!1&&e.jsx("p",{className:"text-green-400 font-semibold",children:"Active"})]})}},{Header:"Action",accessor:"id",Cell:({cell:d})=>{var b,m;return e.jsxs("div",{children:[e.jsx("button",{onClick:()=>{var N,A;X((N=d.row.values)==null?void 0:N.id),ht((A=d.row.values)==null?void 0:A.id)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-green-300 ",children:"Edit"}),((b=d.row.values)==null?void 0:b.suspended)===!0&&e.jsx("button",{onClick:()=>{var N;X((N=d.row.values)==null?void 0:N.id),ue(!1),v(!0)},className:"border border-green-500 text-green-600    mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-green-800 hover:text-white ",children:"Enable"}),((m=d.row.values)==null?void 0:m.suspended)===!1&&e.jsx("button",{onClick:()=>{var N;X((N=d.row.values)==null?void 0:N.id),ue(!0),v(!0)},className:"border border-red-300 text-red-400    mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white ",children:"Disable"}),e.jsx("button",{onClick:()=>{var N,A,Z;St("currentUserId",(N=d.row.original)==null?void 0:N.id),X((A=d.row.original)==null?void 0:A.id),_e((Z=d.row.original)==null?void 0:Z.id,"menu")},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-blue-500",children:"Roles Mapping"}),e.jsx("button",{onClick:()=>{var N,A;X((N=d.row.values)==null?void 0:N.id),He((A=d.row.values)==null?void 0:A.id)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white hover:bg-yellow-800",children:"Ward Mapping"})]})}}],Ie=(d=null,b=null)=>{d===null?r(!0):D(!0);let m={};_.post(Be,m,I()).then(function(N){var A,Z,de;(A=N==null?void 0:N.data)!=null&&A.status?u((de=(Z=N==null?void 0:N.data)==null?void 0:Z.data)==null?void 0:de.data):u(null)}).catch(function(N){}).finally(()=>{d===null?r(!1):D(!1)})},gt=()=>{r(!0),_.post(st,{},I()).then(function(d){var b,m;(b=d==null?void 0:d.data)!=null&&b.status&&V((m=d==null?void 0:d.data)==null?void 0:m.data)}).catch(function(d){}).finally(()=>{r(!1)})},bt=()=>{r(!0),_.get(ot,{},I()).then(function(d){var b,m;(b=d==null?void 0:d.data)!=null&&b.status&&Pe((m=d==null?void 0:d.data)==null?void 0:m.data)}).catch(function(d){}).finally(()=>{r(!1)})},He=d=>{p(J==="edit"?qe:Te),z(!0);let b={userId:d};_.post(at,b,I()).then(function(m){var N,A,Z;(N=m==null?void 0:m.data)!=null&&N.status?(ie((A=m==null?void 0:m.data)==null?void 0:A.data),ae((Z=m==null?void 0:m.data)==null?void 0:Z.data),g(!0)):ie(null)}).catch(function(m){}).finally(()=>{z(!1)})},ht=d=>{S(!0);let b={id:d};_.post(pe,b,I()).then(function(m){var N,A;(N=m==null?void 0:m.data)!=null&&N.status&&(M((A=m==null?void 0:m.data)==null?void 0:A.data),Fe.curent.showModal())}).catch(function(m){}).finally(()=>{S(!1)})},ft=d=>{O(!0);let b={id:W,isSuspended:Q};_.post(Qe,b,I()).then(function(m){var N,A;(N=m==null?void 0:m.data)!=null&&N.status?(B.success("User deleted successfully"),v(!1),Ie("action")):B.error((A=m==null?void 0:m.data)==null?void 0:A.message)}).catch(function(m){B.error("Something went wrong")}).finally(()=>{O(!1),X(null)})},yt=(d,b)=>{H(!0);let m=new FormData;m.append("userType",d==null?void 0:d.userType),m.append("name",d==null?void 0:d.fullName),m.append("mobile",d==null?void 0:d.mobileNo),m.append("altMobile",d==null?void 0:d.altMobileNo),m.append("email",d==null?void 0:d.email),m.append("address",d==null?void 0:d.address),m.append("photo",b);let N=Ze;W!==null&&(m.append("id",W),N=Xe),_.post(N,m,I()).then(function(A){var Z,de;(Z=A==null?void 0:A.data)!=null&&Z.status?(B.success("User created successfully"),userAddEditModal.close(),Ie("action")):B.error((de=A==null?void 0:A.data)==null?void 0:de.message)}).catch(function(A){B.error("Something went wrong")}).finally(()=>{H(!1),X(null)})},_e=(d,b="menu")=>{n(!0),se(null);let m;b==="menu"&&(m=et,a(ct)),b==="api"&&(m=tt,a(ut)),b==="workflow"&&(m=lt,a(mt));let N={userId:d};_.post(m,N,I()).then(function(A){var Z,de;(Z=A==null?void 0:A.data)!=null&&Z.status&&(se((de=A==null?void 0:A.data)==null?void 0:de.data),h(!0),X(d))}).catch(function(A){}).finally(()=>{n(!1)})},jt=()=>{K(!0);let d={userId:W,wardList:Object.values(y)};_.post(rt,d,I()).then(function(b){var m,N;(m=b==null?void 0:b.data)!=null&&m.status?(B.success("Mapping updated successfully!"),He(W)):B.error((N=b==null?void 0:b.data)==null?void 0:N.message)}).catch(function(b){B.error("Something went wrong")}).finally(()=>{K(!1)})},Ee=(d,b,m,N)=>{K(!0);let A,Z={userId:Oe("currentUserId"),permissionStatus:N};b==="menu"&&(A=it,Z.menuRoleId=m),b==="api"&&(A=nt,Z.apiRoleId=m),b==="workflow"&&(A=dt,Z.wfRoleId=m),_.post(A,Z,I()).then(function(de){var Ve,We;(Ve=de==null?void 0:de.data)!=null&&Ve.status?(B.success("Mapping updated successfully!"),_e(Oe("currentUserId"),b)):B.error((We=de==null?void 0:de.data)==null?void 0:We.message)}).catch(function(de){B.error("Something went wrong")}).finally(()=>{K(!1)})},Nt=(d,b)=>{Y(m=>({...m,[d]:{wardId:d,permissionStatus:b}}))},wt=d=>{d==="edit"?(le(d),p(qe)):(le(d),p(Te))};l.useEffect(()=>{Ie(),gt(),bt()},[]);const vt=(d,b)=>{ee(b),oe(d)};return e.jsxs(e.Fragment,{children:[re&&e.jsx(Le,{activateBottomErrorCard:vt,errorTitle:ne}),e.jsx(Me,{}),e.jsxs("div",{className:"text-center",children:[" ",s&&e.jsx(te,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})]}),e.jsx(Vt,{title:"User Role Mapping",isLoadingMappingUpdate:$,isLoadingFetchRoles:s,mappingModal:t,setmappingModal:h,columns:i,currentUserData:o,mappingTypeCurrentState:C,setmappingTypeCurrentState:j,fetchRoles:_e,currentSelectedId:W,roleList:xe}),P&&e.jsx(Wt,{title:"User Ward Mapping",isLoadingMappingUpdate:$,wardMappingModalState:P,setwardMappingModalState:g,columns:f,changeWardListType:wt,changedWardList:y,wardMappingCurrentState:J,wardListToMap:J==="edit"?ce:me,postWardToMapUser:jt}),e.jsxs("dialog",{ref:Fe,className:"shadow-xl relative border-2 border-[#1A4D8C] backdrop-filter-blur ",children:[e.jsxs("div",{className:"",children:[e.jsx("button",{onClick:()=>{X(null),Fe.current.close()},className:"absolute top-1 right-3 text-xl p-2 w-8 h-8 rounded-lg hover:bg-red-100 hover:text-red-500 font-semibold flex justify-center items-center",children:"x"}),e.jsx("div",{className:"flex",children:e.jsx("div",{className:"font-semibold md:px-6 text-lg",children:"Create User"})})]}),e.jsx("div",{className:"w-full",children:e.jsx(Ht,{postUser:yt,parentMenuList:q,addEditLoading:E,currentSelectedId:W,currentUserData:o,userTypeList:R})})]}),e.jsx(ve,{deleteLoading:G,enableDisableUser:ft,setdeleteModal:v,deleteModal:F}),e.jsx("div",{className:"bg-white mt-2 px-40",children:e.jsx("form",{onSubmit:Ue.handleSubmit,children:e.jsxs("div",{className:"flex  space-x-4 my-5 mx-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Filter By",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{...Ue.getFieldProps("filterBy"),className:"cypress_filterBy cursor-pointer w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md",children:[e.jsx("option",{value:"",children:"Select"}),ge==null?void 0:ge.map(d=>e.jsx("option",{value:d.id,children:d.ulb_name},d.id))]})]}),e.jsx("div",{className:"mt-6 flex w-full justify-between h-10",children:e.jsx("button",{type:"submit",className:" border rounded-md border-[#1A4D8C] hover:bg-[#1A4D8C] text-[#1A4D8C] hover:text-white  shadow-lg text-base font-semibold px-5 py-1",children:"Search record"})})]})})}),U&&e.jsx(fe,{}),e.jsxs("div",{className:"px-4 pt-4 mb-40",children:[L&&e.jsx(te,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0}),e.jsx(zt,{canFilter:!1,canExport:!1,isLoadingSingleFetch:x,api:Be,columns:xt,requestBody:i,changeData:w})]})]})}function Kt(){return{headers:{Authorization:`Bearer ${window.localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"multipart/form-data","API-KEY":"eff41ef6-d430-4887-aa55-9fcf46c72c99"}}}function Yt(t){var j;const[h,P]=l.useState(!1),[g,F]=l.useState(null),[v,w]=l.useState(!1),[u,q]=l.useState(!1);l.useState(!1);const[c,U]=l.useState(null),r=l.useRef(null);l.useState(null);const[E,H]=l.useState(null),[R,V]=l.useState(null),[G,O]=l.useState(null),[o,M]=l.useState(!1),[L,S]=l.useState(!1),[$,K]=l.useState(!1),[k,z]=l.useState(!1),{ulbListApi:me,api_getAdminLists:ie,api_PostUser:ce,api_EnalbeDisableUser:ae,api_getUserById:y,api_updateUser:Y}=we();let J=ye({userType:T().required("Enter user type"),fullName:T().required("Enter full name"),mobileNo:T().required("Enter mobile no."),altMobileNo:T().required("Select alternate mobile"),email:T().required("Enter email"),address:T().required("Enter address"),userImage:T().required("Select user image")});const f=je({initialValues:{userType:"Admin",role:"ADMIN",fullName:"",mobileNo:"",altMobileNo:"",email:"",address:"",userImage:"",ulbId:""},enableReinitialize:!0,onSubmit:i=>{oe(i)},validationSchema:J}),p=()=>{r.current.showModal()},re=()=>{r.current.close(),U(null),W()},oe=i=>{K(!0);let a=new FormData;a.append("userType",i==null?void 0:i.userType),a.append("ulbId",i==null?void 0:i.ulbId),a.append("name",i==null?void 0:i.fullName),a.append("mobile",i==null?void 0:i.mobileNo),a.append("altMobile",i==null?void 0:i.altMobileNo),a.append("email",i==null?void 0:i.email),a.append("address",i==null?void 0:i.address),a.append("role",i==null?void 0:i.role),a.append("userImage",i==null?void 0:i.userImage);let s=ce;c!==null&&(a.append("id",c),s=Y),_.post(s,a,Kt()).then(function(n){var x,D,Q;(x=n==null?void 0:n.data)!=null&&x.status?(B.success((D=n==null?void 0:n.data)==null?void 0:D.message),re(),W()):B.error((Q=n==null?void 0:n.data)==null?void 0:Q.message)}).catch(function(n){B.error("Something went wrong")}).finally(()=>{K(!1),U(null)})},ne=i=>{K(!0);let a={id:i};_.post(y,a,I()).then(function(s){var n,x;(n=s==null?void 0:s.data)!=null&&n.status&&(z((x=s==null?void 0:s.data)==null?void 0:x.data),userAddEditModal.showModal())}).catch(function(s){}).finally(()=>{K(!1)})},ee=()=>{f.setFieldValue("userType",k==null?void 0:k.user_type),f.setFieldValue("fullName",k==null?void 0:k.name),f.setFieldValue("fullName",k==null?void 0:k.name),f.setFieldValue("mobileNo",k==null?void 0:k.mobile),f.setFieldValue("altMobileNo",k==null?void 0:k.alternate_mobile),f.setFieldValue("email",k==null?void 0:k.email),f.setFieldValue("address",k==null?void 0:k.address)};l.useEffect(()=>{c!==null&&ee()},[k]),l.useEffect(()=>(c!==null?ee():f.resetForm(),()=>{}),[c]);const W=(i=null)=>{i===null?w(!0):P(!0),_.post(ie,{},I()).then(function(a){var s,n;(s=a==null?void 0:a.data)!=null&&s.status?F((n=a==null?void 0:a.data)==null?void 0:n.data):F(null)}).catch(function(a){}).finally(()=>{i===null?w(!1):P(!1)})},X=i=>{M(!0);let a={id:c,isSuspended:G};_.post(ae,a,I()).then(function(s){var n,x;(n=s==null?void 0:s.data)!=null&&n.status?(B.success("User status changed successfully"),W(),S(!1)):B.error((x=s==null?void 0:s.data)==null?void 0:x.message)}).catch(function(s){B.error("Something went wrong")}).finally(()=>{M(!1),U(null)})};l.useEffect(()=>{W()},[]);const xe=()=>{_.get(me,{},I()).then(function(i){var a;(a=i==null?void 0:i.data)!=null&&a.status?V(i==null?void 0:i.data):V(null)}).catch(function(i){}).finally(()=>{})};l.useEffect(()=>{xe()},[]);const se=[{Header:"#",Cell:({row:i})=>e.jsx("div",{className:"pr-2",children:i.index+1})},{Header:" Name",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Mobile No.",accessor:"mobile"},{Header:"Ulb Name",accessor:"ulb_name"},{Header:"Status",accessor:"suspended",Cell:i=>e.jsxs("p",{children:[i.value==!0&&e.jsx("p",{className:"text-red-400 font-semibold",children:"Disabled"}),i.value==!1&&e.jsx("p",{className:"text-green-400 font-semibold",children:"Enabled"})]})},{Header:"Action",accessor:"id",Cell:({cell:i})=>{var a,s;return e.jsxs("div",{children:[e.jsx("button",{onClick:()=>{var n,x;U((n=i.row.values)==null?void 0:n.id),p(),ne((x=i.row.values)==null?void 0:x.id)},className:"border border-sky-800 text-sky-800 mx-1 px-3 py-1 rounded-md shadow-lg hover:shadow-xl hover:bg-sky-800 hover:text-white ",children:"Edit"}),((a=i.row.values)==null?void 0:a.suspended)===!0&&e.jsx("button",{onClick:()=>{var n;U((n=i.row.values)==null?void 0:n.id),O(!1),S(!0)},className:"border border-green-500 text-green-600    mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-green-800 hover:text-white ",children:"Enable"}),((s=i.row.values)==null?void 0:s.suspended)===!1&&e.jsx("button",{onClick:()=>{var n;U((n=i.row.values)==null?void 0:n.id),O(!0),S(!0)},className:"border border-red-300 text-red-400    mx-1 px-3 py-1 rounded-lg shadow-lg hover:shadow-xl hover:bg-red-800 hover:text-white ",children:"Disable"})]})}}],C=i=>{let a=i.target.name,s=i.target.value;a=="mobileNo"&&f.setFieldValue("mobileNo",ke(s,f.values.mobileNo,10)),a=="altMobileNo"&&f.setFieldValue("altMobileNo",ke(s,f.values.altMobileNo,10)),a=="email"&&f.setFieldValue("email",$e(s,f.values.email,100)),a=="address"&&f.setFieldValue("address",Se(s,f.values.address,100))};return e.jsxs("div",{children:[e.jsx(ve,{deleteLoading:o,enableDisableUser:X,setdeleteModal:S,suspendUser:G,deleteModal:L}),v&&e.jsx(fe,{}),!v&&g!==null&&e.jsxs("div",{className:"px-4 pt-4",children:[u&&e.jsx(te,{strokeColor:"black",strokeWidth:"5",animationDuration:"0.75",width:"50",visible:!0}),e.jsx(he,{isLoadingSingleFetch:h,exportStatus:!1,assessmentType:!1,columns:se,dataList:g,children:e.jsxs("button",{onClick:p,className:"float-right bg-[#1A4D8C] px-3 py-1 rounded-sm shadow-lg hover:shadow-xl  hover:bg-[#113766] hover:text-white text-white flex items-center",children:[e.jsx(Ce,{})," Add Admin"]})})]}),e.jsxs("dialog",{ref:r,className:"dialog mt-16",children:[e.jsx("button",{onClick:re,className:"btn btn-primary bg-red-400 text-white rounded-full px-2 py-1 mb-2 float-right mt-2",style:{borderRadius:"100%"},children:"x"}),c==null?e.jsx("h2",{className:"text-xl font-semibold mt-2 text-center ",children:"Add Admin Details"}):e.jsx("h2",{className:"text-xl font-semibold mt-2 text-center ",children:"Update Admin Details"}),e.jsx("div",{className:"text-left",children:e.jsx("div",{className:"block md:p-4 w-full md:py-6 rounded-lg mx-auto  bg-white px-4 sm:px-0",children:e.jsx("form",{onChange:C,onSubmit:f.handleSubmit,children:e.jsxs("div",{className:"grid grid-cols-12  sm:space-x-2 px-10",children:[e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Ulb Name",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),R&&e.jsxs("select",{...f.getFieldProps("ulbId"),className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md cursor-pointer",children:[e.jsx("option",{value:"",children:"Select"}),(j=R==null?void 0:R.data)==null?void 0:j.map((i,a)=>e.jsx("option",{value:i.id,children:i.ulb_name},a))]}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:f.touched.ulbId&&f.errors.ulbId?f.errors.ulbId:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Full Name",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...f.getFieldProps("fullName"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:f.touched.fullName&&f.errors.fullName?f.errors.fullName:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Mobile NO.",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...f.getFieldProps("mobileNo"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:f.touched.mobileNo&&f.errors.mobileNo?f.errors.mobileNo:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Alt Mobile No.",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...f.getFieldProps("altMobileNo"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:f.touched.altMobileNo&&f.errors.altMobileNo?f.errors.altMobileNo:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Email",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...f.getFieldProps("email"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:f.touched.email&&f.errors.email?f.errors.email:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["Address",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{...f.getFieldProps("address"),type:"text",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:f.touched.address&&f.errors.address?f.errors.address:null})]}),e.jsxs("div",{className:"form-group col-span-12 mb-6 md:px-4",children:[e.jsxs("label",{className:"form-label inline-block mb-1 text-gray-600 text-sm font-semibold",children:["User Image",e.jsx("small",{className:"mt-1 text-sm font-semibold text-red-600 inline ",children:"*"})]}),e.jsx("input",{onChange:i=>{f.setFieldValue("userImage",i.target.files[0]),H(URL.createObjectURL(i.target.files[0]))},type:"file",className:"form-control block w-full px-3 2xl:py-1.5 py-1 2xl:text-base text-sm font-normal text-gray-700  bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none placeholder-gray-300 shadow-md"}),e.jsx("span",{className:"text-red-600 absolute text-xs",children:f.touched.userImage&&f.errors.userImage?f.errors.userImage:null}),e.jsx("div",{className:"w-32 h-32 rounded-full border shadow-xl mx-auto overflow-hidden mt-10 flex justify-center items-center",children:e.jsx("img",{src:E||De})})]}),e.jsx("div",{className:"col-span-12 mt-4",children:$?e.jsx("button",{type:"submit",className:"w-full  cypress_next1_button px-6 py-2.5 bg-indigo-500 text-white font-medium text-xs leading-tight  rounded  hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out flex justify-center items-center",children:e.jsx(te,{strokeColor:"white",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):e.jsx("button",{type:"submit",className:"w-full  cypress_next1_button px-6 py-2.5 bg-indigo-500 text-white font-medium text-xs leading-tight  rounded  hover:bg-indigo-700 hover:shadow-lg focus:bg-indigo-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-indigo-800 active:shadow-lg transition duration-150 ease-in-out",children:c==null?"Submit":"Update"})})]})})})})]})]})}function Jt(){const[t,h]=l.useState(0),P=[{title:"Menu Role",tabIndex:0},{title:"API Role",tabIndex:1},{title:"Menu List",tabIndex:3},{title:"API List",tabIndex:4},{title:"User List",tabIndex:5},{title:"Admin List",tabIndex:6}],g=F=>{h(F)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-12 rounded-lg mt-4 shadow-xl broder-2 border-sky-200 bg-white",children:[e.jsx("div",{className:"col-span-12 md:col-span-12 ",children:e.jsx(kt,{tabs:P,fun:g})}),t==0&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",children:[" ",e.jsx(Et,{})," "]}),t==1&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",children:[" ",e.jsx(Rt,{})," "]}),t==3&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",children:[" ",e.jsx(Ut,{})," "]}),t==4&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",children:[" ",e.jsx(qt,{})," "]}),t==5&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",children:[" ",e.jsx($t,{})," "]}),t==6&&e.jsxs("div",{className:"col-span-12 sm:col-span-12 shadow-lg bg-white overflow-y-scroll",children:[" ",e.jsx(Yt,{})," "]})]})})}function ga(){return Ne("User Role Management Workfow"),e.jsx(Jt,{})}export{ga as default};
