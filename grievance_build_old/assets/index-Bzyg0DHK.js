import{bb as w,b as C,o as y,s as k,g,r as b,j as e,t as v,w as A,G as T,c as S,d as U}from"./index-CWvfIIQ3.js";import{T as W,a as D,b as o,c as t,d as R,e as l}from"./table-BnWrt0nl.js";const $=S().shape({ulbId:U().required("ulbId is Required")});function q(){var d,u,p;w(),C({resolver:y($)});const j=k({api:`${(d=g)==null?void 0:d.getAllUlbDirect}?page=1&limit=10000`,key:"getAllUlbDirect",options:{enabled:!0,refetchOnMount:!1}}),[i,m]=b.useState(""),[s,N]=b.useState({key:"ulbName",direction:"asc"}),n=[...((p=(u=j.data)==null?void 0:u.data)==null?void 0:p.filter(a=>a==null?void 0:a.ulbName.toLowerCase().includes(i.toLowerCase())))||[]].sort((a,r)=>{var h,x;return s.direction==="asc"?((h=a[s.key])==null?void 0:h.localeCompare(r[s.key]))||0:s.direction==="desc"&&((x=r[s.key])==null?void 0:x.localeCompare(a[s.key]))||0}),c=a=>{let r="asc";s.key===a&&s.direction==="asc"&&(r="desc"),N({key:a,direction:r})},f=a=>{const r=`https://wa.me/${a}`;window.open(r,"_blank")};return e.jsxs("div",{className:"w-full md:w-8/12 p-2 mx-auto",children:[e.jsx("div",{className:"mt-4",children:e.jsx("h1",{className:"text-blue-800 font-bold text-2xl underline mb-2",children:"Ulb Wise Grievance via WhatsApp"})}),e.jsx(v,{children:e.jsxs(A,{children:[e.jsx("div",{className:"mb-4 flex justify-start py-2",children:e.jsx("input",{type:"text",placeholder:"Search by ULB Name...",className:"w-64 px-4 py-2 border rounded-md",value:i,onChange:a=>m(a.target.value)})}),e.jsxs(W,{children:[e.jsx(D,{children:e.jsxs(o,{children:[e.jsx(t,{className:"cursor-pointer",onClick:()=>c("ulbName"),children:"Serial No."}),e.jsxs(t,{className:"cursor-pointer",onClick:()=>c("ulbName"),children:["Ulb Name ",s.key==="ulbName"&&(s.direction==="asc"?"↑":"↓")]}),e.jsxs(t,{className:"cursor-pointer",onClick:()=>c("whatsappnumber"),children:["WhatsApp No. ",s.key==="whatsappnumber"&&(s.direction==="asc"?"↑":"↓")]}),e.jsx(t,{children:"Action"})]})}),e.jsx(R,{children:(n==null?void 0:n.length)>0?n.map((a,r)=>e.jsxs(o,{children:[e.jsx(l,{children:r+1}),e.jsx(l,{children:a==null?void 0:a.ulbName}),e.jsx(l,{children:(a==null?void 0:a.whatsappnumber)||"N/A"}),e.jsx(l,{children:e.jsx(T,{onClick:()=>f(a==null?void 0:a.whatsappnumber),children:"WhatsApp Now"})})]},a._id)):e.jsx(o,{children:e.jsx(l,{colSpan:4,className:"text-center",children:"No results found"})})})]})]})})]})}function I(){return e.jsx("div",{className:"",children:e.jsx(q,{})})}export{I as default};
