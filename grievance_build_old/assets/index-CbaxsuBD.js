import{bb as f,b as C,o as k,r as p,s as y,g,j as a,t as v,w,G as T,c as U,d as S}from"./index-CWvfIIQ3.js";import{T as A,a as D,b as c,c as o,d as R,e as l}from"./table-BnWrt0nl.js";const $=U().shape({ulbId:S().required("ulbId is Required")});function q(){var i,u,h;f(),C({resolver:k($)});const[t,m]=p.useState(""),[r,j]=p.useState({key:"ulbName",direction:"asc"}),n=[...((h=(u=y({api:`${(i=g)==null?void 0:i.getAllUlbDirect}?page=1&limit=10000`,key:"getAllUlbDirect",options:{enabled:!0,refetchOnMount:!1}}).data)==null?void 0:u.data)==null?void 0:h.filter(e=>e==null?void 0:e.ulbName.toLowerCase().includes(t.toLowerCase())))||[]].sort((e,s)=>{var b,x;return r.direction==="asc"?((b=e[r.key])==null?void 0:b.localeCompare(s[r.key]))||0:r.direction==="desc"&&((x=s[r.key])==null?void 0:x.localeCompare(e[r.key]))||0}),d=e=>{let s="asc";r.key===e&&r.direction==="asc"&&(s="desc"),j({key:e,direction:s})},N=e=>{const s=e;window.open(`tel:${s}`,"_self")};return a.jsxs("div",{className:"w-full md:w-8/12 p-2 mx-auto",children:[a.jsx("div",{className:"mt-4",children:a.jsx("h1",{className:"text-blue-800 font-bold text-2xl underline mb-2",children:"Ulb Wise Grievance via Phone Number"})}),a.jsx(v,{children:a.jsxs(w,{children:[a.jsx("div",{className:"mb-4 py-2",children:a.jsx("input",{type:"text",placeholder:"Search by ULB Name...",className:"w-64 px-4 py-2 border rounded-md",value:t,onChange:e=>m(e.target.value)})}),a.jsxs(A,{children:[a.jsx(D,{children:a.jsxs(c,{children:[a.jsxs(o,{className:"cursor-pointer",onClick:()=>d("ulbName"),children:["Ulb Name ",r.key==="ulbName"&&(r.direction==="asc"?"↑":"↓")]}),a.jsxs(o,{className:"cursor-pointer",onClick:()=>d("phonenumber"),children:["Contact No. ",r.key==="phonenumber"&&(r.direction==="asc"?"↑":"↓")]}),a.jsx(o,{className:"md:hidden block",children:"Action"})]})}),a.jsx(R,{children:(n==null?void 0:n.length)>0?n.map((e,s)=>a.jsxs(c,{children:[a.jsx(l,{children:s+1}),a.jsx(l,{children:e==null?void 0:e.ulbName}),a.jsx(l,{children:(e==null?void 0:e.phonenumber)||"N/A"}),a.jsx(l,{className:"md:hidden block",children:a.jsx(T,{onClick:()=>N(e==null?void 0:e.phonenumber),children:"Call Now"})})]},e._id)):a.jsx(c,{children:a.jsx(l,{colSpan:4,className:"text-center",children:"No results found"})})})]})]})})]})}function L(){return a.jsx("div",{className:"",children:a.jsx(q,{})})}export{L as default};
