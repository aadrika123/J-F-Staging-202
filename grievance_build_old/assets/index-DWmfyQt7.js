import{K as w,a as m,r as l,s as F,g as U,j as e,a1 as y,a2 as b,a3 as A,a4 as k,$ as H,a0 as Y,D as q,ag as z,ah as h,ai as G,aj as C,af as f,ak as K,al as Q,M as V,am as J,an as O,ao as j,ap as W,aq as X,ar as Z,N as ee,as as ae,at as se,C as x,L as v,au as u,av as N,aw as te,ax as re}from"./index-DM7OnLOQ.js";/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=w("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.428.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=w("Clock4",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function le(a=""){const{setTitle:s}=m();return l.useEffect(()=>{s(a)},[a]),null}function ie({notificationSide:a,notificationType:s}){var i,c;const[t,o]=l.useState(null),n=F({api:`${U.getUserNotification}?notificationSide=${a}&notificationType=${s}`,key:"notificationRecentUpdates",options:{enabled:!0}});return e.jsxs(y,{children:[e.jsx(b,{}),e.jsx(A,{className:"sm:max-w-[500px]",children:e.jsx("div",{children:t&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.title}),e.jsx("p",{className:"text-gray-600",children:t.description})]})})}),e.jsx("div",{className:" max-h-[95%] overflow-y-auto",children:(c=(i=n==null?void 0:n.data)==null?void 0:i.data)==null?void 0:c.docs.map(r=>e.jsx(k,{asChild:!0,onClick:()=>o(r),children:e.jsxs("div",{className:"relative flex items-start p-4 bg-white border border-gray-200 rounded-lg shadow-md mb-2 cursor-pointer",children:[e.jsx(H,{className:"h-6 w-6 text-green-500"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:r==null?void 0:r.title}),e.jsx("div",{className:"w-60 overflow-hidden text-ellipsis whitespace-nowrap mb-2",children:r==null?void 0:r.description})]}),e.jsx(Y,{className:"text-xs absolute bottom-0 right-0",variant:"outline",children:q(r==null?void 0:r.createdAt).format("DD-MM-YYYY hh:mm a")})]})},r==null?void 0:r.id))})]})}var g="Avatar",[ce,fe]=z(g),[de,S]=ce(g),L=l.forwardRef((a,s)=>{const{__scopeAvatar:t,...o}=a,[n,i]=l.useState("idle");return e.jsx(de,{scope:t,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:e.jsx(h.span,{...o,ref:s})})});L.displayName=g;var M="AvatarImage",D=l.forwardRef((a,s)=>{const{__scopeAvatar:t,src:o,onLoadingStatusChange:n=()=>{},...i}=a,c=S(M,t),r=xe(o),d=G(p=>{n(p),c.onImageLoadingStatusChange(p)});return C(()=>{r!=="idle"&&d(r)},[r,d]),r==="loaded"?e.jsx(h.img,{...i,ref:s,src:o}):null});D.displayName=M;var T="AvatarFallback",R=l.forwardRef((a,s)=>{const{__scopeAvatar:t,delayMs:o,...n}=a,i=S(T,t),[c,r]=l.useState(o===void 0);return l.useEffect(()=>{if(o!==void 0){const d=window.setTimeout(()=>r(!0),o);return()=>window.clearTimeout(d)}},[o]),c&&i.imageLoadingStatus!=="loaded"?e.jsx(h.span,{...n,ref:s}):null});R.displayName=T;function xe(a){const[s,t]=l.useState("idle");return C(()=>{if(!a){t("error");return}let o=!0;const n=new window.Image,i=c=>()=>{o&&t(c)};return t("loading"),n.onload=i("loaded"),n.onerror=i("error"),n.src=a,()=>{o=!1}},[a]),s}var I=L,P=D,_=R;const E=l.forwardRef(({className:a,...s},t)=>e.jsx(I,{ref:t,className:f("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...s}));E.displayName=I.displayName;const $=l.forwardRef(({className:a,...s},t)=>e.jsx(P,{ref:t,className:f("aspect-square h-full w-full",a),...s}));$.displayName=P.displayName;const B=l.forwardRef(({className:a,...s},t)=>e.jsx(_,{ref:t,className:f("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...s}));B.displayName=_.displayName;function ue(){const{user:a}=m(),{logout:s}=m(),t=()=>{ee("Are you sure?","Please confirm",async()=>{ae(),s()})};return e.jsxs(K,{children:[e.jsx(Q,{asChild:!0,children:e.jsx(V,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(E,{className:"h-10 w-10",children:[e.jsx($,{src:a!=null&&a.googleId?a==null?void 0:a.imageUrl:a==null?void 0:a.imgFullPath,alt:"profile"}),e.jsx(B,{children:"SN"})]})})}),e.jsxs(J,{className:"w-56",align:"end",forceMount:!0,children:[e.jsx(O,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:a==null?void 0:a.fullName}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:a==null?void 0:a.email})]})}),e.jsx(j,{}),e.jsx(W,{}),e.jsx(j,{}),e.jsxs(X,{onClick:()=>t(),children:["Log out",e.jsx(Z,{children:"⇧⌘Q"})]})]})]})}const me=l.forwardRef(({children:a,title:s="",subTitle:t="",searchLink:o="",searchLabel:n="",meta:i,...c},r)=>(le(s),l.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[s]),e.jsxs(e.Fragment,{children:[e.jsxs(se,{children:[e.jsx("title",{children:`${s} | Grievance`}),i]}),e.jsx("div",{ref:r,...c,children:e.jsxs(y,{children:[e.jsx(b,{}),e.jsxs(A,{className:"sm:max-w-[600px]",children:[e.jsxs(x,{className:"mt-4 text-xl text-gray-500 font-bold flex justify-between",children:["This is your process",e.jsx(v,{to:"/grievance/citizen/complaint-registration-info",target:"_blank"})," "]}),e.jsx("div",{className:"py-4",children:e.jsxs("video",{controls:!0,autoPlay:!0,width:"fill",children:[e.jsx("source",{src:"/images/info1.mp4",type:"video/mp4"}),"Your browser does not support HTML video."]})})]}),e.jsxs(u,{fixed:!0,children:[e.jsx(u.Header,{sticky:!0,className:"border-b border-r-2 border-r-muted",children:e.jsxs("div",{className:"ml-auto flex items-center space-x-4 ",children:[e.jsx(k,{asChild:!0,children:e.jsx("div",{className:"w-6 h-6 bg-background border border-black cursor-pointer rounded-full flex justify-center items-center shadow-xl",children:e.jsx("span",{className:"font-bold text-xl",children:"?"})})}),e.jsxs(N,{trigger:e.jsx(ne,{size:25,className:"text-black cursor-pointer hover:scale-110"}),children:[e.jsx(x,{className:"mb-4 text-[#0D7538] text-lg",children:"Recent Updates"}),e.jsx(te,{notificationSide:0,notificationType:1})]}),e.jsxs(N,{trigger:e.jsx(oe,{size:25,className:"text-black cursor-pointer hover:scale-110"}),children:[e.jsx(x,{className:"mb-4 text-[#0D7538] text-lg ",children:"Notifications"}),e.jsx(ie,{notificationSide:0,notificationType:0})]}),e.jsx(re,{}),e.jsx(ue,{})]})}),e.jsxs(u.Body,{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between space-y-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:s}),e.jsx("p",{className:"text-muted-foreground",children:t})]}),n&&e.jsx(v,{className:"text-blue-800 font-semibold hover:underline",to:o,target:"_blank",children:e.jsx("div",{children:n})})]}),e.jsx("div",{className:"-mx-4 flex-1 overflow-auto px-4 py-1 lg:flex-row lg:space-x-12 lg:space-y-0",children:a})]})]})]})})]}))),ge=me;export{ge as P};
