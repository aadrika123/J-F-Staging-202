import{r as w,a as Aa,s as b,g as P,j as a,C as Sa,t as y,v as C,H as T,w as _,S as R,x as N,a2 as d,L as $,G as A,y as S,a8 as Ga}from"./index-DLueJFIH.js";import{P as Ia}from"./index-CdYpIcfZ.js";import{T as G,a as I,b as f,c as e,d as k,e as c}from"./table-CTS_42CV.js";import{P as Y}from"./index-Domez2EY.js";import{S as H}from"./index-pVMErU1B.js";import{T as ka,a as Ya,b as O,c as B}from"./tabs-BFw7AQCv.js";Ga("http://localhost:8008");function Ha(){var F,E,U,V,X,q,z,W,J,K,L,Q,Z,D,m,aa,la,ea,ca,da,na,sa,ra,xa,ja,ha,oa,ia,Na,ua,fa,ga,pa,va,ta,wa,ba,Pa,ya,Ca,Ta,_a,Ra,$a;const[j,p]=w.useState(1),[h,v]=w.useState(10),[u,t]=w.useState(""),{user:M}=Aa();w.useState([]);const s=b({api:`${P.getComplaintInbox}?page=${j}&limit=${h}&q=${u}`,key:"getComplaintInboxList",value:[j,h],options:{enabled:!0}}),r=b({api:`${P.getComplaintOutbox}?page=${j}&limit=${h}&q=${u}`,key:"getComplaintOutboxList",value:[j,h],options:{enabled:!0}}),n=b({api:`${P.getComplaintSpecial}?page=${j}&limit=${h}&q=${u}`,key:"getComplaintSpecialList",value:[j,h],options:{enabled:!0}}),x=b({api:`${P.getComplaintHighlight}?page=${j}&limit=${h}&q=${u}`,key:"getComplaintHighlight",value:[j,h],options:{enabled:!0}});return a.jsx("main",{className:"grid items-start",children:a.jsxs(ka,{defaultValue:"INBOX",className:"w-full",children:[a.jsxs("div",{className:"flex",children:[a.jsx(Sa,{className:"flex-1 text-2xl font-bold",children:"Registered Grievance List"}),a.jsx("div",{className:"flex-1 flex justify-end",children:a.jsxs(Ya,{className:"grid w-auto grid-cols-4",children:[a.jsx(O,{value:"INBOX",children:"Grievance Inbox"}),a.jsx(O,{value:"OUTBOX",children:"Grievance Outbox"}),a.jsx(O,{value:"SPECIAL",children:"Special Grievance"}),(M==null?void 0:M.role)!="Normal"&&a.jsx(O,{value:"HIGHLIGHTED",children:"Highlighted Grievance"})]})})]}),a.jsx(B,{value:"INBOX",children:a.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[a.jsxs("div",{className:"flex w-full justify-between gap-2",children:[a.jsx("div",{children:a.jsx(H,{search:u,setSearch:t,refetch:s.refetch,isFetching:s.isLoading})}),a.jsx("div",{})]}),a.jsxs(y,{children:[a.jsx(C,{className:"px-7",children:a.jsxs(T,{children:["Grievance List Inbox (",(E=(F=s.data)==null?void 0:F.data)==null?void 0:E.totalDocs,")"]})}),a.jsx(_,{children:s.isLoading?a.jsx("div",{className:"flex h-32 items-center justify-center",children:a.jsx(R,{})}):a.jsxs(a.Fragment,{children:[a.jsxs(G,{children:[a.jsx(I,{children:a.jsxs(f,{children:[a.jsx(e,{className:"",children:"#"}),a.jsx(e,{className:"",children:"Name"}),a.jsx(e,{className:"",children:"Department"}),a.jsx(e,{className:"",children:"ULB"}),a.jsx(e,{className:"",children:"Grievance No."}),a.jsx(e,{className:"",children:"Module"}),a.jsx(e,{className:"",children:"Date"}),a.jsx(e,{className:"",children:"Status"}),a.jsx(e,{children:"Action"})]})}),a.jsx(k,{children:(X=(V=(U=s==null?void 0:s.data)==null?void 0:U.data)==null?void 0:V.docs)==null?void 0:X.map((l,g)=>{var o,i;return a.jsxs(f,{children:[a.jsx(c,{children:g+1}),a.jsx(c,{children:(l==null?void 0:l.citizenName)||"N/A"}),a.jsx(c,{className:"font-semibold",children:(l==null?void 0:l.complaintTitle)||"N/A"}),a.jsx(c,{children:((o=l==null?void 0:l.ulb)==null?void 0:o.ulbName)||"N/A"}),a.jsx(c,{children:(l==null?void 0:l.complaintRefNo)||"N/A"}),a.jsx(c,{children:((i=l==null?void 0:l.module)==null?void 0:i.moduleName)||"N/A"}),a.jsx(c,{children:N(l==null?void 0:l.createdAt).format("DD-MM-YYYY")}),a.jsxs(c,{children:[(l==null?void 0:l.wf_status)===4&&a.jsx(d,{variant:"destructive",children:"Closed"}),(l==null?void 0:l.wf_status)===3&&a.jsx(d,{className:"bg-amber-500 text-white",children:"Pending(Re-Opened)"}),(l==null?void 0:l.wf_status)===2&&a.jsx(d,{variant:"destructive",children:"Rejected"}),(l==null?void 0:l.wf_status)===1&&a.jsx(d,{variant:"success",children:"Resolved"}),(l==null?void 0:l.wf_status)===0&&a.jsx(d,{variant:"secondary",children:"Pending"})]}),a.jsx(c,{children:a.jsx($,{to:`/grievance/dashboard/workflow-details?complaintRefNo=${l==null?void 0:l.complaintRefNo}&complaintId=${l==null?void 0:l._id}`,children:a.jsx(A,{className:"bg-primary",onClick:()=>{},children:"View"})})})]},l._id)})})]}),a.jsx(S,{className:"mb-2 mt-4"}),a.jsx("div",{className:"flex w-full justify-end",children:a.jsx(Y,{page:j,perPage:h,totalPage:(z=(q=s==null?void 0:s.data)==null?void 0:q.data)==null?void 0:z.totalDocs,hasNextPage:(J=(W=s==null?void 0:s.data)==null?void 0:W.data)==null?void 0:J.hasNextPage,hasPrevPage:(L=(K=s==null?void 0:s.data)==null?void 0:K.data)==null?void 0:L.hasPrevPage,setPage:p,setPerPage:v})})]})})]})]})}),a.jsx(B,{value:"OUTBOX",children:a.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[a.jsxs("div",{className:"flex w-full justify-between gap-2",children:[a.jsx("div",{children:a.jsx(H,{search:u,setSearch:t,refetch:r.refetch,isFetching:r.isLoading})}),a.jsx("div",{})]}),a.jsxs(y,{children:[a.jsx(C,{className:"px-7",children:a.jsxs(T,{children:["Grievance List Outbox (",(Z=(Q=r.data)==null?void 0:Q.data)==null?void 0:Z.totalDocs,")"]})}),a.jsx(_,{children:r.isLoading?a.jsx("div",{className:"flex h-32 items-center justify-center",children:a.jsx(R,{})}):a.jsxs(a.Fragment,{children:[a.jsxs(G,{children:[a.jsx(I,{children:a.jsxs(f,{children:[a.jsx(e,{className:"",children:"#"}),a.jsx(e,{className:"",children:"Name"}),a.jsx(e,{className:"",children:"Title"}),a.jsx(e,{className:"",children:"ULB"}),a.jsx(e,{className:"",children:"Grievance No."}),a.jsx(e,{className:"",children:"Module"}),a.jsx(e,{className:"",children:"Date"}),a.jsx(e,{className:"",children:"Status"}),a.jsx(e,{className:"",children:"Pending From"}),a.jsx(e,{children:"Action"})]})}),a.jsx(k,{children:(aa=(m=(D=r==null?void 0:r.data)==null?void 0:D.data)==null?void 0:m.docs)==null?void 0:aa.map((l,g)=>{var o,i;return a.jsxs(f,{children:[a.jsx(c,{children:g+1}),a.jsx(c,{children:l==null?void 0:l.citizenName}),a.jsx(c,{className:"font-semibold",children:l==null?void 0:l.complaintTitle}),a.jsx(c,{children:(o=l==null?void 0:l.ulb)==null?void 0:o.ulbName}),a.jsx(c,{children:l==null?void 0:l.complaintRefNo}),a.jsx(c,{children:(i=l==null?void 0:l.module)==null?void 0:i.moduleName}),a.jsx(c,{children:N(l==null?void 0:l.createdAt).format("DD-MM-YYYY")}),a.jsxs(c,{children:[(l==null?void 0:l.wf_status)===4&&a.jsx(d,{variant:"destructive",children:"Closed"}),(l==null?void 0:l.wf_status)===3&&a.jsx(d,{className:"bg-amber-500 text-white",children:"Pending(Re-Opened)"}),(l==null?void 0:l.wf_status)===2&&a.jsx(d,{variant:"destructive",children:"Rejected"}),(l==null?void 0:l.wf_status)===1&&a.jsx(d,{variant:"success",children:"Resolved"}),(l==null?void 0:l.wf_status)===0&&a.jsx(d,{variant:"secondary",children:"Pending"})]}),a.jsxs(c,{className:"flex justify-center items-center",children:[N().diff(N(l==null?void 0:l.createdAt),"days")," days"]}),a.jsx(c,{children:a.jsx($,{to:`/grievance/dashboard/workflow-details?complaintRefNo=${l==null?void 0:l.complaintRefNo}&complaintId=${l==null?void 0:l._id}`,children:a.jsx(A,{className:"bg-primary",onClick:()=>{},children:"View"})})})]},l._id)})})]}),a.jsx(S,{className:"mb-2 mt-4"}),a.jsx("div",{className:"flex w-full justify-end",children:a.jsx(Y,{page:j,perPage:h,totalPage:(ea=(la=r==null?void 0:r.data)==null?void 0:la.data)==null?void 0:ea.totalDocs,hasNextPage:(da=(ca=r==null?void 0:r.data)==null?void 0:ca.data)==null?void 0:da.hasNextPage,hasPrevPage:(sa=(na=r==null?void 0:r.data)==null?void 0:na.data)==null?void 0:sa.hasPrevPage,setPage:p,setPerPage:v})})]})})]})]})}),a.jsx(B,{value:"SPECIAL",children:a.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[a.jsxs("div",{className:"flex w-full justify-between gap-2",children:[a.jsx("div",{children:a.jsx(H,{search:u,setSearch:t,refetch:n.refetch,isFetching:n.isLoading})}),a.jsx("div",{})]}),a.jsxs(y,{children:[a.jsx(C,{className:"px-7",children:a.jsxs(T,{children:["Grievance List Special (",(xa=(ra=n.data)==null?void 0:ra.data)==null?void 0:xa.totalDocs,") - ",a.jsx("span",{className:"text-amber-500",children:"This list contains special complaints"})]})}),a.jsx(_,{children:n.isLoading?a.jsx("div",{className:"flex h-32 items-center justify-center",children:a.jsx(R,{})}):a.jsxs(a.Fragment,{children:[a.jsxs(G,{children:[a.jsx(I,{children:a.jsxs(f,{children:[a.jsx(e,{className:"",children:"#"}),a.jsx(e,{className:"",children:"Name"}),a.jsx(e,{className:"",children:"Title"}),a.jsx(e,{className:"",children:"ULB"}),a.jsx(e,{className:"",children:"Grievance No."}),a.jsx(e,{className:"",children:"Module"}),a.jsx(e,{className:"",children:"Date"}),a.jsx(e,{className:"",children:"Status"}),a.jsx(e,{className:"",children:"Pending From"}),a.jsx(e,{children:"Action"})]})}),a.jsx(k,{children:(oa=(ha=(ja=n==null?void 0:n.data)==null?void 0:ja.data)==null?void 0:ha.docs)==null?void 0:oa.map((l,g)=>{var o,i;return a.jsxs(f,{children:[a.jsx(c,{children:g+1}),a.jsx(c,{children:l==null?void 0:l.citizenName}),a.jsx(c,{className:"font-semibold",children:(l==null?void 0:l.complaintTitle)||"N/A"}),a.jsx(c,{children:(o=l==null?void 0:l.ulb)==null?void 0:o.ulbName}),a.jsx(c,{children:l==null?void 0:l.complaintRefNo}),a.jsx(c,{children:(i=l==null?void 0:l.module)==null?void 0:i.moduleName}),a.jsx(c,{children:N(l==null?void 0:l.createdAt).format("DD-MM-YYYY")}),a.jsxs(c,{children:[(l==null?void 0:l.wf_status)===4&&a.jsx(d,{variant:"destructive",children:"Closed"}),(l==null?void 0:l.wf_status)===3&&a.jsx(d,{className:"bg-amber-500 text-white",children:"Pending(Re-Opened)"}),(l==null?void 0:l.wf_status)===2&&a.jsx(d,{variant:"destructive",children:"Rejected"}),(l==null?void 0:l.wf_status)===1&&a.jsx(d,{variant:"success",children:"Resolved"}),(l==null?void 0:l.wf_status)===0&&a.jsx(d,{variant:"secondary",children:"Pending"})]}),a.jsxs(c,{className:"flex justify-center items-center",children:[N().diff(N(l==null?void 0:l.createdAt),"days")," days"]}),a.jsx(c,{children:a.jsx($,{to:`/grievance/dashboard/workflow-details?complaintRefNo=${l==null?void 0:l.complaintRefNo}&complaintId=${l==null?void 0:l._id}`,children:a.jsx(A,{className:"bg-primary",onClick:()=>{},children:"View"})})})]},l._id)})})]}),a.jsx(S,{className:"mb-2 mt-4"}),a.jsx("div",{className:"flex w-full justify-end",children:a.jsx(Y,{page:j,perPage:h,totalPage:(Na=(ia=n==null?void 0:n.data)==null?void 0:ia.data)==null?void 0:Na.totalDocs,hasNextPage:(fa=(ua=n==null?void 0:n.data)==null?void 0:ua.data)==null?void 0:fa.hasNextPage,hasPrevPage:(pa=(ga=n==null?void 0:n.data)==null?void 0:ga.data)==null?void 0:pa.hasPrevPage,setPage:p,setPerPage:v})})]})})]})]})}),a.jsx(B,{value:"HIGHLIGHTED",children:a.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[a.jsxs("div",{className:"flex w-full justify-between gap-2",children:[a.jsx("div",{children:a.jsx(H,{search:u,setSearch:t,refetch:n.refetch,isFetching:n.isLoading})}),a.jsx("div",{})]}),a.jsxs(y,{children:[a.jsx(C,{className:"px-7",children:a.jsxs(T,{children:["Grievance  Highlighted List(",(ta=(va=n.data)==null?void 0:va.data)==null?void 0:ta.totalDocs,") - ",a.jsx("span",{className:"text-amber-500",children:"This list contains Highlighted complaints"})]})}),a.jsx(_,{children:x.isLoading?a.jsx("div",{className:"flex h-32 items-center justify-center",children:a.jsx(R,{})}):a.jsxs(a.Fragment,{children:[a.jsxs(G,{children:[a.jsx(I,{children:a.jsxs(f,{children:[a.jsx(e,{className:"",children:"#"}),a.jsx(e,{className:"",children:"Name"}),a.jsx(e,{className:"",children:"Title"}),a.jsx(e,{className:"",children:"ULB"}),a.jsx(e,{className:"",children:"Grievance No."}),a.jsx(e,{className:"",children:"Module"}),a.jsx(e,{className:"",children:"Date"}),a.jsx(e,{className:"",children:"Status"}),a.jsx(e,{className:"",children:"Pending From"}),a.jsx(e,{children:"Action"})]})}),a.jsx(k,{children:(Pa=(ba=(wa=x==null?void 0:x.data)==null?void 0:wa.data)==null?void 0:ba.docs)==null?void 0:Pa.map((l,g)=>{var o,i;return a.jsxs(f,{children:[a.jsx(c,{children:g+1}),a.jsx(c,{children:l==null?void 0:l.citizenName}),a.jsx(c,{className:"font-semibold",children:l==null?void 0:l.complaintTitle}),a.jsx(c,{children:(o=l==null?void 0:l.ulb)==null?void 0:o.ulbName}),a.jsx(c,{children:l==null?void 0:l.complaintRefNo}),a.jsx(c,{children:(i=l==null?void 0:l.module)==null?void 0:i.moduleName}),a.jsx(c,{children:N(l==null?void 0:l.createdAt).format("DD-MM-YYYY")}),a.jsxs(c,{children:[(l==null?void 0:l.wf_status)===4&&a.jsx(d,{variant:"destructive",children:"Closed"}),(l==null?void 0:l.wf_status)===3&&a.jsx(d,{className:"bg-amber-500 text-white",children:"Pending(Re-Opened)"}),(l==null?void 0:l.wf_status)===2&&a.jsx(d,{variant:"destructive",children:"Rejected"}),(l==null?void 0:l.wf_status)===1&&a.jsx(d,{variant:"success",children:"Resolved"}),(l==null?void 0:l.wf_status)===0&&a.jsx(d,{variant:"secondary",children:"Pending"})]}),a.jsxs(c,{className:"flex justify-center items-center",children:[N().diff(N(l==null?void 0:l.createdAt),"days")," days"]}),a.jsx(c,{children:a.jsx($,{to:`/grievance/dashboard/workflow-details?complaintRefNo=${l==null?void 0:l.complaintRefNo}&complaintId=${l==null?void 0:l._id}`,children:a.jsx(A,{className:"bg-primary",onClick:()=>{},children:"View"})})})]},l._id)})})]}),a.jsx(S,{className:"mb-2 mt-4"}),a.jsx("div",{className:"flex w-full justify-end",children:a.jsx(Y,{page:j,perPage:h,totalPage:(Ca=(ya=x==null?void 0:x.data)==null?void 0:ya.data)==null?void 0:Ca.totalDocs,hasNextPage:(_a=(Ta=x==null?void 0:x.data)==null?void 0:Ta.data)==null?void 0:_a.hasNextPage,hasPrevPage:($a=(Ra=x==null?void 0:x.data)==null?void 0:Ra.data)==null?void 0:$a.hasPrevPage,setPage:p,setPerPage:v})})]})})]})]})})]})})}function Va(){return a.jsx(Ia,{title:"",subTitle:"",children:a.jsx("div",{className:"pb-12",children:a.jsx(Ha,{})})})}export{Va as default};
