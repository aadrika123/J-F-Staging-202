import{b8 as C,b as y,o as F,s as H,g as m,j as e,t as S,v as I,H as T,F as A,a0 as U,J as k,B as R,w as _,G as p,c as $,d as B,_ as N}from"./index-DCRt_GeZ.js";import{T as D,a as G,b as g,c as d,d as L,e as r}from"./table-FTQgk3pn.js";const M=$().shape({ulbId:B().required("ulbId is Required")});function P(){var o,i,t,u,h;const v=C(),n=y({resolver:F(M)}),f=async a=>{var l,x,b,j;try{const s=await v.mutateAsync({api:`${(l=m)==null?void 0:l.citizenFindNewHolding}`,data:{ulbId:a==null?void 0:a.ulbId}});(x=s.data)!=null&&x.status?N.success((b=s==null?void 0:s.data)==null?void 0:b.message):N.error((j=s==null?void 0:s.data)==null?void 0:j.message),n.reset({oldHoldingNo:""})}catch(s){console.log(s)}},c=H({api:`${(o=m)==null?void 0:o.getAllUlbDirect}?page=1&limit=10000`,key:"getAllUlbDirect",options:{enabled:!0,refetchOnMount:!1}}),w=a=>{const l=a;window.open(`tel:${l}`,"_self")};return e.jsxs("div",{className:"w-full md:w-8/12 p-2 mx-auto",children:[e.jsx("div",{className:"mt-4",children:e.jsx("h1",{className:"text-blue-800 font-bold text-2xl underline mb-2",children:"Ulb Wise Grievance via Phone Number"})}),e.jsxs(S,{children:[e.jsx(I,{className:"px-7",children:e.jsx(T,{children:e.jsx(A,{methods:n,onSubmit:n.handleSubmit(f),children:e.jsx("div",{className:"md:px-24 space-y-4",children:e.jsxs("div",{className:"sm:flex  items-center justify-start gap-4",children:[e.jsx("div",{className:"sm:w-1/2",children:e.jsxs("div",{children:[e.jsx(U,{htmlFor:"ulbId",children:"Select Your Ulb"}),e.jsx(k,{className:"bg-background cursor-pointer",name:"ulbId",data:((t=(i=c.data)==null?void 0:i.data)==null?void 0:t.map(a=>({value:a==null?void 0:a._id,label:a==null?void 0:a.ulbName})))??[]})]})}),e.jsx("div",{className:"",children:e.jsx(R,{isLoading:n.formState.isSubmitting,type:"submit",className:"mt-4 w-auto rounded-xl px-10 py-5 float-right",children:"Search"})})]})})})})}),e.jsx(_,{children:e.jsxs(D,{children:[e.jsx(G,{children:e.jsxs(g,{children:[e.jsx(d,{className:"",children:"#"}),e.jsx(d,{className:"",children:"Ulb Name"}),e.jsx(d,{className:"",children:"Contact No."}),e.jsx(d,{className:"md:hidden block",children:"Action"})]})}),e.jsx(L,{children:(h=(u=c.data)==null?void 0:u.data)==null?void 0:h.map((a,l)=>e.jsxs(g,{children:[e.jsx(r,{children:l+1}),e.jsx(r,{children:a==null?void 0:a.ulbName}),e.jsx(r,{children:a==null?void 0:a.phonenumber}),e.jsx(r,{className:"md:hidden block",children:e.jsx(p,{onClick:()=>w(a==null?void 0:a.phonenumber),children:e.jsx(p,{children:"Call Now"})})})]},a._id))})]})})]})]})}function E(){return e.jsx("div",{className:"",children:e.jsx(P,{})})}export{E as default};
